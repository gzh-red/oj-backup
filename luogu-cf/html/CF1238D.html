<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>AB-string - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403568:YAi+OfBMOibUm8hlf/vn8oN161E5gVq7gwW4r8EIcRA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20string%20%24%20t_1t_2%20%5C%5Cdots%20t_k%20%24%20is%20good%20if%20each%20letter%20of%20this%20string%20belongs%20to%20at%20least%20one%20palindrome%20of%20length%20greater%20than%201.%5Cn%5CnA%20palindrome%20is%20a%20string%20that%20reads%20the%20same%20backward%20as%20forward.%20For%20example%2C%20the%20strings%20A%2C%20BAB%2C%20ABBA%2C%20BAABBBAAB%20are%20palindromes%2C%20but%20the%20strings%20AB%2C%20ABBBAA%2C%20BBBA%20are%20not.%5Cn%5CnHere%20are%20some%20examples%20of%20good%20strings%3A%5Cn%5Cn-%20%24%20t%20%24%20%3D%20AABBB%20%28letters%20%24%20t_1%20%24%20%2C%20%24%20t_2%20%24%20belong%20to%20palindrome%20%24%20t_1%20%5C%5Cdots%20t_2%20%24%20and%20letters%20%24%20t_3%20%24%20%2C%20%24%20t_4%20%24%20%2C%20%24%20t_5%20%24%20belong%20to%20palindrome%20%24%20t_3%20%5C%5Cdots%20t_5%20%24%20%29%3B%5Cn-%20%24%20t%20%24%20%3D%20ABAA%20%28letters%20%24%20t_1%20%24%20%2C%20%24%20t_2%20%24%20%2C%20%24%20t_3%20%24%20belong%20to%20palindrome%20%24%20t_1%20%5C%5Cdots%20t_3%20%24%20and%20letter%20%24%20t_4%20%24%20belongs%20to%20palindrome%20%24%20t_3%20%5C%5Cdots%20t_4%20%24%20%29%3B%5Cn-%20%24%20t%20%24%20%3D%20AAAAA%20%28all%20letters%20belong%20to%20palindrome%20%24%20t_1%20%5C%5Cdots%20t_5%20%24%20%29%3B%5Cn%5CnYou%20are%20given%20a%20string%20%24%20s%20%24%20of%20length%20%24%20n%20%24%20%2C%20consisting%20of%20only%20letters%20A%20and%20B.%5Cn%5CnYou%20have%20to%20calculate%20the%20number%20of%20good%20substrings%20of%20string%20%24%20s%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%203%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20string%20%24%20s%20%24%20.%5Cn%5CnThe%20second%20line%20contains%20the%20string%20%24%20s%20%24%20%2C%20consisting%20of%20letters%20A%20and%20B.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20number%20of%20good%20substrings%20of%20string%20%24%20s%20%24%20.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%5CnAABBB%5Cn%22%2C%22%5Cn6%5Cn%22%5D%2C%5B%22%5Cn3%5CnAAA%5Cn%22%2C%22%5Cn3%5Cn%22%5D%2C%5B%22%5Cn7%5CnAAABABB%5Cn%22%2C%22%5Cn15%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20test%20case%20there%20are%20six%20good%20substrings%3A%20%24%20s_1%20%5C%5Cdots%20s_2%20%24%20%2C%20%24%20s_1%20%5C%5Cdots%20s_4%20%24%20%2C%20%24%20s_1%20%5C%5Cdots%20s_5%20%24%20%2C%20%24%20s_3%20%5C%5Cdots%20s_4%20%24%20%2C%20%24%20s_3%20%5C%5Cdots%20s_5%20%24%20and%20%24%20s_4%20%5C%5Cdots%20s_5%20%24%20.%5Cn%5CnIn%20the%20second%20test%20case%20there%20are%20three%20good%20substrings%3A%20%24%20s_1%20%5C%5Cdots%20s_2%20%24%20%2C%20%24%20s_1%20%5C%5Cdots%20s_3%20%24%20and%20%24%20s_2%20%5C%5Cdots%20s_3%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1238%5C%2FD%22%2C%22id%22%3A%221238D%22%7D%2C%22translation%22%3A%22%5Cu5982%5Cu679c%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cu7684%5Cu6bcf%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cuff0c%5Cu5c5e%5Cu4e8e%5Cu81f3%5Cu5c11%5Cu4e00%5Cu4e2a%5Cuff08%5Cu957f%5Cu5ea6%5Cu5927%5Cu4e8e1%5Cuff09%5Cu7684%5Cu56de%5Cu6587%5Cu4e32%5Cuff0c%5Cu5219%5Cu79f0%5Cu8fd9%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cu4e3agood%5Cu3002%5Cr%5Cn%5Cr%5Cn-%20AABB%5Cuff1a%5Cuff08t1%5Cuff0ct2%5Cu5c5e%5Cu4e8e%5Cu56de%5Cu6587%5Cu4e32t1t2%5Cuff1bt3%5Cuff0ct4%5Cu5c5e%5Cu4e8e%5Cu56de%5Cu6587%5Cu4e32t3t4t5%5Cuff09%5Cr%5Cn-%20ABAA%5Cuff1a%5Cuff08t1%2Ct2%2Ct3%5Cu5c5e%5Cu4e8e%5Cu56de%5Cu6587%5Cu4e32t1t2t3%5Cuff1bt4%5Cu5c5e%5Cu4e8e%5Cu56de%5Cu6587%5Cu4e32t3t4%5Cuff09%5Cr%5Cn-%20AABB%5Cu548cABAA%5Cu90fd%5Cu662fgood%5Cr%5Cn%5Cr%5Cn%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32s%5Cuff08%5Cu53ea%5Cu7531%5Cu5b57%5Cu6bcdA%2CB%5Cu7ec4%5Cu6210%5Cuff09%5Cuff0c%5Cu95ees%5Cu7684%5Cu5b50%5Cu4e32%5Cu4e2d%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2agood%5Cu5b57%5Cu7b26%5Cu4e32%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A69%2C%22totalAccepted%22%3A53%2C%22pid%22%3A%22CF1238D%22%2C%22title%22%3A%22AB-string%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1238F%22%2C%22title%22%3A%22The%20Maximum%20Subtree%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238E%22%2C%22title%22%3A%22Keyboard%20Purchase%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238C%22%2C%22title%22%3A%22Standard%20Free2play%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238B%22%2C%22title%22%3A%22Kill%20%27Em%20All%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238A%22%2C%22title%22%3A%22Prime%20Subtraction%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22AB-string%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>AB-string</h1>
<h2>题意翻译</h2>
<div>如果一个字符串的每个字母，属于至少一个（长度大于1）的回文串，则称这个字符串为good。
- AABB：（t1，t2属于回文串t1t2；t3，t4属于回文串t3t4t5）
- ABAA：（t1,t2,t3属于回文串t1t2t3；t4属于回文串t3t4）
- AABB和ABAA都是good
一个长度为n的字符串s（只由字母A,B组成），问s的子串中有多少个good字符串</div>
<h2>题目描述</h2>
<div>The string $ t_1t_2 \dots t_k $ is good if each letter of this string belongs to at least one palindrome of length greater than 1.
A palindrome is a string that reads the same backward as forward. For example, the strings A, BAB, ABBA, BAABBBAAB are palindromes, but the strings AB, ABBBAA, BBBA are not.
Here are some examples of good strings:
- $ t $ = AABBB (letters $ t_1 $ , $ t_2 $ belong to palindrome $ t_1 \dots t_2 $ and letters $ t_3 $ , $ t_4 $ , $ t_5 $ belong to palindrome $ t_3 \dots t_5 $ );
- $ t $ = ABAA (letters $ t_1 $ , $ t_2 $ , $ t_3 $ belong to palindrome $ t_1 \dots t_3 $ and letter $ t_4 $ belongs to palindrome $ t_3 \dots t_4 $ );
- $ t $ = AAAAA (all letters belong to palindrome $ t_1 \dots t_5 $ );
You are given a string $ s $ of length $ n $ , consisting of only letters A and B.
You have to calculate the number of good substrings of string $ s $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ n $ ( $ 1 \le n \le 3 \cdot 10^5 $ ) — the length of the string $ s $ .
The second line contains the string $ s $ , consisting of letters A and B.</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the number of good substrings of string $ s $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5
AABBB
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
6
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
3
AAA
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
3
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
7
AAABABB
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
15
</code></pre>
<h2>说明</h2>
<div>In the first test case there are six good substrings: $ s_1 \dots s_2 $ , $ s_1 \dots s_4 $ , $ s_1 \dots s_5 $ , $ s_3 \dots s_4 $ , $ s_3 \dots s_5 $ and $ s_4 \dots s_5 $ .
In the second test case there are three good substrings: $ s_1 \dots s_2 $ , $ s_1 \dots s_3 $ and $ s_2 \dots s_3 $ .</div>
</article>
</div>
</div>
</body>
</html>
