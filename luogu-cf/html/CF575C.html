<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Party - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395532:modQMh2S64KfpNMEzs5GTR5BsDAnpuKV5mbG3MAH1ow=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Note%20the%20unusual%20memory%20limit%20for%20the%20problem.%5Cn%5CnPeople%20working%20in%20MDCS%20%28Microsoft%20Development%20Center%20Serbia%29%20like%20partying.%20They%20usually%20go%20to%20night%20clubs%20on%20Friday%20and%20Saturday.%5Cn%5CnThere%20are%20%24%20N%20%24%20people%20working%20in%20MDCS%20and%20there%20are%20%24%20N%20%24%20clubs%20in%20the%20city.%20Unfortunately%2C%20if%20there%20is%20more%20than%20one%20Microsoft%20employee%20in%20night%20club%2C%20level%20of%20coolness%20goes%20infinitely%20high%20and%20party%20is%20over%2C%20so%20club%20owners%20will%20never%20let%20more%20than%20one%20Microsoft%20employee%20enter%20their%20club%20in%20the%20same%20week%20%28just%20to%20be%20sure%29.%5Cn%5CnYou%20are%20organizing%20night%20life%20for%20Microsoft%20employees%20and%20you%20have%20statistics%20about%20how%20much%20every%20employee%20likes%20Friday%20and%20Saturday%20parties%20for%20all%20clubs.%5Cn%5CnYou%20need%20to%20match%20people%20with%20clubs%20maximizing%20overall%20sum%20of%20their%20happiness%20%28they%20are%20happy%20as%20much%20as%20they%20like%20the%20club%29%2C%20while%20half%20of%20people%20should%20go%20clubbing%20on%20Friday%20and%20the%20other%20half%20on%20Saturday.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integer%20%24%20N%20%24%20%5Cu2014%20number%20of%20employees%20in%20MDCS.%5Cn%5CnThen%20an%20%24%20N%5Cu00d7N%20%24%20matrix%20follows%2C%20where%20element%20in%20%24%20i%20%24%20-th%20row%20and%20%24%20j%20%24%20-th%20column%20is%20an%20integer%20number%20that%20represents%20how%20much%20%24%20i%20%24%20-th%20person%20likes%20%24%20j%20%24%20-th%20club%5Cu2019s%20Friday%20party.%5Cn%5CnThen%20another%20%24%20N%5Cu00d7N%20%24%20matrix%20follows%2C%20where%20element%20in%20%24%20i%20%24%20-th%20row%20and%20%24%20j%20%24%20-th%20column%20is%20an%20integer%20number%20that%20represents%20how%20much%20%24%20i%20%24%20-th%20person%20likes%20%24%20j%20%24%20-th%20club%5Cu2019s%20Saturday%20party.%5Cn%5Cn-%20%24%202%3C%3DN%3C%3D20%20%24%5Cn-%20%24%20N%20%24%20is%20even%5Cn-%20%24%200%3C%3D%20%24%20level%20of%20likeness%20%24%20%3C%3D10%5E%7B6%7D%20%24%5Cn-%20All%20values%20are%20integers%22%2C%22outputFormat%22%3A%22Output%20should%20contain%20a%20single%20integer%20%5Cu2014%20maximum%20sum%20of%20happiness%20possible.%22%2C%22samples%22%3A%5B%5B%224%5Cn1%202%203%204%5Cn2%203%204%201%5Cn3%204%201%202%5Cn4%201%202%203%5Cn5%208%207%201%5Cn6%209%2081%203%5Cn55%2078%201%206%5Cn1%201%201%201%5Cn%22%2C%22167%5Cn%22%5D%5D%2C%22hint%22%3A%22Here%20is%20how%20we%20matched%20people%20with%20clubs%3A%5Cn%5CnFriday%3A%201st%20person%20with%204th%20club%20%284%20happiness%29%20and%204th%20person%20with%201st%20club%20%284%20happiness%29.%5Cn%5CnSaturday%3A%202nd%20person%20with%203rd%20club%20%2881%20happiness%29%20and%203rd%20person%20with%202nd%20club%20%2878%20happiness%29.%5Cn%5Cn4%2B4%2B81%2B78%20%3D%20167%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B4000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F575%5C%2FC%22%2C%22id%22%3A%22575C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF575C%22%2C%22title%22%3A%22Party%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Party%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Party</h1>
<h2>题目描述</h2>
<div>Note the unusual memory limit for the problem.
People working in MDCS (Microsoft Development Center Serbia) like partying. They usually go to night clubs on Friday and Saturday.
There are $ N $ people working in MDCS and there are $ N $ clubs in the city. Unfortunately, if there is more than one Microsoft employee in night club, level of coolness goes infinitely high and party is over, so club owners will never let more than one Microsoft employee enter their club in the same week (just to be sure).
You are organizing night life for Microsoft employees and you have statistics about how much every employee likes Friday and Saturday parties for all clubs.
You need to match people with clubs maximizing overall sum of their happiness (they are happy as much as they like the club), while half of people should go clubbing on Friday and the other half on Saturday.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integer $ N $ — number of employees in MDCS.
Then an $ N×N $ matrix follows, where element in $ i $ -th row and $ j $ -th column is an integer number that represents how much $ i $ -th person likes $ j $ -th club’s Friday party.
Then another $ N×N $ matrix follows, where element in $ i $ -th row and $ j $ -th column is an integer number that represents how much $ i $ -th person likes $ j $ -th club’s Saturday party.
- $ 2<=N<=20 $
- $ N $ is even
- $ 0<= $ level of likeness $ <=10^{6} $
- All values are integers</div>
<h3>输出格式</h3>
<br />
<div>Output should contain a single integer — maximum sum of happiness possible.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 2 3 4
2 3 4 1
3 4 1 2
4 1 2 3
5 8 7 1
6 9 81 3
55 78 1 6
1 1 1 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>167
</code></pre>
<h2>说明</h2>
<div>Here is how we matched people with clubs:
Friday: 1st person with 4th club (4 happiness) and 4th person with 1st club (4 happiness).
Saturday: 2nd person with 3rd club (81 happiness) and 3rd person with 2nd club (78 happiness).
4+4+81+78 = 167</div>
</article>
</div>
</div>
</body>
</html>
