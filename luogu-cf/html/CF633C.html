<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Spy Syndrome 2 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573396254:c68Do45FRvBoSHWdhM8k9QqVgbUwrZW/QTjE0WhhXrA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22After%20observing%20the%20results%20of%20Spy%20Syndrome%2C%20Yash%20realised%20the%20errors%20of%20his%20ways.%20He%20now%20believes%20that%20a%20super%20spy%20such%20as%20Siddhant%20can%27t%20use%20a%20cipher%20as%20basic%20and%20ancient%20as%20Caesar%20cipher.%20After%20many%20weeks%20of%20observation%20of%20Siddhant%5Cu2019s%20sentences%2C%20Yash%20determined%20a%20new%20cipher%20technique.%5Cn%5CnFor%20a%20given%20sentence%2C%20the%20cipher%20is%20processed%20as%3A%5Cn%5Cn1.%20Convert%20all%20letters%20of%20the%20sentence%20to%20lowercase.%5Cn2.%20Reverse%20each%20of%20the%20words%20of%20the%20sentence%20individually.%5Cn3.%20Remove%20all%20the%20spaces%20in%20the%20sentence.%5Cn%5CnFor%20example%2C%20when%20this%20cipher%20is%20applied%20to%20the%20sentence%5Cn%5CnKira%20is%20childish%20and%20he%20hates%20losing%5Cn%5Cnthe%20resulting%20string%20is%5Cn%5Cnariksihsidlihcdnaehsetahgnisol%5Cn%5CnNow%20Yash%20is%20given%20some%20ciphered%20string%20and%20a%20list%20of%20words.%20Help%20him%20to%20find%20out%20any%20original%20sentence%20composed%20using%20only%20words%20from%20the%20list.%20Note%2C%20that%20any%20of%20the%20given%20words%20could%20be%20used%20in%20the%20sentence%20multiple%20times.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D10000%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20ciphered%20text.%20The%20second%20line%20consists%20of%20%24%20n%20%24%20lowercase%20English%20letters%20%5Cu2014%20the%20ciphered%20text%20%24%20t%20%24%20.%5Cn%5CnThe%20third%20line%20contains%20a%20single%20integer%20%24%20m%20%24%20%28%20%24%201%3C%3Dm%3C%3D100000%20%24%20%29%20%5Cu2014%20the%20number%20of%20words%20which%20will%20be%20considered%20while%20deciphering%20the%20text.%20Each%20of%20the%20next%20%24%20m%20%24%20lines%20contains%20a%20non-empty%20word%20%24%20w_%7Bi%7D%20%24%20%28%20%24%20%7Cw_%7Bi%7D%7C%3C%3D1000%20%24%20%29%20consisting%20of%20uppercase%20and%20lowercase%20English%20letters%20only.%20It%27s%20guaranteed%20that%20the%20total%20length%20of%20all%20words%20doesn%27t%20exceed%20%24%201000000%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20one%20line%20%5Cu2014%20the%20original%20sentence.%20It%20is%20guaranteed%20that%20at%20least%20one%20solution%20exists.%20If%20there%20are%20multiple%20solutions%2C%20you%20may%20output%20any%20of%20those.%22%2C%22samples%22%3A%5B%5B%2230%5Cnariksihsidlihcdnaehsetahgnisol%5Cn10%5CnKira%5Cnhates%5Cnis%5Cnhe%5Cnlosing%5Cndeath%5Cnchildish%5CnL%5Cnand%5CnNote%5Cn%22%2C%22Kira%20is%20childish%20and%20he%20hates%20losing%20%5Cn%22%5D%2C%5B%2212%5Cniherehtolleh%5Cn5%5CnHI%5CnHo%5Cnthere%5CnHeLLo%5Cnhello%5Cn%22%2C%22HI%20there%20HeLLo%20%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20sample%20case%202%20there%20may%20be%20multiple%20accepted%20outputs%2C%20%5C%22HI%20there%20HeLLo%5C%22%20and%20%5C%22HI%20there%20hello%5C%22%20you%20may%20output%20any%20of%20them.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F633%5C%2FC%22%2C%22id%22%3A%22633C%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu957f%5Cu4e3a%28n%20%3C%3D%2010000%29%5Cu7684%5Cu4e3b%5Cu4e32%5Cuff0c%5Cu7ed9%28m%20%3C%3D%20100000%29%5Cu4e2a%5Cu4e0d%5Cu8d85%5Cu8fc7%201000%5Cr%5Cn%5Cu7684%5Cu5b50%5Cu4e32%5Cuff0c%5Cu603b%5Cu957f%5Cu4e0d%5Cu8d85%5Cu8fc7%201000000%5Cu3002%5Cu95ee%5Cu4e3b%5Cu4e32%5Cu662f%5Cu5426%5Cu80fd%5Cu7531%5Cu2f26%5Cu4e32%5Cu62fc%5Cu51fa%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu5b50%5Cu4e32%5Cu53ef%5Cu4ee5%5Cu591a%5Cu6b21%5Cu4f7f%5Cu7528%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A101%2C%22totalAccepted%22%3A30%2C%22pid%22%3A%22CF633C%22%2C%22title%22%3A%22Spy%20Syndrome%202%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A123962%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1latax%5Cu6302%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A10087%2C%22name%22%3A%22CF633C%20Spy%20Syndrome%202%22%2C%22slug%22%3A%22CF633C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3287%22%2C%22title%22%3A%22%5BSCOI2014%5D%5Cu65b9%5Cu4f2f%5Cu4f2f%5Cu7684%5Cu7389%5Cu7c73%5Cu7530%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF126B%22%2C%22title%22%3A%22Password%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22SP687%22%2C%22title%22%3A%22REPEATS%20-%20Repeats%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22CF979D%22%2C%22title%22%3A%22Kuro%20and%20GCD%20and%20XOR%20and%20SUM%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238A%22%2C%22title%22%3A%22Prime%20Subtraction%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Spy%20Syndrome%202%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Spy Syndrome 2</h1>
<h2>题意翻译</h2>
<div>给定长为(n <= 10000)的主串，给(m <= 100000)个不超过 1000
的子串，总长不超过 1000000。问主串是否能由⼦串拼出，每个子串可以多次使用</div>
<h2>题目描述</h2>
<div>After observing the results of Spy Syndrome, Yash realised the errors of his ways. He now believes that a super spy such as Siddhant can't use a cipher as basic and ancient as Caesar cipher. After many weeks of observation of Siddhant’s sentences, Yash determined a new cipher technique.
For a given sentence, the cipher is processed as:
1. Convert all letters of the sentence to lowercase.
2. Reverse each of the words of the sentence individually.
3. Remove all the spaces in the sentence.
For example, when this cipher is applied to the sentence
Kira is childish and he hates losing
the resulting string is
ariksihsidlihcdnaehsetahgnisol
Now Yash is given some ciphered string and a list of words. Help him to find out any original sentence composed using only words from the list. Note, that any of the given words could be used in the sentence multiple times.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains a single integer $ n $ ( $ 1<=n<=10000 $ ) — the length of the ciphered text. The second line consists of $ n $ lowercase English letters — the ciphered text $ t $ .
The third line contains a single integer $ m $ ( $ 1<=m<=100000 $ ) — the number of words which will be considered while deciphering the text. Each of the next $ m $ lines contains a non-empty word $ w_{i} $ ( $ |w_{i}|<=1000 $ ) consisting of uppercase and lowercase English letters only. It's guaranteed that the total length of all words doesn't exceed $ 1000000 $ .</div>
<h3>输出格式</h3>
<br />
<div>Print one line — the original sentence. It is guaranteed that at least one solution exists. If there are multiple solutions, you may output any of those.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>30
ariksihsidlihcdnaehsetahgnisol
10
Kira
hates
is
he
losing
death
childish
L
and
Note
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Kira is childish and he hates losing 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>12
iherehtolleh
5
HI
Ho
there
HeLLo
hello
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>HI there HeLLo 
</code></pre>
<h2>说明</h2>
<div>In sample case 2 there may be multiple accepted outputs, "HI there HeLLo" and "HI there hello" you may output any of them.</div>
</article>
</div>
</div>
</body>
</html>
