<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Fishes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573399313:z81P+uS0M5YlJjn13PaJLamyMa4dnhGOLyVOx+YNhyI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22While%20Grisha%20was%20celebrating%20New%20Year%20with%20Ded%20Moroz%2C%20Misha%20gifted%20Sasha%20a%20small%20rectangular%20pond%20of%20size%20%24%20n%5Cu00d7m%20%24%20%2C%20divided%20into%20cells%20of%20size%20%24%201%5Cu00d71%20%24%20%2C%20inhabited%20by%20tiny%20evil%20fishes%20%28no%20more%20than%20one%20fish%20per%20cell%2C%20otherwise%20they%27ll%20strife%21%29.%5Cn%5CnThe%20gift%20bundle%20also%20includes%20a%20square%20scoop%20of%20size%20%24%20r%5Cu00d7r%20%24%20%2C%20designed%20for%20fishing.%20If%20the%20lower-left%20corner%20of%20the%20scoop-net%20is%20located%20at%20cell%20%24%20%28x%2Cy%29%20%24%20%2C%20all%20fishes%20inside%20the%20square%20%24%20%28x%2Cy%29...%28x%2Br-1%2Cy%2Br-1%29%20%24%20get%20caught.%20Note%20that%20the%20scoop-net%20should%20lie%20completely%20inside%20the%20pond%20when%20used.%5Cn%5CnUnfortunately%2C%20Sasha%20is%20not%20that%20skilled%20in%20fishing%20and%20hence%20throws%20the%20scoop%20randomly.%20In%20order%20to%20not%20frustrate%20Sasha%2C%20Misha%20decided%20to%20release%20%24%20k%20%24%20fishes%20into%20the%20empty%20pond%20in%20such%20a%20way%20that%20the%20expected%20value%20of%20the%20number%20of%20caught%20fishes%20is%20as%20high%20as%20possible.%20Help%20Misha%21%20In%20other%20words%2C%20put%20%24%20k%20%24%20fishes%20in%20the%20pond%20into%20distinct%20cells%20in%20such%20a%20way%20that%20when%20the%20scoop-net%20is%20placed%20into%20a%20random%20position%20among%20%24%20%28n-r%2B1%29%5Cu00b7%28m-r%2B1%29%20%24%20possible%20positions%2C%20the%20average%20number%20of%20caught%20fishes%20is%20as%20high%20as%20possible.%22%2C%22inputFormat%22%3A%22The%20only%20line%20contains%20four%20integers%20%24%20n%2Cm%2Cr%2Ck%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D10%5E%7B5%7D%20%24%20%2C%20%24%201%3C%3Dr%3C%3Dmin%28n%2Cm%29%20%24%20%2C%20%24%201%3C%3Dk%3C%3Dmin%28n%5Cu00b7m%2C10%5E%7B5%7D%29%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20number%20%5Cu2014%20the%20maximum%20possible%20expected%20number%20of%20caught%20fishes.%5Cn%5CnYou%20answer%20is%20considered%20correct%2C%20is%20its%20absolute%20or%20relative%20error%20does%20not%20exceed%20%24%2010%5E%7B-9%7D%20%24%20.%20Namely%2C%20let%20your%20answer%20be%20%24%20a%20%24%20%2C%20and%20the%20jury%27s%20answer%20be%20%24%20b%20%24%20.%20Your%20answer%20is%20considered%20correct%2C%20if%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF912D%5C%2F103fdd279ae1fcd52ca9e69b75914ca39dd93497.png%29.%22%2C%22samples%22%3A%5B%5B%223%203%202%203%5Cn%22%2C%222.0000000000%5Cn%22%5D%2C%5B%2212%2017%209%2040%5Cn%22%2C%2232.8333333333%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%20you%20can%20put%20the%20fishes%20in%20cells%20%24%20%282%2C1%29%20%24%20%2C%20%24%20%282%2C2%29%20%24%20%2C%20%24%20%282%2C3%29%20%24%20.%20In%20this%20case%2C%20for%20any%20of%20four%20possible%20positions%20of%20the%20scoop-net%20%28highlighted%20with%20light%20green%29%2C%20the%20number%20of%20fishes%20inside%20is%20equal%20to%20two%2C%20and%20so%20is%20the%20expected%20value.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF912D%5C%2F40c8b1b61edb367e0e414618a2e0b777e6a3b2ba.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F912%5C%2FD%22%2C%22id%22%3A%22912D%22%7D%2C%22translation%22%3A%22%23%23%20Description%5Cn%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu4e3a%24n%24%20%5Cuff0c%5Cu5bbd%5Cu4e3a%24m%24%20%5Cu7684%5Cu9c7c%5Cu7f38%5Cuff0c%5Cu8fd8%5Cu6709%5Cu4e00%5Cu4e2a%5Cu8fb9%5Cu957f%5Cu4e3a%24r%24%20%5Cu7684%5Cu6b63%5Cu65b9%5Cu5f62%5Cu6e14%5Cu7f51%5Cu3002%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu5f80%5Cu9c7c%5Cu7f38%5Cu91cc%5Cu653e%24k%24%20%5Cu6761%5Cu9c7c%5Cuff0c%5Cu95ee%5Cu7528%5Cu6e14%5Cu7f51%5Cu968f%5Cu673a%5Cu5728%5Cu6d74%5Cu7f38%5Cu91cc%5Cu635e%5Cu9c7c%5Cu7684%5Cu6700%5Cu5927%5Cu671f%5Cu671b%5Cu662f%5Cu591a%5Cu5c11%5Cu3002~~%5Cu4e0d%5Cu61c2%5Cu4ec0%5Cu4e48%5Cu662f%5Cu671f%5Cu671b%5Cu7684%5Cu81ea%5Cu5df1%5Cu53bb%5Cu767e%5Cu5ea6~~%5Cn%5Cn%23%23%20Input%5Cn%5Cu4e00%5Cu884c4%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%5Cu4ee3%5Cu8868%24n%2C%20m%2C%20r%2C%20k%24%20%20%5Cn%5Cn%23%23%20Output%5Cn%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu5b9e%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu6700%5Cu5927%5Cu671f%5Cu671b%5Cn%5Cn%5Cu611f%5Cu8c22%40xunzhen%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A102%2C%22totalAccepted%22%3A54%2C%22pid%22%3A%22CF912D%22%2C%22title%22%3A%22Fishes%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33388%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A8901%2C%22name%22%3A%22CF912D%20Fishes%22%2C%22slug%22%3A%22CF912D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1315%22%2C%22title%22%3A%22%5Cu89c2%5Cu5149%5Cu516c%5Cu4ea4%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1326%22%2C%22title%22%3A%22%5Cu8db3%5Cu7403%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1650%22%2C%22title%22%3A%22%5Cu7530%5Cu5fcc%5Cu8d5b%5Cu9a6c%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3545%22%2C%22title%22%3A%22%5BPOI2012%5DHUR-Warehouse%20Store%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF830A%22%2C%22title%22%3A%22Office%20Keys%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Fishes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Fishes</h1>
<h2>题意翻译</h2>
<div>## Description
有一个长为$n$ ，宽为$m$ 的鱼缸，还有一个边长为$r$ 的正方形渔网。你可以往鱼缸里放$k$ 条鱼，问用渔网随机在浴缸里捞鱼的最大期望是多少。~~不懂什么是期望的自己去百度~~
## Input
一行4个正整数代表$n, m, r, k$
## Output
输出一个实数，表示最大期望
感谢@xunzhen 提供的翻译</div>
<h2>题目描述</h2>
<div>While Grisha was celebrating New Year with Ded Moroz, Misha gifted Sasha a small rectangular pond of size $ n×m $ , divided into cells of size $ 1×1 $ , inhabited by tiny evil fishes (no more than one fish per cell, otherwise they'll strife!).
The gift bundle also includes a square scoop of size $ r×r $ , designed for fishing. If the lower-left corner of the scoop-net is located at cell $ (x,y) $ , all fishes inside the square $ (x,y)...(x+r-1,y+r-1) $ get caught. Note that the scoop-net should lie completely inside the pond when used.
Unfortunately, Sasha is not that skilled in fishing and hence throws the scoop randomly. In order to not frustrate Sasha, Misha decided to release $ k $ fishes into the empty pond in such a way that the expected value of the number of caught fishes is as high as possible. Help Misha! In other words, put $ k $ fishes in the pond into distinct cells in such a way that when the scoop-net is placed into a random position among $ (n-r+1)·(m-r+1) $ possible positions, the average number of caught fishes is as high as possible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The only line contains four integers $ n,m,r,k $ ( $ 1<=n,m<=10^{5} $ , $ 1<=r<=min(n,m) $ , $ 1<=k<=min(n·m,10^{5}) $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print a single number — the maximum possible expected number of caught fishes.
You answer is considered correct, is its absolute or relative error does not exceed $ 10^{-9} $ . Namely, let your answer be $ a $ , and the jury's answer be $ b $ . Your answer is considered correct, if ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF912D/103fdd279ae1fcd52ca9e69b75914ca39dd93497.png).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2.0000000000
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>12 17 9 40
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>32.8333333333
</code></pre>
<h2>说明</h2>
<div>In the first example you can put the fishes in cells $ (2,1) $ , $ (2,2) $ , $ (2,3) $ . In this case, for any of four possible positions of the scoop-net (highlighted with light green), the number of fishes inside is equal to two, and so is the expected value.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF912D/40c8b1b61edb367e0e414618a2e0b777e6a3b2ba.png)</div>
</article>
</div>
</div>
</body>
</html>
