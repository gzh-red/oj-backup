<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Delete Them - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397180:qSNtoTSVJF9D4MNGqvSsiN7cJEww/+3WVKSh/Ydq05k=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Polycarp%20is%20a%20beginner%20programmer.%20He%20is%20studying%20how%20to%20use%20a%20command%20line.%5Cn%5CnPolycarp%20faced%20the%20following%20problem.%20There%20are%20%24%20n%20%24%20files%20in%20a%20directory%20and%20he%20needs%20to%20delete%20some%20of%20them.%20Polycarp%20wants%20to%20run%20a%20single%20delete%20command%20with%20filename%20pattern%20as%20an%20argument.%20All%20the%20files%20to%20be%20deleted%20should%20match%20the%20pattern%20and%20all%20other%20files%20shouldn%27t%20match%20the%20pattern.%5Cn%5CnPolycarp%20doesn%27t%20know%20about%20an%20asterisk%20%27%5C%5C%2A%27%2C%20the%20only%20special%20character%20he%20knows%20is%20a%20question%20mark%20%27%3F%27%20which%20matches%20any%20single%20character.%20All%20other%20characters%20in%20the%20pattern%20match%20themselves%20only.%5Cn%5CnFormally%2C%20a%20pattern%20matches%20a%20filename%20if%20and%20only%20if%20they%20have%20equal%20lengths%20and%20all%20characters%20in%20the%20corresponding%20positions%20are%20equal%20except%20when%20the%20character%20in%20the%20pattern%20is%20%27%3F%27%2C%20in%20which%20case%20the%20corresponding%20filename%20character%20does%20not%20matter.%5Cn%5CnFor%20example%2C%20the%20filename%20pattern%20%5C%22a%3Fba%3F%5C%22%3A%5Cn%5Cn-%20matches%20filenames%20%5C%22aabaa%5C%22%2C%20%5C%22abba.%5C%22%2C%20%5C%22a.ba9%5C%22%20and%20%5C%22a.ba.%5C%22%3B%5Cn-%20does%20not%20match%20filenames%20%5C%22aaba%5C%22%2C%20%5C%22abaab%5C%22%2C%20%5C%22aabaaa%5C%22%20and%20%5C%22aabaa.%5C%22.%5Cn%5CnHelp%20Polycarp%20find%20a%20pattern%20which%20matches%20files%20to%20be%20deleted%20and%20only%20them%20or%20report%20if%20there%20is%20no%20such%20pattern.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dm%3C%3Dn%3C%3D100%20%24%20%29%20%5Cu2014%20the%20total%20number%20of%20files%20and%20the%20number%20of%20files%20to%20be%20deleted.%5Cn%5CnThe%20following%20%24%20n%20%24%20lines%20contain%20filenames%2C%20single%20filename%20per%20line.%20All%20filenames%20are%20non-empty%20strings%20containing%20only%20lowercase%20English%20letters%2C%20digits%20and%20dots%20%28%27.%27%29.%20The%20length%20of%20each%20filename%20doesn%27t%20exceed%20100.%20It%20is%20guaranteed%20that%20all%20filenames%20are%20distinct.%5Cn%5CnThe%20last%20line%20of%20the%20input%20contains%20%24%20m%20%24%20distinct%20integer%20numbers%20in%20ascending%20order%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bm%7D%20%24%20%28%20%24%201%3C%3Da_%7Bi%7D%3C%3Dn%20%24%20%29%20%5Cu2014%20indices%20of%20files%20to%20be%20deleted.%20All%20files%20are%20indexed%20from%20%24%201%20%24%20to%20%24%20n%20%24%20in%20order%20of%20their%20appearance%20in%20the%20input.%22%2C%22outputFormat%22%3A%22If%20the%20required%20pattern%20exists%2C%20print%20%5C%22Yes%5C%22%20in%20the%20first%20line%20of%20the%20output.%20The%20second%20line%20should%20contain%20the%20required%20pattern.%20If%20there%20are%20multiple%20solutions%2C%20print%20any%20of%20them.%5Cn%5CnIf%20the%20required%20pattern%20doesn%27t%20exist%2C%20print%20the%20only%20line%20containing%20%5C%22No%5C%22.%22%2C%22samples%22%3A%5B%5B%223%202%5Cnab%5Cnac%5Cncd%5Cn1%202%5Cn%22%2C%22Yes%5Cna%3F%5Cn%22%5D%2C%5B%225%203%5Cntest%5Cntezt%5Cntest.%5Cn.est%5Cntes.%5Cn1%204%205%5Cn%22%2C%22Yes%5Cn%3Fes%3F%5Cn%22%5D%2C%5B%224%204%5Cna%5Cnb%5Cnc%5Cndd%5Cn1%202%203%204%5Cn%22%2C%22No%5Cn%22%5D%2C%5B%226%203%5Cn.svn%5Cn.git%5Cn....%5Cn...%5Cn..%5Cn.%5Cn1%202%203%5Cn%22%2C%22Yes%5Cn.%3F%3F%3F%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F730%5C%2FH%22%2C%22id%22%3A%22730H%22%7D%2C%22translation%22%3A%22%23%23%23%20%5Cu9898%5Cu610f%5Cu7b80%5Cu8ff0%5Cr%5Cn%5Cu7ed9%5Cu5b9an%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu8981%5Cu6c42%5Cu5220%5Cu9664%5Cu5176%5Cu4e2d%5Cu7684m%5Cu6761%5Cuff0c%5Cu8f93%5Cu51fa%5Cu4e00%5Cu6761%5Cu5339%5Cu914d%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff1a%5Cu5c06%5Cu8fd9m%5Cu6761%5Cu5b57%5Cu4e32%5Cu7684%5Cu516c%5Cu5171%5Cu5b57%5Cu7b26%5Cu4fdd%5Cu7559%5Cuff0c%5Cu5176%5Cu4f59%5Cu7528%27%3F%27%5Cu4ee3%5Cu66ff%5Cuff0c%5Cu4e14%5Cu8be5%5Cu5339%5Cu914d%5Cu5b57%5Cu7b26%5Cu4e0d%5Cu80fd%5Cu5305%5Cu542b%5Cu5176%5Cu4ed6%5Cu4e0d%5Cu80fd%5Cu5220%5Cu9664%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu3002%5Cu82e5%5Cu4e0d%5Cu5b58%5Cu5728%5Cu8fd9%5Cu6837%5Cu5339%5Cu914d%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu8f93%5Cu51faNo%5Cu3002%5Cu82e5%5Cu5b58%5Cu5728%5Cu5219%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884cYes%5Cu548c%5Cu4e00%5Cu884c%5Cu5339%5Cu914d%5Cu5b57%5Cu7b26%5Cu4e32%5Cu3002%5Cr%5Cn%20%20%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A10%2C%22totalAccepted%22%3A5%2C%22pid%22%3A%22CF730H%22%2C%22title%22%3A%22Delete%20Them%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Delete%20Them%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Delete Them</h1>
<h2>题意翻译</h2>
<div>### 题意简述
给定n个字符串，要求删除其中的m条，输出一条匹配的字符串：将这m条字串的公共字符保留，其余用'?'代替，且该匹配字符不能包含其他不能删除的字符串。若不存在这样匹配的字符串输出No。若存在则输出一行Yes和一行匹配字符串。
</div>
<h2>题目描述</h2>
<div>Polycarp is a beginner programmer. He is studying how to use a command line.
Polycarp faced the following problem. There are $ n $ files in a directory and he needs to delete some of them. Polycarp wants to run a single delete command with filename pattern as an argument. All the files to be deleted should match the pattern and all other files shouldn't match the pattern.
Polycarp doesn't know about an asterisk '\*', the only special character he knows is a question mark '?' which matches any single character. All other characters in the pattern match themselves only.
Formally, a pattern matches a filename if and only if they have equal lengths and all characters in the corresponding positions are equal except when the character in the pattern is '?', in which case the corresponding filename character does not matter.
For example, the filename pattern "a?ba?":
- matches filenames "aabaa", "abba.", "a.ba9" and "a.ba.";
- does not match filenames "aaba", "abaab", "aabaaa" and "aabaa.".
Help Polycarp find a pattern which matches files to be deleted and only them or report if there is no such pattern.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers $ n $ and $ m $ ( $ 1<=m<=n<=100 $ ) — the total number of files and the number of files to be deleted.
The following $ n $ lines contain filenames, single filename per line. All filenames are non-empty strings containing only lowercase English letters, digits and dots ('.'). The length of each filename doesn't exceed 100. It is guaranteed that all filenames are distinct.
The last line of the input contains $ m $ distinct integer numbers in ascending order $ a_{1},a_{2},...,a_{m} $ ( $ 1<=a_{i}<=n $ ) — indices of files to be deleted. All files are indexed from $ 1 $ to $ n $ in order of their appearance in the input.</div>
<h3>输出格式</h3>
<br />
<div>If the required pattern exists, print "Yes" in the first line of the output. The second line should contain the required pattern. If there are multiple solutions, print any of them.
If the required pattern doesn't exist, print the only line containing "No".</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 2
ab
ac
cd
1 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Yes
a?
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5 3
test
tezt
test.
.est
tes.
1 4 5
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>Yes
?es?
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>4 4
a
b
c
dd
1 2 3 4
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>No
</code></pre>
<h3>输入样例 #4</h3>
<pre><code>6 3
.svn
.git
....
...
..
.
1 2 3
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>Yes
.???
</code></pre>
</article>
</div>
</div>
</body>
</html>
