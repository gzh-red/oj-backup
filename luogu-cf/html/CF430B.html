<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Balls Game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393996:k3AJDDCEpcOn0pyVVr3eCUDPzctmIDadLDhjPSsc0Mo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Iahub%20is%20training%20for%20the%20IOI.%20What%20is%20a%20better%20way%20to%20train%20than%20playing%20a%20Zuma-like%20game%3F%5Cn%5CnThere%20are%20%24%20n%20%24%20balls%20put%20in%20a%20row.%20Each%20ball%20is%20colored%20in%20one%20of%20%24%20k%20%24%20colors.%20Initially%20the%20row%20doesn%27t%20contain%20three%20or%20more%20contiguous%20balls%20with%20the%20same%20color.%20Iahub%20has%20a%20single%20ball%20of%20color%20%24%20x%20%24%20.%20He%20can%20insert%20his%20ball%20at%20any%20position%20in%20the%20row%20%28probably%2C%20between%20two%20other%20balls%29.%20If%20at%20any%20moment%20there%20are%20three%20or%20more%20contiguous%20balls%20of%20the%20same%20color%20in%20the%20row%2C%20they%20are%20destroyed%20immediately.%20This%20rule%20is%20applied%20multiple%20times%2C%20until%20there%20are%20no%20more%20sets%20of%203%20or%20more%20contiguous%20balls%20of%20the%20same%20color.%5Cn%5CnFor%20example%2C%20if%20Iahub%20has%20the%20row%20of%20balls%20%5C%5C%5Bblack%2C%20black%2C%20white%2C%20white%2C%20black%2C%20black%5C%5C%5D%20and%20a%20white%20ball%2C%20he%20can%20insert%20the%20ball%20between%20two%20white%20balls.%20Thus%20three%20white%20balls%20are%20destroyed%2C%20and%20then%20four%20black%20balls%20become%20contiguous%2C%20so%20all%20four%20balls%20are%20destroyed.%20The%20row%20will%20not%20contain%20any%20ball%20in%20the%20end%2C%20so%20Iahub%20can%20destroy%20all%206%20balls.%5Cn%5CnIahub%20wants%20to%20destroy%20as%20many%20balls%20as%20possible.%20You%20are%20given%20the%20description%20of%20the%20row%20of%20balls%2C%20and%20the%20color%20of%20Iahub%27s%20ball.%20Help%20Iahub%20train%20for%20the%20IOI%20by%20telling%20him%20the%20maximum%20number%20of%20balls%20from%20the%20row%20he%20can%20destroy.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20three%20integers%3A%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D100%20%24%20%29%2C%20%24%20k%20%24%20%28%20%24%201%3C%3Dk%3C%3D100%20%24%20%29%20and%20%24%20x%20%24%20%28%20%24%201%3C%3Dx%3C%3Dk%20%24%20%29.%20The%20next%20line%20contains%20%24%20n%20%24%20space-separated%20integers%20%24%20c_%7B1%7D%2Cc_%7B2%7D%2C...%2Cc_%7Bn%7D%20%24%20%28%20%24%201%3C%3Dc_%7Bi%7D%3C%3Dk%20%24%20%29.%20Number%20%24%20c_%7Bi%7D%20%24%20means%20that%20the%20%24%20i%20%24%20-th%20ball%20in%20the%20row%20has%20color%20%24%20c_%7Bi%7D%20%24%20.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20initial%20row%20of%20balls%20will%20never%20contain%20three%20or%20more%20contiguous%20balls%20of%20the%20same%20color.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20maximum%20number%20of%20balls%20Iahub%20can%20destroy.%22%2C%22samples%22%3A%5B%5B%226%202%202%5Cn1%201%202%202%201%201%5Cn%22%2C%226%5Cn%22%5D%2C%5B%221%201%201%5Cn1%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F430%5C%2FB%22%2C%22id%22%3A%22430B%22%7D%2C%22translation%22%3A%22Lahub%5Cu5927%5Cu4f6c%5Cu5728%5Cu4e3aAK%20IOI%5Cu505a%5Cu51c6%5Cu5907%5Cuff0c%5Cu5177%5Cu4f53%5Cu65b9%5Cu6cd5%5Cu662f%5Cu73a9%5Cu4e00%5Cu4e2a%5Cu7956%5Cu739b%5Cu6e38%5Cu620f%5Cuff08%3F%3F%3F%5Cr%5Cn%5Cr%5Cn%5Cu6709n%5Cu4e2a%5Cu7403%5Cu7403%5Cu6392%5Cu6210%5Cu4e00%5Cu6392%5Cuff0c%5Cu7403%5Cu7403%5Cu6d82%5Cu4e86%5Cu4e0d%5Cu540c%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%5Cu4e00%5Cu5171%5Cu6709k%5Cu79cd%5Cu989c%5Cu8272%5Cu3002%5Cu4e00%5Cu5f00%5Cu59cb%5Cu6ca1%5Cu6709%5Cu4e09%5Cu4e2a%5Cu6216%5Cu4ee5%5Cu4e0a%5Cu540c%5Cu6837%5Cu989c%5Cu8272%5Cu7684%5Cu7403%5Cu7403%5Cu6328%5Cu5728%5Cu4e00%5Cu8d77%5Cu3002%5Cr%5Cn%5Cu5982%5Cu679c%5Cu4e09%5Cu4e2a%5Cu6216%5Cu4ee5%5Cu4e0a%5Cu540c%5Cu6837%5Cu989c%5Cu8272%5Cu7684%5Cu7403%5Cu7403%5Cu6328%5Cu5728%5Cu4e00%5Cu8d77%5Cuff0c%5Cu5b83%5Cu4eec%5Cu5c31%5Cu4f1a%5Cu6d88%5Cu5931%5Cu6389%5Cuff0c%5Cu7136%5Cu540e%5Cu5176%5Cu4ed6%5Cu7684%5Cu7403%5Cu7403%5Cu5408%5Cu5728%5Cu4e00%5Cu8d77%5Cuff0c%5Cu91cd%5Cu590d%5Cu8fd9%5Cu4e00%5Cu8fc7%5Cu7a0b%5Cu76f4%5Cu5230%5Cu6ca1%5Cu6709%5Cu7403%5Cu7403%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu6d88%5Cu6389%5Cu3002%5Cuff08%5Cu4e0d%5Cu7406%5Cu89e3%5Cu7684%5Cu53ef%5Cu4ee5%5Cu53bb%5Cu73a9%5Cu4e00%5Cu73a9%5Cu7956%5Cu739b%5Cu6e38%5Cu620fqwq%5Cr%5Cn%5Cr%5Cn%5Cu73b0%5Cu5728Lahub%5Cu5927%5Cu4f6c%5Cu5f00%5Cu59cb%5Cu73a9%5Cu2642%5Cu6e38%5Cu2642%5Cu620f%5Cuff0c%5Cu4ed6%5Cu6709%5Cu4e00%5Cu4e2ax%5Cu8272%5Cu7684%5Cu7403%5Cu7403%5Cu51c6%5Cu5907%5Cu53d1%5Cu5c04%5Cu3002%5Cu56e0%5Cu4e3a%5Cu4ed6%5Cu590d%5Cu4e60IOI%5Cu592a%5Cu201c%5Cu5fd9%5Cu201d%5Cu4e86%5Cuff0c%5Cu6240%5Cu4ee5%5Cu8981%5Cu4f60%5Cu6c42%5Cu51fa%5Cuff1a%5Cu53d1%5Cu5c04%5Cu8fd9%5Cu4e2a%5Cu7403%5Cu7403%5Cu4ee5%5Cu540e%5Cuff0c%5Cu80fd%5Cu6d88%5Cu9664%5Cu7684%5Cu6700%5Cu591a%5Cu7403%5Cu7403%5Cu6570%5Cuff08%5Cu4e0d%5Cu5305%5Cu62ec%5Cu53d1%5Cu51fa%5Cu6765%5Cu7684%5Cu8fd9%5Cu4e2a%5Cuff09%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu5165%5Cuff1a%5Cu7b2c%5Cu4e00%5Cu884cn%5Cuff0ck%5Cuff0cx%5Cuff1b%5Cu7b2c%5Cu4e8c%5Cu884cn%5Cu4e2a%5Cu6570%5Cu8868%5Cu793a%5Cu6bcf%5Cu4e2a%5Cu7403%5Cu7403%5Cu7684%5Cu989c%5Cu8272%5Cu3002%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6570%5Cu8868%5Cu793a%5Cu80fd%5Cu6d88%5Cu9664%5Cu7684%5Cu6700%5Cu591a%5Cu7403%5Cu7403%5Cu6570%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A4%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF430B%22%2C%22title%22%3A%22Balls%20Game%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Balls%20Game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Balls Game</h1>
<h2>题意翻译</h2>
<div>Lahub大佬在为AK IOI做准备，具体方法是玩一个祖玛游戏（???
有n个球球排成一排，球球涂了不同的颜色，一共有k种颜色。一开始没有三个或以上同样颜色的球球挨在一起。
如果三个或以上同样颜色的球球挨在一起，它们就会消失掉，然后其他的球球合在一起，重复这一过程直到没有球球可以被消掉。（不理解的可以去玩一玩祖玛游戏qwq
现在Lahub大佬开始玩♂游♂戏，他有一个x色的球球准备发射。因为他复习IOI太“忙”了，所以要你求出：发射这个球球以后，能消除的最多球球数（不包括发出来的这个）。
输入：第一行n，k，x；第二行n个数表示每个球球的颜色。输出一个数表示能消除的最多球球数。</div>
<h2>题目描述</h2>
<div>Iahub is training for the IOI. What is a better way to train than playing a Zuma-like game?
There are $ n $ balls put in a row. Each ball is colored in one of $ k $ colors. Initially the row doesn't contain three or more contiguous balls with the same color. Iahub has a single ball of color $ x $ . He can insert his ball at any position in the row (probably, between two other balls). If at any moment there are three or more contiguous balls of the same color in the row, they are destroyed immediately. This rule is applied multiple times, until there are no more sets of 3 or more contiguous balls of the same color.
For example, if Iahub has the row of balls \[black, black, white, white, black, black\] and a white ball, he can insert the ball between two white balls. Thus three white balls are destroyed, and then four black balls become contiguous, so all four balls are destroyed. The row will not contain any ball in the end, so Iahub can destroy all 6 balls.
Iahub wants to destroy as many balls as possible. You are given the description of the row of balls, and the color of Iahub's ball. Help Iahub train for the IOI by telling him the maximum number of balls from the row he can destroy.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains three integers: $ n $ ( $ 1<=n<=100 $ ), $ k $ ( $ 1<=k<=100 $ ) and $ x $ ( $ 1<=x<=k $ ). The next line contains $ n $ space-separated integers $ c_{1},c_{2},...,c_{n} $ ( $ 1<=c_{i}<=k $ ). Number $ c_{i} $ means that the $ i $ -th ball in the row has color $ c_{i} $ .
It is guaranteed that the initial row of balls will never contain three or more contiguous balls of the same color.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the maximum number of balls Iahub can destroy.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6 2 2
1 1 2 2 1 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>1 1 1
1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>0
</code></pre>
</article>
</div>
</div>
</body>
</html>
