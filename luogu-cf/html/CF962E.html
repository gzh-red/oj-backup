<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Byteland, Berland and Disputed Cities - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573399863:1n/F18GjeWBtVq3Np7aPAxuLwXOaA3JcbYao6vhtEMY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20cities%20of%20Byteland%20and%20Berland%20are%20located%20on%20the%20axis%20%24%20Ox%20%24%20.%20In%20addition%2C%20on%20this%20axis%20there%20are%20also%20disputed%20cities%2C%20which%20belong%20to%20each%20of%20the%20countries%20in%20their%20opinion.%20Thus%2C%20on%20the%20line%20%24%20Ox%20%24%20there%20are%20three%20types%20of%20cities%3A%5Cn%5Cn-%20the%20cities%20of%20Byteland%2C%5Cn-%20the%20cities%20of%20Berland%2C%5Cn-%20disputed%20cities.%5Cn%5CnRecently%2C%20the%20project%20BNET%20has%20been%20launched%20%5Cu2014%20a%20computer%20network%20of%20a%20new%20generation.%20Now%20the%20task%20of%20the%20both%20countries%20is%20to%20connect%20the%20cities%20so%20that%20the%20network%20of%20this%20country%20is%20connected.%5Cn%5CnThe%20countries%20agreed%20to%20connect%20the%20pairs%20of%20cities%20with%20BNET%20cables%20in%20such%20a%20way%20that%3A%5Cn%5Cn-%20If%20you%20look%20at%20the%20only%20cities%20of%20Byteland%20and%20the%20disputed%20cities%2C%20then%20in%20the%20resulting%20set%20of%20cities%2C%20any%20city%20should%20be%20reachable%20from%20any%20other%20one%20by%20one%20or%20more%20cables%2C%5Cn-%20If%20you%20look%20at%20the%20only%20cities%20of%20Berland%20and%20the%20disputed%20cities%2C%20then%20in%20the%20resulting%20set%20of%20cities%2C%20any%20city%20should%20be%20reachable%20from%20any%20other%20one%20by%20one%20or%20more%20cables.%5Cn%5CnThus%2C%20it%20is%20necessary%20to%20choose%20a%20set%20of%20pairs%20of%20cities%20to%20connect%20by%20cables%20in%20such%20a%20way%20that%20both%20conditions%20are%20satisfied%20simultaneously.%20Cables%20allow%20bi-directional%20data%20transfer.%20Each%20cable%20connects%20exactly%20two%20distinct%20cities.%5Cn%5CnThe%20cost%20of%20laying%20a%20cable%20from%20one%20city%20to%20another%20is%20equal%20to%20the%20distance%20between%20them.%20Find%20the%20minimum%20total%20cost%20of%20laying%20a%20set%20of%20cables%20so%20that%20two%20subsets%20of%20cities%20%28Byteland%20and%20disputed%20cities%2C%20Berland%20and%20disputed%20cities%29%20are%20connected.%5Cn%5CnEach%20city%20is%20a%20point%20on%20the%20line%20%24%20Ox%20%24%20.%20It%20is%20technically%20possible%20to%20connect%20the%20cities%20%24%20a%20%24%20and%20%24%20b%20%24%20with%20a%20cable%20so%20that%20the%20city%20%24%20c%20%24%20%28%20%24%20a%20%3C%20c%20%3C%20b%20%24%20%29%20is%20not%20connected%20to%20this%20cable%2C%20where%20%24%20a%20%24%20%2C%20%24%20b%20%24%20and%20%24%20c%20%24%20are%20simultaneously%20coordinates%20of%20the%20cities%20%24%20a%20%24%20%2C%20%24%20b%20%24%20and%20%24%20c%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20cities.%5Cn%5CnThe%20following%20%24%20n%20%24%20lines%20contains%20an%20integer%20%24%20x_i%20%24%20and%20the%20letter%20%24%20c_i%20%24%20%28%20%24%20-10%5E%7B9%7D%20%5C%5Cle%20x_i%20%5C%5Cle%2010%5E%7B9%7D%20%24%20%29%20%5Cu2014%20the%20coordinate%20of%20the%20city%20and%20its%20type.%20If%20the%20city%20belongs%20to%20Byteland%2C%20%24%20c_i%20%24%20equals%20to%20%27B%27.%20If%20the%20city%20belongs%20to%20Berland%2C%20%24%20c_i%20%24%20equals%20to%20%5Cu00abR%5Cu00bb.%20If%20the%20city%20is%20disputed%2C%20%24%20c_i%20%24%20equals%20to%20%27P%27.%5Cn%5CnAll%20cities%20have%20distinct%20coordinates.%20Guaranteed%2C%20that%20the%20cities%20are%20given%20in%20the%20increasing%20order%20of%20their%20coordinates.%22%2C%22outputFormat%22%3A%22Print%20the%20minimal%20total%20length%20of%20such%20set%20of%20cables%2C%20that%20if%20we%20delete%20all%20Berland%20cities%20%28%20%24%20c_i%20%24%20%3D%27R%27%29%2C%20it%20will%20be%20possible%20to%20find%20a%20way%20from%20any%20remaining%20city%20to%20any%20other%20remaining%20city%2C%20moving%20only%20by%20cables.%20Similarly%2C%20if%20we%20delete%20all%20Byteland%20cities%20%28%20%24%20c_i%20%24%20%3D%27B%27%29%2C%20it%20will%20be%20possible%20to%20find%20a%20way%20from%20any%20remaining%20city%20to%20any%20other%20remaining%20city%2C%20moving%20only%20by%20cables.%22%2C%22samples%22%3A%5B%5B%224%5Cn-5%20R%5Cn0%20P%5Cn3%20P%5Cn7%20B%5Cn%22%2C%2212%5Cn%22%5D%2C%5B%225%5Cn10%20R%5Cn14%20B%5Cn16%20B%5Cn21%20R%5Cn32%20R%5Cn%22%2C%2224%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20you%20should%20connect%20the%20first%20city%20with%20the%20second%2C%20the%20second%20with%20the%20third%2C%20and%20the%20third%20with%20the%20fourth.%20The%20total%20length%20of%20the%20cables%20will%20be%20%24%205%20%2B%203%20%2B%204%20%3D%2012%20%24%20.%5Cn%5CnIn%20the%20second%20example%20there%20are%20no%20disputed%20cities%2C%20so%20you%20need%20to%20connect%20all%20the%20neighboring%20cities%20of%20Byteland%20and%20all%20the%20neighboring%20cities%20of%20Berland.%20The%20cities%20of%20Berland%20have%20coordinates%20%24%2010%2C%2021%2C%2032%20%24%20%2C%20so%20to%20connect%20them%20you%20need%20two%20cables%20of%20length%20%24%2011%20%24%20and%20%24%2011%20%24%20.%20The%20cities%20of%20Byteland%20have%20coordinates%20%24%2014%20%24%20and%20%24%2016%20%24%20%2C%20so%20to%20connect%20them%20you%20need%20one%20cable%20of%20length%20%24%202%20%24%20.%20Thus%2C%20the%20total%20length%20of%20all%20cables%20is%20%24%2011%20%2B%2011%20%2B%202%20%3D%2024%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F962%5C%2FE%22%2C%22id%22%3A%22962E%22%7D%2C%22translation%22%3A%22%5Cu5728%5Cu4e00%5Cu7ef4%5Cu5750%5Cu6807%5Cu8f74%5Cu4e0a%5Cu5b58%5Cu5728%24n%24%5Cu4e2a%5Cu70b9%24%28n%5C%5Cle2%5C%5Ccdot%2010%5E5%29%24%5Cuff0c%5Cu5206%5Cu4e3a%24PBR%24%5Cu4e09%5Cu79cd%5Cu3002%5Cu73b0%5Cu5728%5Cu53ef%5Cu4ee5%5Cu5728%5Cu4efb%5Cu610f%5Cu4e24%5Cu70b9%5Cu4e4b%5Cu95f4%5Cu8fde%5Cu8fb9%5Cuff0c%5Cu4ee3%5Cu4ef7%5Cu4e3a%5Cu4e24%5Cu70b9%5Cu7684%5Cu8ddd%5Cu79bb%5Cu3002%5Cu6c42%5Cu4e00%5Cu79cd%5Cu8fde%5Cu8fb9%5Cu65b9%5Cu6cd5%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu4e0d%5Cu8003%5Cu8651%5Cu4e0e%24B%24%5Cu70b9%5Cu76f8%5Cu8fde%5Cu7684%5Cu6240%5Cu6709%5Cu7684%5Cu8fb9%5Cu65f6%5Cuff0c%24P%24%5Cu70b9%5Cu548c%24R%24%5Cu70b9%5Cu90fd%5Cu5728%5Cu540c%5Cu4e00%5Cu4e2a%5Cu8054%5Cu901a%5Cu5757%5Cuff0c%5Cu4e0d%5Cu8003%5Cu8651%5Cu4e0e%24R%24%5Cu70b9%5Cu76f8%5Cu8fde%5Cu7684%5Cu6240%5Cu6709%5Cu7684%5Cu8fb9%5Cu65f6%5Cuff0c%24P%24%5Cu70b9%5Cu548c%24B%24%5Cu70b9%5Cu90fd%5Cu5728%5Cu540c%5Cu4e00%5Cu4e2a%5Cu8054%5Cu901a%5Cu5757%5Cu3002%5Cu6700%5Cu5c0f%5Cu5316%5Cu4ee3%5Cu4ef7%5Cu3002%5Cn%5Cn%5Cu5750%5Cu6807%5Cu8303%5Cu56f4%24-10%5E9%5C%5Cle%20x_i%5C%5Cle%2010%5E9%24%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40Great_Influence%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A14%2C%22totalAccepted%22%3A8%2C%22pid%22%3A%22CF962E%22%2C%22title%22%3A%22Byteland%2C%20Berland%20and%20Disputed%20Cities%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A39427%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A25023%2C%22name%22%3A%22CF962E%20Byteland%2C%20Berland%20and%20Disputed%20Cities%22%2C%22slug%22%3A%22CF962E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Byteland%2C%20Berland%20and%20Disputed%20Cities%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Byteland, Berland and Disputed Cities</h1>
<h2>题意翻译</h2>
<div>在一维坐标轴上存在$n$个点$(n\le2\cdot 10^5)$，分为$PBR$三种。现在可以在任意两点之间连边，代价为两点的距离。求一种连边方法，使得不考虑与$B$点相连的所有的边时，$P$点和$R$点都在同一个联通块，不考虑与$R$点相连的所有的边时，$P$点和$B$点都在同一个联通块。最小化代价。
坐标范围$-10^9\le x_i\le 10^9$。
感谢@Great_Influence 提供的翻译</div>
<h2>题目描述</h2>
<div>The cities of Byteland and Berland are located on the axis $ Ox $ . In addition, on this axis there are also disputed cities, which belong to each of the countries in their opinion. Thus, on the line $ Ox $ there are three types of cities:
- the cities of Byteland,
- the cities of Berland,
- disputed cities.
Recently, the project BNET has been launched — a computer network of a new generation. Now the task of the both countries is to connect the cities so that the network of this country is connected.
The countries agreed to connect the pairs of cities with BNET cables in such a way that:
- If you look at the only cities of Byteland and the disputed cities, then in the resulting set of cities, any city should be reachable from any other one by one or more cables,
- If you look at the only cities of Berland and the disputed cities, then in the resulting set of cities, any city should be reachable from any other one by one or more cables.
Thus, it is necessary to choose a set of pairs of cities to connect by cables in such a way that both conditions are satisfied simultaneously. Cables allow bi-directional data transfer. Each cable connects exactly two distinct cities.
The cost of laying a cable from one city to another is equal to the distance between them. Find the minimum total cost of laying a set of cables so that two subsets of cities (Byteland and disputed cities, Berland and disputed cities) are connected.
Each city is a point on the line $ Ox $ . It is technically possible to connect the cities $ a $ and $ b $ with a cable so that the city $ c $ ( $ a < c < b $ ) is not connected to this cable, where $ a $ , $ b $ and $ c $ are simultaneously coordinates of the cities $ a $ , $ b $ and $ c $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ ( $ 2 \le n \le 2 \cdot 10^{5} $ ) — the number of cities.
The following $ n $ lines contains an integer $ x_i $ and the letter $ c_i $ ( $ -10^{9} \le x_i \le 10^{9} $ ) — the coordinate of the city and its type. If the city belongs to Byteland, $ c_i $ equals to 'B'. If the city belongs to Berland, $ c_i $ equals to «R». If the city is disputed, $ c_i $ equals to 'P'.
All cities have distinct coordinates. Guaranteed, that the cities are given in the increasing order of their coordinates.</div>
<h3>输出格式</h3>
<br />
<div>Print the minimal total length of such set of cables, that if we delete all Berland cities ( $ c_i $ ='R'), it will be possible to find a way from any remaining city to any other remaining city, moving only by cables. Similarly, if we delete all Byteland cities ( $ c_i $ ='B'), it will be possible to find a way from any remaining city to any other remaining city, moving only by cables.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
-5 R
0 P
3 P
7 B
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>12
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5
10 R
14 B
16 B
21 R
32 R
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>24
</code></pre>
<h2>说明</h2>
<div>In the first example, you should connect the first city with the second, the second with the third, and the third with the fourth. The total length of the cables will be $ 5 + 3 + 4 = 12 $ .
In the second example there are no disputed cities, so you need to connect all the neighboring cities of Byteland and all the neighboring cities of Berland. The cities of Berland have coordinates $ 10, 21, 32 $ , so to connect them you need two cables of length $ 11 $ and $ 11 $ . The cities of Byteland have coordinates $ 14 $ and $ 16 $ , so to connect them you need one cable of length $ 2 $ . Thus, the total length of all cables is $ 11 + 11 + 2 = 24 $ .</div>
</article>
</div>
</div>
</body>
</html>
