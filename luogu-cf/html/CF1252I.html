<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Mission Possible - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403835:HWL6rkStiP8X6sFuZaiyDFCIRYNje3GI5IZD32CkGh0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Allen%2C%20a%20government%20secret%20service%2C%20has%20been%20assigned%20to%20infiltrate%20a%20mafia%20secret%20base%20to%20uncover%20crucial%20information%20regarding%20the%20mafia%27s%20operations.%5Cn%5CnThe%20secret%20base%20is%20a%20rectangular%20bounded%20by%20%24%20%28x_L%2Cy_L%29%20%24%20%2C%20%24%20%28x_L%2Cy_R%29%20%24%20%2C%20%24%20%28x_R%2Cy_L%29%20%24%20%2C%20and%20%24%20%28x_R%2Cy_R%29%20%24%20in%20a%20Cartesian%20coordinate%20system%20where%20%24%20x_L%20%3C%20x_R%20%24%20and%20%24%20y_L%20%3C%20y_R%20%24%20.%20There%20are%20%24%20N%20%24%20sensors%20placed%20inside%20the%20secret%20base.%20The%20%24%20i%5E%7Bth%7D%20%24%20sensor%20is%20located%20at%20%24%20%28x_i%2C%20y_i%29%20%24%20and%20has%20an%20effective%20sensing%20radius%20of%20%24%20r_i%20%24%20which%20can%20detect%20any%20person%20who%20is%20strictly%20within%20the%20radius%20of%20%24%20r_i%20%24%20from%20%24%20%28x_i%2C%20y_i%29%20%24%20.%20In%20other%20words%2C%20the%20%24%20i%5E%7Bth%7D%20%24%20sensor%20can%20detect%20a%20person%20at%20location%20%24%20%28x_a%2C%20y_a%29%20%24%20if%20and%20only%20if%20the%20Euclidean%20distance%20of%20%24%20%28x_i%2C%20y_i%29%20%24%20and%20%24%20%28x_a%2C%20y_a%29%20%24%20is%20strictly%20less%20than%20%24%20r_i%20%24%20.%20It%20is%20also%20known%20that%20the%20Euclidean%20distance%20of%20any%20two%20sensors%20%24%20i%20%24%20and%20%24%20j%20%24%20is%20strictly%20larger%20than%20%24%20r_i%20%2B%20r_j%20%24%20.%20Note%20that%20the%20Euclidean%20distance%20of%20two%20points%2C%20%24%20%28x_a%2C%20y_a%29%20%24%20and%20%24%20%28x_b%2C%20y_b%29%20%24%20%2C%20is%20%24%20%5C%5Csqrt%7B%7Cx_a%20-%20x_b%7C%5E2%20%2B%20%7Cy_a%20-%20y_b%7C%5E2%7D%20%24%20.%5Cn%5CnAllen%20begins%20his%20infiltration%20mission%20at%20location%20%24%20%28x_s%2C%20y_s%29%20%24%20%2C%20and%20his%20target%20is%20located%20at%20%24%20%28x_t%2C%20y_t%29%20%24%20.%20Allen%20has%20the%20power%20to%20run%20extremely%20fast%20in%20a%20straight%20line%20while%20he%20needs%20to%20spend%20extra%20time%20to%20change%20his%20running%20trajectory%20%28to%20adjust%20his%20footing%29.%20Although%20he%20is%20a%20fast%20runner%2C%20he%20still%20needs%20to%20make%20sure%20that%20none%20of%20the%20sensors%20detect%20him%20while%20he%20is%20running%2C%20i.e.%20there%20is%20no%20point%20in%20his%20running%20trajectory%20which%20is%20strictly%20within%20a%20sensor%20effective%20sensing%20radius.%5Cn%5CnLet%20%24%20P%20%3D%20%5C%5C%7B%28x_%7Bp_1%7D%2C%20y_%7Bp_1%7D%29%2C%20%5C%5Cdots%2C%20%28x_%7Bp_%7B%7CP%7C%7D%7D%2C%20y_%7Bp_%7B%7CP%7C%7D%7D%29%5C%5C%7D%20%24%20be%20the%20set%20of%20locations%20where%20Allen%20changes%20his%20running%20trajectory%2C%20thus%2C%20Allen%27s%20running%20trajectory%20with%20%24%20P%20%24%20is%20%24%20%28x_s%2C%20y_s%29%20%5C%5Crightarrow%20%28x_%7Bp_1%7D%2C%20y_%7Bp_1%7D%29%20%5C%5Crightarrow%20%5C%5Cdots%20%5C%5Crightarrow%20%28x_%7Bp_%7B%7CP%7C%7D%7D%2C%20y_%7Bp_%7B%7CP%7C%7D%7D%29%20%5C%5Crightarrow%20%28x_t%2C%20y_t%29%20%24%20where%20%24%20%28x_a%2Cy_a%29%20%5C%5Crightarrow%20%28x_b%2Cy_b%29%20%24%20implies%20that%20Allen%20is%20running%20from%20%24%20%28x_a%2Cy_a%29%20%24%20to%20%24%20%28x_b%2Cy_b%29%20%24%20in%20a%20straight%20line.%20The%20set%20%24%20P%20%24%20is%20feasible%20if%20and%20only%20if%20with%20%24%20P%20%24%20%2C%20Allen%20is%20not%20detected%20by%20any%20sensor%20and%20is%20not%20running%20out%20of%20the%20secret%20base%20%28although%2C%20Allen%20is%20allowed%20to%20run%20along%20the%20secret%20base%20perimeter%29.%20Note%20that%20%24%20x_p%20%24%20and%20%24%20y_p%20%24%20%2C%20%24%20%28x_p%2Cy_p%29%20%5C%5Cin%20P%20%24%20%2C%20are%20not%20necessarily%20integers%3B%20they%20can%20be%20real%20numbers.%5Cn%5CnYour%20task%20in%20this%20problem%20is%20to%20find%20any%20one%20feasible%20%24%20P%20%24%20which%20contains%20no%20more%20than%20%24%201000%20%24%20points.%22%2C%22inputFormat%22%3A%22Input%20begins%20with%20a%20line%20containing%20five%20integers%3A%20%24%20N%20%24%20%24%20x_L%20%24%20%24%20y_L%20%24%20%24%20x_R%20%24%20%24%20y_R%20%24%20%28%20%24%200%20%5C%5Cle%20N%20%5C%5Cle%2050%20%24%20%3B%20%24%200%20%5C%5Cle%20x_L%20%3C%20x_R%20%5C%5Cle%201000%20%24%20%3B%20%24%200%20%5C%5Cle%20y_L%20%3C%20y_R%20%5C%5Cle%201000%20%24%20%29%20representing%20the%20number%20of%20sensors%20and%20the%20secret%20base%20%28%20%24%20x_L%20%24%20%2C%20%24%20y_L%20%24%20%2C%20%24%20x_R%20%24%20%2C%20%24%20y_R%20%24%20%29%2C%20respectively.%20The%20next%20line%20contains%20two%20integers%3A%20%24%20x_s%20%24%20%24%20y_s%20%24%20%28%20%24%20x_L%20%3C%20x_s%20%3C%20x_R%20%24%20%3B%20%24%20y_L%20%3C%20y_s%20%3C%20y_R%20%24%20%29%20representing%20Allen%27s%20initial%20location.%20The%20next%20line%20contains%20two%20integers%3A%20%24%20x_t%20%24%20%24%20y_t%20%24%20%28%20%24%20x_L%20%3C%20x_t%20%3C%20x_R%20%24%20%3B%20%24%20y_L%20%3C%20y_t%20%3C%20y_R%20%24%20%29%20representing%20Allen%27s%20target%20location.%20It%20is%20guaranteed%20that%20%24%20x_s%20%5C%5Cne%20x_t%20%24%20or%20%24%20y_s%20%5C%5Cne%20y_t%20%24%20.%20The%20next%20%24%20N%20%24%20lines%20each%20contains%20three%20integers%3A%20%24%20x_i%20%24%20%24%20y_i%20%24%20%24%20r_i%20%24%20%28%20%24%20x_L%20%3C%20x_i%20-%20r_i%20%3C%20x_i%20%2B%20r_i%20%3C%20x_R%20%24%20%3B%20%24%20y_L%20%3C%20y_i%20-%20r_i%20%3C%20y_i%20%2B%20r_i%20%3C%20y_R%20%24%20%3B%20%24%201%20%5C%5Cle%20r_i%20%5C%5Cle%201000%20%24%20%29%20representing%20a%20sensor%20at%20location%20%24%20%28x_i%2C%20y_i%29%20%24%20with%20an%20effective%20sensing%20radius%20of%20%24%20r_i%20%24%20.%20It%20is%20guaranteed%20that%20the%20Euclidean%20distance%20of%20any%20two%20sensors%20%24%20i%20%24%20and%20%24%20j%20%24%20is%20larger%20than%20%24%20r_i%20%2B%20r_j%20%24%20.%20It%20is%20also%20guaranteed%20that%20the%20Euclidean%20distance%20of%20%24%20%28x_s%2Cy_s%29%20%24%20and%20%24%20%28x_t%2Cy_t%29%20%24%20to%20any%20sensor%20%24%20i%20%24%20is%20larger%20than%20%24%20r_i%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20in%20a%20line%20an%20integer%20representing%20the%20size%20of%20a%20feasible%20%24%20P%20%24%20.%20The%20next%20%24%20%7CP%7C%20%24%20lines%20each%20contains%20two%20real%20numbers%20%28separated%20by%20a%20single%20space%29%3B%20the%20%24%20j%5E%7Bth%7D%20%24%20line%20contains%20%24%20x_j%20%24%20%24%20y_j%20%24%20representing%20the%20%24%20j%5E%7Bth%7D%20%24%20point%20in%20%24%20P%20%24%20.%20You%20may%20output%20any%20feasible%20%24%20P%20%24%20with%20no%20more%20than%20%24%201000%20%24%20points.%5Cn%5CnDue%20to%20the%20nature%20of%20the%20output%20%28floating%20point%29%2C%20let%20us%20define%20an%20epsilon%20%24%20%5C%5Cepsilon%20%24%20to%20be%20%24%2010%5E%7B-6%7D%20%24%20to%20verify%20the%20output.%20Consider%20%24%20Q_1%20%3D%20%28x_s%2C%20y_s%29%20%24%20%2C%20%24%20Q_%7Bj%2B1%7D%20%3D%20P_j%20%24%20for%20all%20%24%201%20%5C%5Cle%20j%20%5C%5Cle%20%7CP%7C%20%24%20%2C%20and%20%24%20Q_%7B%7CP%7C%2B2%7D%20%3D%20%28x_t%2C%20y_t%29%20%24%20.%20Then%2C%20%24%20P%20%24%20is%20considered%20correct%20if%20and%20only%20if%20%24%20P%20%24%20contains%20no%20more%20than%20%24%201000%20%24%20points%20and%20all%20of%20the%20following%20are%20satisfied%3A%5Cn%5Cn-%20%24%20x_L%20-%20%5C%5Cepsilon%20%5C%5Cle%20x_%7Bp_k%7D%20%5C%5Cle%20x_R%20%2B%20%5C%5Cepsilon%20%24%20and%20%24%20y_L%20-%20%5C%5Cepsilon%20%5C%5Cle%20y_%7Bp_k%7D%20%5C%5Cle%20y_R%20%2B%20%5C%5Cepsilon%20%24%20for%20all%20%24%201%20%5C%5Cle%20k%20%5C%5Cle%20%7CP%7C%20%24%20%28Allen%20is%20not%20running%20out%20of%20the%20secret%20base%29.%5Cn-%20For%20all%20%24%201%20%5C%5Cle%20k%20%3C%20%7CQ%7C%20%24%20%2C%20let%20%24%20S_k%20%24%20be%20the%20line%20segment%20connecting%20%24%20Q_k%20%24%20and%20%24%20Q_%7Bk%2B1%7D%20%24%20%28Allen%20is%20running%20in%20straight%20line%29.%20For%20all%20%24%201%20%5C%5Cle%20i%20%5C%5Cle%20N%20%24%20%2C%20let%20%24%20%28x_%7Bk%2Ci%7D%2Cy_%7Bk%2Ci%7D%29%20%24%20be%20the%20point%20along%20%24%20S_k%20%24%20that%20is%20the%20closest%20to%20the%20%24%20i%5E%7Bth%7D%20%24%20sensor%27s%20location%2C%20%24%20%28x_i%2Cy_i%29%20%24%20.%20Let%20%24%20d_%7Bk%2Ci%7D%20%24%20be%20the%20Euclidean%20distance%20between%20%24%20%28x_%7Bk%2Ci%7D%2Cy_%7Bk%2Ci%7D%29%20%24%20and%20%24%20%28x_i%2Cy_i%29%20%24%20.%20Then%2C%20the%20constraint%20%24%20r_i%20%5C%5Cle%20d_%7Bk%2Ci%7D%20%2B%20%5C%5Cepsilon%20%24%20should%20be%20satisfied%20%28Allen%20is%20not%20detected%20by%20any%20sensor%29.%5Cn-%20All%20points%20in%20%24%20Q%20%24%20are%20distinct.%20Two%20points%2C%20%24%20%28x_a%2Cy_a%29%20%24%20and%20%24%20%28x_b%2Cy_b%29%20%24%20%2C%20are%20considered%20distinct%20if%20and%20only%20if%20%24%20%7Cx_a%20-%20x_b%7C%20%3E%20%5C%5Cepsilon%20%24%20or%20%24%20%7Cy_a%20-%20y_b%7C%20%3E%20%5C%5Cepsilon%20%24%20.%22%2C%22samples%22%3A%5B%5B%22%5Cn3%202%202%2050%2026%5Cn4%2014%5Cn48%2014%5Cn15%2013%207%5Cn36%2016%206%5Cn46%2018%203%5Cn%22%2C%22%5Cn2%5Cn13.25%2023.1234567%5Cn36.591003%207.1%5Cn%22%5D%2C%5B%22%5Cn1%200%200%201000%201000%5Cn100%20501%5Cn900%20501%5Cn500%20251%20250%5Cn%22%2C%22%5Cn0%5Cn%22%5D%5D%2C%22hint%22%3A%22Explanation%20for%20the%20sample%20input%5C%2Foutput%20%231%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1252I%5C%2Fc24bf20d658013afb31662296c4fe87f431a53d4.png%29%5Cn%5CnThe%20figure%20above%20shows%20the%20%24%20P%20%24%20from%20the%20sample%20output.%20Note%20that%20there%20exists%20a%20feasible%20%24%20P%20%24%20with%20only%20one%20point%20in%20this%20sample%2C%20although%20you%20are%20not%20required%20to%20find%20such%20%24%20P%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1252%5C%2FI%22%2C%22id%22%3A%221252I%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF1252I%22%2C%22title%22%3A%22Mission%20Possible%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Mission%20Possible%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Mission Possible</h1>
<h2>题目描述</h2>
<div>Allen, a government secret service, has been assigned to infiltrate a mafia secret base to uncover crucial information regarding the mafia's operations.
The secret base is a rectangular bounded by $ (x_L,y_L) $ , $ (x_L,y_R) $ , $ (x_R,y_L) $ , and $ (x_R,y_R) $ in a Cartesian coordinate system where $ x_L < x_R $ and $ y_L < y_R $ . There are $ N $ sensors placed inside the secret base. The $ i^{th} $ sensor is located at $ (x_i, y_i) $ and has an effective sensing radius of $ r_i $ which can detect any person who is strictly within the radius of $ r_i $ from $ (x_i, y_i) $ . In other words, the $ i^{th} $ sensor can detect a person at location $ (x_a, y_a) $ if and only if the Euclidean distance of $ (x_i, y_i) $ and $ (x_a, y_a) $ is strictly less than $ r_i $ . It is also known that the Euclidean distance of any two sensors $ i $ and $ j $ is strictly larger than $ r_i + r_j $ . Note that the Euclidean distance of two points, $ (x_a, y_a) $ and $ (x_b, y_b) $ , is $ \sqrt{|x_a - x_b|^2 + |y_a - y_b|^2} $ .
Allen begins his infiltration mission at location $ (x_s, y_s) $ , and his target is located at $ (x_t, y_t) $ . Allen has the power to run extremely fast in a straight line while he needs to spend extra time to change his running trajectory (to adjust his footing). Although he is a fast runner, he still needs to make sure that none of the sensors detect him while he is running, i.e. there is no point in his running trajectory which is strictly within a sensor effective sensing radius.
Let $ P = \{(x_{p_1}, y_{p_1}), \dots, (x_{p_{|P|}}, y_{p_{|P|}})\} $ be the set of locations where Allen changes his running trajectory, thus, Allen's running trajectory with $ P $ is $ (x_s, y_s) \rightarrow (x_{p_1}, y_{p_1}) \rightarrow \dots \rightarrow (x_{p_{|P|}}, y_{p_{|P|}}) \rightarrow (x_t, y_t) $ where $ (x_a,y_a) \rightarrow (x_b,y_b) $ implies that Allen is running from $ (x_a,y_a) $ to $ (x_b,y_b) $ in a straight line. The set $ P $ is feasible if and only if with $ P $ , Allen is not detected by any sensor and is not running out of the secret base (although, Allen is allowed to run along the secret base perimeter). Note that $ x_p $ and $ y_p $ , $ (x_p,y_p) \in P $ , are not necessarily integers; they can be real numbers.
Your task in this problem is to find any one feasible $ P $ which contains no more than $ 1000 $ points.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Input begins with a line containing five integers: $ N $ $ x_L $ $ y_L $ $ x_R $ $ y_R $ ( $ 0 \le N \le 50 $ ; $ 0 \le x_L < x_R \le 1000 $ ; $ 0 \le y_L < y_R \le 1000 $ ) representing the number of sensors and the secret base ( $ x_L $ , $ y_L $ , $ x_R $ , $ y_R $ ), respectively. The next line contains two integers: $ x_s $ $ y_s $ ( $ x_L < x_s < x_R $ ; $ y_L < y_s < y_R $ ) representing Allen's initial location. The next line contains two integers: $ x_t $ $ y_t $ ( $ x_L < x_t < x_R $ ; $ y_L < y_t < y_R $ ) representing Allen's target location. It is guaranteed that $ x_s \ne x_t $ or $ y_s \ne y_t $ . The next $ N $ lines each contains three integers: $ x_i $ $ y_i $ $ r_i $ ( $ x_L < x_i - r_i < x_i + r_i < x_R $ ; $ y_L < y_i - r_i < y_i + r_i < y_R $ ; $ 1 \le r_i \le 1000 $ ) representing a sensor at location $ (x_i, y_i) $ with an effective sensing radius of $ r_i $ . It is guaranteed that the Euclidean distance of any two sensors $ i $ and $ j $ is larger than $ r_i + r_j $ . It is also guaranteed that the Euclidean distance of $ (x_s,y_s) $ and $ (x_t,y_t) $ to any sensor $ i $ is larger than $ r_i $ .</div>
<h3>输出格式</h3>
<br />
<div>Output in a line an integer representing the size of a feasible $ P $ . The next $ |P| $ lines each contains two real numbers (separated by a single space); the $ j^{th} $ line contains $ x_j $ $ y_j $ representing the $ j^{th} $ point in $ P $ . You may output any feasible $ P $ with no more than $ 1000 $ points.
Due to the nature of the output (floating point), let us define an epsilon $ \epsilon $ to be $ 10^{-6} $ to verify the output. Consider $ Q_1 = (x_s, y_s) $ , $ Q_{j+1} = P_j $ for all $ 1 \le j \le |P| $ , and $ Q_{|P|+2} = (x_t, y_t) $ . Then, $ P $ is considered correct if and only if $ P $ contains no more than $ 1000 $ points and all of the following are satisfied:
- $ x_L - \epsilon \le x_{p_k} \le x_R + \epsilon $ and $ y_L - \epsilon \le y_{p_k} \le y_R + \epsilon $ for all $ 1 \le k \le |P| $ (Allen is not running out of the secret base).
- For all $ 1 \le k < |Q| $ , let $ S_k $ be the line segment connecting $ Q_k $ and $ Q_{k+1} $ (Allen is running in straight line). For all $ 1 \le i \le N $ , let $ (x_{k,i},y_{k,i}) $ be the point along $ S_k $ that is the closest to the $ i^{th} $ sensor's location, $ (x_i,y_i) $ . Let $ d_{k,i} $ be the Euclidean distance between $ (x_{k,i},y_{k,i}) $ and $ (x_i,y_i) $ . Then, the constraint $ r_i \le d_{k,i} + \epsilon $ should be satisfied (Allen is not detected by any sensor).
- All points in $ Q $ are distinct. Two points, $ (x_a,y_a) $ and $ (x_b,y_b) $ , are considered distinct if and only if $ |x_a - x_b| > \epsilon $ or $ |y_a - y_b| > \epsilon $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
3 2 2 50 26
4 14
48 14
15 13 7
36 16 6
46 18 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
2
13.25 23.1234567
36.591003 7.1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
1 0 0 1000 1000
100 501
900 501
500 251 250
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
0
</code></pre>
<h2>说明</h2>
<div>Explanation for the sample input/output #1
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1252I/c24bf20d658013afb31662296c4fe87f431a53d4.png)
The figure above shows the $ P $ from the sample output. Note that there exists a feasible $ P $ with only one point in this sample, although you are not required to find such $ P $ .</div>
</article>
</div>
</div>
</body>
</html>
