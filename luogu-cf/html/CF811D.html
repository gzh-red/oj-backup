<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Vladik and Favorite Game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573398166:6ZjpTKjz8jptYMiDtMMKUJY53cR08cmQoZNRN9N3fZc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22This%20is%20an%20interactive%20problem.%5Cn%5CnVladik%20has%20favorite%20game%2C%20in%20which%20he%20plays%20all%20his%20free%20time.%5Cn%5CnGame%20field%20could%20be%20represented%20as%20%24%20n%5Cu00d7m%20%24%20matrix%20which%20consists%20of%20cells%20of%20three%20types%3A%5Cn%5Cn-%20%5Cu00ab.%5Cu00bb%20%5Cu2014%20normal%20cell%2C%20player%20can%20visit%20it.%5Cn-%20%5Cu00abF%5Cu00bb%20%5Cu2014%20finish%20cell%2C%20player%20has%20to%20finish%20his%20way%20there%20to%20win.%20There%20is%20exactly%20one%20cell%20of%20this%20type.%5Cn-%20%5Cu00ab%5C%5C%2A%5Cu00bb%20%5Cu2014%20dangerous%20cell%2C%20if%20player%20comes%20to%20this%20cell%2C%20he%20loses.%5Cn%5CnInitially%20player%20is%20located%20in%20the%20left%20top%20cell%20with%20coordinates%20%24%20%281%2C1%29%20%24%20.%5Cn%5CnPlayer%20has%20access%20to%20%24%204%20%24%20buttons%20%5C%22U%5C%22%2C%20%5C%22D%5C%22%2C%20%5C%22L%5C%22%2C%20%5C%22R%5C%22%2C%20each%20of%20them%20move%20player%20up%2C%20down%2C%20left%20and%20right%20directions%20respectively.%5Cn%5CnBut%20it%5Cu2019s%20not%20that%20easy%21%20Sometimes%20friends%20play%20game%20and%20change%20functions%20of%20buttons.%20Function%20of%20buttons%20%5C%22L%5C%22%20and%20%5C%22R%5C%22%20could%20have%20been%20swapped%2C%20also%20functions%20of%20buttons%20%5C%22U%5C%22%20and%20%5C%22D%5C%22%20could%20have%20been%20swapped.%20Note%20that%20functions%20of%20buttons%20can%20be%20changed%20only%20at%20the%20beginning%20of%20the%20game.%5Cn%5CnHelp%20Vladik%20win%20the%20game%21%22%2C%22inputFormat%22%3A%22First%20line%20contains%20two%20space-separated%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D100%20%24%20%29%20%5Cu2014%20number%20of%20rows%20and%20columns%20respectively.%5Cn%5CnEach%20of%20next%20%24%20n%20%24%20lines%20contains%20%24%20m%20%24%20characters%20describing%20corresponding%20row%20of%20field.%20Set%20of%20characters%20in%20field%20is%20described%20above.%5Cn%5CnGuaranteed%20that%20cell%20with%20coordinates%20%24%20%281%2C1%29%20%24%20is%20normal%20and%20there%20is%20at%20least%20one%20way%20from%20initial%20cell%20to%20finish%20cell%20without%20dangerous%20cells.%22%2C%22outputFormat%22%3A%22You%20can%20press%20buttons%20no%20more%20than%20%24%202%5Cu00b7n%5Cu00b7m%20%24%20times.%5Cn%5CnTo%20press%20a%20button%20you%20should%20print%20%5C%22U%5C%22%2C%20%5C%22D%5C%22%2C%20%5C%22L%5C%22%2C%20%5C%22R%5C%22%20in%20new%20line.%20It%5Cu2019s%20necessary%20to%20print%20newline%20character%20and%20flush%20output.%20After%20flushing%20buffer%20you%20should%20read%20answer%20from%20input%20data.%20Answer%20is%20the%20pair%20of%20space-separated%20integers%20%24%20x%20%24%20%2C%20%24%20y%20%24%20%5Cu2014%20new%20position%20of%20player.%20In%20case%2C%20if%20there%20is%20no%20cell%20in%20direction%20of%20moving%2C%20position%20will%20not%20change.%20If%20after%20any%20move%20player%20lost%2C%20in%20other%20words%20player%20move%20to%20dangerous%20cell%2C%20then%20%24%20x%20%24%20and%20%24%20y%20%24%20will%20be%20equal%20to%20%24%20-1%20%24%20.%5Cn%5CnIf%20after%20any%20move%20player%20is%20in%20finish%20or%20dangerous%20cell%2C%20then%20you%20should%20terminate%20your%20program.%5Cn%5CnTo%20finish%20output%20buffer%20%28i.%20e.%20for%20operation%20flush%29%20right%20after%20printing%20direction%20and%20newline%20you%20should%20do%20next%3A%5Cn%5Cn-%20fflush%28stdout%29%20in%20C%2B%2B%5Cn-%20System.out.flush%28%29%20in%20Java%5Cn-%20stdout.flush%28%29%20in%20Python%5Cn-%20flush%28output%29%20in%20Pascal%5Cn-%20read%20documentation%20for%20other%20languages.%5Cn%5CnHacks%5Cn%5CnTo%20perform%20a%20hack%20you%20should%20use%20this%20format%3A%5Cn%5Cn%60%3Cbr%3E%3C%5C%2Fbr%3En%20m%20swapLR%20swapUD%20%20%3Cbr%3E%3C%5C%2Fbr%3Ea_1%20%20%3Cbr%3E%3C%5C%2Fbr%3Ea_2%20%20%3Cbr%3E%3C%5C%2Fbr%3E...%20%20%3Cbr%3E%3C%5C%2Fbr%3Ea_n%3Cbr%3E%3C%5C%2Fbr%3E%60Where%20%24%20n%20%24%20%2C%20%24%20m%20%24%20%5Cu2014%20number%20of%20rows%20and%20columns%20in%20game%20field.%20%24%20swapLR%20%24%20is%20equal%20to%20%24%201%20%24%20in%20case%2C%20when%20directions%20%5C%22L%5Cu2019%5Cu2019%20and%20%5C%22R%5Cu2019%5Cu2019%20is%20swapped%2C%20and%20equal%20to%20%24%200%20%24%20otherwise.%20%24%20swapUD%20%24%20is%20equal%20to%20%24%201%20%24%20%2C%20when%20directions%20%5C%22U%5Cu2019%5Cu2019%20and%20%5C%22D%5Cu2019%5Cu2019%20is%20swapped%2C%20and%20equal%20to%20%24%200%20%24%20otherwise.%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%5Cu2014%20description%20of%20corresponding%20rows%20of%20game%20field.%22%2C%22samples%22%3A%5B%5B%224%203%5Cn...%5Cn%2A%2A.%5CnF%2A.%5Cn...%5Cn1%201%5Cn1%202%5Cn1%203%5Cn1%203%5Cn2%203%5Cn3%203%5Cn4%203%5Cn4%202%5Cn4%201%5Cn3%201%5Cn%22%2C%22R%5CnL%5CnL%5CnD%5CnU%5CnU%5CnU%5CnR%5CnR%5CnD%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20first%20test%20case%20all%20four%20directions%20swapped%20with%20their%20opposite%20directions.%20Protocol%20of%20interaction%20In%20more%20convenient%20form%3A%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF811D%5C%2F950006bce8e634504ab933f77783747c37b83110.png%29%5Cn%5CnThis%20test%20could%20be%20presenter%20for%20hack%20in%20following%20way%3A%5Cn%5Cn%60%3Cbr%3E%3C%5C%2Fbr%3E4%203%201%201%3Cbr%3E%3C%5C%2Fbr%3E...%3Cbr%3E%3C%5C%2Fbr%3E%2A%2A.%3Cbr%3E%3C%5C%2Fbr%3EF%2A.%3Cbr%3E%3C%5C%2Fbr%3E...%3Cbr%3E%3C%5C%2Fbr%3E%60%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F811%5C%2FD%22%2C%22id%22%3A%22811D%22%7D%2C%22tags%22%3A%5B103%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF811D%22%2C%22title%22%3A%22Vladik%20and%20Favorite%20Game%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Vladik%20and%20Favorite%20Game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Vladik and Favorite Game</h1>
<h2>题目描述</h2>
<div>This is an interactive problem.
Vladik has favorite game, in which he plays all his free time.
Game field could be represented as $ n×m $ matrix which consists of cells of three types:
- «.» — normal cell, player can visit it.
- «F» — finish cell, player has to finish his way there to win. There is exactly one cell of this type.
- «\*» — dangerous cell, if player comes to this cell, he loses.
Initially player is located in the left top cell with coordinates $ (1,1) $ .
Player has access to $ 4 $ buttons "U", "D", "L", "R", each of them move player up, down, left and right directions respectively.
But it’s not that easy! Sometimes friends play game and change functions of buttons. Function of buttons "L" and "R" could have been swapped, also functions of buttons "U" and "D" could have been swapped. Note that functions of buttons can be changed only at the beginning of the game.
Help Vladik win the game!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line contains two space-separated integers $ n $ and $ m $ ( $ 1<=n,m<=100 $ ) — number of rows and columns respectively.
Each of next $ n $ lines contains $ m $ characters describing corresponding row of field. Set of characters in field is described above.
Guaranteed that cell with coordinates $ (1,1) $ is normal and there is at least one way from initial cell to finish cell without dangerous cells.</div>
<h3>输出格式</h3>
<br />
<div>You can press buttons no more than $ 2·n·m $ times.
To press a button you should print "U", "D", "L", "R" in new line. It’s necessary to print newline character and flush output. After flushing buffer you should read answer from input data. Answer is the pair of space-separated integers $ x $ , $ y $ — new position of player. In case, if there is no cell in direction of moving, position will not change. If after any move player lost, in other words player move to dangerous cell, then $ x $ and $ y $ will be equal to $ -1 $ .
If after any move player is in finish or dangerous cell, then you should terminate your program.
To finish output buffer (i. e. for operation flush) right after printing direction and newline you should do next:
- fflush(stdout) in C++
- System.out.flush() in Java
- stdout.flush() in Python
- flush(output) in Pascal
- read documentation for other languages.
Hacks
To perform a hack you should use this format:
`<br></br>n m swapLR swapUD <br></br>a_1 <br></br>a_2 <br></br>... <br></br>a_n<br></br>`Where $ n $ , $ m $ — number of rows and columns in game field. $ swapLR $ is equal to $ 1 $ in case, when directions "L’’ and "R’’ is swapped, and equal to $ 0 $ otherwise. $ swapUD $ is equal to $ 1 $ , when directions "U’’ and "D’’ is swapped, and equal to $ 0 $ otherwise. $ a_{1},a_{2},...,a_{n} $ — description of corresponding rows of game field.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 3
...
**.
F*.
...
1 1
1 2
1 3
1 3
2 3
3 3
4 3
4 2
4 1
3 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>R
L
L
D
U
U
U
R
R
D
</code></pre>
<h2>说明</h2>
<div>In first test case all four directions swapped with their opposite directions. Protocol of interaction In more convenient form:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF811D/950006bce8e634504ab933f77783747c37b83110.png)
This test could be presenter for hack in following way:
`<br></br>4 3 1 1<br></br>...<br></br>**.<br></br>F*.<br></br>...<br></br>`</div>
</article>
</div>
</div>
</body>
</html>
