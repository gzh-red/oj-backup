<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Matching vs Independent Set - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573402975:J1ZS7E2kvF7XscgWaLv7E79rZXH7DdhIQNTztuvED3I=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20a%20graph%20with%20%24%203%20%5C%5Ccdot%20n%20%24%20vertices%20and%20%24%20m%20%24%20edges.%20You%20are%20to%20find%20a%20matching%20of%20%24%20n%20%24%20edges%2C%20or%20an%20independent%20set%20of%20%24%20n%20%24%20vertices.%5Cn%5CnA%20set%20of%20edges%20is%20called%20a%20matching%20if%20no%20two%20edges%20share%20an%20endpoint.%5Cn%5CnA%20set%20of%20vertices%20is%20called%20an%20independent%20set%20if%20no%20two%20vertices%20are%20connected%20with%20an%20edge.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20T%20%5C%5Cge%201%20%24%20%5Cu2014%20the%20number%20of%20graphs%20you%20need%20to%20process.%20The%20description%20of%20%24%20T%20%24%20graphs%20follows.%5Cn%5CnThe%20first%20line%20of%20description%20of%20a%20single%20graph%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%2C%20where%20%24%203%20%5C%5Ccdot%20n%20%24%20is%20the%20number%20of%20vertices%2C%20and%20%24%20m%20%24%20is%20the%20number%20of%20edges%20in%20the%20graph%20%28%20%24%201%20%5C%5Cleq%20n%20%5C%5Cleq%2010%5E%7B5%7D%20%24%20%2C%20%24%200%20%5C%5Cleq%20m%20%5C%5Cleq%205%20%5C%5Ccdot%2010%5E%7B5%7D%20%24%20%29.%5Cn%5CnEach%20of%20the%20next%20%24%20m%20%24%20lines%20contains%20two%20integers%20%24%20v_i%20%24%20and%20%24%20u_i%20%24%20%28%20%24%201%20%5C%5Cleq%20v_i%2C%20u_i%20%5C%5Cleq%203%20%5C%5Ccdot%20n%20%24%20%29%2C%20meaning%20that%20there%20is%20an%20edge%20between%20vertices%20%24%20v_i%20%24%20and%20%24%20u_i%20%24%20.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20are%20no%20self-loops%20and%20no%20multiple%20edges%20in%20the%20graph.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20sum%20of%20all%20%24%20n%20%24%20over%20all%20graphs%20in%20a%20single%20test%20does%20not%20exceed%20%24%2010%5E%7B5%7D%20%24%20%2C%20and%20the%20sum%20of%20all%20%24%20m%20%24%20over%20all%20graphs%20in%20a%20single%20test%20does%20not%20exceed%20%24%205%20%5C%5Ccdot%2010%5E%7B5%7D%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20your%20answer%20for%20each%20of%20the%20%24%20T%20%24%20graphs.%20Output%20your%20answer%20for%20a%20single%20graph%20in%20the%20following%20format.%5Cn%5CnIf%20you%20found%20a%20matching%20of%20size%20%24%20n%20%24%20%2C%20on%20the%20first%20line%20print%20%5C%22Matching%5C%22%20%28without%20quotes%29%2C%20and%20on%20the%20second%20line%20print%20%24%20n%20%24%20integers%20%5Cu2014%20the%20indices%20of%20the%20edges%20in%20the%20matching.%20The%20edges%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20m%20%24%20in%20the%20input%20order.%5Cn%5CnIf%20you%20found%20an%20independent%20set%20of%20size%20%24%20n%20%24%20%2C%20on%20the%20first%20line%20print%20%5C%22IndSet%5C%22%20%28without%20quotes%29%2C%20and%20on%20the%20second%20line%20print%20%24%20n%20%24%20integers%20%5Cu2014%20the%20indices%20of%20the%20vertices%20in%20the%20independent%20set.%5Cn%5CnIf%20there%20is%20no%20matching%20and%20no%20independent%20set%20of%20the%20specified%20size%2C%20print%20%5C%22Impossible%5C%22%20%28without%20quotes%29.%5Cn%5CnYou%20can%20print%20edges%20and%20vertices%20in%20any%20order.%5Cn%5CnIf%20there%20are%20several%20solutions%2C%20print%20any.%20In%20particular%2C%20if%20there%20are%20both%20a%20matching%20of%20size%20%24%20n%20%24%20%2C%20and%20an%20independent%20set%20of%20size%20%24%20n%20%24%20%2C%20then%20you%20should%20print%20exactly%20one%20of%20such%20matchings%20or%20exactly%20one%20of%20such%20independent%20sets.%22%2C%22samples%22%3A%5B%5B%22%5Cn4%5Cn1%202%5Cn1%203%5Cn1%202%5Cn1%202%5Cn1%203%5Cn1%202%5Cn2%205%5Cn1%202%5Cn3%201%5Cn1%204%5Cn5%201%5Cn1%206%5Cn2%2015%5Cn1%202%5Cn1%203%5Cn1%204%5Cn1%205%5Cn1%206%5Cn2%203%5Cn2%204%5Cn2%205%5Cn2%206%5Cn3%204%5Cn3%205%5Cn3%206%5Cn4%205%5Cn4%206%5Cn5%206%5Cn%22%2C%22%5CnMatching%5Cn2%5CnIndSet%5Cn1%5CnIndSet%5Cn2%204%5CnMatching%5Cn1%2015%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20first%20two%20graphs%20are%20same%2C%20and%20there%20are%20both%20a%20matching%20of%20size%201%20and%20an%20independent%20set%20of%20size%201.%20Any%20of%20these%20matchings%20and%20independent%20sets%20is%20a%20correct%20answer.%5Cn%5CnThe%20third%20graph%20does%20not%20have%20a%20matching%20of%20size%202%2C%20however%2C%20there%20is%20an%20independent%20set%20of%20size%202.%20Moreover%2C%20there%20is%20an%20independent%20set%20of%20size%205%3A%202%203%204%205%206.%20However%20such%20answer%20is%20not%20correct%2C%20because%20you%20are%20asked%20to%20find%20an%20independent%20set%20%28or%20matching%29%20of%20size%20exactly%20%24%20n%20%24%20.%5Cn%5CnThe%20fourth%20graph%20does%20not%20have%20an%20independent%20set%20of%20size%202%2C%20but%20there%20is%20a%20matching%20of%20size%202.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1198%5C%2FC%22%2C%22id%22%3A%221198C%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4e00%5Cu4e2a%5Cu65e0%5Cu5411%5Cu56fe%5Cuff0c%243%5C%5Ctimes%20n%24%20%5Cu4e2a%5Cu70b9%5Cuff0c%20%24m%24%20%5Cu6761%5Cu8fb9%5Cuff0c%5Cu8bf7%5Cu627e%5Cu5927%5Cu5c0f%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu70b9%5Cu72ec%5Cu7acb%5Cu96c6%5Cu6216%5Cu8fb9%5Cu72ec%5Cu7acb%5Cu96c6%5Cu3002%5Cr%5Cn%5Cr%5Cn----%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20%24T%24%20%5Cu8868%5Cu793a%5Cu6570%5Cu636e%5Cu7ec4%5Cu6570%5Cr%5Cn%5Cr%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu7ec4%5Cu6570%5Cu636e%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%20%24n%2Cm%24%20%5Cu63a5%5Cu4e0b%5Cu6765%20%24m%24%20%5Cu884c%5Cu6bcf%5Cu884c%20%24u%2Cv%24%5Cuff0c%5Cu4fdd%5Cu8bc1%20%24%5C%5Csum%20n%5C%5Cle%2010%5E5%2C%20%5C%5Csum%20m%5C%5Cle%205%5C%5Ctimes%2010%5E5%24%5Cr%5Cn%5Cr%5Cn%5Cu5bf9%5Cu6bcf%5Cu7ec4%5Cu6570%5Cu636e%5Cuff0c%5Cu82e5%5Cu5b58%5Cu5728%5Cu70b9%5Cu72ec%5Cu7acb%5Cu96c6%5Cuff0c%5Cu8f93%5Cu51fa%20%60%60IndSet%60%60%5Cuff0c%5Cu5e76%5Cu5728%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fa%20%24n%24%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu70b9%5Cu7684%5Cu7f16%5Cu53f7%5Cr%5Cn%5Cr%5Cn%5Cu82e5%5Cu5b58%5Cu5728%5Cu8fb9%5Cu72ec%5Cu7acb%5Cu96c6%5Cuff0c%5Cu8f93%5Cu51fa%20%60%60Matching%60%60%5Cuff0c%5Cu5e76%5Cu5728%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fa%20%24n%24%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu8fb9%5Cu7684%5Cu7f16%5Cu53f7%5Cr%5Cn%5Cr%5Cn%5Cu82e5%5Cu90fd%5Cu4e0d%5Cu5b58%5Cu5728%5Cuff0c%5Cu8f93%5Cu51fa%20%60%60Impossible%60%60%5Cr%5Cn%5Cr%5Cn%5Cu82e5%5Cu90fd%5Cu5b58%5Cu5728%5Cuff0c%5Cu8f93%5Cu51fa%5Cu70b9%5Cu72ec%5Cu7acb%5Cu96c6%2A%2A%5Cu6216%5Cu8005%2A%2A%5Cu8fb9%5Cu72ec%5Cu7acb%5Cu96c6%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu7684%5Cu7f16%5Cu53f7%5Cu53ef%5Cu4ee5%5Cu6309%5Cu4efb%5Cu610f%5Cu987a%5Cu5e8f%5Cuff0c%5Cu5982%5Cu679c%5Cu6709%5Cu591a%5Cu79cd%5Cu65b9%5Cu6848%5Cu8f93%5Cu51fa%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu3002%5Cr%5Cn%5Cr%5Cn----%5Cr%5Cn%5Cr%5CnAiming_High%20%5Cu592a%5Cu5f3a%5Cu4e86%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A151%2C%22totalAccepted%22%3A67%2C%22pid%22%3A%22CF1198C%22%2C%22title%22%3A%22Matching%20vs%20Independent%20Set%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A130976%2C%22title%22%3A%22%5Cu840c%5Cu65b0%5Cu59b9%5Cu5b50%5Cu518d%5Cu6b21%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A38757%2C%22name%22%3A%22CF1198C%20Matching%20vs%20Independent%20Set%22%2C%22slug%22%3A%22CF1198C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1190B%22%2C%22title%22%3A%22Tokitsukaze%2C%20CSL%20and%20Stone%20Game%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1198F%22%2C%22title%22%3A%22GCD%20Groups%202%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1198D%22%2C%22title%22%3A%22Rectangle%20Painting%201%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1198B%22%2C%22title%22%3A%22Welfare%20State%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1198A%22%2C%22title%22%3A%22MP3%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Matching%20vs%20Independent%20Set%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Matching vs Independent Set</h1>
<h2>题意翻译</h2>
<div>给一个无向图，$3\times n$ 个点， $m$ 条边，请找大小为 $n$ 的点独立集或边独立集。
----
第一行一个整数 $T$ 表示数据组数
对于每组数据第一行两个整数 $n,m$ 接下来 $m$ 行每行 $u,v$，保证 $\sum n\le 10^5, \sum m\le 5\times 10^5$
对每组数据，若存在点独立集，输出 ``IndSet``，并在接下来的一行输出 $n$ 个整数，表示点的编号
若存在边独立集，输出 ``Matching``，并在接下来的一行输出 $n$ 个整数，表示边的编号
若都不存在，输出 ``Impossible``
若都存在，输出点独立集**或者**边独立集
输出的编号可以按任意顺序，如果有多种方案输出任意一个。
----
Aiming_High 太强了</div>
<h2>题目描述</h2>
<div>You are given a graph with $ 3 \cdot n $ vertices and $ m $ edges. You are to find a matching of $ n $ edges, or an independent set of $ n $ vertices.
A set of edges is called a matching if no two edges share an endpoint.
A set of vertices is called an independent set if no two vertices are connected with an edge.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ T \ge 1 $ — the number of graphs you need to process. The description of $ T $ graphs follows.
The first line of description of a single graph contains two integers $ n $ and $ m $ , where $ 3 \cdot n $ is the number of vertices, and $ m $ is the number of edges in the graph ( $ 1 \leq n \leq 10^{5} $ , $ 0 \leq m \leq 5 \cdot 10^{5} $ ).
Each of the next $ m $ lines contains two integers $ v_i $ and $ u_i $ ( $ 1 \leq v_i, u_i \leq 3 \cdot n $ ), meaning that there is an edge between vertices $ v_i $ and $ u_i $ .
It is guaranteed that there are no self-loops and no multiple edges in the graph.
It is guaranteed that the sum of all $ n $ over all graphs in a single test does not exceed $ 10^{5} $ , and the sum of all $ m $ over all graphs in a single test does not exceed $ 5 \cdot 10^{5} $ .</div>
<h3>输出格式</h3>
<br />
<div>Print your answer for each of the $ T $ graphs. Output your answer for a single graph in the following format.
If you found a matching of size $ n $ , on the first line print "Matching" (without quotes), and on the second line print $ n $ integers — the indices of the edges in the matching. The edges are numbered from $ 1 $ to $ m $ in the input order.
If you found an independent set of size $ n $ , on the first line print "IndSet" (without quotes), and on the second line print $ n $ integers — the indices of the vertices in the independent set.
If there is no matching and no independent set of the specified size, print "Impossible" (without quotes).
You can print edges and vertices in any order.
If there are several solutions, print any. In particular, if there are both a matching of size $ n $ , and an independent set of size $ n $ , then you should print exactly one of such matchings or exactly one of such independent sets.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
4
1 2
1 3
1 2
1 2
1 3
1 2
2 5
1 2
3 1
1 4
5 1
1 6
2 15
1 2
1 3
1 4
1 5
1 6
2 3
2 4
2 5
2 6
3 4
3 5
3 6
4 5
4 6
5 6
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
Matching
2
IndSet
1
IndSet
2 4
Matching
1 15
</code></pre>
<h2>说明</h2>
<div>The first two graphs are same, and there are both a matching of size 1 and an independent set of size 1. Any of these matchings and independent sets is a correct answer.
The third graph does not have a matching of size 2, however, there is an independent set of size 2. Moreover, there is an independent set of size 5: 2 3 4 5 6. However such answer is not correct, because you are asked to find an independent set (or matching) of size exactly $ n $ .
The fourth graph does not have an independent set of size 2, but there is a matching of size 2.</div>
</article>
</div>
</div>
</body>
</html>
