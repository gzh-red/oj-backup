<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Facetook Priority Wall - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390584:9hiOqpQi0EsMrC14xDI1JJsDX/4ZCOx/QZ8hABalh6o=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Facetook%20is%20a%20well%20known%20social%20network%20website%2C%20and%20it%20will%20launch%20a%20new%20feature%20called%20Facetook%20Priority%20Wall.%20This%20feature%20will%20sort%20all%20posts%20from%20your%20friends%20according%20to%20the%20priority%20factor%20%28it%20will%20be%20described%29.%5Cn%5CnThis%20priority%20factor%20will%20be%20affected%20by%20three%20types%20of%20actions%3A%5Cn%5Cn-%201.%20%5C%22%20%24%20X%20%24%20posted%20on%20%24%20Y%20%24%20%27s%20wall%5C%22%20%2815%20points%29%2C%5Cn-%202.%20%5C%22%20%24%20X%20%24%20commented%20on%20%24%20Y%20%24%20%27s%20post%5C%22%20%2810%20points%29%2C%5Cn-%203.%20%5C%22%20%24%20X%20%24%20likes%20%24%20Y%20%24%20%27s%20post%5C%22%20%285%20points%29.%5Cn%5Cn%20%24%20X%20%24%20and%20%24%20Y%20%24%20will%20be%20two%20distinct%20names.%20And%20each%20action%20will%20increase%20the%20priority%20factor%20between%20%24%20X%20%24%20and%20%24%20Y%20%24%20%28and%20vice%20versa%29%20by%20the%20above%20value%20of%20points%20%28the%20priority%20factor%20between%20%24%20X%20%24%20and%20%24%20Y%20%24%20is%20the%20same%20as%20the%20priority%20factor%20between%20%24%20Y%20%24%20and%20%24%20X%20%24%20%29.%5Cn%5CnYou%20will%20be%20given%20%24%20n%20%24%20actions%20with%20the%20above%20format%20%28without%20the%20action%20number%20and%20the%20number%20of%20points%29%2C%20and%20you%20have%20to%20print%20all%20the%20distinct%20names%20in%20these%20actions%20sorted%20according%20to%20the%20priority%20factor%20with%20you.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20your%20name.%20The%20second%20line%20contains%20an%20integer%20%24%20n%20%24%20%2C%20which%20is%20the%20number%20of%20actions%20%28%20%24%201%3C%3Dn%3C%3D100%20%24%20%29.%20Then%20%24%20n%20%24%20lines%20follow%2C%20it%20is%20guaranteed%20that%20each%20one%20contains%20exactly%201%20action%20in%20the%20format%20given%20above.%20There%20is%20exactly%20one%20space%20between%20each%20two%20words%20in%20a%20line%2C%20and%20there%20are%20no%20extra%20spaces.%20All%20the%20letters%20are%20lowercase.%20All%20names%20in%20the%20input%20will%20consist%20of%20at%20least%201%20letter%20and%20at%20most%2010%20small%20Latin%20letters.%22%2C%22outputFormat%22%3A%22Print%20%24%20m%20%24%20lines%2C%20where%20%24%20m%20%24%20is%20the%20number%20of%20distinct%20names%20in%20the%20input%20%28excluding%20yourself%29.%20Each%20line%20should%20contain%20just%201%20name.%20The%20names%20should%20be%20sorted%20according%20to%20the%20priority%20factor%20with%20you%20in%20the%20descending%20order%20%28the%20highest%20priority%20factor%20should%20come%20first%29.%20If%20two%20or%20more%20names%20have%20the%20same%20priority%20factor%2C%20print%20them%20in%20the%20alphabetical%20%28lexicographical%29%20order.%5Cn%5CnNote%2C%20that%20you%20should%20output%20all%20the%20names%20that%20are%20present%20in%20the%20input%20data%20%28excluding%20yourself%29%2C%20even%20if%20that%20person%20has%20a%20zero%20priority%20factor.%5Cn%5CnThe%20lexicographical%20comparison%20is%20performed%20by%20the%20standard%20%5C%22%3C%5C%22%20operator%20in%20modern%20programming%20languages.%20The%20line%20%24%20a%20%24%20is%20lexicographically%20smaller%20than%20the%20line%20%24%20b%20%24%20%2C%20if%20either%20%24%20a%20%24%20is%20the%20prefix%20of%20%24%20b%20%24%20%2C%20or%20if%20exists%20such%20an%20%24%20i%20%24%20%28%20%24%201%3C%3Di%3C%3Dmin%28%7Ca%7C%2C%7Cb%7C%29%20%24%20%29%2C%20that%20%24%20a_%7Bi%7D%26lt%3Bb_%7Bi%7D%20%24%20%2C%20and%20for%20any%20%24%20j%20%24%20%28%20%24%201%3C%3Dj%26lt%3Bi%20%24%20%29%20%24%20a_%7Bj%7D%3Db_%7Bj%7D%20%24%20%2C%20where%20%24%20%7Ca%7C%20%24%20and%20%24%20%7Cb%7C%20%24%20stand%20for%20the%20lengths%20of%20strings%20%24%20a%20%24%20and%20%24%20b%20%24%20correspondently.%22%2C%22samples%22%3A%5B%5B%22ahmed%5Cn3%5Cnahmed%20posted%20on%20fatma%27s%20wall%5Cnfatma%20commented%20on%20ahmed%27s%20post%5Cnmona%20likes%20ahmed%27s%20post%5Cn%22%2C%22fatma%5Cnmona%5Cn%22%5D%2C%5B%22aba%5Cn1%5Cnlikes%20likes%20posted%27s%20post%5Cn%22%2C%22likes%5Cnposted%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F75%5C%2FB%22%2C%22id%22%3A%2275B%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A58%2C%22totalAccepted%22%3A23%2C%22pid%22%3A%22CF75B%22%2C%22title%22%3A%22Facetook%20Priority%20Wall%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF659E%22%2C%22title%22%3A%22New%20Reform%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF156B%22%2C%22title%22%3A%22Suspects%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF106B%22%2C%22title%22%3A%22Choosing%20Laptop%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF88B%22%2C%22title%22%3A%22Keyboard%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22AT2334%22%2C%22title%22%3A%22Menagerie%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22AT%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Facetook%20Priority%20Wall%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Facetook Priority Wall</h1>
<h2>题目描述</h2>
<div>Facetook is a well known social network website, and it will launch a new feature called Facetook Priority Wall. This feature will sort all posts from your friends according to the priority factor (it will be described).
This priority factor will be affected by three types of actions:
- 1. " $ X $ posted on $ Y $ 's wall" (15 points),
- 2. " $ X $ commented on $ Y $ 's post" (10 points),
- 3. " $ X $ likes $ Y $ 's post" (5 points).
$ X $ and $ Y $ will be two distinct names. And each action will increase the priority factor between $ X $ and $ Y $ (and vice versa) by the above value of points (the priority factor between $ X $ and $ Y $ is the same as the priority factor between $ Y $ and $ X $ ).
You will be given $ n $ actions with the above format (without the action number and the number of points), and you have to print all the distinct names in these actions sorted according to the priority factor with you.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains your name. The second line contains an integer $ n $ , which is the number of actions ( $ 1<=n<=100 $ ). Then $ n $ lines follow, it is guaranteed that each one contains exactly 1 action in the format given above. There is exactly one space between each two words in a line, and there are no extra spaces. All the letters are lowercase. All names in the input will consist of at least 1 letter and at most 10 small Latin letters.</div>
<h3>输出格式</h3>
<br />
<div>Print $ m $ lines, where $ m $ is the number of distinct names in the input (excluding yourself). Each line should contain just 1 name. The names should be sorted according to the priority factor with you in the descending order (the highest priority factor should come first). If two or more names have the same priority factor, print them in the alphabetical (lexicographical) order.
Note, that you should output all the names that are present in the input data (excluding yourself), even if that person has a zero priority factor.
The lexicographical comparison is performed by the standard "<" operator in modern programming languages. The line $ a $ is lexicographically smaller than the line $ b $ , if either $ a $ is the prefix of $ b $ , or if exists such an $ i $ ( $ 1<=i<=min(|a|,|b|) $ ), that $ a_{i}&lt;b_{i} $ , and for any $ j $ ( $ 1<=j&lt;i $ ) $ a_{j}=b_{j} $ , where $ |a| $ and $ |b| $ stand for the lengths of strings $ a $ and $ b $ correspondently.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>ahmed
3
ahmed posted on fatma&#039;s wall
fatma commented on ahmed&#039;s post
mona likes ahmed&#039;s post
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>fatma
mona
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>aba
1
likes likes posted&#039;s post
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>likes
posted
</code></pre>
</article>
</div>
</div>
</body>
</html>
