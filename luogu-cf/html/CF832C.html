<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Strange Radiation - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573398382:8i5cpvhJ0ZT9lwk/RGAwRvIzml7qdPZ5jeWVfHS8WsE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%20%24%20n%20%24%20people%20are%20standing%20on%20a%20coordinate%20axis%20in%20points%20with%20positive%20integer%20coordinates%20strictly%20less%20than%20%24%2010%5E%7B6%7D%20%24%20.%20For%20each%20person%20we%20know%20in%20which%20direction%20%28left%20or%20right%29%20he%20is%20facing%2C%20and%20his%20maximum%20speed.%5Cn%5CnYou%20can%20put%20a%20bomb%20in%20some%20point%20with%20non-negative%20integer%20coordinate%2C%20and%20blow%20it%20up.%20At%20this%20moment%20all%20people%20will%20start%20running%20with%20their%20maximum%20speed%20in%20the%20direction%20they%20are%20facing.%20Also%2C%20two%20strange%20rays%20will%20start%20propagating%20from%20the%20bomb%20with%20speed%20%24%20s%20%24%20%3A%20one%20to%20the%20right%2C%20and%20one%20to%20the%20left.%20Of%20course%2C%20the%20speed%20%24%20s%20%24%20is%20strictly%20greater%20than%20people%27s%20maximum%20speed.%5Cn%5CnThe%20rays%20are%20strange%20because%20if%20at%20any%20moment%20the%20position%20and%20the%20direction%20of%20movement%20of%20some%20ray%20and%20some%20person%20coincide%2C%20then%20the%20speed%20of%20the%20person%20immediately%20increases%20by%20the%20speed%20of%20the%20ray.%5Cn%5CnYou%20need%20to%20place%20the%20bomb%20is%20such%20a%20point%20that%20the%20minimum%20time%20moment%20in%20which%20there%20is%20a%20person%20that%20has%20run%20through%20point%20%24%200%20%24%20%2C%20and%20there%20is%20a%20person%20that%20has%20run%20through%20point%20%24%2010%5E%7B6%7D%20%24%20%2C%20is%20as%20small%20as%20possible.%20In%20other%20words%2C%20find%20the%20minimum%20time%20moment%20%24%20t%20%24%20such%20that%20there%20is%20a%20point%20you%20can%20place%20the%20bomb%20to%20so%20that%20at%20time%20moment%20%24%20t%20%24%20some%20person%20has%20run%20through%20%24%200%20%24%20%2C%20and%20some%20person%20has%20run%20through%20point%20%24%2010%5E%7B6%7D%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20s%20%24%20%28%20%24%202%3C%3Dn%3C%3D10%5E%7B5%7D%20%24%20%2C%20%24%202%3C%3Ds%3C%3D10%5E%7B6%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20people%20and%20the%20rays%27%20speed.%5Cn%5CnThe%20next%20%24%20n%20%24%20lines%20contain%20the%20description%20of%20people.%20The%20%24%20i%20%24%20-th%20of%20these%20lines%20contains%20three%20integers%20%24%20x_%7Bi%7D%20%24%20%2C%20%24%20v_%7Bi%7D%20%24%20and%20%24%20t_%7Bi%7D%20%24%20%28%20%24%200%26lt%3Bx_%7Bi%7D%26lt%3B10%5E%7B6%7D%20%24%20%2C%20%24%201%3C%3Dv_%7Bi%7D%26lt%3Bs%20%24%20%2C%20%24%201%3C%3Dt_%7Bi%7D%3C%3D2%20%24%20%29%20%5Cu2014%20the%20coordinate%20of%20the%20%24%20i%20%24%20-th%20person%20on%20the%20line%2C%20his%20maximum%20speed%20and%20the%20direction%20he%20will%20run%20to%20%28%20%24%201%20%24%20is%20to%20the%20left%2C%20i.e.%20in%20the%20direction%20of%20coordinate%20decrease%2C%20%24%202%20%24%20is%20to%20the%20right%2C%20i.e.%20in%20the%20direction%20of%20coordinate%20increase%29%2C%20respectively.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20points%20%24%200%20%24%20and%20%24%2010%5E%7B6%7D%20%24%20will%20be%20reached%20independently%20of%20the%20bomb%27s%20position.%22%2C%22outputFormat%22%3A%22Print%20the%20minimum%20time%20needed%20for%20both%20points%20%24%200%20%24%20and%20%24%2010%5E%7B6%7D%20%24%20to%20be%20reached.%5Cn%5CnYour%20answer%20is%20considered%20correct%20if%20its%20absolute%20or%20relative%20error%20doesn%27t%20exceed%20%24%2010%5E%7B-6%7D%20%24%20.%20Namely%2C%20if%20your%20answer%20is%20%24%20a%20%24%20%2C%20and%20the%20jury%27s%20answer%20is%20%24%20b%20%24%20%2C%20then%20your%20answer%20is%20accepted%2C%20if%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF832C%5C%2F67bc3119d4422d5f5d06ffa95a1fb9753f3e40d8.png%29.%22%2C%22samples%22%3A%5B%5B%222%20999%5Cn400000%201%202%5Cn500000%201%201%5Cn%22%2C%22500000.000000000000000000000000000000%5Cn%22%5D%2C%5B%222%201000%5Cn400000%20500%201%5Cn600000%20500%202%5Cn%22%2C%22400.000000000000000000000000000000%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20it%20is%20optimal%20to%20place%20the%20bomb%20at%20a%20point%20with%20a%20coordinate%20of%20%24%20400000%20%24%20.%20Then%20at%20time%20%24%200%20%24%20%2C%20the%20speed%20of%20the%20first%20person%20becomes%20%24%201000%20%24%20and%20he%20reaches%20the%20point%20%24%2010%5E%7B6%7D%20%24%20at%20the%20time%20%24%20600%20%24%20.%20The%20bomb%20will%20not%20affect%20on%20the%20second%20person%2C%20and%20he%20will%20reach%20the%20%24%200%20%24%20point%20at%20the%20time%20%24%20500000%20%24%20.%5Cn%5CnIn%20the%20second%20example%2C%20it%20is%20optimal%20to%20place%20the%20bomb%20at%20the%20point%20%24%20500000%20%24%20.%20The%20rays%20will%20catch%20up%20with%20both%20people%20at%20the%20time%20%24%20200%20%24%20.%20At%20this%20time%20moment%2C%20the%20first%20is%20at%20the%20point%20with%20a%20coordinate%20of%20%24%20300000%20%24%20%2C%20and%20the%20second%20is%20at%20the%20point%20with%20a%20coordinate%20of%20%24%20700000%20%24%20.%20Their%20speed%20will%20become%20%24%201500%20%24%20and%20at%20the%20time%20%24%20400%20%24%20they%20will%20simultaneously%20run%20through%20points%20%24%200%20%24%20and%20%24%2010%5E%7B6%7D%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F832%5C%2FC%22%2C%22id%22%3A%22832C%22%7D%2C%22translation%22%3A%22%5Cu4f60%5Cu6709%5Cu4e00%5Cu4e2a%5Cu70b8%5Cu5f39%5Cuff0c%5Cu901f%5Cu5ea6%5Cu6bd4%5Cu4eba%5Cu5feb%5Cu3002%5Cu70b8%5Cu5f39%5Cu6c14%5Cu6d41%5Cu4ece%5Cu7206%5Cu70b8%5Cu4f4d%5Cu7f6e%5Cu4ee5%5Cu901f%5Cu5ea6s%5Cu5411%5Cu5de6%5Cu53f3%5Cu4e24%5Cu8fb9%5Cu98de%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4e00%5Cu7ef4%5Cu5750%5Cu6807%5Cu3002%5Cu7ed9%5Cu4f60n%5Cu4e2a%5Cu4eba%5Cu7684%5Cu5750%5Cu6807x%5Cu3001%5Cu8d70%5Cu5411dir%5Cu3001%5Cu901f%5Cu5ea6v%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5f53%5Cu70b8%5Cu5f39%5Cu548c%5Cu4eba%5Cu91cd%5Cu53e0%5Cu4e14%5Cu540c%5Cu5411%5Cu7684%5Cu65f6%5Cu5019%5Cuff0c%5Cu4eba%5Cu7684%5Cu901f%5Cu5ea6%5Cu53d8%5Cu4e3av%2Bs%5Cuff0c%5Cu4e0d%5Cu8003%5Cu8651%5Cu9006%5Cu6c14%5Cu6d41%5Cu7684%5Cu5f71%5Cu54cd%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8ba9%5Cu4f60%5Cu5728%5B0%2C%201e6%5D%5Cu7684%5Cu8303%5Cu56f4%5Cu5185%5Cu653e%5Cu7f6e%5Cu70b8%5Cu5f39%5Cuff0c%5Cu82b1%5Cu6700%5Cu5c11%5Cu7684%5Cu65f6%5Cu95f4%5Cu4f7f%5Cu5f97%5Cu81f3%5Cu5c11%5Cu6709%5Cu4e00%5Cu4e2a%5Cu8d70%5Cu5230%5Cu4f4d%5Cu7f6e0%5Cuff0c%5Cu8fd8%5Cu6709%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu8d70%5Cu5230%5Cu4f4d%5Cu7f6e1e6%5Cu3002%5Cu6c42%5Cu6700%5Cu5c11%5Cu65f6%5Cu95f4%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A19%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22CF832C%22%2C%22title%22%3A%22Strange%20Radiation%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Strange%20Radiation%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Strange Radiation</h1>
<h2>题意翻译</h2>
<div>你有一个炸弹，速度比人快。炸弹气流从爆炸位置以速度s向左右两边飞。
一维坐标。给你n个人的坐标x、走向dir、速度v。
当炸弹和人重叠且同向的时候，人的速度变为v+s，不考虑逆气流的影响。
让你在[0, 1e6]的范围内放置炸弹，花最少的时间使得至少有一个走到位置0，还有一个人走到位置1e6。求最少时间。</div>
<h2>题目描述</h2>
<div> $ n $ people are standing on a coordinate axis in points with positive integer coordinates strictly less than $ 10^{6} $ . For each person we know in which direction (left or right) he is facing, and his maximum speed.
You can put a bomb in some point with non-negative integer coordinate, and blow it up. At this moment all people will start running with their maximum speed in the direction they are facing. Also, two strange rays will start propagating from the bomb with speed $ s $ : one to the right, and one to the left. Of course, the speed $ s $ is strictly greater than people's maximum speed.
The rays are strange because if at any moment the position and the direction of movement of some ray and some person coincide, then the speed of the person immediately increases by the speed of the ray.
You need to place the bomb is such a point that the minimum time moment in which there is a person that has run through point $ 0 $ , and there is a person that has run through point $ 10^{6} $ , is as small as possible. In other words, find the minimum time moment $ t $ such that there is a point you can place the bomb to so that at time moment $ t $ some person has run through $ 0 $ , and some person has run through point $ 10^{6} $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ s $ ( $ 2<=n<=10^{5} $ , $ 2<=s<=10^{6} $ ) — the number of people and the rays' speed.
The next $ n $ lines contain the description of people. The $ i $ -th of these lines contains three integers $ x_{i} $ , $ v_{i} $ and $ t_{i} $ ( $ 0&lt;x_{i}&lt;10^{6} $ , $ 1<=v_{i}&lt;s $ , $ 1<=t_{i}<=2 $ ) — the coordinate of the $ i $ -th person on the line, his maximum speed and the direction he will run to ( $ 1 $ is to the left, i.e. in the direction of coordinate decrease, $ 2 $ is to the right, i.e. in the direction of coordinate increase), respectively.
It is guaranteed that the points $ 0 $ and $ 10^{6} $ will be reached independently of the bomb's position.</div>
<h3>输出格式</h3>
<br />
<div>Print the minimum time needed for both points $ 0 $ and $ 10^{6} $ to be reached.
Your answer is considered correct if its absolute or relative error doesn't exceed $ 10^{-6} $ . Namely, if your answer is $ a $ , and the jury's answer is $ b $ , then your answer is accepted, if ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF832C/67bc3119d4422d5f5d06ffa95a1fb9753f3e40d8.png).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 999
400000 1 2
500000 1 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>500000.000000000000000000000000000000
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2 1000
400000 500 1
600000 500 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>400.000000000000000000000000000000
</code></pre>
<h2>说明</h2>
<div>In the first example, it is optimal to place the bomb at a point with a coordinate of $ 400000 $ . Then at time $ 0 $ , the speed of the first person becomes $ 1000 $ and he reaches the point $ 10^{6} $ at the time $ 600 $ . The bomb will not affect on the second person, and he will reach the $ 0 $ point at the time $ 500000 $ .
In the second example, it is optimal to place the bomb at the point $ 500000 $ . The rays will catch up with both people at the time $ 200 $ . At this time moment, the first is at the point with a coordinate of $ 300000 $ , and the second is at the point with a coordinate of $ 700000 $ . Their speed will become $ 1500 $ and at the time $ 400 $ they will simultaneously run through points $ 0 $ and $ 10^{6} $ .</div>
</article>
</div>
</div>
</body>
</html>
