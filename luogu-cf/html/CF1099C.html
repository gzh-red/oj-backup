<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Postcard - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401643:ubIp14WURY0a6C2NyDLap1gr6hez21mmytnYX6JpSmw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Andrey%20received%20a%20postcard%20from%20Irina.%20It%20contained%20only%20the%20words%20%5C%22Hello%2C%20Andrey%21%5C%22%2C%20and%20a%20strange%20string%20consisting%20of%20lowercase%20Latin%20letters%2C%20snowflakes%20and%20candy%20canes.%20Andrey%20thought%20that%20this%20string%20is%20an%20encrypted%20message%2C%20and%20decided%20to%20decrypt%20it.%5Cn%5CnAndrey%20noticed%20that%20snowflakes%20and%20candy%20canes%20always%20stand%20after%20the%20letters%2C%20so%20he%20supposed%20that%20the%20message%20was%20encrypted%20as%20follows.%20Candy%20cane%20means%20that%20the%20letter%20before%20it%20can%20be%20removed%2C%20or%20can%20be%20left.%20A%20snowflake%20means%20that%20the%20letter%20before%20it%20can%20be%20removed%2C%20left%2C%20or%20repeated%20several%20times.%5Cn%5CnFor%20example%2C%20consider%20the%20following%20string%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1099C%5C%2F29c2aaaec4bcea3ed5c1b5a1ebd8cbd0c6df45f2.png%29This%20string%20can%20encode%20the%20message%20%5Cu00abhappynewyear%5Cu00bb.%20For%20this%2C%20candy%20canes%20and%20snowflakes%20should%20be%20used%20as%20follows%3A%5Cn%5Cn-%20candy%20cane%201%3A%20remove%20the%20letter%20w%2C%5Cn-%20snowflake%201%3A%20repeat%20the%20letter%20p%20twice%2C%5Cn-%20candy%20cane%202%3A%20leave%20the%20letter%20n%2C%5Cn-%20snowflake%202%3A%20remove%20the%20letter%20w%2C%5Cn-%20snowflake%203%3A%20leave%20the%20letter%20e.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1099C%5C%2F26482915a1d9df0d76c8d735f29de9bbb88caf58.png%29Please%20note%20that%20the%20same%20string%20can%20encode%20different%20messages.%20For%20example%2C%20the%20string%20above%20can%20encode%20%5Cu00abhayewyar%5Cu00bb%2C%20%5Cu00abhapppppynewwwwwyear%5Cu00bb%2C%20and%20other%20messages.%5Cn%5CnAndrey%20knows%20that%20messages%20from%20Irina%20usually%20have%20a%20length%20of%20%24%20k%20%24%20letters.%20Help%20him%20to%20find%20out%20if%20a%20given%20string%20can%20encode%20a%20message%20of%20%24%20k%20%24%20letters%2C%20and%20if%20so%2C%20give%20an%20example%20of%20such%20a%20message.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20the%20string%20received%20in%20the%20postcard.%20The%20string%20consists%20only%20of%20lowercase%20Latin%20letters%2C%20as%20well%20as%20the%20characters%20%5Cu00ab%5C%5C%2A%5Cu00bb%20and%20%5Cu00ab%3F%5Cu00bb%2C%20meaning%20snowflake%20and%20candy%20cone%2C%20respectively.%20These%20characters%20can%20only%20appear%20immediately%20after%20the%20letter.%20The%20length%20of%20the%20string%20does%20not%20exceed%20%24%20200%20%24%20.%5Cn%5CnThe%20second%20line%20contains%20an%20integer%20number%20%24%20k%20%24%20%28%20%24%201%20%5C%5Cleq%20k%20%5C%5Cleq%20200%20%24%20%29%2C%20the%20required%20message%20length.%22%2C%22outputFormat%22%3A%22Print%20any%20message%20of%20length%20%24%20k%20%24%20that%20the%20given%20string%20can%20encode%2C%20or%20%5Cu00abImpossible%5Cu00bb%20if%20such%20a%20message%20does%20not%20exist.%22%2C%22samples%22%3A%5B%5B%22%5Cnhw%3Fap%2Ayn%3Feww%2Aye%2Aar%5Cn12%5Cn%22%2C%22%5Cnhappynewyear%5Cn%22%5D%2C%5B%22%5Cnab%3Fa%5Cn2%5Cn%22%2C%22%5Cnaa%22%5D%2C%5B%22%5Cnab%3Fa%5Cn3%5Cn%22%2C%22%5Cnaba%22%5D%2C%5B%22%5Cnababb%5Cn5%5Cn%22%2C%22%5Cnababb%22%5D%2C%5B%22%5Cnab%3Fa%5Cn1%5Cn%22%2C%22%5CnImpossible%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1099%5C%2FC%22%2C%22id%22%3A%221099C%22%7D%2C%22translation%22%3A%22%23%23%20Description%5Cr%5Cn%5Cr%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu5305%5Cu542b%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cuff0c%5Cu5b57%5Cu7b26%20%27%3F%27%20%5Cu548c%5Cu5b57%5Cu7b26%20%5Cu2018%2A%5Cu2019%5Cu3002%5Cu4fdd%5Cu8bc1%5Cu4e0a%5Cu9762%5Cu4e24%5Cu79cd%5Cu7279%5Cu6b8a%5Cu5b57%5Cu7b26%5Cu82e5%5Cu51fa%5Cu73b0%5Cu5219%5Cu4e00%5Cu5b9a%5Cu51fa%5Cu73b0%5Cu5728%5Cu4e00%5Cu4e2a%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu7684%5Cu540e%5Cu9762%5Cu4e00%5Cu4f4d%5Cu3002%5Cu8981%5Cu6c42%5Cu6784%5Cu9020%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24k%24%20%5Cu7684%5Cu65b0%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu5b83%5Cu548c%5Cu539f%5Cu4e32%5Cu6709%5Cu5982%5Cu4e0b%5Cu5173%5Cu7cfb%5Cuff1a%5Cr%5Cn%5Cr%5Cn%3E%20%5Cu6309%5Cu7167%5Cu539f%5Cu4e32%5Cu7684%5Cu5b57%5Cu6bcd%5Cu987a%5Cu5e8f%5Cu5411%5Cu65b0%5Cu4e32%5Cu4e2d%5Cu586b%5Cu5145%5Cuff0c%5Cu65b0%5Cu4e32%5Cu4e2d%5Cu542b%5Cu4e14%5Cu4ec5%5Cu542b%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu3002%5Cr%5Cn%3E%5Cr%5Cn%3E%20%5Cu82e5%5Cu539f%5Cu4e32%5Cu7684%5Cu67d0%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu540e%5Cu6ca1%5Cu6709%5Cu7279%5Cu6b8a%5Cu5b57%5Cu7b26%5Cuff0c%5Cu5219%5Cu8fd9%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cu5728%5Cu65b0%5Cu4e32%5Cu4e2d%5Cu5fc5%5Cu987b%5Cu4fdd%5Cu7559%5Cr%5Cn%3E%5Cr%5Cn%3E%20%5Cu82e5%5Cu539f%5Cu4e32%5Cu7684%5Cu67d0%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu540e%5Cu6709%5Cu5b57%5Cu7b26%20%27%3F%27%5Cuff0c%5Cu5219%5Cu8fd9%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cu5728%5Cu65b0%5Cu4e32%5Cu4e2d%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu4fdd%5Cu7559%5Cuff0c%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu5220%5Cu9664%5Cr%5Cn%3E%5Cr%5Cn%3E%20%5Cu82e5%5Cu539f%5Cu4e32%5Cu67d0%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu540e%5Cu6709%5Cu5b57%5Cu7b26%20%27%2A%27%5Cuff0c%5Cu5219%5Cu8fd9%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cu5728%5Cu65b0%5Cu4e32%5Cu4e2d%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu4fdd%5Cu7559%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu5220%5Cu9664%5Cuff0c%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu590d%5Cu8bfb%5Cu5f88%5Cu591a%5Cu904d%5Cu3002%5Cr%5Cn%5Cr%5Cn%23%23%20Input%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu8f93%5Cu5165%5Cu5408%5Cu6cd5%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20%24k%24%20%5Cu4ee3%5Cu8868%5Cu8981%5Cu6c42%5Cu6784%5Cu9020%5Cu7684%5Cu65b0%5Cu4e32%5Cu957f%5Cu5ea6%5Cr%5Cn%5Cr%5Cn%23%23%20Output%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24k%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu4e3a%5Cu6784%5Cu9020%5Cu51fa%5Cu7684%5Cu4e32%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu82e5%5Cu4e0d%5Cu5b58%5Cu5728%5Cu8fd9%5Cu6837%5Cu7684%5Cu4e32%5Cuff0c%5Cu8f93%5Cu51fa%5Cu201cImpossible%5Cu201d%5Cuff08%5Cu4e0d%5Cu542b%5Cu5f15%5Cu53f7%5Cuff09%5Cr%5Cn%5Cr%5Cn%23%23%20Hint%5Cr%5Cn%5Cr%5Cn%241~%5C%5Cleq~n%2Ck~%5C%5Cleq~200%24%5Cr%5Cn%5Cr%5Cntranslated%20by%20%40%5Cu4e00%5Cu6276%5Cu82cf%5Cu4e00%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A103%2C%22totalAccepted%22%3A54%2C%22pid%22%3A%22CF1099C%22%2C%22title%22%3A%22Postcard%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1097C%22%2C%22title%22%3A%22Yuhao%20and%20a%20Parenthesis%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1099F%22%2C%22title%22%3A%22Cookies%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1098B%22%2C%22title%22%3A%22Nice%20table%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1098A%22%2C%22title%22%3A%22Sum%20in%20the%20tree%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1244A%22%2C%22title%22%3A%22Pens%20and%20Pencils%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Postcard%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Postcard</h1>
<h2>题意翻译</h2>
<div>## Description
给定一个长度为 $n$ 的字符串，尽可能包含小写字母，字符 '?' 和字符 ‘*’。保证上面两种特殊字符若出现则一定出现在一个小写字母的后面一位。要求构造一个长度为 $k$ 的新字符串，它和原串有如下关系：
> 按照原串的字母顺序向新串中填充，新串中含且仅含小写字母。
>
> 若原串的某小写字母后没有特殊字符，则这个字母在新串中必须保留
>
> 若原串的某小写字母后有字符 '?'，则这个字母在新串中可以被保留，也可以被删除
>
> 若原串某小写字母后有字符 '*'，则这个字母在新串中可以被保留，可以被删除，也可以被复读很多遍。
## Input
第一行是一个长度为 $n$ 的字符串，保证输入合法
第二行是一个整数 $k$ 代表要求构造的新串长度
## Output
输出一行一个长度为 $k$ 的字符串，为构造出的串。
若不存在这样的串，输出“Impossible”（不含引号）
## Hint
$1~\leq~n,k~\leq~200$
translated by @一扶苏一</div>
<h2>题目描述</h2>
<div>Andrey received a postcard from Irina. It contained only the words "Hello, Andrey!", and a strange string consisting of lowercase Latin letters, snowflakes and candy canes. Andrey thought that this string is an encrypted message, and decided to decrypt it.
Andrey noticed that snowflakes and candy canes always stand after the letters, so he supposed that the message was encrypted as follows. Candy cane means that the letter before it can be removed, or can be left. A snowflake means that the letter before it can be removed, left, or repeated several times.
For example, consider the following string:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1099C/29c2aaaec4bcea3ed5c1b5a1ebd8cbd0c6df45f2.png)This string can encode the message «happynewyear». For this, candy canes and snowflakes should be used as follows:
- candy cane 1: remove the letter w,
- snowflake 1: repeat the letter p twice,
- candy cane 2: leave the letter n,
- snowflake 2: remove the letter w,
- snowflake 3: leave the letter e.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1099C/26482915a1d9df0d76c8d735f29de9bbb88caf58.png)Please note that the same string can encode different messages. For example, the string above can encode «hayewyar», «happpppynewwwwwyear», and other messages.
Andrey knows that messages from Irina usually have a length of $ k $ letters. Help him to find out if a given string can encode a message of $ k $ letters, and if so, give an example of such a message.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains the string received in the postcard. The string consists only of lowercase Latin letters, as well as the characters «\*» and «?», meaning snowflake and candy cone, respectively. These characters can only appear immediately after the letter. The length of the string does not exceed $ 200 $ .
The second line contains an integer number $ k $ ( $ 1 \leq k \leq 200 $ ), the required message length.</div>
<h3>输出格式</h3>
<br />
<div>Print any message of length $ k $ that the given string can encode, or «Impossible» if such a message does not exist.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
hw?ap*yn?eww*ye*ar
12
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
happynewyear
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
ab?a
2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
aa</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
ab?a
3
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
aba</code></pre>
<h3>输入样例 #4</h3>
<pre><code>
ababb
5
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>
ababb</code></pre>
<h3>输入样例 #5</h3>
<pre><code>
ab?a
1
</code></pre>
<h3>输出样例 #5</h3>
<pre><code>
Impossible</code></pre>
</article>
</div>
</div>
</body>
</html>
