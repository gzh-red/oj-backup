<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>President&#039;s Path - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393882:E6Mxy8Z5rv8fi66jR9SgYwz1op61cvJgM/a6VesVFrI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Good%20old%20Berland%20has%20%24%20n%20%24%20cities%20and%20%24%20m%20%24%20roads.%20Each%20road%20connects%20a%20pair%20of%20distinct%20cities%20and%20is%20bidirectional.%20Between%20any%20pair%20of%20cities%2C%20there%20is%20at%20most%20one%20road.%20For%20each%20road%2C%20we%20know%20its%20length.%5Cn%5CnWe%20also%20know%20that%20the%20President%20will%20soon%20ride%20along%20the%20Berland%20roads%20from%20city%20%24%20s%20%24%20to%20city%20%24%20t%20%24%20.%20Naturally%2C%20he%20will%20choose%20one%20of%20the%20shortest%20paths%20from%20%24%20s%20%24%20to%20%24%20t%20%24%20%2C%20but%20nobody%20can%20say%20for%20sure%20which%20path%20he%20will%20choose.%5Cn%5CnThe%20Minister%20for%20Transport%20is%20really%20afraid%20that%20the%20President%20might%20get%20upset%20by%20the%20state%20of%20the%20roads%20in%20the%20country.%20That%20is%20the%20reason%20he%20is%20planning%20to%20repair%20the%20roads%20in%20the%20possible%20President%27s%20path.%5Cn%5CnMaking%20the%20budget%20for%20such%20an%20event%20is%20not%20an%20easy%20task.%20For%20all%20possible%20distinct%20pairs%20%24%20s%2Ct%20%24%20%28%20%24%20s%26lt%3Bt%20%24%20%29%20find%20the%20number%20of%20roads%20that%20lie%20on%20at%20least%20one%20shortest%20path%20from%20%24%20s%20%24%20to%20%24%20t%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20integers%20%24%20n%2Cm%20%24%20%28%20%24%202%3C%3Dn%3C%3D500%20%24%20%2C%20%24%200%3C%3Dm%3C%3Dn%5Cu00b7%28n-1%29%5C%2F2%20%24%20%29%20%5Cu2014%20the%20number%20of%20cities%20and%20roads%2C%20correspondingly.%20Then%20%24%20m%20%24%20lines%20follow%2C%20containing%20the%20road%20descriptions%2C%20one%20description%20per%20line.%20Each%20description%20contains%20three%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%2Cl_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3Dn%2Cx_%7Bi%7D%5Cu2260y_%7Bi%7D%2C1%3C%3Dl_%7Bi%7D%3C%3D10%5E%7B6%7D%20%24%20%29%2C%20where%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%20%24%20are%20the%20numbers%20of%20the%20cities%20connected%20by%20the%20%24%20i%20%24%20-th%20road%20and%20%24%20l_%7Bi%7D%20%24%20is%20its%20length.%22%2C%22outputFormat%22%3A%22Print%20the%20sequence%20of%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF416E%5C%2F6d17fa49d0326ba4bb97fd8851efd44a2d51dcbe.png%29%20integers%20%24%20c_%7B12%7D%2Cc_%7B13%7D%2C...%2Cc_%7B1n%7D%2Cc_%7B23%7D%2Cc_%7B24%7D%2C...%2Cc_%7B2n%7D%2C...%2Cc_%7Bn-1%2Cn%7D%20%24%20%2C%20where%20%24%20c_%7Bst%7D%20%24%20is%20the%20number%20of%20roads%20that%20can%20lie%20on%20the%20shortest%20path%20from%20%24%20s%20%24%20to%20%24%20t%20%24%20.%20Print%20the%20elements%20of%20sequence%20%24%20c%20%24%20in%20the%20described%20order.%20If%20the%20pair%20of%20cities%20%24%20s%20%24%20and%20%24%20t%20%24%20don%27t%20have%20a%20path%20between%20them%2C%20then%20%24%20c_%7Bst%7D%3D0%20%24%20.%22%2C%22samples%22%3A%5B%5B%225%206%5Cn1%202%201%5Cn2%203%201%5Cn3%204%201%5Cn4%201%201%5Cn2%204%202%5Cn4%205%204%5Cn%22%2C%221%204%201%202%201%205%206%201%202%201%20%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B4000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F416%5C%2FE%22%2C%22id%22%3A%22416E%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A41%2C%22totalAccepted%22%3A18%2C%22pid%22%3A%22CF416E%22%2C%22title%22%3A%22President%27s%20Path%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A39493%2C%22title%22%3A%22%5Cu9898%5Cu610f%22%2C%22forum%22%3A%7B%22id%22%3A10974%2C%22name%22%3A%22CF416E%20President%27s%20Path%22%2C%22slug%22%3A%22CF416E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22President%27s%20Path%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>President&#039;s Path</h1>
<h2>题目描述</h2>
<div>Good old Berland has $ n $ cities and $ m $ roads. Each road connects a pair of distinct cities and is bidirectional. Between any pair of cities, there is at most one road. For each road, we know its length.
We also know that the President will soon ride along the Berland roads from city $ s $ to city $ t $ . Naturally, he will choose one of the shortest paths from $ s $ to $ t $ , but nobody can say for sure which path he will choose.
The Minister for Transport is really afraid that the President might get upset by the state of the roads in the country. That is the reason he is planning to repair the roads in the possible President's path.
Making the budget for such an event is not an easy task. For all possible distinct pairs $ s,t $ ( $ s&lt;t $ ) find the number of roads that lie on at least one shortest path from $ s $ to $ t $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains integers $ n,m $ ( $ 2<=n<=500 $ , $ 0<=m<=n·(n-1)/2 $ ) — the number of cities and roads, correspondingly. Then $ m $ lines follow, containing the road descriptions, one description per line. Each description contains three integers $ x_{i},y_{i},l_{i} $ ( $ 1<=x_{i},y_{i}<=n,x_{i}≠y_{i},1<=l_{i}<=10^{6} $ ), where $ x_{i},y_{i} $ are the numbers of the cities connected by the $ i $ -th road and $ l_{i} $ is its length.</div>
<h3>输出格式</h3>
<br />
<div>Print the sequence of ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF416E/6d17fa49d0326ba4bb97fd8851efd44a2d51dcbe.png) integers $ c_{12},c_{13},...,c_{1n},c_{23},c_{24},...,c_{2n},...,c_{n-1,n} $ , where $ c_{st} $ is the number of roads that can lie on the shortest path from $ s $ to $ t $ . Print the elements of sequence $ c $ in the described order. If the pair of cities $ s $ and $ t $ don't have a path between them, then $ c_{st}=0 $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 6
1 2 1
2 3 1
3 4 1
4 1 1
2 4 2
4 5 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 4 1 2 1 5 6 1 2 1 </code></pre>
</article>
</div>
</div>
</body>
</html>
