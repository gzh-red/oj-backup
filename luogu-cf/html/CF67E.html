<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Save the City! - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390507:OfmFoewS+/0kmp0L/ITPmjiOuQiAs3pGcV1ziragCU4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22In%20the%20town%20of%20Aalam-Aara%20%28meaning%20the%20Light%20of%20the%20Earth%29%2C%20previously%20there%20was%20no%20crime%2C%20no%20criminals%20but%20as%20the%20time%20progressed%2C%20sins%20started%20creeping%20into%20the%20hearts%20of%20once%20righteous%20people.%20Seeking%20solution%20to%20the%20problem%2C%20some%20of%20the%20elders%20found%20that%20as%20long%20as%20the%20corrupted%20part%20of%20population%20was%20kept%20away%20from%20the%20uncorrupted%20part%2C%20the%20crimes%20could%20be%20stopped.%20So%2C%20they%20are%20trying%20to%20set%20up%20a%20compound%20where%20they%20can%20keep%20the%20corrupted%20people.%20To%20ensure%20that%20the%20criminals%20don%27t%20escape%20the%20compound%2C%20a%20watchtower%20needs%20to%20be%20set%20up%2C%20so%20that%20they%20can%20be%20watched.%5Cn%5CnSince%20the%20people%20of%20Aalam-Aara%20aren%27t%20very%20rich%2C%20they%20met%20up%20with%20a%20merchant%20from%20some%20rich%20town%20who%20agreed%20to%20sell%20them%20a%20land-plot%20which%20has%20already%20a%20straight%20line%20fence%20%24%20AB%20%24%20along%20which%20a%20few%20points%20are%20set%20up%20where%20they%20can%20put%20up%20a%20watchtower.%20Your%20task%20is%20to%20help%20them%20find%20out%20the%20number%20of%20points%20on%20that%20fence%20where%20the%20tower%20can%20be%20put%20up%2C%20so%20that%20all%20the%20criminals%20can%20be%20watched%20from%20there.%20Only%20one%20watchtower%20can%20be%20set%20up.%20A%20criminal%20is%20watchable%20from%20the%20watchtower%20if%20the%20line%20of%20visibility%20from%20the%20watchtower%20to%20him%20doesn%27t%20cross%20the%20plot-edges%20at%20any%20point%20between%20him%20and%20the%20tower%20i.e.%20as%20shown%20in%20figure%201%20below%2C%20points%20%24%20X%20%24%20%2C%20%24%20Y%20%24%20%2C%20%24%20C%20%24%20and%20%24%20A%20%24%20are%20visible%20from%20point%20%24%20B%20%24%20but%20the%20points%20%24%20E%20%24%20and%20%24%20D%20%24%20are%20not.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF67E%5C%2F62f2b6c65fce5076b1e588c1b533c329d000610a.png%29%20Figure%201%20%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF67E%5C%2Fe45b0cefd67eb315842cdefdc7e62035f6004450.png%29%20Figure%202%20Assume%20that%20the%20land%20plot%20is%20in%20the%20shape%20of%20a%20polygon%20and%20coordinate%20axes%20have%20been%20setup%20such%20that%20the%20fence%20%24%20AB%20%24%20is%20parallel%20to%20%24%20x%20%24%20-axis%20and%20the%20points%20where%20the%20watchtower%20can%20be%20set%20up%20are%20the%20integer%20points%20on%20the%20line.%20For%20example%2C%20in%20given%20figure%202%2C%20watchtower%20can%20be%20setup%20on%20any%20of%20five%20integer%20points%20on%20%24%20AB%20%24%20i.e.%20%24%20%284%2C8%29%20%24%20%2C%20%24%20%285%2C8%29%20%24%20%2C%20%24%20%286%2C8%29%20%24%20%2C%20%24%20%287%2C8%29%20%24%20or%20%24%20%288%2C8%29%20%24%20.%20You%20can%20assume%20that%20no%20three%20consecutive%20points%20are%20collinear%20and%20all%20the%20corner%20points%20other%20than%20%24%20A%20%24%20and%20%24%20B%20%24%20%2C%20lie%20towards%20same%20side%20of%20fence%20%24%20AB%20%24%20.%20The%20given%20polygon%20doesn%27t%20contain%20self-intersections.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20test%20case%20will%20consist%20of%20the%20number%20of%20vertices%20%24%20n%20%24%20%28%20%24%203%3C%3Dn%3C%3D1000%20%24%20%29.%5Cn%5CnNext%20%24%20n%20%24%20lines%20will%20contain%20the%20coordinates%20of%20the%20vertices%20in%20the%20clockwise%20order%20of%20the%20polygon.%20On%20the%20%24%20i%20%24%20-th%20line%20are%20integers%20%24%20x_%7Bi%7D%20%24%20and%20%24%20y_%7Bi%7D%20%24%20%28%20%24%200%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3D10%5E%7B6%7D%20%24%20%29%20separated%20by%20a%20space.%5Cn%5CnThe%20endpoints%20of%20the%20fence%20%24%20AB%20%24%20are%20the%20first%20two%20points%2C%20%24%20%28x_%7B1%7D%2Cy_%7B1%7D%29%20%24%20and%20%24%20%28x_%7B2%7D%2Cy_%7B2%7D%29%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20consists%20of%20a%20single%20line%20containing%20the%20number%20of%20points%20where%20the%20watchtower%20can%20be%20set%20up.%22%2C%22samples%22%3A%5B%5B%225%5Cn4%208%5Cn8%208%5Cn9%204%5Cn4%200%5Cn0%204%5Cn%22%2C%225%5Cn%22%5D%2C%5B%225%5Cn4%208%5Cn5%208%5Cn5%204%5Cn7%204%5Cn2%202%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22Figure%202%20shows%20the%20first%20test%20case.%20All%20the%20points%20in%20the%20figure%20are%20watchable%20from%20any%20point%20on%20fence%20%24%20AB%20%24%20.%20Since%2C%20%24%20AB%20%24%20has%20%24%205%20%24%20integer%20coordinates%2C%20so%20answer%20is%20%24%205%20%24%20.%5Cn%5CnFor%20case%20two%2C%20fence%20%24%20CD%20%24%20and%20%24%20DE%20%24%20are%20not%20completely%20visible%2C%20thus%20answer%20is%20%24%200%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F67%5C%2FE%22%2C%22id%22%3A%2267E%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22CF67E%22%2C%22title%22%3A%22Save%20the%20City%21%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A32210%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12357%2C%22name%22%3A%22CF67E%20Save%20the%20City%21%22%2C%22slug%22%3A%22CF67E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Save%20the%20City%21%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Save the City!</h1>
<h2>题目描述</h2>
<div>In the town of Aalam-Aara (meaning the Light of the Earth), previously there was no crime, no criminals but as the time progressed, sins started creeping into the hearts of once righteous people. Seeking solution to the problem, some of the elders found that as long as the corrupted part of population was kept away from the uncorrupted part, the crimes could be stopped. So, they are trying to set up a compound where they can keep the corrupted people. To ensure that the criminals don't escape the compound, a watchtower needs to be set up, so that they can be watched.
Since the people of Aalam-Aara aren't very rich, they met up with a merchant from some rich town who agreed to sell them a land-plot which has already a straight line fence $ AB $ along which a few points are set up where they can put up a watchtower. Your task is to help them find out the number of points on that fence where the tower can be put up, so that all the criminals can be watched from there. Only one watchtower can be set up. A criminal is watchable from the watchtower if the line of visibility from the watchtower to him doesn't cross the plot-edges at any point between him and the tower i.e. as shown in figure 1 below, points $ X $ , $ Y $ , $ C $ and $ A $ are visible from point $ B $ but the points $ E $ and $ D $ are not.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF67E/62f2b6c65fce5076b1e588c1b533c329d000610a.png) Figure 1 ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF67E/e45b0cefd67eb315842cdefdc7e62035f6004450.png) Figure 2 Assume that the land plot is in the shape of a polygon and coordinate axes have been setup such that the fence $ AB $ is parallel to $ x $ -axis and the points where the watchtower can be set up are the integer points on the line. For example, in given figure 2, watchtower can be setup on any of five integer points on $ AB $ i.e. $ (4,8) $ , $ (5,8) $ , $ (6,8) $ , $ (7,8) $ or $ (8,8) $ . You can assume that no three consecutive points are collinear and all the corner points other than $ A $ and $ B $ , lie towards same side of fence $ AB $ . The given polygon doesn't contain self-intersections.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the test case will consist of the number of vertices $ n $ ( $ 3<=n<=1000 $ ).
Next $ n $ lines will contain the coordinates of the vertices in the clockwise order of the polygon. On the $ i $ -th line are integers $ x_{i} $ and $ y_{i} $ ( $ 0<=x_{i},y_{i}<=10^{6} $ ) separated by a space.
The endpoints of the fence $ AB $ are the first two points, $ (x_{1},y_{1}) $ and $ (x_{2},y_{2}) $ .</div>
<h3>输出格式</h3>
<br />
<div>Output consists of a single line containing the number of points where the watchtower can be set up.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
4 8
8 8
9 4
4 0
0 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>5
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5
4 8
5 8
5 4
7 4
2 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>0
</code></pre>
<h2>说明</h2>
<div>Figure 2 shows the first test case. All the points in the figure are watchable from any point on fence $ AB $ . Since, $ AB $ has $ 5 $ integer coordinates, so answer is $ 5 $ .
For case two, fence $ CD $ and $ DE $ are not completely visible, thus answer is $ 0 $ .</div>
</article>
</div>
</div>
</body>
</html>
