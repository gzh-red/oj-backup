<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Jumping Transformers - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403390:tWOGRxfFAcClPoVWJcHpph02mk+JGSVP1zSrsJhNxec=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%2C%20the%20mighty%20Blackout%2C%20are%20standing%20in%20the%20upper-left%20%24%20%280%2C0%29%20%24%20corner%20of%20%24%20N%20%24%20x%20%24%20M%20%24%20matrix.%20You%20must%20move%20either%20right%20or%20down%20each%20second.%5Cn%5CnThere%20are%20%24%20K%20%24%20transformers%20jumping%20around%20the%20matrix%20in%20the%20following%20way.%20Each%20transformer%20starts%20jumping%20from%20position%20%24%20%28x%2Cy%29%20%24%20%2C%20at%20time%20%24%20t%20%24%20%2C%20and%20jumps%20to%20the%20next%20position%20each%20second.%20The%20%24%20x%20%24%20-axes%20grows%20downwards%2C%20and%20%24%20y%20%24%20-axes%20grows%20to%20the%20right.%20The%20order%20of%20jumping%20positions%20is%20defined%20as%20%24%20%7B%28x%2Cy%29%2C%28x%2Bd%2Cy-d%29%2C%28x%2Bd%2Cy%29%2C%28x%2Cy%2Bd%29%7D%20%24%20%2C%20and%20is%20periodic.%20Before%20time%20%24%20t%20%24%20transformer%20is%20not%20in%20the%20matrix.%5Cn%5CnYou%20want%20to%20arrive%20to%20the%20bottom-right%20corner%20%24%20%28N-1%2CM-1%29%20%24%20%2C%20while%20slaying%20transformers%20and%20losing%20the%20least%20possible%20amount%20of%20energy.%20When%20you%20meet%20the%20transformer%20%28or%20more%20of%20them%29%20in%20the%20matrix%20field%2C%20you%20must%20kill%20them%20all%2C%20and%20you%20lose%20the%20sum%20of%20the%20energy%20amounts%20required%20to%20kill%20each%20transformer.%5Cn%5CnAfter%20the%20transformer%20is%20killed%2C%20he%20of%20course%20stops%20jumping%2C%20falls%20into%20the%20abyss%20and%20leaves%20the%20matrix%20world.%20Output%20minimum%20possible%20amount%20of%20energy%20wasted.%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%2C%20integers%20%24%20N%20%24%20%2C%20%24%20M%20%24%20%28%20%24%201%20%5C%5Cleq%20N%2C%20M%20%5C%5Cleq%20500%20%24%20%29%2C%20representing%20size%20of%20the%20matrix%2C%20and%20%24%20K%20%24%20%28%20%24%200%20%5C%5Cleq%20K%20%5C%5Cleq%205%2A10%5E5%20%24%20%29%20%2C%20the%20number%20of%20jumping%20transformers.%5Cn%5CnIn%20next%20%24%20K%20%24%20lines%2C%20for%20each%20transformer%2C%20numbers%20%24%20x%20%24%20%2C%20%24%20y%20%24%20%2C%20%24%20d%20%24%20%28%20%24%20d%20%5C%5Cgeq%201%20%24%20%29%2C%20%24%20t%20%24%20%28%20%24%200%20%5C%5Cleq%20t%20%5C%5Cleq%20N%2BM-2%20%24%20%29%2C%20and%20%24%20e%20%24%20%28%20%24%200%20%5C%5Cleq%20e%20%5C%5Cleq%2010%5E9%20%24%20%29%2C%20representing%20starting%20coordinates%20of%20transformer%2C%20jumping%20positions%20distance%20in%20pattern%20described%20above%2C%20time%20when%20transformer%20starts%20jumping%2C%20and%20energy%20required%20to%20kill%20it.%5Cn%5CnIt%20is%20guaranteed%20that%20all%204%20of%20jumping%20points%20of%20the%20transformers%20are%20within%20matrix%20coordinates%22%2C%22outputFormat%22%3A%22Print%20single%20integer%2C%20the%20minimum%20possible%20amount%20of%20energy%20wasted%2C%20for%20Blackout%20to%20arrive%20at%20bottom-right%20corner.%22%2C%22samples%22%3A%5B%5B%22%5Cn3%203%205%5Cn0%201%201%200%207%5Cn1%201%201%200%2010%5Cn1%201%201%201%202%5Cn1%201%201%202%202%5Cn0%201%201%202%203%5Cn%22%2C%22%5Cn9%22%5D%5D%2C%22hint%22%3A%22If%20Blackout%20takes%20the%20path%20from%20%280%2C%200%29%20to%20%282%2C%200%29%2C%20and%20then%20from%20%282%2C%200%29%20to%20%282%2C%202%29%20he%20will%20need%20to%20kill%20the%20first%20and%20third%20transformer%20for%20a%20total%20energy%20cost%20of%209.%20There%20exists%20no%20path%20with%20less%20energy%20value.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B4000%5D%2C%22memory%22%3A%5B128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1218%5C%2FC%22%2C%22id%22%3A%221218C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A2%2C%22pid%22%3A%22CF1218C%22%2C%22title%22%3A%22Jumping%20Transformers%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Jumping%20Transformers%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Jumping Transformers</h1>
<h2>题目描述</h2>
<div>You, the mighty Blackout, are standing in the upper-left $ (0,0) $ corner of $ N $ x $ M $ matrix. You must move either right or down each second.
There are $ K $ transformers jumping around the matrix in the following way. Each transformer starts jumping from position $ (x,y) $ , at time $ t $ , and jumps to the next position each second. The $ x $ -axes grows downwards, and $ y $ -axes grows to the right. The order of jumping positions is defined as $ {(x,y),(x+d,y-d),(x+d,y),(x,y+d)} $ , and is periodic. Before time $ t $ transformer is not in the matrix.
You want to arrive to the bottom-right corner $ (N-1,M-1) $ , while slaying transformers and losing the least possible amount of energy. When you meet the transformer (or more of them) in the matrix field, you must kill them all, and you lose the sum of the energy amounts required to kill each transformer.
After the transformer is killed, he of course stops jumping, falls into the abyss and leaves the matrix world. Output minimum possible amount of energy wasted.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line, integers $ N $ , $ M $ ( $ 1 \leq N, M \leq 500 $ ), representing size of the matrix, and $ K $ ( $ 0 \leq K \leq 5*10^5 $ ) , the number of jumping transformers.
In next $ K $ lines, for each transformer, numbers $ x $ , $ y $ , $ d $ ( $ d \geq 1 $ ), $ t $ ( $ 0 \leq t \leq N+M-2 $ ), and $ e $ ( $ 0 \leq e \leq 10^9 $ ), representing starting coordinates of transformer, jumping positions distance in pattern described above, time when transformer starts jumping, and energy required to kill it.
It is guaranteed that all 4 of jumping points of the transformers are within matrix coordinates</div>
<h3>输出格式</h3>
<br />
<div>Print single integer, the minimum possible amount of energy wasted, for Blackout to arrive at bottom-right corner.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
3 3 5
0 1 1 0 7
1 1 1 0 10
1 1 1 1 2
1 1 1 2 2
0 1 1 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
9</code></pre>
<h2>说明</h2>
<div>If Blackout takes the path from (0, 0) to (2, 0), and then from (2, 0) to (2, 2) he will need to kill the first and third transformer for a total energy cost of 9. There exists no path with less energy value.</div>
</article>
</div>
</div>
</body>
</html>
