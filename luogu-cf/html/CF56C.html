<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Corporation Mail - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390388:CJ9fKWZ2o6EJJ3v9Cl/S3ezjnrEu0ILuHpqfmzoawkQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20Beroil%20corporation%20structure%20is%20hierarchical%2C%20that%20is%20it%20can%20be%20represented%20as%20a%20tree.%20Let%27s%20examine%20the%20presentation%20of%20this%20structure%20as%20follows%3A%5Cn%5Cn-%20%24%20employee%20%24%20%3A%3A%3D%20%24%20name%20%24%20.%20%7C%20%24%20name%20%24%20%3A%20%24%20employee_%7B1%7D%20%24%20%2C%20%24%20employee_%7B2%7D%20%24%20%2C%20...%20%2C%20%24%20employee_%7Bk%7D%20%24%20.%5Cn-%20%24%20name%20%24%20%3A%3A%3D%20name%20of%20an%20employee%5Cn%5CnThat%20is%2C%20the%20description%20of%20each%20employee%20consists%20of%20his%20name%2C%20a%20colon%20%28%3A%29%2C%20the%20descriptions%20of%20all%20his%20subordinates%20separated%20by%20commas%2C%20and%2C%20finally%2C%20a%20dot.%20If%20an%20employee%20has%20no%20subordinates%2C%20then%20the%20colon%20is%20not%20present%20in%20his%20description.%5Cn%5CnFor%20example%2C%20line%20MIKE%3AMAX.%2CARTEM%3AMIKE..%2CDMITRY%3ADMITRY.%2CDMITRY...%20is%20the%20correct%20way%20of%20recording%20the%20structure%20of%20a%20corporation%20where%20the%20director%20MIKE%20has%20subordinates%20MAX%2C%20ARTEM%20and%20DMITRY.%20ARTEM%20has%20a%20subordinate%20whose%20name%20is%20MIKE%2C%20just%20as%20the%20name%20of%20his%20boss%20and%20two%20subordinates%20of%20DMITRY%20are%20called%20DMITRY%2C%20just%20like%20himself.%5Cn%5CnIn%20the%20Beroil%20corporation%20every%20employee%20can%20only%20correspond%20with%20his%20subordinates%2C%20at%20that%20the%20subordinates%20are%20not%20necessarily%20direct.%20Let%27s%20call%20an%20uncomfortable%20situation%20the%20situation%20when%20a%20person%20whose%20name%20is%20%24%20s%20%24%20writes%20a%20letter%20to%20another%20person%20whose%20name%20is%20also%20%24%20s%20%24%20.%20In%20the%20example%20given%20above%20are%20two%20such%20pairs%3A%20a%20pair%20involving%20MIKE%2C%20and%20two%20pairs%20for%20DMITRY%20%28a%20pair%20for%20each%20of%20his%20subordinates%29.%5Cn%5CnYour%20task%20is%20by%20the%20given%20structure%20of%20the%20corporation%20to%20find%20the%20number%20of%20uncomfortable%20pairs%20in%20it.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF56C%5C%2F9868b26a06de68925d83118f98afdf9f4510a164.png%29%22%2C%22inputFormat%22%3A%22The%20first%20and%20single%20line%20contains%20the%20corporation%20structure%20which%20is%20a%20string%20of%20length%20from%201%20to%201000%20characters.%20It%20is%20guaranteed%20that%20the%20description%20is%20correct.%20Every%20name%20is%20a%20string%20consisting%20of%20capital%20Latin%20letters%20from%201%20to%2010%20symbols%20in%20length.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20number%20%5Cu2014%20the%20number%20of%20uncomfortable%20situations%20in%20the%20company.%22%2C%22samples%22%3A%5B%5B%22MIKE%3AMAX.%2CARTEM%3AMIKE..%2CDMITRY%3ADMITRY.%2CDMITRY...%5Cn%22%2C%223%5Cn%22%5D%2C%5B%22A%3AA..%5Cn%22%2C%221%5Cn%22%5D%2C%5B%22A%3AC%3AC%3AC%3AC.....%5Cn%22%2C%226%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F56%5C%2FC%22%2C%22id%22%3A%2256C%22%7D%2C%22translation%22%3A%22%20_%2A%2AAlice%3ABob%5Cuff0cCalif%5Cuff0cDaddy.%2A%2A_%20%5Cr%5Cn%5Cr%5Cn%5Cu8868%5Cu660eAlice%5Cu6709%5Cu4e09%5Cu4e2a%5Cu4e0b%5Cu5c5e%5Cu5206%5Cu522b%5Cu53ebBob%5Cuff0cCalif%5Cuff0cDadd%5Cr%5Cn%5Cr%5Cn%5Cuff08%5Cu6574%5Cu4e2a%5Cu4f53%5Cu7cfb%5Cu4e2d%5Cu53ef%5Cu80fd%5Cu51fa%5Cu73b0%2A%2A%5Cu591a%5Cu4e2a%5Cu4eba%5Cu6709%5Cu76f8%5Cu540c%5Cu7684%5Cu540d%5Cu5b57%2A%2A%5Cuff09%5Cr%5Cn%5Cr%5Cn%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu53ea%5Cu80fd%5Cu4e0e%5Cu4e0b%5Cu5c5e%5Cu901a%5Cu4fe1%5Cuff08%5Cu53ef%5Cu4ee5%5Cu662f%5Cu95f4%5Cu63a5%5Cu4e0b%5Cu5c5e%5Cuff09%5Cr%5Cn%5Cr%5Cn%5Cu5b9a%5Cu4e49%5Cu201c%2A%2A%5Cu4e0d%5Cu8212%5Cu670d%5Cu60c5%5Cu51b5%2A%2A%5Cu201d%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu540d%5Cu53ebA%5Cu7684%5Cu4e0a%5Cu53f8%5Cu4e0e%5Cu4e00%5Cu4e2a%5Cu540d%5Cu53ebA%5Cu7684%5Cu4e0b%5Cu5c5e%5Cu901a%5Cu4fe1%5Cuff08%5Cu5373%5Cu540c%5Cu540d%5Cu7684%5Cu4eba%5Cu6709%5Cu4e0a%5Cu4e0b%5Cu7ea7%5Cu5173%5Cu7cfb%5Cuff09%5Cr%5Cn%5Cr%5Cn%2A%2A%5Cu8f93%5Cu5165%2A%2A%5Cr%5Cn%5Cr%5Cn%5Cu4fdd%5Cu8bc1%5Cu603bstring%5Cu957f%5Cu5ea6%5Cu4e0d%5Cu5927%5Cu4e8e1000%5Cuff08%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu540d%5Cu957f%5Cu5ea6%5Cu4e0d%5Cu8d85%5Cu8fc710%5Cuff09%5Cr%5Cn%5Cr%5Cn%2A%2A%5Cu8f93%5Cu51fa%2A%2A%5Cr%5Cn%5Cr%5Cn%5Cu4e0d%5Cu8212%5Cu670d%5Cu7684%5Cu60c5%5Cu51b5%5Cu7684%2A%2A%5Cu6570%5Cu91cf%2A%2A%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A8%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22CF56C%22%2C%22title%22%3A%22Corporation%20Mail%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A106053%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12418%2C%22name%22%3A%22CF56C%20Corporation%20Mail%22%2C%22slug%22%3A%22CF56C%22%7D%7D%2C%7B%22id%22%3A32789%2C%22title%22%3A%22bt%22%2C%22forum%22%3A%7B%22id%22%3A12418%2C%22name%22%3A%22CF56C%20Corporation%20Mail%22%2C%22slug%22%3A%22CF56C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Corporation%20Mail%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Corporation Mail</h1>
<h2>题意翻译</h2>
<div> _**Alice:Bob，Calif，Daddy.**_
表明Alice有三个下属分别叫Bob，Calif，Dadd
（整个体系中可能出现**多个人有相同的名字**）
每个人只能与下属通信（可以是间接下属）
定义“**不舒服情况**”为一个名叫A的上司与一个名叫A的下属通信（即同名的人有上下级关系）
**输入**
保证总string长度不大于1000（每个人名长度不超过10）
**输出**
不舒服的情况的**数量**</div>
<h2>题目描述</h2>
<div>The Beroil corporation structure is hierarchical, that is it can be represented as a tree. Let's examine the presentation of this structure as follows:
- $ employee $ ::= $ name $ . | $ name $ : $ employee_{1} $ , $ employee_{2} $ , ... , $ employee_{k} $ .
- $ name $ ::= name of an employee
That is, the description of each employee consists of his name, a colon (:), the descriptions of all his subordinates separated by commas, and, finally, a dot. If an employee has no subordinates, then the colon is not present in his description.
For example, line MIKE:MAX.,ARTEM:MIKE..,DMITRY:DMITRY.,DMITRY... is the correct way of recording the structure of a corporation where the director MIKE has subordinates MAX, ARTEM and DMITRY. ARTEM has a subordinate whose name is MIKE, just as the name of his boss and two subordinates of DMITRY are called DMITRY, just like himself.
In the Beroil corporation every employee can only correspond with his subordinates, at that the subordinates are not necessarily direct. Let's call an uncomfortable situation the situation when a person whose name is $ s $ writes a letter to another person whose name is also $ s $ . In the example given above are two such pairs: a pair involving MIKE, and two pairs for DMITRY (a pair for each of his subordinates).
Your task is by the given structure of the corporation to find the number of uncomfortable pairs in it.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF56C/9868b26a06de68925d83118f98afdf9f4510a164.png)</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first and single line contains the corporation structure which is a string of length from 1 to 1000 characters. It is guaranteed that the description is correct. Every name is a string consisting of capital Latin letters from 1 to 10 symbols in length.</div>
<h3>输出格式</h3>
<br />
<div>Print a single number — the number of uncomfortable situations in the company.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>MIKE:MAX.,ARTEM:MIKE..,DMITRY:DMITRY.,DMITRY...
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>A:A..
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>A:C:C:C:C.....
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>6
</code></pre>
</article>
</div>
</div>
</body>
</html>
