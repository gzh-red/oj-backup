<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Yet Another Substring Reverse - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403521:v5sP92/9qZOP1N8GHY9Zq3gX8YdHewlbB4DlZhwx7g4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20a%20string%20%24%20s%20%24%20consisting%20only%20of%20first%20%24%2020%20%24%20lowercase%20Latin%20letters%20%28%27a%27%2C%20%27b%27%2C%20...%2C%20%27t%27%29.%5Cn%5CnRecall%20that%20the%20substring%20%24%20s%5Bl%3B%20r%5D%20%24%20of%20the%20string%20%24%20s%20%24%20is%20the%20string%20%24%20s_l%20s_%7Bl%20%2B%201%7D%20%5C%5Cdots%20s_r%20%24%20.%20For%20example%2C%20the%20substrings%20of%20%5C%22codeforces%5C%22%20are%20%5C%22code%5C%22%2C%20%5C%22force%5C%22%2C%20%5C%22f%5C%22%2C%20%5C%22for%5C%22%2C%20but%20not%20%5C%22coder%5C%22%20and%20%5C%22top%5C%22.%5Cn%5CnYou%20can%20perform%20the%20following%20operation%20no%20more%20than%20once%3A%20choose%20some%20substring%20%24%20s%5Bl%3B%20r%5D%20%24%20and%20reverse%20it%20%28i.e.%20the%20string%20%24%20s_l%20s_%7Bl%20%2B%201%7D%20%5C%5Cdots%20s_r%20%24%20becomes%20%24%20s_r%20s_%7Br%20-%201%7D%20%5C%5Cdots%20s_l%20%24%20%29.%5Cn%5CnYour%20goal%20is%20to%20maximize%20the%20length%20of%20the%20maximum%20substring%20of%20%24%20s%20%24%20consisting%20of%20distinct%20%28i.e.%20unique%29%20characters.%5Cn%5CnThe%20string%20consists%20of%20distinct%20characters%20if%20no%20character%20in%20this%20string%20appears%20more%20than%20once.%20For%20example%2C%20strings%20%5C%22abcde%5C%22%2C%20%5C%22arctg%5C%22%20and%20%5C%22minecraft%5C%22%20consist%20of%20distinct%20characters%20but%20strings%20%5C%22codeforces%5C%22%2C%20%5C%22abacaba%5C%22%20do%20not%20consist%20of%20distinct%20characters.%22%2C%22inputFormat%22%3A%22The%20only%20line%20of%20the%20input%20contains%20one%20string%20%24%20s%20%24%20consisting%20of%20no%20more%20than%20%24%2010%5E6%20%24%20characters%20%27a%27%2C%20%27b%27%2C%20...%2C%20%27t%27%20%28first%20%24%2020%20%24%20lowercase%20Latin%20letters%29.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20maximum%20possible%20length%20of%20the%20maximum%20substring%20of%20%24%20s%20%24%20consisting%20of%20distinct%20characters%20after%20reversing%20no%20more%20than%20one%20its%20substring.%22%2C%22samples%22%3A%5B%5B%22%5Cnabacaba%5Cn%22%2C%22%5Cn3%5Cn%22%5D%2C%5B%22%5Cnabcdecdf%5Cn%22%2C%22%5Cn6%5Cn%22%5D%2C%5B%22%5Cnaabbcc%5Cn%22%2C%22%5Cn3%5Cn%22%5D%2C%5B%22%5Cnabcdeefc%5Cn%22%2C%22%5Cn6%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1234%5C%2FF%22%2C%22id%22%3A%221234F%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%24S%24%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu7ffb%5Cu8f6c%5Cu4e00%5Cu6b21%24S%24%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu4e32%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu95ee%5Cu7ffb%5Cu8f6c%5Cu540e%24S%24%5Cu7684%5Cu5b50%5Cu4e32%5Cu4e2d%5Cu5404%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu90fd%5Cu4e0d%5Cu76f8%5Cu540c%5Cu7684%5Cu6700%5Cu957f%5Cu5b50%5Cu4e32%5Cu957f%5Cu5ea6%5Cu3002%5Cr%5Cn%5Cr%5Cn%24%7CS%7C%5C%5Cle10%5E6%2C%7C%24%5Cu5b57%5Cu7b26%5Cu96c6%24%7C%5C%5Cle20%24%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A68%2C%22totalAccepted%22%3A47%2C%22pid%22%3A%22CF1234F%22%2C%22title%22%3A%22Yet%20Another%20Substring%20Reverse%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1230A%22%2C%22title%22%3A%22Dawid%20and%20Bags%20of%20Candies%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1228C%22%2C%22title%22%3A%22Primes%20and%20Multiplication%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1234E%22%2C%22title%22%3A%22Special%20Permutations%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1238A%22%2C%22title%22%3A%22Prime%20Subtraction%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1244C%22%2C%22title%22%3A%22The%20Football%20Season%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Yet%20Another%20Substring%20Reverse%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Yet Another Substring Reverse</h1>
<h2>题意翻译</h2>
<div>给你一个字符串$S$，你可以翻转一次$S$的任意一个子串。
问翻转后$S$的子串中各个字符都不相同的最长子串长度。
$|S|\le10^6,|$字符集$|\le20$</div>
<h2>题目描述</h2>
<div>You are given a string $ s $ consisting only of first $ 20 $ lowercase Latin letters ('a', 'b', ..., 't').
Recall that the substring $ s[l; r] $ of the string $ s $ is the string $ s_l s_{l + 1} \dots s_r $ . For example, the substrings of "codeforces" are "code", "force", "f", "for", but not "coder" and "top".
You can perform the following operation no more than once: choose some substring $ s[l; r] $ and reverse it (i.e. the string $ s_l s_{l + 1} \dots s_r $ becomes $ s_r s_{r - 1} \dots s_l $ ).
Your goal is to maximize the length of the maximum substring of $ s $ consisting of distinct (i.e. unique) characters.
The string consists of distinct characters if no character in this string appears more than once. For example, strings "abcde", "arctg" and "minecraft" consist of distinct characters but strings "codeforces", "abacaba" do not consist of distinct characters.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The only line of the input contains one string $ s $ consisting of no more than $ 10^6 $ characters 'a', 'b', ..., 't' (first $ 20 $ lowercase Latin letters).</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the maximum possible length of the maximum substring of $ s $ consisting of distinct characters after reversing no more than one its substring.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
abacaba
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
abcdecdf
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
6
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
aabbcc
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
3
</code></pre>
<h3>输入样例 #4</h3>
<pre><code>
abcdeefc
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>
6
</code></pre>
</article>
</div>
</div>
</body>
</html>
