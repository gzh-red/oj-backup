<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Cycling City - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395037:1AtwFSAE0z1uVpu4js3Nf/1mkY+PU7Dndgd/dhAQMHM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20organizing%20a%20cycling%20race%20on%20the%20streets%20of%20the%20city.%20The%20city%20contains%20%24%20n%20%24%20junctions%2C%20some%20pairs%20of%20them%20are%20connected%20by%20roads%3B%20on%20each%20road%20you%20can%20move%20in%20any%20direction.%20No%20two%20roads%20connect%20the%20same%20pair%20of%20intersections%2C%20and%20no%20road%20connects%20the%20intersection%20with%20itself.%5Cn%5CnYou%20want%20the%20race%20to%20be%20open%20to%20both%20professional%20athletes%20and%20beginner%20cyclists%2C%20and%20that%27s%20why%20you%20will%20organize%20the%20race%20in%20three%20nominations%3A%20easy%2C%20moderate%20and%20difficult%3B%20each%20participant%20will%20choose%20the%20more%20suitable%20nomination.%20For%20each%20nomination%20you%20must%20choose%20the%20route%20%5Cu2014%20the%20chain%20of%20junctions%2C%20consecutively%20connected%20by%20roads.%20Routes%20must%20meet%20the%20following%20conditions%3A%5Cn%5Cn-%20all%20three%20routes%20should%20start%20at%20the%20same%20intersection%2C%20and%20finish%20at%20the%20same%20intersection%20%28place%20of%20start%20and%20finish%20can%27t%20be%20the%20same%29%3B%5Cn-%20to%20avoid%20collisions%2C%20no%20two%20routes%20can%20have%20common%20junctions%20%28except%20for%20the%20common%20start%20and%20finish%29%2C%20and%20can%20not%20go%20along%20the%20same%20road%20%28irrespective%20of%20the%20driving%20direction%20on%20the%20road%20for%20those%20two%20routes%29%3B%5Cn-%20no%20route%20must%20pass%20twice%20through%20the%20same%20intersection%20or%20visit%20the%20same%20road%20twice%20%28irrespective%20of%20the%20driving%20direction%20on%20the%20road%20for%20the%20first%20and%20second%20time%20of%20visit%29.%5Cn%5CnPreparing%20for%20the%20competition%20is%20about%20to%20begin%2C%20and%20you%20need%20to%20determine%20the%20routes%20of%20the%20race%20as%20quickly%20as%20possible.%20The%20length%20of%20the%20routes%20is%20not%20important%2C%20it%20is%20only%20important%20that%20all%20the%20given%20requirements%20were%20met.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D2%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20intersections%20and%20roads%2C%20respectively.%5Cn%5CnThe%20following%20%24%20m%20%24%20lines%20contain%20two%20integers%20%5Cu2014%20the%20numbers%20of%20the%20intersections%20connected%20by%20a%20road%20%28the%20intersections%20are%20numbered%20starting%20with%201%29.%20It%20is%20guaranteed%20that%20each%20pair%20of%20intersections%20is%20connected%20by%20no%20more%20than%20one%20road%2C%20and%20no%20road%20connects%20the%20intersection%20to%20itself.%5Cn%5CnPlease%20note%20that%20it%20is%20not%20guaranteed%20that%20you%20can%20get%20from%20any%20junction%20to%20any%20other%20one%20by%20using%20the%20roads.%22%2C%22outputFormat%22%3A%22If%20it%20is%20possible%20to%20create%20the%20routes%2C%20in%20the%20first%20line%20print%20%5C%22YES%5C%22.%20In%20the%20next%20three%20lines%20print%20the%20descriptions%20of%20each%20of%20the%20three%20routes%20in%20the%20format%20%5C%22%20%24%20l%20%24%20%24%20p_%7B1%7D%20%24%20...%20%24%20p_%7Bl%7D%20%24%20%5C%22%2C%20where%20%24%20l%20%24%20is%20the%20number%20of%20intersections%20in%20the%20route%2C%20and%20%24%20p_%7B1%7D%2C...%2Cp_%7Bl%7D%20%24%20are%20their%20numbers%20in%20the%20order%20they%20follow.%20The%20routes%20must%20meet%20all%20the%20requirements%20specified%20in%20the%20statement.%5Cn%5CnIf%20it%20is%20impossible%20to%20make%20the%20routes%20in%20accordance%20with%20the%20requirements%2C%20print%20NO.%22%2C%22samples%22%3A%5B%5B%224%204%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%201%5Cn%22%2C%22NO%5Cn%22%5D%2C%5B%225%206%5Cn1%202%5Cn1%203%5Cn1%204%5Cn2%205%5Cn3%205%5Cn4%205%5Cn%22%2C%22YES%5Cn3%205%204%201%5Cn3%205%203%201%5Cn3%205%202%201%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F521%5C%2FE%22%2C%22id%22%3A%22521E%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu5f20%24n%24%5Cu4e2a%5Cu70b9%24m%24%5Cu6761%5Cu8fb9%5Cu7684%5Cu65e0%5Cu5411%5Cu56fe%5Cuff0c%5Cu6c42%5Cu56fe%5Cu4e2d%5Cu662f%5Cu5426%5Cu5b58%5Cu5728%5Cu4e24%5Cu4e2a%5Cu70b9%5Cuff0c%5Cu6ee1%5Cu8db3%5Cu8be5%5Cu4e24%5Cu70b9%5Cu95f4%5Cu6709%5Cu81f3%5Cu5c11%5Cu4e09%5Cu6761%5Cu4e0d%5Cu5171%5Cu70b9%5Cuff08%5Cu4e0d%5Cu5305%5Cu62ec%5Cu8d77%5Cu70b9%5Cu548c%5Cu7ec8%5Cu70b9%5Cuff09%5Cu7684%5Cu7b80%5Cu5355%5Cu8def%5Cu3002%5Cu82e5%5Cu4e0d%5Cu5b58%5Cu5728%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%5Cu201cNO%5Cu201d%5Cuff1b%5Cu82e5%5Cu5b58%5Cu5728%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%5Cu201cYES%5Cu201d%5Cuff0c%5Cu5e76%5Cu5728%5Cu5176%5Cu4e0b%5Cu4e09%5Cu884c%5Cu5206%5Cu522b%5Cu8f93%5Cu51fa%5Cu4e09%5Cu6761%5Cu8def%5Cu5f84%5Cu6240%5Cu7ecf%5Cu8fc7%5Cu7684%5Cu70b9%5Cu7684%5Cu7f16%5Cu53f7%5Cuff08%5Cu4ee5%5Cu7a7a%5Cu683c%5Cu5206%5Cu9694%5Cuff09%5Cu3002%20%20%5Cr%5Cn%24n%2Cm%5C%5Cin%5B1%2C2%5C%5Ctimes10%5E5%5D%24%5Cuff0c%5Cu70b9%5Cu7684%5Cu7f16%5Cu53f7%5Cu4ece1%5Cu5f00%5Cu59cb%5Cu3002%20%20%5Cr%5Cn%24%2A%24%20%5Cu6ce8%5Cu610f%5Cuff1a%5Cu56fe%5Cu6709%5Cu53ef%5Cu80fd%5Cu4e0d%5Cu8fde%5Cu901a%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A64%2C%22totalAccepted%22%3A16%2C%22pid%22%3A%22CF521E%22%2C%22title%22%3A%22Cycling%20City%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A69316%2C%22title%22%3A%22%5Cu9898%5Cu610f%5Cu7b80%5Cu8ff0%22%2C%22forum%22%3A%7B%22id%22%3A10579%2C%22name%22%3A%22CF521E%20Cycling%20City%22%2C%22slug%22%3A%22CF521E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF575G%22%2C%22title%22%3A%22Run%20for%20beer%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF547E%22%2C%22title%22%3A%22Mike%20and%20Friends%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22AT2657%22%2C%22title%22%3A%22Mole%20and%20Abandoned%20Mine%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22AT%22%7D%2C%7B%22pid%22%3A%22CF1209E2%22%2C%22title%22%3A%22Rotate%20Columns%20%28hard%20version%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1234F%22%2C%22title%22%3A%22Yet%20Another%20Substring%20Reverse%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Cycling%20City%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Cycling City</h1>
<h2>题意翻译</h2>
<div>给定一张$n$个点$m$条边的无向图，求图中是否存在两个点，满足该两点间有至少三条不共点（不包括起点和终点）的简单路。若不存在，则输出“NO”；若存在，则输出“YES”，并在其下三行分别输出三条路径所经过的点的编号（以空格分隔）。
$n,m\in[1,2\times10^5]$，点的编号从1开始。
$*$ 注意：图有可能不连通。</div>
<h2>题目描述</h2>
<div>You are organizing a cycling race on the streets of the city. The city contains $ n $ junctions, some pairs of them are connected by roads; on each road you can move in any direction. No two roads connect the same pair of intersections, and no road connects the intersection with itself.
You want the race to be open to both professional athletes and beginner cyclists, and that's why you will organize the race in three nominations: easy, moderate and difficult; each participant will choose the more suitable nomination. For each nomination you must choose the route — the chain of junctions, consecutively connected by roads. Routes must meet the following conditions:
- all three routes should start at the same intersection, and finish at the same intersection (place of start and finish can't be the same);
- to avoid collisions, no two routes can have common junctions (except for the common start and finish), and can not go along the same road (irrespective of the driving direction on the road for those two routes);
- no route must pass twice through the same intersection or visit the same road twice (irrespective of the driving direction on the road for the first and second time of visit).
Preparing for the competition is about to begin, and you need to determine the routes of the race as quickly as possible. The length of the routes is not important, it is only important that all the given requirements were met.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ m $ ( $ 1<=n,m<=2·10^{5} $ ) — the number of intersections and roads, respectively.
The following $ m $ lines contain two integers — the numbers of the intersections connected by a road (the intersections are numbered starting with 1). It is guaranteed that each pair of intersections is connected by no more than one road, and no road connects the intersection to itself.
Please note that it is not guaranteed that you can get from any junction to any other one by using the roads.</div>
<h3>输出格式</h3>
<br />
<div>If it is possible to create the routes, in the first line print "YES". In the next three lines print the descriptions of each of the three routes in the format " $ l $ $ p_{1} $ ... $ p_{l} $ ", where $ l $ is the number of intersections in the route, and $ p_{1},...,p_{l} $ are their numbers in the order they follow. The routes must meet all the requirements specified in the statement.
If it is impossible to make the routes in accordance with the requirements, print NO.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 4
1 2
2 3
3 4
4 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>NO
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5 6
1 2
1 3
1 4
2 5
3 5
4 5
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>YES
3 5 4 1
3 5 3 1
3 5 2 1
</code></pre>
</article>
</div>
</div>
</body>
</html>
