<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Cowboy Beblop at his computer - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397028:UgJigxK0WT0DIDFhfHyyH6QNWF/7ie4D9Ke+q6a4Xe0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Cowboy%20Beblop%20is%20a%20funny%20little%20boy%20who%20likes%20sitting%20at%20his%20computer.%20He%20somehow%20obtained%20two%20elastic%20hoops%20in%20the%20shape%20of%202D%20polygons%2C%20which%20are%20not%20necessarily%20convex.%20Since%20there%27s%20no%20gravity%20on%20his%20spaceship%2C%20the%20hoops%20are%20standing%20still%20in%20the%20air.%20Since%20the%20hoops%20are%20very%20elastic%2C%20Cowboy%20Beblop%20can%20stretch%2C%20rotate%2C%20translate%20or%20shorten%20their%20edges%20as%20much%20as%20he%20wants.%5Cn%5CnFor%20both%20hoops%2C%20you%20are%20given%20the%20number%20of%20their%20vertices%2C%20as%20well%20as%20the%20position%20of%20each%20vertex%2C%20defined%20by%20the%20X%20%2C%20Y%20and%20Z%20coordinates.%20The%20vertices%20are%20given%20in%20the%20order%20they%27re%20connected%3A%20the%201st%20vertex%20is%20connected%20to%20the%202nd%2C%20which%20is%20connected%20to%20the%203rd%2C%20etc.%2C%20and%20the%20last%20vertex%20is%20connected%20to%20the%20first%20one.%20Two%20hoops%20are%20connected%20if%20it%27s%20impossible%20to%20pull%20them%20to%20infinity%20in%20different%20directions%20by%20manipulating%20their%20edges%2C%20without%20having%20their%20edges%20or%20vertices%20intersect%20at%20any%20point%20%5Cu2013%20just%20like%20when%20two%20links%20of%20a%20chain%20are%20connected.%20The%20polygons%27%20edges%20do%20not%20intersect%20or%20overlap.%5Cn%5CnTo%20make%20things%20easier%2C%20we%20say%20that%20two%20polygons%20are%20well-connected%2C%20if%20the%20edges%20of%20one%20polygon%20cross%20the%20area%20of%20the%20other%20polygon%20in%20two%20different%20directions%20%28from%20the%20upper%20and%20lower%20sides%20of%20the%20plane%20defined%20by%20that%20polygon%29%20a%20different%20number%20of%20times.%5Cn%5CnCowboy%20Beblop%20is%20fascinated%20with%20the%20hoops%20he%20has%20obtained%20and%20he%20would%20like%20to%20know%20whether%20they%20are%20well-connected%20or%20not.%20Since%20he%5Cu2019s%20busy%20playing%20with%20his%20dog%2C%20Zwei%2C%20he%5Cu2019d%20like%20you%20to%20figure%20it%20out%20for%20him.%20He%20promised%20you%20some%20sweets%20if%20you%20help%20him%21%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20an%20integer%20%24%20n%20%24%20%28%20%24%203%3C%3Dn%3C%3D100000%20%24%20%29%2C%20which%20denotes%20the%20number%20of%20edges%20of%20the%20first%20polygon.%20The%20next%20N%20lines%20each%20contain%20the%20integers%20%24%20x%20%24%20%2C%20%24%20y%20%24%20and%20%24%20z%20%24%20%28%20%24%20-1000000%3C%3Dx%2Cy%2Cz%3C%3D1000000%20%24%20%29%20%5Cu2014%20coordinates%20of%20the%20vertices%2C%20in%20the%20manner%20mentioned%20above.%20The%20next%20line%20contains%20an%20integer%20%24%20m%20%24%20%28%20%24%203%3C%3Dm%3C%3D100000%20%24%20%29%20%2C%20denoting%20the%20number%20of%20edges%20of%20the%20second%20polygon%2C%20followed%20by%20%24%20m%20%24%20lines%20containing%20the%20coordinates%20of%20the%20second%20polygon%5Cu2019s%20vertices.%5Cn%5CnIt%20is%20guaranteed%20that%20both%20polygons%20are%20simple%20%28no%20self-intersections%29%2C%20and%20in%20general%20that%20the%20obtained%20polygonal%20lines%20do%20not%20intersect%20each%20other.%20Also%2C%20you%20can%20assume%20that%20no%203%20consecutive%20points%20of%20a%20polygon%20lie%20on%20the%20same%20line.%22%2C%22outputFormat%22%3A%22Your%20output%20should%20contain%20only%20one%20line%2C%20with%20the%20words%20%5C%22YES%5C%22%20or%20%5C%22NO%5C%22%2C%20depending%20on%20whether%20the%20two%20given%20polygons%20are%20well-connected.%22%2C%22samples%22%3A%5B%5B%224%5Cn0%200%200%5Cn2%200%200%5Cn2%202%200%5Cn0%202%200%5Cn4%5Cn1%201%20-1%5Cn1%201%201%5Cn1%203%201%5Cn1%203%20-1%5Cn%22%2C%22YES%5Cn%22%5D%5D%2C%22hint%22%3A%22On%20the%20picture%20below%2C%20the%20two%20polygons%20are%20well-connected%2C%20as%20the%20edges%20of%20the%20vertical%20polygon%20cross%20the%20area%20of%20the%20horizontal%20one%20exactly%20once%20in%20one%20direction%20%28for%20example%2C%20from%20above%20to%20below%29%2C%20and%20zero%20times%20in%20the%20other%20%28in%20this%20case%2C%20from%20below%20to%20above%29.%20Note%20that%20the%20polygons%20do%20not%20have%20to%20be%20parallel%20to%20any%20of%20the%20xy-%2Cxz-%2Cyz-%20planes%20in%20general.%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF717I%5C%2Faae87218adb3d9e7b8376b2466dbf34a96071f37.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F717%5C%2FI%22%2C%22id%22%3A%22717I%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A4%2C%22totalAccepted%22%3A2%2C%22pid%22%3A%22CF717I%22%2C%22title%22%3A%22Cowboy%20Beblop%20at%20his%20computer%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A80159%2C%22title%22%3A%22%5Cu8fd9%5Cu4e2a%5Cu9898%5Cu662fCF%5Cu4e0a%5Cu96be%5Cu5ea6%5Cu6700%5Cu9ad8%5Cu7684%5Cu9898%5Cu54ce%22%2C%22forum%22%3A%7B%22id%22%3A9785%2C%22name%22%3A%22CF717I%20Cowboy%20Beblop%20at%20his%20computer%22%2C%22slug%22%3A%22CF717I%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Cowboy%20Beblop%20at%20his%20computer%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Cowboy Beblop at his computer</h1>
<h2>题目描述</h2>
<div>Cowboy Beblop is a funny little boy who likes sitting at his computer. He somehow obtained two elastic hoops in the shape of 2D polygons, which are not necessarily convex. Since there's no gravity on his spaceship, the hoops are standing still in the air. Since the hoops are very elastic, Cowboy Beblop can stretch, rotate, translate or shorten their edges as much as he wants.
For both hoops, you are given the number of their vertices, as well as the position of each vertex, defined by the X , Y and Z coordinates. The vertices are given in the order they're connected: the 1st vertex is connected to the 2nd, which is connected to the 3rd, etc., and the last vertex is connected to the first one. Two hoops are connected if it's impossible to pull them to infinity in different directions by manipulating their edges, without having their edges or vertices intersect at any point – just like when two links of a chain are connected. The polygons' edges do not intersect or overlap.
To make things easier, we say that two polygons are well-connected, if the edges of one polygon cross the area of the other polygon in two different directions (from the upper and lower sides of the plane defined by that polygon) a different number of times.
Cowboy Beblop is fascinated with the hoops he has obtained and he would like to know whether they are well-connected or not. Since he’s busy playing with his dog, Zwei, he’d like you to figure it out for him. He promised you some sweets if you help him!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains an integer $ n $ ( $ 3<=n<=100000 $ ), which denotes the number of edges of the first polygon. The next N lines each contain the integers $ x $ , $ y $ and $ z $ ( $ -1000000<=x,y,z<=1000000 $ ) — coordinates of the vertices, in the manner mentioned above. The next line contains an integer $ m $ ( $ 3<=m<=100000 $ ) , denoting the number of edges of the second polygon, followed by $ m $ lines containing the coordinates of the second polygon’s vertices.
It is guaranteed that both polygons are simple (no self-intersections), and in general that the obtained polygonal lines do not intersect each other. Also, you can assume that no 3 consecutive points of a polygon lie on the same line.</div>
<h3>输出格式</h3>
<br />
<div>Your output should contain only one line, with the words "YES" or "NO", depending on whether the two given polygons are well-connected.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
0 0 0
2 0 0
2 2 0
0 2 0
4
1 1 -1
1 1 1
1 3 1
1 3 -1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>YES
</code></pre>
<h2>说明</h2>
<div>On the picture below, the two polygons are well-connected, as the edges of the vertical polygon cross the area of the horizontal one exactly once in one direction (for example, from above to below), and zero times in the other (in this case, from below to above). Note that the polygons do not have to be parallel to any of the xy-,xz-,yz- planes in general. ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF717I/aae87218adb3d9e7b8376b2466dbf34a96071f37.png)</div>
</article>
</div>
</div>
</body>
</html>
