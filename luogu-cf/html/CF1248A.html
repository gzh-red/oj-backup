<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Integer Points - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403678:O9KgY+s5J85rZ5WknMxK7pOUkKAcgC/A1nTlJ5sE/x8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22DLS%20and%20JLS%20are%20bored%20with%20a%20Math%20lesson.%20In%20order%20to%20entertain%20themselves%2C%20DLS%20took%20a%20sheet%20of%20paper%20and%20drew%20%24%20n%20%24%20distinct%20lines%2C%20given%20by%20equations%20%24%20y%20%3D%20x%20%2B%20p_i%20%24%20for%20some%20distinct%20%24%20p_1%2C%20p_2%2C%20%5C%5Cldots%2C%20p_n%20%24%20.%5Cn%5CnThen%20JLS%20drew%20on%20the%20same%20paper%20sheet%20%24%20m%20%24%20distinct%20lines%20given%20by%20equations%20%24%20y%20%3D%20-x%20%2B%20q_i%20%24%20for%20some%20distinct%20%24%20q_1%2C%20q_2%2C%20%5C%5Cldots%2C%20q_m%20%24%20.%5Cn%5CnDLS%20and%20JLS%20are%20interested%20in%20counting%20how%20many%20line%20pairs%20have%20integer%20intersection%20points%2C%20i.e.%20points%20with%20both%20coordinates%20that%20are%20integers.%20Unfortunately%2C%20the%20lesson%20will%20end%20up%20soon%2C%20so%20DLS%20and%20JLS%20are%20asking%20for%20your%20help.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20t%20%24%20%28%20%24%201%20%5C%5Cle%20t%20%5C%5Cle%201000%20%24%20%29%2C%20the%20number%20of%20test%20cases%20in%20the%20input.%20Then%20follow%20the%20test%20case%20descriptions.%5Cn%5CnThe%20first%20line%20of%20a%20test%20case%20contains%20an%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%2010%5E5%20%24%20%29%2C%20the%20number%20of%20lines%20drawn%20by%20DLS.%5Cn%5CnThe%20second%20line%20of%20a%20test%20case%20contains%20%24%20n%20%24%20distinct%20integers%20%24%20p_i%20%24%20%28%20%24%200%20%5C%5Cle%20p_i%20%5C%5Cle%2010%5E9%20%24%20%29%20describing%20the%20lines%20drawn%20by%20DLS.%20The%20integer%20%24%20p_i%20%24%20describes%20a%20line%20given%20by%20the%20equation%20%24%20y%20%3D%20x%20%2B%20p_i%20%24%20.%5Cn%5CnThe%20third%20line%20of%20a%20test%20case%20contains%20an%20integer%20%24%20m%20%24%20%28%20%24%201%20%5C%5Cle%20m%20%5C%5Cle%2010%5E5%20%24%20%29%2C%20the%20number%20of%20lines%20drawn%20by%20JLS.%5Cn%5CnThe%20fourth%20line%20of%20a%20test%20case%20contains%20%24%20m%20%24%20distinct%20integers%20%24%20q_i%20%24%20%28%20%24%200%20%5C%5Cle%20q_i%20%5C%5Cle%2010%5E9%20%24%20%29%20describing%20the%20lines%20drawn%20by%20JLS.%20The%20integer%20%24%20q_i%20%24%20describes%20a%20line%20given%20by%20the%20equation%20%24%20y%20%3D%20-x%20%2B%20q_i%20%24%20.%5Cn%5CnThe%20sum%20of%20the%20values%20of%20%24%20n%20%24%20over%20all%20test%20cases%20in%20the%20input%20does%20not%20exceed%20%24%2010%5E5%20%24%20.%20Similarly%2C%20the%20sum%20of%20the%20values%20of%20%24%20m%20%24%20over%20all%20test%20cases%20in%20the%20input%20does%20not%20exceed%20%24%2010%5E5%20%24%20.%5Cn%5CnIn%20hacks%20it%20is%20allowed%20to%20use%20only%20one%20test%20case%20in%20the%20input%2C%20so%20%24%20t%3D1%20%24%20should%20be%20satisfied.%22%2C%22outputFormat%22%3A%22For%20each%20test%20case%20in%20the%20input%20print%20a%20single%20integer%20%5Cu2014%20the%20number%20of%20line%20pairs%20with%20integer%20intersection%20points.%22%2C%22samples%22%3A%5B%5B%22%5Cn3%5Cn3%5Cn1%203%202%5Cn2%5Cn0%203%5Cn1%5Cn1%5Cn1%5Cn1%5Cn1%5Cn2%5Cn1%5Cn1%5Cn%22%2C%22%5Cn3%5Cn1%5Cn0%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20picture%20shows%20the%20lines%20from%20the%20first%20test%20case%20of%20the%20example.%20Black%20circles%20denote%20intersection%20points%20with%20integer%20coordinates.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1248A%5C%2F8a7326901424797e600db27d56ff13441fc9fe8a.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1248%5C%2FA%22%2C%22id%22%3A%221248A%22%7D%2C%22translation%22%3A%22%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu5e8f%5Cu5217p1%5Cuff0cp2...pn%5Cuff0c%5Cu4ee3%5Cu8868n%5Cu6761%5Cu76f4%5Cu7ebf%20y%3Dx%2Bpi%5Cr%5Cn%5Cr%5Cn%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3am%5Cu7684%5Cu5e8f%5Cu5217q1%5Cuff0cq2...qm%5Cuff0c%5Cu4ee3%5Cu8868m%5Cu6761%5Cu76f4%5Cu7ebf%20y%3D-x%2Bqi%5Cr%5Cn%5Cr%5Cn%5Cu95ee%5Cu8fd9n%2Bm%5Cu6761%5Cu76f4%5Cu7ebf%5Cu4e4b%5Cu95f4%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu6574%5Cu6570%5Cu4ea4%5Cu70b9%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A144%2C%22totalAccepted%22%3A97%2C%22pid%22%3A%22CF1248A%22%2C%22title%22%3A%22Integer%20Points%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1248D1%22%2C%22title%22%3A%22The%20World%20Is%20Just%20a%20Programming%20Task%20%28Easy%20Version%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1248B%22%2C%22title%22%3A%22Grow%20The%20Tree%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1239A%22%2C%22title%22%3A%22Ivan%20the%20Fool%20and%20the%20Probability%20Theory%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P5613%22%2C%22title%22%3A%22%5BMtOI2019%5D%5Cu9ed1%5Cu868a%5Cu5b50%5Cu591a%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1249A%22%2C%22title%22%3A%22Yet%20Another%20Dividing%20into%20Teams%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Integer%20Points%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Integer Points</h1>
<h2>题意翻译</h2>
<div>有一个长度为n的序列p1，p2...pn，代表n条直线 y=x+pi
有一个长度为m的序列q1，q2...qm，代表m条直线 y=-x+qi
问这n+m条直线之间有多少个整数交点。</div>
<h2>题目描述</h2>
<div>DLS and JLS are bored with a Math lesson. In order to entertain themselves, DLS took a sheet of paper and drew $ n $ distinct lines, given by equations $ y = x + p_i $ for some distinct $ p_1, p_2, \ldots, p_n $ .
Then JLS drew on the same paper sheet $ m $ distinct lines given by equations $ y = -x + q_i $ for some distinct $ q_1, q_2, \ldots, q_m $ .
DLS and JLS are interested in counting how many line pairs have integer intersection points, i.e. points with both coordinates that are integers. Unfortunately, the lesson will end up soon, so DLS and JLS are asking for your help.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ t $ ( $ 1 \le t \le 1000 $ ), the number of test cases in the input. Then follow the test case descriptions.
The first line of a test case contains an integer $ n $ ( $ 1 \le n \le 10^5 $ ), the number of lines drawn by DLS.
The second line of a test case contains $ n $ distinct integers $ p_i $ ( $ 0 \le p_i \le 10^9 $ ) describing the lines drawn by DLS. The integer $ p_i $ describes a line given by the equation $ y = x + p_i $ .
The third line of a test case contains an integer $ m $ ( $ 1 \le m \le 10^5 $ ), the number of lines drawn by JLS.
The fourth line of a test case contains $ m $ distinct integers $ q_i $ ( $ 0 \le q_i \le 10^9 $ ) describing the lines drawn by JLS. The integer $ q_i $ describes a line given by the equation $ y = -x + q_i $ .
The sum of the values of $ n $ over all test cases in the input does not exceed $ 10^5 $ . Similarly, the sum of the values of $ m $ over all test cases in the input does not exceed $ 10^5 $ .
In hacks it is allowed to use only one test case in the input, so $ t=1 $ should be satisfied.</div>
<h3>输出格式</h3>
<br />
<div>For each test case in the input print a single integer — the number of line pairs with integer intersection points.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
3
3
1 3 2
2
0 3
1
1
1
1
1
2
1
1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
3
1
0
</code></pre>
<h2>说明</h2>
<div>The picture shows the lines from the first test case of the example. Black circles denote intersection points with integer coordinates.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1248A/8a7326901424797e600db27d56ff13441fc9fe8a.png)</div>
</article>
</div>
</div>
</body>
</html>
