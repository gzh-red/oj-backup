<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Bombs - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393108:E3jWTQA9W3dac3lwGXtmQbBB2xYfNZqGT+jexC15Tww=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%27ve%20got%20a%20robot%2C%20its%20task%20is%20destroying%20bombs%20on%20a%20square%20plane.%20Specifically%2C%20the%20square%20plane%20contains%20%24%20n%20%24%20bombs%2C%20the%20%24%20i%20%24%20-th%20bomb%20is%20at%20point%20with%20coordinates%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%29%20%24%20.%20We%20know%20that%20no%20two%20bombs%20are%20at%20the%20same%20point%20and%20that%20no%20bomb%20is%20at%20point%20with%20coordinates%20%24%20%280%2C0%29%20%24%20.%20Initially%2C%20the%20robot%20is%20at%20point%20with%20coordinates%20%24%20%280%2C0%29%20%24%20.%20Also%2C%20let%27s%20mark%20the%20robot%27s%20current%20position%20as%20%24%20%28x%2Cy%29%20%24%20.%20In%20order%20to%20destroy%20all%20the%20bombs%2C%20the%20robot%20can%20perform%20three%20types%20of%20operations%3A%5Cn%5Cn1.%20Operation%20has%20format%20%5C%221%20k%20dir%5C%22.%20To%20perform%20the%20operation%20robot%20have%20to%20move%20in%20direction%20%24%20dir%20%24%20%24%20k%20%24%20%28%20%24%20k%3E%3D1%20%24%20%29%20times.%20There%20are%20only%20%24%204%20%24%20directions%20the%20robot%20can%20move%20in%3A%20%5C%22R%5C%22%2C%20%5C%22L%5C%22%2C%20%5C%22U%5C%22%2C%20%5C%22D%5C%22.%20During%20one%20move%20the%20robot%20can%20move%20from%20the%20current%20point%20to%20one%20of%20following%20points%3A%20%24%20%28x%2B1%2Cy%29%20%24%20%2C%20%24%20%28x-1%2Cy%29%20%24%20%2C%20%24%20%28x%2Cy%2B1%29%20%24%20%2C%20%24%20%28x%2Cy-1%29%20%24%20%28corresponding%20to%20directions%29.%20It%20is%20forbidden%20to%20move%20from%20point%20%24%20%28x%2Cy%29%20%24%20%2C%20if%20at%20least%20one%20point%20on%20the%20path%20%28besides%20the%20destination%20point%29%20contains%20a%20bomb.%5Cn2.%20Operation%20has%20format%20%5C%222%5C%22.%20To%20perform%20the%20operation%20robot%20have%20to%20pick%20a%20bomb%20at%20point%20%24%20%28x%2Cy%29%20%24%20and%20put%20it%20in%20a%20special%20container.%20Thus%2C%20the%20robot%20can%20carry%20the%20bomb%20from%20any%20point%20to%20any%20other%20point.%20The%20operation%20cannot%20be%20performed%20if%20point%20%24%20%28x%2Cy%29%20%24%20has%20no%20bomb.%20It%20is%20forbidden%20to%20pick%20a%20bomb%20if%20the%20robot%20already%20has%20a%20bomb%20in%20its%20container.%5Cn3.%20Operation%20has%20format%20%5C%223%5C%22.%20To%20perform%20the%20operation%20robot%20have%20to%20take%20a%20bomb%20out%20of%20the%20container%20and%20destroy%20it.%20You%20are%20allowed%20to%20perform%20this%20operation%20only%20if%20the%20robot%20is%20at%20point%20%24%20%280%2C0%29%20%24%20.%20It%20is%20forbidden%20to%20perform%20the%20operation%20if%20the%20container%20has%20no%20bomb.%5Cn%5CnHelp%20the%20robot%20and%20find%20the%20shortest%20possible%20sequence%20of%20operations%20he%20can%20perform%20to%20destroy%20all%20bombs%20on%20the%20coordinate%20plane.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D10%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20bombs%20on%20the%20coordinate%20plane.%20Next%20%24%20n%20%24%20lines%20contain%20two%20integers%20each.%20The%20%24%20i%20%24%20-th%20line%20contains%20numbers%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%29%20%24%20%28%20%24%20-10%5E%7B9%7D%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20%29%20%5Cu2014%20the%20coordinates%20of%20the%20%24%20i%20%24%20-th%20bomb.%20It%20is%20guaranteed%20that%20no%20two%20bombs%20are%20located%20at%20the%20same%20point%20and%20no%20bomb%20is%20at%20point%20%24%20%280%2C0%29%20%24%20.%22%2C%22outputFormat%22%3A%22In%20a%20single%20line%20print%20a%20single%20integer%20%24%20k%20%24%20%5Cu2014%20the%20minimum%20number%20of%20operations%20needed%20to%20destroy%20all%20bombs.%20On%20the%20next%20lines%20print%20the%20descriptions%20of%20these%20%24%20k%20%24%20operations.%20If%20there%20are%20multiple%20sequences%2C%20you%20can%20print%20any%20of%20them.%20It%20is%20guaranteed%20that%20there%20is%20the%20solution%20where%20%24%20k%3C%3D10%5E%7B6%7D%20%24%20.%22%2C%22samples%22%3A%5B%5B%222%5Cn1%201%5Cn-1%20-1%5Cn%22%2C%2212%5Cn1%201%20R%5Cn1%201%20U%5Cn2%5Cn1%201%20L%5Cn1%201%20D%5Cn3%5Cn1%201%20L%5Cn1%201%20D%5Cn2%5Cn1%201%20R%5Cn1%201%20U%5Cn3%5Cn%22%5D%2C%5B%223%5Cn5%200%5Cn0%205%5Cn1%200%5Cn%22%2C%2212%5Cn1%201%20R%5Cn2%5Cn1%201%20L%5Cn3%5Cn1%205%20R%5Cn2%5Cn1%205%20L%5Cn3%5Cn1%205%20U%5Cn2%5Cn1%205%20D%5Cn3%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F350%5C%2FC%22%2C%22id%22%3A%22350C%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu673a%5Cu5668%5Cu4eba%5Cuff0c%5Cu5728%280%2C0%29%2C%5Cu5728%5Cu9664%5Cu4e86%280%2C0%29%5Cu70b9%5Cu4e4b%5Cu5916%5Cu7684%5Cu70b9%5Cu4e2d%5Cu5b58%5Cu5728%5Cu4e00%5Cu4e9b%5Cu70b8%5Cu5f39%5Cuff0c%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu5c06%5Cu8fd9%5Cu4e9b%5Cu70b8%5Cu5f39%5Cu79fb%5Cu5230%280%2C0%29%5Cu5904%5Cu9500%5Cu6bc1%5Cu3002%5Cu8f93%5Cu51fa%5Cu6700%5Cu5c11%5Cu9700%5Cu8981%5Cu7684%5Cu6b65%5Cu6570%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A32%2C%22totalAccepted%22%3A8%2C%22pid%22%3A%22CF350C%22%2C%22title%22%3A%22Bombs%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Bombs%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Bombs</h1>
<h2>题意翻译</h2>
<div>给你一个机器人，在(0,0),在除了(0,0)点之外的点中存在一些炸弹，你的任务是将这些炸弹移到(0,0)处销毁。输出最少需要的步数。</div>
<h2>题目描述</h2>
<div>You've got a robot, its task is destroying bombs on a square plane. Specifically, the square plane contains $ n $ bombs, the $ i $ -th bomb is at point with coordinates $ (x_{i},y_{i}) $ . We know that no two bombs are at the same point and that no bomb is at point with coordinates $ (0,0) $ . Initially, the robot is at point with coordinates $ (0,0) $ . Also, let's mark the robot's current position as $ (x,y) $ . In order to destroy all the bombs, the robot can perform three types of operations:
1. Operation has format "1 k dir". To perform the operation robot have to move in direction $ dir $ $ k $ ( $ k>=1 $ ) times. There are only $ 4 $ directions the robot can move in: "R", "L", "U", "D". During one move the robot can move from the current point to one of following points: $ (x+1,y) $ , $ (x-1,y) $ , $ (x,y+1) $ , $ (x,y-1) $ (corresponding to directions). It is forbidden to move from point $ (x,y) $ , if at least one point on the path (besides the destination point) contains a bomb.
2. Operation has format "2". To perform the operation robot have to pick a bomb at point $ (x,y) $ and put it in a special container. Thus, the robot can carry the bomb from any point to any other point. The operation cannot be performed if point $ (x,y) $ has no bomb. It is forbidden to pick a bomb if the robot already has a bomb in its container.
3. Operation has format "3". To perform the operation robot have to take a bomb out of the container and destroy it. You are allowed to perform this operation only if the robot is at point $ (0,0) $ . It is forbidden to perform the operation if the container has no bomb.
Help the robot and find the shortest possible sequence of operations he can perform to destroy all bombs on the coordinate plane.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ ( $ 1<=n<=10^{5} $ ) — the number of bombs on the coordinate plane. Next $ n $ lines contain two integers each. The $ i $ -th line contains numbers $ (x_{i},y_{i}) $ ( $ -10^{9}<=x_{i},y_{i}<=10^{9} $ ) — the coordinates of the $ i $ -th bomb. It is guaranteed that no two bombs are located at the same point and no bomb is at point $ (0,0) $ .</div>
<h3>输出格式</h3>
<br />
<div>In a single line print a single integer $ k $ — the minimum number of operations needed to destroy all bombs. On the next lines print the descriptions of these $ k $ operations. If there are multiple sequences, you can print any of them. It is guaranteed that there is the solution where $ k<=10^{6} $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
1 1
-1 -1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>12
1 1 R
1 1 U
2
1 1 L
1 1 D
3
1 1 L
1 1 D
2
1 1 R
1 1 U
3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3
5 0
0 5
1 0
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>12
1 1 R
2
1 1 L
3
1 5 R
2
1 5 L
3
1 5 U
2
1 5 D
3
</code></pre>
</article>
</div>
</div>
</body>
</html>
