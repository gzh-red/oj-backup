<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>The Beaver&#039;s Problem - 2 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573391483:X7RjPzKgtyG9KRy8D/7GrqUpJZvfds+uAUBJT9NtfFo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Offering%20the%20ABBYY%20Cup%20participants%20a%20problem%20written%20by%20the%20Smart%20Beaver%20is%20becoming%20a%20tradition.%20He%20proposed%20the%20following%20problem.%5Cn%5CnYou%20are%20given%20a%20monochrome%20image%2C%20that%20is%2C%20an%20image%20that%20is%20composed%20of%20two%20colors%20%28black%20and%20white%29.%20The%20image%20is%20given%20in%20raster%20form%2C%20that%20is%2C%20as%20a%20matrix%20of%20pixels%27%20colors%2C%20and%20the%20matrix%27s%20size%20coincides%20with%20the%20size%20of%20the%20image.%5Cn%5CnThe%20white%20color%20on%20the%20given%20image%20corresponds%20to%20the%20background.%20Also%2C%20the%20image%20contains%20several%20black%20geometric%20shapes.%20It%20is%20known%20that%20the%20image%20can%20contain%20only%20two%20types%20of%20shapes%3A%20squares%20and%20circles.%20Your%20task%20is%20to%20count%20the%20number%20of%20circles%20and%20the%20number%20of%20squares%20which%20the%20given%20image%20contains.%5Cn%5CnThe%20squares%20on%20the%20image%20can%20be%20rotated%20arbitrarily.%20In%20addition%2C%20the%20image%20can%20possibly%20contain%20some%20noise%20arranged%20as%20follows%3A%20each%20pixel%20of%20the%20original%20image%20can%20change%20its%20color%20to%20the%20opposite%20with%20the%20probability%20of%20%24%2020%20%24%20%25.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF178E1%5C%2F575cc300a436bc791f059ed1604954db020e4792.png%29%20An%20example%20of%20an%20image%20that%20has%20no%20noise%20and%20the%20sides%20of%20the%20squares%20are%20parallel%20to%20the%20coordinate%20axes%20%28two%20circles%20and%20three%20squares%29.%20%20%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF178E1%5C%2F5a255ee1bca061f5ff62a305107ac74540469a88.png%29%20An%20example%20of%20an%20image%20that%20has%20no%20noise%20and%20the%20squares%20are%20rotated%20arbitrarily%20%28two%20circles%20and%20three%20squares%29.%20%20%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF178E1%5C%2F6588309d80aee82245c95133dff3b167b5dbc7e6.png%29%20An%20example%20of%20an%20image%20that%20has%20noise%20and%20the%20squares%20are%20rotated%20arbitrarily%20%28one%20circle%20and%20three%20squares%29.%22%2C%22inputFormat%22%3A%22The%20first%20input%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201000%3C%3Dn%3C%3D2000%20%24%20%29%2C%20which%20is%20the%20length%20and%20the%20width%20of%20the%20original%20image.%5Cn%5CnNext%20%24%20n%20%24%20lines%20describe%20the%20matrix%20of%20colors%20of%20the%20image%20pixels.%20The%20%24%20i%20%24%20-th%20line%20contains%20exactly%20%24%20n%20%24%20integers%20%24%20a_%7Bij%7D%20%24%20%28%20%24%200%3C%3Da_%7Bij%7D%3C%3D1%20%24%20%29%2C%20separated%20by%20spaces.%20Value%20of%20%24%20a_%7Bij%7D%3D0%20%24%20corresponds%20to%20a%20white%20pixel%20and%20%24%20a_%7Bij%7D%3D1%20%24%20corresponds%20to%20a%20black%20one.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20lengths%20of%20the%20sides%20of%20the%20squares%20and%20the%20diameters%20of%20the%20circles%20in%20the%20image%20are%20at%20least%2015%20pixels%2C%20and%20the%20distance%20between%20any%20two%20figures%20is%20at%20least%2010%20pixels.%20It%20is%20also%20guaranteed%20that%20a%20human%20can%20easily%20calculate%20the%20number%20of%20circles%20and%20squares%20in%20the%20original%20image.%20The%20total%20number%20of%20figures%20in%20the%20image%20doesn%27t%20exceed%2050.%5Cn%5CnThe%20input%20limitations%20for%20getting%2020%20points%20are%3A%5Cn%5Cn-%20These%20test%20cases%20have%20no%20noise%20and%20the%20sides%20of%20the%20squares%20are%20parallel%20to%20the%20coordinate%20axes.%5Cn%5CnThe%20input%20limitations%20for%20getting%2050%20points%20are%3A%5Cn%5Cn-%20These%20test%20cases%20have%20no%20noise%2C%20but%20the%20squares%20are%20rotated%20arbitrarily.%5Cn%5CnThe%20input%20limitations%20for%20getting%20100%20points%20are%3A%5Cn%5Cn-%20These%20test%20cases%20have%20noise%20and%20the%20squares%20are%20rotated%20arbitrarily.%22%2C%22outputFormat%22%3A%22Print%20exactly%20two%20integers%2C%20separated%20by%20a%20single%20space%20%5Cu2014%20the%20number%20of%20circles%20and%20the%20number%20of%20squares%20in%20the%20given%20image%2C%20correspondingly.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22You%20are%20given%20a%20sample%20of%20original%20data%20for%20each%20difficulty%20level.%20The%20samples%20are%20available%20at%20http%3A%5C%2F%5C%2Fcodeforces.ru%5C%2Fstatic%5C%2Fmaterials%5C%2Fcontests%5C%2F178%5C%2Fe-samples.zip%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B5000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F178%5C%2FE1%22%2C%22id%22%3A%22178E1%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF178E1%22%2C%22title%22%3A%22The%20Beaver%27s%20Problem%20-%202%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22The%20Beaver%27s%20Problem%20-%202%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>The Beaver&#039;s Problem - 2</h1>
<h2>题目描述</h2>
<div>Offering the ABBYY Cup participants a problem written by the Smart Beaver is becoming a tradition. He proposed the following problem.
You are given a monochrome image, that is, an image that is composed of two colors (black and white). The image is given in raster form, that is, as a matrix of pixels' colors, and the matrix's size coincides with the size of the image.
The white color on the given image corresponds to the background. Also, the image contains several black geometric shapes. It is known that the image can contain only two types of shapes: squares and circles. Your task is to count the number of circles and the number of squares which the given image contains.
The squares on the image can be rotated arbitrarily. In addition, the image can possibly contain some noise arranged as follows: each pixel of the original image can change its color to the opposite with the probability of $ 20 $ %.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF178E1/575cc300a436bc791f059ed1604954db020e4792.png) An example of an image that has no noise and the sides of the squares are parallel to the coordinate axes (two circles and three squares). ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF178E1/5a255ee1bca061f5ff62a305107ac74540469a88.png) An example of an image that has no noise and the squares are rotated arbitrarily (two circles and three squares). ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF178E1/6588309d80aee82245c95133dff3b167b5dbc7e6.png) An example of an image that has noise and the squares are rotated arbitrarily (one circle and three squares).</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input line contains a single integer $ n $ ( $ 1000<=n<=2000 $ ), which is the length and the width of the original image.
Next $ n $ lines describe the matrix of colors of the image pixels. The $ i $ -th line contains exactly $ n $ integers $ a_{ij} $ ( $ 0<=a_{ij}<=1 $ ), separated by spaces. Value of $ a_{ij}=0 $ corresponds to a white pixel and $ a_{ij}=1 $ corresponds to a black one.
It is guaranteed that the lengths of the sides of the squares and the diameters of the circles in the image are at least 15 pixels, and the distance between any two figures is at least 10 pixels. It is also guaranteed that a human can easily calculate the number of circles and squares in the original image. The total number of figures in the image doesn't exceed 50.
The input limitations for getting 20 points are:
- These test cases have no noise and the sides of the squares are parallel to the coordinate axes.
The input limitations for getting 50 points are:
- These test cases have no noise, but the squares are rotated arbitrarily.
The input limitations for getting 100 points are:
- These test cases have noise and the squares are rotated arbitrarily.</div>
<h3>输出格式</h3>
<br />
<div>Print exactly two integers, separated by a single space — the number of circles and the number of squares in the given image, correspondingly.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
<h2>说明</h2>
<div>You are given a sample of original data for each difficulty level. The samples are available at http://codeforces.ru/static/materials/contests/178/e-samples.zip .</div>
</article>
</div>
</div>
</body>
</html>
