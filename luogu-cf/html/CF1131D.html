<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Gourmet choice - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573402014:ZHM1meQSrIbdWgILMnSKCZNOCdEg+O39wuTnrRRsxHI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Mr.%20Apple%2C%20a%20gourmet%2C%20works%20as%20editor-in-chief%20of%20a%20gastronomic%20periodical.%20He%20travels%20around%20the%20world%2C%20tasting%20new%20delights%20of%20famous%20chefs%20from%20the%20most%20fashionable%20restaurants.%20Mr.%20Apple%20has%20his%20own%20signature%20method%20of%20review%20%5Cu2014%20in%20each%20restaurant%20Mr.%20Apple%20orders%20two%20sets%20of%20dishes%20on%20two%20different%20days.%20All%20the%20dishes%20are%20different%2C%20because%20Mr.%20Apple%20doesn%27t%20like%20to%20eat%20the%20same%20food.%20For%20each%20pair%20of%20dishes%20from%20different%20days%20he%20remembers%20exactly%20which%20was%20better%2C%20or%20that%20they%20were%20of%20the%20same%20quality.%20After%20this%20the%20gourmet%20evaluates%20each%20dish%20with%20a%20positive%20integer.%5Cn%5CnOnce%2C%20during%20a%20revision%20of%20a%20restaurant%20of%20Celtic%20medieval%20cuisine%20named%20%5Cu00abPoisson%5Cu00bb%2C%20that%20serves%20chestnut%20soup%20with%20fir%2C%20warm%20soda%20bread%2C%20spicy%20lemon%20pie%20and%20other%20folk%20food%2C%20Mr.%20Apple%20was%20very%20pleasantly%20surprised%20the%20gourmet%20with%20its%20variety%20of%20menu%2C%20and%20hence%20ordered%20too%20much.%20Now%20he%27s%20confused%20about%20evaluating%20dishes.%5Cn%5CnThe%20gourmet%20tasted%20a%20set%20of%20%24%20n%20%24%20dishes%20on%20the%20first%20day%20and%20a%20set%20of%20%24%20m%20%24%20dishes%20on%20the%20second%20day.%20He%20made%20a%20table%20%24%20a%20%24%20of%20size%20%24%20n%20%5C%5Ctimes%20m%20%24%20%2C%20in%20which%20he%20described%20his%20impressions.%20If%2C%20according%20to%20the%20expert%2C%20dish%20%24%20i%20%24%20from%20the%20first%20set%20was%20better%20than%20dish%20%24%20j%20%24%20from%20the%20second%20set%2C%20then%20%24%20a_%7Bij%7D%20%24%20is%20equal%20to%20%5C%22%3E%5C%22%2C%20in%20the%20opposite%20case%20%24%20a_%7Bij%7D%20%24%20is%20equal%20to%20%5C%22%3C%5C%22.%20Dishes%20also%20may%20be%20equally%20good%2C%20in%20this%20case%20%24%20a_%7Bij%7D%20%24%20is%20%5C%22%3D%5C%22.%5Cn%5CnNow%20Mr.%20Apple%20wants%20you%20to%20help%20him%20to%20evaluate%20every%20dish.%20Since%20Mr.%20Apple%20is%20very%20strict%2C%20he%20will%20evaluate%20the%20dishes%20so%20that%20the%20maximal%20number%20used%20is%20as%20small%20as%20possible.%20But%20Mr.%20Apple%20also%20is%20very%20fair%2C%20so%20he%20never%20evaluates%20the%20dishes%20so%20that%20it%20goes%20against%20his%20feelings.%20In%20other%20words%2C%20if%20%24%20a_%7Bij%7D%20%24%20is%20%5C%22%3C%5C%22%2C%20then%20the%20number%20assigned%20to%20dish%20%24%20i%20%24%20from%20the%20first%20set%20should%20be%20less%20than%20the%20number%20of%20dish%20%24%20j%20%24%20from%20the%20second%20set%2C%20if%20%24%20a_%7Bij%7D%20%24%20is%20%5C%22%3E%5C%22%2C%20then%20it%20should%20be%20greater%2C%20and%20finally%20if%20%24%20a_%7Bij%7D%20%24%20is%20%5C%22%3D%5C%22%2C%20then%20the%20numbers%20should%20be%20the%20same.%5Cn%5CnHelp%20Mr.%20Apple%20to%20evaluate%20each%20dish%20from%20both%20sets%20so%20that%20it%20is%20consistent%20with%20his%20feelings%2C%20or%20determine%20that%20this%20is%20impossible.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%20%5C%5Cleq%20n%2C%20m%20%5C%5Cleq%201000%20%24%20%29%20%5Cu2014%20the%20number%20of%20dishes%20in%20both%20days.%5Cn%5CnEach%20of%20the%20next%20%24%20n%20%24%20lines%20contains%20a%20string%20of%20%24%20m%20%24%20symbols.%20The%20%24%20j%20%24%20-th%20symbol%20on%20%24%20i%20%24%20-th%20line%20is%20%24%20a_%7Bij%7D%20%24%20.%20All%20strings%20consist%20only%20of%20%5C%22%3C%5C%22%2C%20%5C%22%3E%5C%22%20and%20%5C%22%3D%5C%22.%22%2C%22outputFormat%22%3A%22The%20first%20line%20of%20output%20should%20contain%20%5C%22Yes%5C%22%2C%20if%20it%27s%20possible%20to%20do%20a%20correct%20evaluation%20for%20all%20the%20dishes%2C%20or%20%5C%22No%5C%22%20otherwise.%5Cn%5CnIf%20case%20an%20answer%20exist%2C%20on%20the%20second%20line%20print%20%24%20n%20%24%20integers%20%5Cu2014%20evaluations%20of%20dishes%20from%20the%20first%20set%2C%20and%20on%20the%20third%20line%20print%20%24%20m%20%24%20integers%20%5Cu2014%20evaluations%20of%20dishes%20from%20the%20second%20set.%22%2C%22samples%22%3A%5B%5B%223%204%5Cn%3E%3E%3E%3E%5Cn%3E%3E%3E%3E%5Cn%3E%3E%3E%3E%22%2C%22Yes%5Cn2%202%202%20%5Cn1%201%201%201%20%5Cn%22%5D%2C%5B%223%203%5Cn%3E%3E%3E%5Cn%3C%3C%3C%5Cn%3E%3E%3E%22%2C%22Yes%5Cn3%201%203%20%5Cn2%202%202%20%5Cn%22%5D%2C%5B%223%202%5Cn%3D%3D%5Cn%3D%3C%5Cn%3D%3D%22%2C%22No%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%2C%20all%20dishes%20of%20the%20first%20day%20are%20better%20than%20dishes%20of%20the%20second%20day.%20So%2C%20the%20highest%20score%20will%20be%20%24%202%20%24%20%2C%20for%20all%20dishes%20of%20the%20first%20day.%5Cn%5CnIn%20the%20third%20sample%2C%20the%20table%20is%20contradictory%20%5Cu2014%20there%20is%20no%20possible%20evaluation%20of%20the%20dishes%20that%20satisfies%20it.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1131%5C%2FD%22%2C%22id%22%3A%221131D%22%7D%2C%22translation%22%3A%22%5Cu6709%5Cu4e24%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%5Cu5e8f%5Cu5217%20%24a%2Cb%24%5Cuff0c%5Cu957f%5Cu5ea6%5Cu5206%5Cu522b%5Cu4e3a%20%24n%2Cm%24%5Cu3002%5Cu7ed9%5Cu51fa%5Cu6240%5Cu6709%20%24a_i%24%20%5Cu548c%20%24b_j%281%5C%5Cle%20i%5C%5Cle%20n%2C1%5C%5Cle%20j%5C%5Cle%20m%29%24%20%5Cu7684%5Cu5927%5Cu5c0f%5Cu5173%5Cu7cfb%5Cuff08%5Cu5927%5Cu4e8e%5Cuff0c%5Cu5c0f%5Cu4e8e%5Cu6216%5Cu8005%5Cu7b49%5Cu4e8e%5Cuff09%5Cuff0c%5Cu8bf7%5Cu6784%5Cu9020%5Cu51fa%5Cu7b26%5Cu5408%5Cu6761%5Cu4ef6%5Cu7684%20%24a%24%20%5Cu548c%20%24b%24%5Cu3002%5Cu5982%5Cu679c%5Cu65e0%5Cu89e3%5Cuff0c%5Cu8f93%5Cu51faNO%5Cu3002%5Cu5982%5Cu679c%5Cu6709%5Cu591a%5Cu4e2a%5Cu89e3%5Cuff0c%5Cu8f93%5Cu51fa%20%24a%2Cb%24%20%5Cu4e2d%5Cu6700%5Cu5927%5Cu5143%5Cu7d20%5Cu6700%5Cu5c0f%5Cu7684%5Cu65b9%5Cu6848%5Cu3002%5Cr%5Cn%5Cr%5Cn%241%5C%5Cle%20n%2Cm%5C%5Cle%201000%24%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A166%2C%22totalAccepted%22%3A95%2C%22pid%22%3A%22CF1131D%22%2C%22title%22%3A%22Gourmet%20choice%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A102417%2C%22title%22%3A%22%5Cu6837%5Cu4f8b%5Cu574f%5Cu6389%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A34531%2C%22name%22%3A%22CF1131D%20Gourmet%20choice%22%2C%22slug%22%3A%22CF1131D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1105C%22%2C%22title%22%3A%22Ayoub%20and%20Lost%20Array%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1131F%22%2C%22title%22%3A%22Asya%20And%20Kittens%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1131C%22%2C%22title%22%3A%22Birthday%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1129B%22%2C%22title%22%3A%22Wrong%20Answer%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1244A%22%2C%22title%22%3A%22Pens%20and%20Pencils%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Gourmet%20choice%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Gourmet choice</h1>
<h2>题意翻译</h2>
<div>有两个正整数序列 $a,b$，长度分别为 $n,m$。给出所有 $a_i$ 和 $b_j(1\le i\le n,1\le j\le m)$ 的大小关系（大于，小于或者等于），请构造出符合条件的 $a$ 和 $b$。如果无解，输出NO。如果有多个解，输出 $a,b$ 中最大元素最小的方案。
$1\le n,m\le 1000$。</div>
<h2>题目描述</h2>
<div>Mr. Apple, a gourmet, works as editor-in-chief of a gastronomic periodical. He travels around the world, tasting new delights of famous chefs from the most fashionable restaurants. Mr. Apple has his own signature method of review — in each restaurant Mr. Apple orders two sets of dishes on two different days. All the dishes are different, because Mr. Apple doesn't like to eat the same food. For each pair of dishes from different days he remembers exactly which was better, or that they were of the same quality. After this the gourmet evaluates each dish with a positive integer.
Once, during a revision of a restaurant of Celtic medieval cuisine named «Poisson», that serves chestnut soup with fir, warm soda bread, spicy lemon pie and other folk food, Mr. Apple was very pleasantly surprised the gourmet with its variety of menu, and hence ordered too much. Now he's confused about evaluating dishes.
The gourmet tasted a set of $ n $ dishes on the first day and a set of $ m $ dishes on the second day. He made a table $ a $ of size $ n \times m $ , in which he described his impressions. If, according to the expert, dish $ i $ from the first set was better than dish $ j $ from the second set, then $ a_{ij} $ is equal to ">", in the opposite case $ a_{ij} $ is equal to "<". Dishes also may be equally good, in this case $ a_{ij} $ is "=".
Now Mr. Apple wants you to help him to evaluate every dish. Since Mr. Apple is very strict, he will evaluate the dishes so that the maximal number used is as small as possible. But Mr. Apple also is very fair, so he never evaluates the dishes so that it goes against his feelings. In other words, if $ a_{ij} $ is "<", then the number assigned to dish $ i $ from the first set should be less than the number of dish $ j $ from the second set, if $ a_{ij} $ is ">", then it should be greater, and finally if $ a_{ij} $ is "=", then the numbers should be the same.
Help Mr. Apple to evaluate each dish from both sets so that it is consistent with his feelings, or determine that this is impossible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integers $ n $ and $ m $ ( $ 1 \leq n, m \leq 1000 $ ) — the number of dishes in both days.
Each of the next $ n $ lines contains a string of $ m $ symbols. The $ j $ -th symbol on $ i $ -th line is $ a_{ij} $ . All strings consist only of "<", ">" and "=".</div>
<h3>输出格式</h3>
<br />
<div>The first line of output should contain "Yes", if it's possible to do a correct evaluation for all the dishes, or "No" otherwise.
If case an answer exist, on the second line print $ n $ integers — evaluations of dishes from the first set, and on the third line print $ m $ integers — evaluations of dishes from the second set.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 4
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Yes
2 2 2 
1 1 1 1 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3 3
&gt;&gt;&gt;
&lt;&lt;&lt;
&gt;&gt;&gt;</code></pre>
<h3>输出样例 #2</h3>
<pre><code>Yes
3 1 3 
2 2 2 
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3 2
==
=&lt;
==</code></pre>
<h3>输出样例 #3</h3>
<pre><code>No
</code></pre>
<h2>说明</h2>
<div>In the first sample, all dishes of the first day are better than dishes of the second day. So, the highest score will be $ 2 $ , for all dishes of the first day.
In the third sample, the table is contradictory — there is no possible evaluation of the dishes that satisfies it.</div>
</article>
</div>
</div>
</body>
</html>
