<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Email Aliases - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395696:XaQVb66mFhFcXjQJ09l1uLdT0/a3DayNuaNUONWg/LQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Polycarp%20has%20quite%20recently%20learned%20about%20email%20aliases.%20Of%20course%2C%20he%20used%20to%20suspect%20that%20the%20case%20of%20the%20letters%20doesn%27t%20matter%20in%20email%20addresses.%20He%20also%20learned%20that%20a%20popular%20mail%20server%20in%20Berland%20bmail.com%20ignores%20dots%20%28characters%20%27.%27%29%20and%20all%20the%20part%20of%20an%20address%20from%20the%20first%20character%20%5C%22plus%5C%22%20%28%27%2B%27%29%20to%20character%20%5C%22at%5C%22%20%28%27%40%27%29%20in%20a%20login%20part%20of%20email%20addresses.%5Cn%5CnFormally%2C%20any%20email%20address%20in%20this%20problem%20will%20look%20like%20%5C%22login%40domain%5C%22%2C%20where%3A%5Cn%5Cn-%20a%20%5C%22login%5C%22%20is%20a%20non-empty%20sequence%20of%20lowercase%20and%20uppercase%20letters%2C%20dots%20%28%27.%27%29%20and%20pluses%20%28%27%2B%27%29%2C%20which%20starts%20from%20a%20letter%3B%5Cn-%20a%20%5C%22domain%5C%22%20is%20a%20non-empty%20sequence%20of%20lowercase%20and%20uppercase%20letters%20and%20dots%2C%20at%20that%20the%20dots%20split%20the%20sequences%20into%20non-empty%20words%2C%20consisting%20only%20from%20letters%20%28that%20is%2C%20the%20%5C%22domain%5C%22%20starts%20from%20a%20letter%2C%20ends%20with%20a%20letter%20and%20doesn%27t%20contain%20two%20or%20more%20consecutive%20dots%29.%5Cn%5CnWhen%20you%20compare%20the%20addresses%2C%20the%20case%20of%20the%20characters%20isn%27t%20taken%20into%20consideration.%20Besides%2C%20when%20comparing%20the%20bmail.com%20addresses%2C%20servers%20ignore%20the%20dots%20in%20the%20login%20and%20all%20characters%20from%20the%20first%20character%20%5C%22plus%5C%22%20%28%27%2B%27%29%20to%20character%20%5C%22at%5C%22%20%28%27%40%27%29%20in%20login%20part%20of%20an%20email%20address.%5Cn%5CnFor%20example%2C%20addresses%20saratov%40example.com%20and%20SaratoV%40Example.Com%20correspond%20to%20the%20same%20account.%20Similarly%2C%20addresses%20ACM.ICPC.%40bmail.com%20and%20A.cmIcpc%40Bmail.Com%20also%20correspond%20to%20the%20same%20account%20%28the%20important%20thing%20here%20is%20that%20the%20domains%20of%20these%20addresses%20are%20bmail.com%29.%20The%20next%20example%20illustrates%20the%20use%20of%20character%20%27%2B%27%20in%20email%20address%20aliases%3A%20addresses%20polycarp%2Bcontest%40BMAIL.COM%2C%20Polycarp%40bmail.com%20and%20polycarp%2B%2Bacm%2Bicpc%40Bmail.Com%20also%20correspond%20to%20the%20same%20account%20on%20the%20server%20bmail.com.%20However%2C%20addresses%20a%40bmail.com.ru%20and%20a%2Bb%40bmail.com.ru%20are%20not%20equivalent%2C%20because%20%27%2B%27%20is%20a%20special%20character%20only%20for%20bmail.com%20addresses.%5Cn%5CnPolycarp%20has%20thousands%20of%20records%20in%20his%20address%20book.%20Until%20today%2C%20he%20sincerely%20thought%20that%20that%27s%20exactly%20the%20number%20of%20people%20around%20the%20world%20that%20he%20is%20communicating%20to.%20Now%20he%20understands%20that%20not%20always%20distinct%20records%20in%20the%20address%20book%20represent%20distinct%20people.%5Cn%5CnHelp%20Polycarp%20bring%20his%20notes%20in%20order%20by%20merging%20equivalent%20addresses%20into%20groups.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20a%20positive%20integer%20%24%20n%20%24%20%24%20%281%3C%3Dn%3C%3D2%5Cu00b710%5E%7B4%7D%29%20%24%20%5Cu2014%20the%20number%20of%20email%20addresses%20in%20Polycarp%27s%20address%20book.%5Cn%5CnThe%20following%20%24%20n%20%24%20lines%20contain%20the%20email%20addresses%2C%20one%20per%20line.%20It%20is%20guaranteed%20that%20all%20of%20them%20are%20correct.%20All%20the%20given%20lines%20are%20distinct.%20The%20lengths%20of%20the%20addresses%20are%20from%203%20to%20100%2C%20inclusive.%22%2C%22outputFormat%22%3A%22Print%20the%20number%20of%20groups%20%24%20k%20%24%20and%20then%20in%20%24%20k%20%24%20lines%20print%20the%20description%20of%20every%20group.%5Cn%5CnIn%20the%20%24%20i%20%24%20-th%20line%20print%20the%20number%20of%20addresses%20in%20the%20group%20and%20all%20addresses%20that%20belong%20to%20the%20%24%20i%20%24%20-th%20group%2C%20separated%20by%20a%20space.%20It%20is%20allowed%20to%20print%20the%20groups%20and%20addresses%20in%20each%20group%20in%20any%20order.%5Cn%5CnPrint%20the%20email%20addresses%20exactly%20as%20they%20were%20given%20in%20the%20input.%20Each%20address%20should%20go%20to%20exactly%20one%20group.%22%2C%22samples%22%3A%5B%5B%226%5CnICPC.%40bmail.com%5Cnp%2Bcon%2Btest%40BMAIL.COM%5CnP%40bmail.com%5Cna%40bmail.com.ru%5CnI.cpc%40Bmail.Com%5Cna%2Bb%40bmail.com.ru%5Cn%22%2C%224%5Cn2%20ICPC.%40bmail.com%20I.cpc%40Bmail.Com%20%5Cn2%20p%2Bcon%2Btest%40BMAIL.COM%20P%40bmail.com%20%5Cn1%20a%40bmail.com.ru%20%5Cn1%20a%2Bb%40bmail.com.ru%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F589%5C%2FA%22%2C%22id%22%3A%22589A%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22CF589A%22%2C%22title%22%3A%22Email%20Aliases%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Email%20Aliases%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Email Aliases</h1>
<h2>题目描述</h2>
<div>Polycarp has quite recently learned about email aliases. Of course, he used to suspect that the case of the letters doesn't matter in email addresses. He also learned that a popular mail server in Berland bmail.com ignores dots (characters '.') and all the part of an address from the first character "plus" ('+') to character "at" ('@') in a login part of email addresses.
Formally, any email address in this problem will look like "login@domain", where:
- a "login" is a non-empty sequence of lowercase and uppercase letters, dots ('.') and pluses ('+'), which starts from a letter;
- a "domain" is a non-empty sequence of lowercase and uppercase letters and dots, at that the dots split the sequences into non-empty words, consisting only from letters (that is, the "domain" starts from a letter, ends with a letter and doesn't contain two or more consecutive dots).
When you compare the addresses, the case of the characters isn't taken into consideration. Besides, when comparing the bmail.com addresses, servers ignore the dots in the login and all characters from the first character "plus" ('+') to character "at" ('@') in login part of an email address.
For example, addresses saratov@example.com and SaratoV@Example.Com correspond to the same account. Similarly, addresses ACM.ICPC.@bmail.com and A.cmIcpc@Bmail.Com also correspond to the same account (the important thing here is that the domains of these addresses are bmail.com). The next example illustrates the use of character '+' in email address aliases: addresses polycarp+contest@BMAIL.COM, Polycarp@bmail.com and polycarp++acm+icpc@Bmail.Com also correspond to the same account on the server bmail.com. However, addresses a@bmail.com.ru and a+b@bmail.com.ru are not equivalent, because '+' is a special character only for bmail.com addresses.
Polycarp has thousands of records in his address book. Until today, he sincerely thought that that's exactly the number of people around the world that he is communicating to. Now he understands that not always distinct records in the address book represent distinct people.
Help Polycarp bring his notes in order by merging equivalent addresses into groups.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains a positive integer $ n $ $ (1<=n<=2·10^{4}) $ — the number of email addresses in Polycarp's address book.
The following $ n $ lines contain the email addresses, one per line. It is guaranteed that all of them are correct. All the given lines are distinct. The lengths of the addresses are from 3 to 100, inclusive.</div>
<h3>输出格式</h3>
<br />
<div>Print the number of groups $ k $ and then in $ k $ lines print the description of every group.
In the $ i $ -th line print the number of addresses in the group and all addresses that belong to the $ i $ -th group, separated by a space. It is allowed to print the groups and addresses in each group in any order.
Print the email addresses exactly as they were given in the input. Each address should go to exactly one group.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6
ICPC.@bmail.com
p+con+test@BMAIL.COM
P@bmail.com
a@bmail.com.ru
I.cpc@Bmail.Com
a+b@bmail.com.ru
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
2 ICPC.@bmail.com I.cpc@Bmail.Com 
2 p+con+test@BMAIL.COM P@bmail.com 
1 a@bmail.com.ru 
1 a+b@bmail.com.ru 
</code></pre>
</article>
</div>
</div>
</body>
</html>
