<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Encoding - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395172:0nRypYadNgslrlb0qXd/gMTy6feG/1kpWIQ5TDVS5cc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Polycarp%20invented%20a%20new%20way%20to%20encode%20strings.%20Let%27s%20assume%20that%20we%20have%20string%20%24%20T%20%24%20%2C%20consisting%20of%20lowercase%20English%20letters.%20Let%27s%20choose%20several%20pairs%20of%20letters%20of%20the%20English%20alphabet%20in%20such%20a%20way%20that%20each%20letter%20occurs%20in%20at%20most%20one%20pair.%20Then%20let%27s%20replace%20each%20letter%20in%20%24%20T%20%24%20with%20its%20pair%20letter%20if%20there%20is%20a%20pair%20letter%20for%20it.%20For%20example%2C%20if%20you%20chose%20pairs%20%28l%2C%20r%29%2C%20%28p%2C%20q%29%20and%20%28a%2C%20o%29%2C%20then%20word%20%5C%22parallelogram%5C%22%20according%20to%20the%20given%20encoding%20principle%20transforms%20to%20word%20%5C%22qolorreraglom%5C%22.%5Cn%5CnPolycarpus%20already%20has%20two%20strings%2C%20%24%20S%20%24%20and%20%24%20T%20%24%20.%20He%20suspects%20that%20string%20%24%20T%20%24%20was%20obtained%20after%20applying%20the%20given%20encoding%20method%20from%20some%20substring%20of%20string%20%24%20S%20%24%20.%20Find%20all%20positions%20%24%20m_%7Bi%7D%20%24%20in%20%24%20S%20%24%20%28%20%24%201%3C%3Dm_%7Bi%7D%3C%3D%7CS%7C-%7CT%7C%2B1%20%24%20%29%2C%20such%20that%20%24%20T%20%24%20can%20be%20obtained%20fro%20substring%20%24%20S_%7Bmi%7DS_%7Bmi%7D%2B1...%5C%5C%20S_%7Bmi%7D%2B%7CT%7C-1%20%24%20by%20applying%20the%20described%20encoding%20operation%20by%20using%20some%20set%20of%20pairs%20of%20English%20alphabet%20letters%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%2C%20%24%20%7CS%7C%20%24%20and%20%24%20%7CT%7C%20%24%20%28%20%24%201%3C%3D%7CT%7C%3C%3D%7CS%7C%3C%3D2%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20lengths%20of%20string%20%24%20S%20%24%20and%20string%20%24%20T%20%24%20%2C%20respectively.%5Cn%5CnThe%20second%20and%20third%20line%20of%20the%20input%20contain%20strings%20%24%20S%20%24%20and%20%24%20T%20%24%20%2C%20respectively.%20Both%20strings%20consist%20only%20of%20lowercase%20English%20letters.%22%2C%22outputFormat%22%3A%22Print%20number%20%24%20k%20%24%20%5Cu2014%20the%20number%20of%20suitable%20positions%20in%20string%20%24%20S%20%24%20.%5Cn%5CnIn%20the%20next%20line%20print%20%24%20k%20%24%20integers%20%24%20m_%7B1%7D%2Cm_%7B2%7D%2C...%2Cm_%7Bk%7D%20%24%20%5Cu2014%20the%20numbers%20of%20the%20suitable%20positions%20in%20the%20increasing%20order.%22%2C%22samples%22%3A%5B%5B%2211%205%5Cnabacabadaba%5Cnacaba%5Cn%22%2C%223%5Cn1%203%207%5Cn%22%5D%2C%5B%2221%2013%5Cnparaparallelogramgram%5Cnqolorreraglom%5Cn%22%2C%221%5Cn5%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F533%5C%2FF%22%2C%22id%22%3A%22533F%22%7D%2C%22translation%22%3A%22%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu5761%5Cu65c5%5Cu7532%5Cu53d1%5Cu660e%5Cu4e86%5Cu4e00%5Cu79cd%5Cu65b0%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu7f16%5Cu7801%5Cu65b9%5Cu6cd5%5Cuff0e%20%20%5Cr%5Cn%5Cu5177%5Cu4f53%5Cu6765%5Cu8bf4%5Cuff0c%5Cu6211%5Cu4eec%5Cu53ef%5Cu4ee5%5Cu53d6%5Cu82e5%5Cu5e72%5Cu5bf9%5Cu4e0d%5Cu76f8%5Cu4ea4%5Cu7684%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu5bf9%28%5Cu6bcf%5Cu4e2a%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu81f3%5Cu591a%5Cu51fa%5Cu73b0%5Cu4e00%5Cu6b21%29%2C%5Cu7136%5Cu540e%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu4e2a%5Cu7531%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu7ec4%5Cu6210%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%20%24T%24%20%5Cuff0c%5Cu6211%5Cu4eec%5Cu5c06%20%24T%24%20%5Cu4e2d%5Cu51fa%5Cu73b0%5Cu5728%5Cu9009%5Cu4e2d%5Cu5b57%5Cu6bcd%5Cu5bf9%5Cu4e2d%5Cu7684%5Cu5b57%5Cu6bcd%5Cu66ff%5Cu6362%5Cu4e3a%5Cu8fd9%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cu5bf9%5Cu4e2d%5Cu7684%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cuff0e%5Cr%5Cn%5Cr%5Cn%5Cu4e3e%5Cu4e2a%5Cu4f8b%5Cu5b50%5Cuff1a%5Cu6211%5Cu4eec%5Cu9009%5Cu4e2d%5Cu4e86%5Cu4e09%5Cu5bf9%5Cu5b57%5Cu6bcd%20%24%28l%2Cr%29%24%20%2C%20%24%28p%2Cq%29%24%20%5Cu548c%20%24%28a%2Co%29%24%20%5Cuff0c%5Cu90a3%5Cu4e48%5Cuff0c%5C%22parallelogram%5C%22%20%5Cu5c06%5Cu4f1a%5Cu53d8%5Cu4e3a%20%5C%22qolorreraglom%5C%22%20%20%5Cr%5Cn%5Cr%5Cn%5Cu73b0%5Cu5728%5Cuff0c%5Cu5761%5Cu65c5%5Cu7532%5Cu5df2%5Cu7ecf%5Cu6709%5Cu4e86%5Cu4e24%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%20%24S%24%20%5Cu548c%20%24T%24%20%5Cuff0e%5Cu4ed6%5Cu60ca%5Cu8bb6%5Cu5730%5Cu53d1%5Cu73b0%5Cuff0c%24S%24%20%5Cu7684%5Cu8bb8%5Cu591a%5Cu5b50%5Cu4e32%5Cu7adf%5Cu7136%5Cu53ef%5Cu4ee5%5Cu901a%5Cu8fc7%5Cu4ed6%5Cu6240%5Cu53d1%5Cu660e%5Cu7684%5Cu65b0%5Cu7f16%5Cu7801%5Cu65b9%5Cu6cd5%5Cu5f97%5Cu5230%20%24T%24%5Cuff0e%5Cu4e8e%5Cu662f%5Cu5761%5Cu65c5%5Cu7532%5Cu60f3%5Cu77e5%5Cu9053%5Cuff0c%24S%24%20%5Cu4e2d%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu5b50%5Cu4e32%5Cu53ef%5Cu4ee5%5Cu7528%5Cu5982%5Cu4e0a%5Cu6240%5Cu63cf%5Cu8ff0%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu7f16%5Cu7801%5Cu65b9%5Cu6cd5%5Cu7f16%5Cu7801%5Cu5f97%5Cu5230%20%24T%24%5Cr%5Cn%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%20%24n%2Cm%24%20%5Cuff0c%5Cu8868%5Cu793a%20%24S%24%20%5Cu548c%20%24T%24%20%5Cu7684%5Cu4e32%5Cu957f%5Cuff0e%20%20%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4e24%5Cu884c%5Cu7531%5Cu4e24%5Cu4e2a%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu5b57%5Cu7b26%5Cu4e32%20%24S%24%20%5Cu548c%20%24T%24%5Cr%5Cn%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu6ee1%5Cu8db3%5Cu6761%5Cu4ef6%5Cu7684%5Cu5b50%5Cu4e32%5Cu4e2a%5Cu6570%20%24k%24%20%20%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4e00%5Cu884c%5Cu6309%5Cu7167%5Cu5347%5Cu5e8f%5Cu8f93%5Cu51fa%20%24k%24%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu6bcf%5Cu4e2a%5Cu5b50%5Cu4e32%5Cu5f00%5Cu59cb%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff08%5Cu4e0b%5Cu6807%5Cu4ece1%5Cu5f00%5Cu59cb%5Cuff09%5Cr%5Cn%5Cr%5Cn%23%20%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cr%5Cn%24n%2Cm%5C%5Cle2%5C%5Ctimes10%5E5%24%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A30%2C%22totalAccepted%22%3A17%2C%22pid%22%3A%22CF533F%22%2C%22title%22%3A%22Encoding%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Encoding%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Encoding</h1>
<h2>题意翻译</h2>
<div># 题目描述
坡旅甲发明了一种新的字符串编码方法．
具体来说，我们可以取若干对不相交的小写字母对(每个小写字母至多出现一次),然后对于一个由小写字母组成的字符串 $T$ ，我们将 $T$ 中出现在选中字母对中的字母替换为这个字母对中的另一个字母．
举个例子：我们选中了三对字母 $(l,r)$ , $(p,q)$ 和 $(a,o)$ ，那么，"parallelogram" 将会变为 "qolorreraglom"
现在，坡旅甲已经有了两个字符串 $S$ 和 $T$ ．他惊讶地发现，$S$ 的许多子串竟然可以通过他所发明的新编码方法得到 $T$．于是坡旅甲想知道，$S$ 中有多少个子串可以用如上所描述的字符串编码方法编码得到 $T$
# 输入格式
第一行包含两个整数 $n,m$ ，表示 $S$ 和 $T$ 的串长．
接下来两行由两个小写字母字符串 $S$ 和 $T$
# 输出格式
第一行一个整数，表示满足条件的子串个数 $k$
接下来一行按照升序输出 $k$ 个整数，表示每个子串开始的位置（下标从1开始）
# 数据范围
$n,m\le2\times10^5$</div>
<h2>题目描述</h2>
<div>Polycarp invented a new way to encode strings. Let's assume that we have string $ T $ , consisting of lowercase English letters. Let's choose several pairs of letters of the English alphabet in such a way that each letter occurs in at most one pair. Then let's replace each letter in $ T $ with its pair letter if there is a pair letter for it. For example, if you chose pairs (l, r), (p, q) and (a, o), then word "parallelogram" according to the given encoding principle transforms to word "qolorreraglom".
Polycarpus already has two strings, $ S $ and $ T $ . He suspects that string $ T $ was obtained after applying the given encoding method from some substring of string $ S $ . Find all positions $ m_{i} $ in $ S $ ( $ 1<=m_{i}<=|S|-|T|+1 $ ), such that $ T $ can be obtained fro substring $ S_{mi}S_{mi}+1...\ S_{mi}+|T|-1 $ by applying the described encoding operation by using some set of pairs of English alphabet letters</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers, $ |S| $ and $ |T| $ ( $ 1<=|T|<=|S|<=2·10^{5} $ ) — the lengths of string $ S $ and string $ T $ , respectively.
The second and third line of the input contain strings $ S $ and $ T $ , respectively. Both strings consist only of lowercase English letters.</div>
<h3>输出格式</h3>
<br />
<div>Print number $ k $ — the number of suitable positions in string $ S $ .
In the next line print $ k $ integers $ m_{1},m_{2},...,m_{k} $ — the numbers of the suitable positions in the increasing order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>11 5
abacabadaba
acaba
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
1 3 7
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>21 13
paraparallelogramgram
qolorreraglom
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
5
</code></pre>
</article>
</div>
</div>
</body>
</html>
