<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Cows and Sequence - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392315:kIwCTsgqddm0MjhpWC5wiV40VE3SkwFOSbHwvXwtg4A=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Bessie%20and%20the%20cows%20are%20playing%20with%20sequences%20and%20need%20your%20help.%20They%20start%20with%20a%20sequence%2C%20initially%20containing%20just%20the%20number%200%2C%20and%20perform%20%24%20n%20%24%20operations.%20Each%20operation%20is%20one%20of%20the%20following%3A%5Cn%5Cn1.%20Add%20the%20integer%20%24%20x_%7Bi%7D%20%24%20to%20the%20first%20%24%20a_%7Bi%7D%20%24%20elements%20of%20the%20sequence.%5Cn2.%20Append%20an%20integer%20%24%20k_%7Bi%7D%20%24%20to%20the%20end%20of%20the%20sequence.%20%28And%20hence%20the%20size%20of%20the%20sequence%20increases%20by%201%29%5Cn3.%20Remove%20the%20last%20element%20of%20the%20sequence.%20So%2C%20the%20size%20of%20the%20sequence%20decreases%20by%20one.%20Note%2C%20that%20this%20operation%20can%20only%20be%20done%20if%20there%20are%20at%20least%20two%20elements%20in%20the%20sequence.%5Cn%5CnAfter%20each%20operation%2C%20the%20cows%20would%20like%20to%20know%20the%20average%20of%20all%20the%20numbers%20in%20the%20sequence.%20Help%20them%21%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%5Cu00a0%281%3C%3Dn%3C%3D2%5Cu00b710%5E%7B5%7D%29%20%24%20%5Cu2014%20the%20number%20of%20operations.%20The%20next%20%24%20n%20%24%20lines%20describe%20the%20operations.%20Each%20line%20will%20start%20with%20an%20integer%20%24%20t_%7Bi%7D%20%24%20%24%20%281%3C%3Dt_%7Bi%7D%3C%3D3%29%20%24%20%2C%20denoting%20the%20type%20of%20the%20operation%20%28see%20above%29.%20If%20%24%20t_%7Bi%7D%3D1%20%24%20%2C%20it%20will%20be%20followed%20by%20two%20integers%20%24%20a_%7Bi%7D%2Cx_%7Bi%7D%20%24%20%24%20%28%7Cx_%7Bi%7D%7C%3C%3D10%5E%7B3%7D%3B%5Cu00a01%3C%3Da_%7Bi%7D%29%20%24%20.%20If%20%24%20t_%7Bi%7D%3D2%20%24%20%2C%20it%20will%20be%20followed%20by%20a%20single%20integer%20%24%20k_%7Bi%7D%20%24%20%24%20%28%7Ck_%7Bi%7D%7C%3C%3D10%5E%7B3%7D%29%20%24%20.%20If%20%24%20t_%7Bi%7D%3D3%20%24%20%2C%20it%20will%20not%20be%20followed%20by%20anything.%5Cn%5CnIt%20is%20guaranteed%20that%20all%20operations%20are%20correct%20%28don%27t%20touch%20nonexistent%20elements%29%20and%20that%20there%20will%20always%20be%20at%20least%20one%20element%20in%20the%20sequence.%22%2C%22outputFormat%22%3A%22Output%20%24%20n%20%24%20lines%20each%20containing%20the%20average%20of%20the%20numbers%20in%20the%20sequence%20after%20the%20corresponding%20operation.%5Cn%5CnThe%20answer%20will%20be%20considered%20correct%20if%20its%20absolute%20or%20relative%20error%20doesn%27t%20exceed%20%24%2010%5E%7B-6%7D%20%24%20.%22%2C%22samples%22%3A%5B%5B%225%5Cn2%201%5Cn3%5Cn2%203%5Cn2%201%5Cn3%5Cn%22%2C%220.500000%5Cn0.000000%5Cn1.500000%5Cn1.333333%5Cn1.500000%5Cn%22%5D%2C%5B%226%5Cn2%201%5Cn1%202%2020%5Cn2%202%5Cn1%202%20-3%5Cn3%5Cn3%5Cn%22%2C%220.500000%5Cn20.500000%5Cn14.333333%5Cn12.333333%5Cn17.500000%5Cn17.000000%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20second%20sample%2C%20the%20sequence%20becomes%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF283A%5C%2F56857d21d773e19700b8e6f134c0c7d8dc59ae9f.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1500%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F283%5C%2FA%22%2C%22id%22%3A%22283A%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A34%2C%22totalAccepted%22%3A9%2C%22pid%22%3A%22CF283A%22%2C%22title%22%3A%22Cows%20and%20Sequence%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Cows%20and%20Sequence%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Cows and Sequence</h1>
<h2>题目描述</h2>
<div>Bessie and the cows are playing with sequences and need your help. They start with a sequence, initially containing just the number 0, and perform $ n $ operations. Each operation is one of the following:
1. Add the integer $ x_{i} $ to the first $ a_{i} $ elements of the sequence.
2. Append an integer $ k_{i} $ to the end of the sequence. (And hence the size of the sequence increases by 1)
3. Remove the last element of the sequence. So, the size of the sequence decreases by one. Note, that this operation can only be done if there are at least two elements in the sequence.
After each operation, the cows would like to know the average of all the numbers in the sequence. Help them!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n (1<=n<=2·10^{5}) $ — the number of operations. The next $ n $ lines describe the operations. Each line will start with an integer $ t_{i} $ $ (1<=t_{i}<=3) $ , denoting the type of the operation (see above). If $ t_{i}=1 $ , it will be followed by two integers $ a_{i},x_{i} $ $ (|x_{i}|<=10^{3}; 1<=a_{i}) $ . If $ t_{i}=2 $ , it will be followed by a single integer $ k_{i} $ $ (|k_{i}|<=10^{3}) $ . If $ t_{i}=3 $ , it will not be followed by anything.
It is guaranteed that all operations are correct (don't touch nonexistent elements) and that there will always be at least one element in the sequence.</div>
<h3>输出格式</h3>
<br />
<div>Output $ n $ lines each containing the average of the numbers in the sequence after the corresponding operation.
The answer will be considered correct if its absolute or relative error doesn't exceed $ 10^{-6} $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
2 1
3
2 3
2 1
3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0.500000
0.000000
1.500000
1.333333
1.500000
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6
2 1
1 2 20
2 2
1 2 -3
3
3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>0.500000
20.500000
14.333333
12.333333
17.500000
17.000000
</code></pre>
<h2>说明</h2>
<div>In the second sample, the sequence becomes ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF283A/56857d21d773e19700b8e6f134c0c7d8dc59ae9f.png)</div>
</article>
</div>
</div>
</body>
</html>
