<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Sasha and a Bit of Relax - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401819:D3doydzJFUPntXssC0T3kbRWmbV5xpZpi07SdlGg+ew=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Sasha%20likes%20programming.%20Once%2C%20during%20a%20very%20long%20contest%2C%20Sasha%20decided%20that%20he%20was%20a%20bit%20tired%20and%20needed%20to%20relax.%20So%20he%20did.%20But%20since%20Sasha%20isn%27t%20an%20ordinary%20guy%2C%20he%20prefers%20to%20relax%20unusually.%20During%20leisure%20time%20Sasha%20likes%20to%20upsolve%20unsolved%20problems%20because%20upsolving%20is%20very%20useful.%5Cn%5CnTherefore%2C%20Sasha%20decided%20to%20upsolve%20the%20following%20problem%3A%5Cn%5CnYou%20have%20an%20array%20%24%20a%20%24%20with%20%24%20n%20%24%20integers.%20You%20need%20to%20count%20the%20number%20of%20funny%20pairs%20%24%20%28l%2C%20r%29%20%24%20%24%20%28l%20%5C%5Cleq%20r%29%20%24%20.%20To%20check%20if%20a%20pair%20%24%20%28l%2C%20r%29%20%24%20is%20a%20funny%20pair%2C%20take%20%24%20mid%20%3D%20%5C%5Cfrac%7Bl%20%2B%20r%20-%201%7D%7B2%7D%20%24%20%2C%20then%20if%20%24%20r%20-%20l%20%2B%201%20%24%20is%20an%20even%20number%20and%20%24%20a_l%20%5C%5Coplus%20a_%7Bl%2B1%7D%20%5C%5Coplus%20%5C%5Cldots%20%5C%5Coplus%20a_%7Bmid%7D%20%3D%20a_%7Bmid%20%2B%201%7D%20%5C%5Coplus%20a_%7Bmid%20%2B%202%7D%20%5C%5Coplus%20%5C%5Cldots%20%5C%5Coplus%20a_r%20%24%20%2C%20then%20the%20pair%20is%20funny.%20In%20other%20words%2C%20%24%20%5C%5Coplus%20%24%20of%20elements%20of%20the%20left%20half%20of%20the%20subarray%20from%20%24%20l%20%24%20to%20%24%20r%20%24%20should%20be%20equal%20to%20%24%20%5C%5Coplus%20%24%20of%20elements%20of%20the%20right%20half.%20Note%20that%20%24%20%5C%5Coplus%20%24%20denotes%20the%20%5Bbitwise%20XOR%20operation%5D%28https%3A%5C%2F%5C%2Fen.wikipedia.org%5C%2Fwiki%5C%2FBitwise_operation%23XOR%29.%5Cn%5CnIt%20is%20time%20to%20continue%20solving%20the%20contest%2C%20so%20Sasha%20asked%20you%20to%20solve%20this%20task.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%203%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20size%20of%20the%20array.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cldots%2C%20a_n%20%24%20%28%20%24%200%20%5C%5Cle%20a_i%20%3C%202%5E%7B20%7D%20%24%20%29%20%5Cu2014%20array%20itself.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20number%20of%20funny%20pairs.%20You%20should%20consider%20only%20pairs%20where%20%24%20r%20-%20l%20%2B%201%20%24%20is%20even%20number.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%202%203%204%205%5Cn%22%2C%221%5Cn%22%5D%2C%5B%226%5Cn3%202%202%203%207%206%5Cn%22%2C%223%5Cn%22%5D%2C%5B%223%5Cn42%204%202%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22Be%20as%20cool%20as%20Sasha%2C%20upsolve%20problems%21%5Cn%5CnIn%20the%20first%20example%2C%20the%20only%20funny%20pair%20is%20%24%20%282%2C%205%29%20%24%20%2C%20as%20%24%202%20%5C%5Coplus%203%20%3D%204%20%5C%5Coplus%205%20%3D%201%20%24%20.%5Cn%5CnIn%20the%20second%20example%2C%20funny%20pairs%20are%20%24%20%282%2C%203%29%20%24%20%2C%20%24%20%281%2C%204%29%20%24%20%2C%20and%20%24%20%283%2C%206%29%20%24%20.%5Cn%5CnIn%20the%20third%20example%2C%20there%20are%20no%20funny%20pairs.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1109%5C%2FA%22%2C%22id%22%3A%221109A%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu542bn%5Cu4e2a%5Cu6574%5Cu6570%5Cu7684%5Cu5e8f%5Cu5217a%5Cuff0c%5Cu5b9a%5Cu4e49%28l%2Cr%29%5Cu662f%5Cu4e00%5Cu4e2afunny%20pair%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53r%3El%5Cuff0cr-l%2B1%5Cu4e3a%5Cu5076%5Cu6570%5Cuff0c%5Cu4e14a%5Cu4e2d%5Cu4e0b%5Cu6807%5Cu81eal%5Cu5230%28l%2Br-1%29%5C%2F2%5Cu7684%5Cu6570%5Cu7684%5Cu5f02%5Cu6216%5Cu548c%5Cu7b49%5Cu4e8e%5Cu4e0b%5Cu6807%5Cu81ea%28l%2Br-1%29%5C%2F2%2B1%5Cu5230r%5Cu7684%5Cu6570%5Cu7684%5Cu5f02%5Cu6216%5Cu548c%5Cu3002%5Cu6c42%5Cu5e8f%5Cu5217a%5Cu4e2dfunny%20pairs%5Cu7684%5Cu4e2a%5Cu6570%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A112%2C%22totalAccepted%22%3A61%2C%22pid%22%3A%22CF1109A%22%2C%22title%22%3A%22Sasha%20and%20a%20Bit%20of%20Relax%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1118%22%2C%22title%22%3A%22%5BUSACO06FEB%5D%5Cu6570%5Cu5b57%5Cu4e09%5Cu89d2%5Cu5f62%60Backward%20Digit%20Su%60%5Cu2026%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3951%22%2C%22title%22%3A%22%5Cu5c0f%5Cu51ef%5Cu7684%5Cu7591%5Cu60d1%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1109D%22%2C%22title%22%3A%22Sasha%20and%20Interesting%20Fact%20from%20Graph%20Theory%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1109B%22%2C%22title%22%3A%22Sasha%20and%20One%20More%20Name%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1195D1%22%2C%22title%22%3A%22Submarine%20in%20the%20Rybinsk%20Sea%20%28easy%20edition%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Sasha%20and%20a%20Bit%20of%20Relax%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Sasha and a Bit of Relax</h1>
<h2>题意翻译</h2>
<div>给定一个含n个整数的序列a，定义(l,r)是一个funny pair当且仅当r>l，r-l+1为偶数，且a中下标自l到(l+r-1)/2的数的异或和等于下标自(l+r-1)/2+1到r的数的异或和。求序列a中funny pairs的个数</div>
<h2>题目描述</h2>
<div>Sasha likes programming. Once, during a very long contest, Sasha decided that he was a bit tired and needed to relax. So he did. But since Sasha isn't an ordinary guy, he prefers to relax unusually. During leisure time Sasha likes to upsolve unsolved problems because upsolving is very useful.
Therefore, Sasha decided to upsolve the following problem:
You have an array $ a $ with $ n $ integers. You need to count the number of funny pairs $ (l, r) $ $ (l \leq r) $ . To check if a pair $ (l, r) $ is a funny pair, take $ mid = \frac{l + r - 1}{2} $ , then if $ r - l + 1 $ is an even number and $ a_l \oplus a_{l+1} \oplus \ldots \oplus a_{mid} = a_{mid + 1} \oplus a_{mid + 2} \oplus \ldots \oplus a_r $ , then the pair is funny. In other words, $ \oplus $ of elements of the left half of the subarray from $ l $ to $ r $ should be equal to $ \oplus $ of elements of the right half. Note that $ \oplus $ denotes the [bitwise XOR operation](https://en.wikipedia.org/wiki/Bitwise_operation#XOR).
It is time to continue solving the contest, so Sasha asked you to solve this task.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ n $ ( $ 2 \le n \le 3 \cdot 10^5 $ ) — the size of the array.
The second line contains $ n $ integers $ a_1, a_2, \ldots, a_n $ ( $ 0 \le a_i < 2^{20} $ ) — array itself.</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the number of funny pairs. You should consider only pairs where $ r - l + 1 $ is even number.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
1 2 3 4 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6
3 2 2 3 7 6
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3
42 4 2
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>0
</code></pre>
<h2>说明</h2>
<div>Be as cool as Sasha, upsolve problems!
In the first example, the only funny pair is $ (2, 5) $ , as $ 2 \oplus 3 = 4 \oplus 5 = 1 $ .
In the second example, funny pairs are $ (2, 3) $ , $ (1, 4) $ , and $ (3, 6) $ .
In the third example, there are no funny pairs.</div>
</article>
</div>
</div>
</body>
</html>
