<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Refactoring - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401030:bOmd+qYSvmpZtNikC0qYLsSbBUy6Pi/EuEvuUCY08/k=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Alice%20has%20written%20a%20program%20and%20now%20tries%20to%20improve%20its%20readability.%20One%20of%20the%20ways%20to%20improve%20readability%20is%20to%20give%20sensible%20names%20to%20the%20variables%2C%20so%20now%20Alice%20wants%20to%20rename%20some%20variables%20in%20her%20program.%20In%20her%20IDE%20there%20is%20a%20command%20called%20%5C%22massive%20refactoring%5C%22%2C%20which%20can%20replace%20names%20of%20many%20variable%20in%20just%20one%20run.%20To%20use%20it%2C%20Alice%20needs%20to%20select%20two%20strings%20%24%20s%20%24%20and%20%24%20t%20%24%20and%20after%20that%20for%20each%20variable%20the%20following%20algorithm%20is%20performed%3A%20if%20the%20variable%27s%20name%20contains%20%24%20s%20%24%20as%20a%20substring%2C%20then%20the%20first%20%28and%20only%20first%29%20occurrence%20of%20%24%20s%20%24%20is%20replaced%20with%20%24%20t%20%24%20.%20If%20the%20name%20doesn%27t%20contain%20%24%20s%20%24%20%2C%20then%20this%20variable%27s%20name%20stays%20the%20same.%5Cn%5CnThe%20list%20of%20variables%20is%20known%20and%20for%20each%20variable%20both%20the%20initial%20name%20and%20the%20name%20Alice%20wants%20this%20variable%20change%20to%20are%20known.%20Moreover%2C%20for%20each%20variable%20the%20lengths%20of%20the%20initial%20name%20and%20the%20target%20name%20are%20equal%20%28otherwise%20the%20alignment%20of%20the%20code%20could%20become%20broken%29.%20You%20need%20to%20perform%20renaming%20of%20all%20variables%20in%20exactly%20one%20run%20of%20the%20massive%20refactoring%20command%20or%20determine%20that%20it%20is%20impossible.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20the%20only%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%203000%20%24%20%29%20%5Cu2014%20the%20number%20of%20variables%20in%20Alice%27s%20program.%5Cn%5CnThe%20following%20%24%20n%20%24%20lines%20contain%20the%20initial%20names%20of%20variables%20%24%20w_1%2C%20w_2%2C%20%5C%5Cldots%2C%20w_n%20%24%20%2C%20one%20per%20line.%20After%20that%2C%20%24%20n%20%24%20more%20lines%20go%2C%20the%20%24%20i%20%24%20-th%20of%20them%20contains%20the%20target%20name%20%24%20w%27_i%20%24%20for%20the%20%24%20i%20%24%20-th%20variable.%20It%20is%20guaranteed%20that%20%24%201%20%5C%5Cle%20%7Cw_i%7C%20%3D%20%7Cw%27_i%7C%20%5C%5Cle%203000%20%24%20.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20is%20at%20least%20one%20variable%20having%20its%20target%20name%20different%20from%20the%20initial%20name.%20Both%20initial%20and%20target%20names%20consist%20of%20lowercase%20English%20letters%20only.%20For%20each%20variable%20the%20length%20of%20its%20initial%20name%20is%20equal%20to%20the%20length%20of%20its%20target%20name.%22%2C%22outputFormat%22%3A%22If%20it%20is%20impossible%20to%20rename%20all%20variables%20with%20one%20call%20of%20%5C%22massive%20refactoring%5C%22%2C%20print%20%5C%22NO%5C%22%20%28quotes%20for%20clarity%29.%5Cn%5CnOtherwise%2C%20on%20the%20first%20line%20print%20%5C%22YES%5C%22%20%28quotes%20for%20clarity%29%20and%20on%20the%20following%20lines%20print%20%24%20s%20%24%20and%20%24%20t%20%24%20%28%20%24%201%20%5C%5Cle%20%7Cs%7C%2C%20%7Ct%7C%20%5C%5Cle%205000%20%24%20%29%2C%20which%20should%20be%20used%20for%20replacement.%20Strings%20%24%20s%20%24%20and%20%24%20t%20%24%20should%20consist%20only%20of%20lowercase%20letters%20of%20English%20alphabet.%5Cn%5CnIf%20there%20are%20multiple%20ways%20to%20perform%20a%20%5C%22massive%20refactoring%5C%22%2C%20you%20can%20use%20any%20of%20them.%22%2C%22samples%22%3A%5B%5B%221%5Cntopforces%5Cncodecoder%5Cn%22%2C%22YES%5Cntopforces%5Cncodecoder%5Cn%22%5D%2C%5B%223%5Cnbab%5Cncac%5Cncdc%5Cnbdb%5Cncdc%5Cncdc%5Cn%22%2C%22YES%5Cna%5Cnd%5Cn%22%5D%2C%5B%222%5Cnyou%5Cnshal%5Cnnot%5Cnpass%5Cn%22%2C%22NO%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1055%5C%2FD%22%2C%22id%22%3A%221055D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A5%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF1055D%22%2C%22title%22%3A%22Refactoring%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Refactoring%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Refactoring</h1>
<h2>题目描述</h2>
<div>Alice has written a program and now tries to improve its readability. One of the ways to improve readability is to give sensible names to the variables, so now Alice wants to rename some variables in her program. In her IDE there is a command called "massive refactoring", which can replace names of many variable in just one run. To use it, Alice needs to select two strings $ s $ and $ t $ and after that for each variable the following algorithm is performed: if the variable's name contains $ s $ as a substring, then the first (and only first) occurrence of $ s $ is replaced with $ t $ . If the name doesn't contain $ s $ , then this variable's name stays the same.
The list of variables is known and for each variable both the initial name and the name Alice wants this variable change to are known. Moreover, for each variable the lengths of the initial name and the target name are equal (otherwise the alignment of the code could become broken). You need to perform renaming of all variables in exactly one run of the massive refactoring command or determine that it is impossible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains the only integer $ n $ ( $ 1 \le n \le 3000 $ ) — the number of variables in Alice's program.
The following $ n $ lines contain the initial names of variables $ w_1, w_2, \ldots, w_n $ , one per line. After that, $ n $ more lines go, the $ i $ -th of them contains the target name $ w'_i $ for the $ i $ -th variable. It is guaranteed that $ 1 \le |w_i| = |w'_i| \le 3000 $ .
It is guaranteed that there is at least one variable having its target name different from the initial name. Both initial and target names consist of lowercase English letters only. For each variable the length of its initial name is equal to the length of its target name.</div>
<h3>输出格式</h3>
<br />
<div>If it is impossible to rename all variables with one call of "massive refactoring", print "NO" (quotes for clarity).
Otherwise, on the first line print "YES" (quotes for clarity) and on the following lines print $ s $ and $ t $ ( $ 1 \le |s|, |t| \le 5000 $ ), which should be used for replacement. Strings $ s $ and $ t $ should consist only of lowercase letters of English alphabet.
If there are multiple ways to perform a "massive refactoring", you can use any of them.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
topforces
codecoder
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>YES
topforces
codecoder
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3
bab
cac
cdc
bdb
cdc
cdc
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>YES
a
d
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>2
you
shal
not
pass
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>NO
</code></pre>
</article>
</div>
</div>
</body>
</html>
