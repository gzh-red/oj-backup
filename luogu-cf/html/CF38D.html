<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Vasya the Architect - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390167:yMPUxgi6A6g+jywNUGziXvLTzdEbcnJ5q/QCjJ09bDU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Once%20Vasya%20played%20bricks.%20All%20the%20bricks%20in%20the%20set%20had%20regular%20cubical%20shape.%20Vasya%20vas%20a%20talented%20architect%2C%20however%20the%20tower%20he%20built%20kept%20falling%20apart.%5Cn%5CnLet%20us%20consider%20the%20building%20process.%20Vasya%20takes%20a%20brick%20and%20puts%20it%20on%20top%20of%20the%20already%20built%20tower%20so%20that%20the%20sides%20of%20the%20brick%20are%20parallel%20to%20the%20sides%20of%20the%20bricks%20he%20has%20already%20used.%20Let%27s%20introduce%20a%20Cartesian%20coordinate%20system%20on%20the%20horizontal%20plane%2C%20where%20Vasya%20puts%20the%20first%20brick.%20Then%20the%20projection%20of%20brick%20number%20%24%20i%20%24%20on%20the%20plane%20is%20a%20square%20with%20sides%20parallel%20to%20the%20axes%20of%20coordinates%20with%20opposite%20corners%20in%20points%20%24%20%28x_%7Bi%2C1%7D%2Cy_%7Bi%2C1%7D%29%20%24%20and%20%24%20%28x_%7Bi%2C2%7D%2Cy_%7Bi%2C2%7D%29%20%24%20.%20The%20bricks%20are%20cast%20from%20homogeneous%20plastic%20and%20the%20weight%20of%20a%20brick%20%24%20a%5Cu00d7a%5Cu00d7a%20%24%20is%20%24%20a%5E%7B3%7D%20%24%20grams.%5Cn%5CnIt%20is%20guaranteed%20that%20Vasya%20puts%20any%20brick%20except%20the%20first%20one%20on%20the%20previous%20one%2C%20that%20is%20the%20area%20of%20intersection%20of%20the%20upper%20side%20of%20the%20previous%20brick%20and%20the%20lower%20side%20of%20the%20next%20brick%20is%20always%20positive.%5Cn%5CnWe%20%28Vasya%20included%29%20live%20in%20a%20normal%20world%20where%20the%20laws%20of%20physical%20statics%20work.%20And%20that%20is%20why%2C%20perhaps%2C%20if%20we%20put%20yet%20another%20brick%2C%20the%20tower%20will%20collapse%20under%20its%20own%20weight.%20Vasya%20puts%20the%20cubes%20consecutively%20one%20on%20top%20of%20the%20other%20until%20at%20least%20one%20cube%20loses%20the%20balance%20and%20falls%20down.%20If%20it%20happens%2C%20Vasya%20gets%20upset%20and%20stops%20the%20construction.%20Print%20the%20number%20of%20bricks%20in%20the%20maximal%20stable%20tower%2C%20that%20is%20the%20maximal%20number%20%24%20m%20%24%20satisfying%20the%20condition%20that%20all%20the%20towers%20consisting%20of%20bricks%201%2C%202%2C%20...%2C%20%24%20k%20%24%20for%20every%20integer%20%24%20k%20%24%20from%201%20to%20%24%20m%20%24%20remain%20stable.%22%2C%22inputFormat%22%3A%22The%20first%20input%20file%20contains%20an%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D100%20%24%20%29%20which%20is%20the%20number%20of%20bricks.%20Each%20of%20the%20next%20%24%20n%20%24%20lines%20contains%20four%20numbers%20%24%20x_%7Bi%2C1%7D%2Cy_%7Bi%2C1%7D%2Cx_%7Bi%2C2%7D%2Cy_%7Bi%2C2%7D%20%24%20%28%20%24%20x_%7Bi%2C1%7D%5Cu2260x_%7Bi%2C2%7D%2C%7Cx_%7Bi%2C1%7D-x_%7Bi%2C2%7D%7C%3D%7Cy_%7Bi%2C1%7D-y_%7Bi%2C2%7D%7C%20%24%20%29%20which%20are%20the%20coordinates%20of%20the%20opposite%20angles%20of%20the%20base%20of%20the%20brick%20number%20%24%20i%20%24%20.%20The%20coordinates%20are%20integers%20and%20their%20absolute%20value%20does%20not%20exceed%20%24%2050%20%24%20.%5Cn%5CnThe%20cubes%20are%20given%20in%20the%20order%20Vasya%20puts%20them.%20It%20is%20guaranteed%20that%20the%20area%20of%20intersection%20of%20the%20upper%20side%20of%20the%20brick%20number%20%24%20i-1%20%24%20and%20the%20lower%20side%20of%20the%20brick%20number%20%24%20i%20%24%20is%20strictly%20strictly%20greater%20than%20zero%20for%20all%20%24%20i%3E%3D2%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20the%20number%20of%20bricks%20in%20the%20maximal%20stable%20tower.%22%2C%22samples%22%3A%5B%5B%222%5Cn0%200%203%203%5Cn1%200%204%203%5Cn%22%2C%222%5Cn%22%5D%2C%5B%222%5Cn0%200%203%203%5Cn2%200%205%203%5Cn%22%2C%221%5Cn%22%5D%2C%5B%223%5Cn0%200%203%203%5Cn1%200%204%203%5Cn2%200%205%203%5Cn%22%2C%223%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F38%5C%2FD%22%2C%22id%22%3A%2238D%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fan%5Cu4e2a%5Cu5757%5Cu7684%5Cu5de6%5Cu4e0b%5Cu89d2%5Cu5750%5Cu6807%5Cu548c%5Cu53f3%5Cu4e0a%5Cu89d2%5Cu5750%5Cu6807%5Cuff0c%5Cu6309%5Cu7167%5Cu7ed9%5Cu51fa%5Cu7684%5Cu5757%5Cu7684%5Cu987a%5Cu5e8f%5Cu4e00%5Cu4e2a%5Cu4e2a%5Cu5f80%5Cu4e0a%5Cu53e0%5Cuff0c%5Cu53e0%5Cu4e0d%5Cu4e86%5Cu4e86%5Cu5c31%5Cu7ed3%5Cu675f%5Cuff0c%5Cu95ee%5Cu6700%5Cu591a%5Cu80fd%5Cu53e0%5Cu591a%5Cu5c11%5Cu4e2a%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A5%2C%22totalAccepted%22%3A5%2C%22pid%22%3A%22CF38D%22%2C%22title%22%3A%22Vasya%20the%20Architect%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Vasya%20the%20Architect%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Vasya the Architect</h1>
<h2>题意翻译</h2>
<div>给出n个块的左下角坐标和右上角坐标，按照给出的块的顺序一个个往上叠，叠不了了就结束，问最多能叠多少个</div>
<h2>题目描述</h2>
<div>Once Vasya played bricks. All the bricks in the set had regular cubical shape. Vasya vas a talented architect, however the tower he built kept falling apart.
Let us consider the building process. Vasya takes a brick and puts it on top of the already built tower so that the sides of the brick are parallel to the sides of the bricks he has already used. Let's introduce a Cartesian coordinate system on the horizontal plane, where Vasya puts the first brick. Then the projection of brick number $ i $ on the plane is a square with sides parallel to the axes of coordinates with opposite corners in points $ (x_{i,1},y_{i,1}) $ and $ (x_{i,2},y_{i,2}) $ . The bricks are cast from homogeneous plastic and the weight of a brick $ a×a×a $ is $ a^{3} $ grams.
It is guaranteed that Vasya puts any brick except the first one on the previous one, that is the area of intersection of the upper side of the previous brick and the lower side of the next brick is always positive.
We (Vasya included) live in a normal world where the laws of physical statics work. And that is why, perhaps, if we put yet another brick, the tower will collapse under its own weight. Vasya puts the cubes consecutively one on top of the other until at least one cube loses the balance and falls down. If it happens, Vasya gets upset and stops the construction. Print the number of bricks in the maximal stable tower, that is the maximal number $ m $ satisfying the condition that all the towers consisting of bricks 1, 2, ..., $ k $ for every integer $ k $ from 1 to $ m $ remain stable.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input file contains an integer $ n $ ( $ 1<=n<=100 $ ) which is the number of bricks. Each of the next $ n $ lines contains four numbers $ x_{i,1},y_{i,1},x_{i,2},y_{i,2} $ ( $ x_{i,1}≠x_{i,2},|x_{i,1}-x_{i,2}|=|y_{i,1}-y_{i,2}| $ ) which are the coordinates of the opposite angles of the base of the brick number $ i $ . The coordinates are integers and their absolute value does not exceed $ 50 $ .
The cubes are given in the order Vasya puts them. It is guaranteed that the area of intersection of the upper side of the brick number $ i-1 $ and the lower side of the brick number $ i $ is strictly strictly greater than zero for all $ i>=2 $ .</div>
<h3>输出格式</h3>
<br />
<div>Print the number of bricks in the maximal stable tower.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
0 0 3 3
1 0 4 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2
0 0 3 3
2 0 5 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3
0 0 3 3
1 0 4 3
2 0 5 3
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>3
</code></pre>
</article>
</div>
</div>
</body>
</html>
