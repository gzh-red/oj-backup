<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Finding lines - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397880:slsNBN58r0ooxWhCSCGm9/J6cCtJtSUCAzAuUS3W8z8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22After%20some%20programming%20contest%20Roma%20decided%20to%20try%20himself%20in%20tourism.%20His%20home%20country%20Uzhlyandia%20is%20a%20Cartesian%20plane.%20He%20wants%20to%20walk%20along%20each%20of%20the%20Main%20Straight%20Lines%20in%20Uzhlyandia.%20It%20is%20known%20that%20each%20of%20these%20lines%20is%20a%20straight%20line%20parallel%20to%20one%20of%20the%20axes%20%28i.e.%20it%20is%20described%20with%20the%20equation%20%24%20x%3Da%20%24%20or%20%24%20y%3Da%20%24%20%2C%20where%20%24%20a%20%24%20is%20integer%20called%20the%20coordinate%20of%20this%20line%29.%5Cn%5CnRoma%20lost%20his%20own%20map%2C%20so%20he%20should%20find%20out%20the%20coordinates%20of%20all%20lines%20at%20first.%20Uncle%20Anton%20agreed%20to%20help%20him%2C%20using%20the%20following%20rules%3A%5Cn%5Cn-%20Initially%20Roma%20doesn%27t%20know%20the%20number%20of%20vertical%20and%20horizontal%20lines%20and%20their%20coordinates%3B%5Cn-%20Roma%20can%20announce%20integer%20coordinates%20of%20some%20point%20in%20Uzhlandia%2C%20and%20Anton%20then%20will%20tell%20him%20the%20minimum%20among%20the%20distances%20from%20the%20chosen%20point%20to%20each%20of%20the%20lines.%20However%2C%20since%20the%20coordinates%20of%20the%20lines%20don%27t%20exceed%20%24%2010%5E%7B8%7D%20%24%20by%20absolute%20value%2C%20Roma%20can%27t%20choose%20a%20point%20with%20coordinates%20exceeding%20%24%2010%5E%7B8%7D%20%24%20by%20absolute%20value.%5Cn%5CnUncle%20Anton%20is%20in%20a%20hurry%20to%20the%20UOI%20%28Uzhlandian%20Olympiad%20in%20Informatics%29%2C%20so%20he%20can%20only%20answer%20no%20more%20than%20%24%203%5Cu00b710%5E%7B5%7D%20%24%20questions.%5Cn%5CnThe%20problem%20is%20that%20Roma%20doesn%27t%20know%20how%20to%20find%20out%20the%20coordinates%20of%20the%20lines.%20Write%20a%20program%20that%20plays%20Roma%27s%20role%20and%20finds%20the%20coordinates.%22%2C%22inputFormat%22%3A%22There%20is%20no%20input%20initially.%20Your%20program%20should%20make%20queries%20to%20get%20information.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20number%20of%20horizontal%20and%20vertical%20lines%20is%20at%20least%20%24%201%20%24%20and%20less%20than%20or%20equal%20to%20%24%2010%5E%7B4%7D%20%24%20for%20each%20type.%22%2C%22outputFormat%22%3A%22To%20make%20a%20query%2C%20print%20a%20line%20%5C%220%20x%20y%5C%22%20%28-%20%24%2010%5E%7B8%7D%3C%3Dx%2Cy%3C%3D10%5E%7B8%7D%20%24%20%29%2C%20where%20%24%20x%20%24%20and%20%24%20y%20%24%20are%20the%20coordinates%20of%20the%20point.%20After%20each%20query%20you%20need%20to%20print%20end-of-line%2C%20make%20%5C%22flush%5C%22%20operation%2C%20and%20then%20read%20the%20answer%20to%20the%20query%20%5Cu2014%20the%20minimum%20among%20the%20distances%20prom%20this%20point%20to%20the%20Main%20Straight%20Lines%20of%20Uzhlyandia.%5Cn%5CnYou%20can%20do%20no%20more%20than%20%24%203%5Cu00b710%5E%7B5%7D%20%24%20queries.%5Cn%5CnWhen%20you%20are%20ready%20to%20print%20the%20answer%2C%20print%20three%20lines%3A%5Cn%5Cn1.%20In%20the%20first%20line%20print%20%5C%221%20n%20m%5C%22%2C%20where%20%24%20n%20%24%20is%20the%20number%20of%20vertical%20lines%20%28parallel%20to%20%24%20OY%20%24%20%29%2C%20and%20%24%20m%20%24%20is%20the%20number%20of%20horizontal%20lines%20%28parallel%20to%20%24%20OX%20%24%20%29.%5Cn2.%20In%20the%20second%20line%20print%20%24%20n%20%24%20integers%20%24%20x_%7B1%7D%2Cx_%7B2%7D%2C...%2Cx_%7Bn%7D%20%24%20%5Cu2014%20the%20coordinates%20of%20the%20vertical%20lines.%5Cn3.%20In%20the%20third%20line%20in%20the%20same%20format%20print%20%24%20m%20%24%20integers%20%24%20y_%7B1%7D%2Cy_%7B2%7D%2C...%2Cy_%7Bm%7D%20%24%20%5Cu2014%20the%20coordinates%20of%20the%20horizontal%20lines.%5Cn%5CnYou%20can%20print%20coordinates%20in%20arbitrary%20order.%5Cn%5CnTo%20make%20%5C%22flush%5C%22%2C%20you%20can%20use%20%28just%20after%20printing%20a%20query%5C%2Fanswer%20and%20end-of-line%29%3A%5Cn%5Cn-%20fflush%28stdout%29%20in%20C%2B%2B%3B%5Cn-%20System.out.flush%28%29%20in%20Java%3B%5Cn-%20stdout.flush%28%29%20in%20Python%3B%5Cn-%20flush%28output%29%20in%20Pascal%3B%5Cn-%20see%20the%20documentation%20for%20other%20languages.%5Cn%5CnYou%20will%20get%20Wrong%20Answer%20if%20you%20make%20more%20queries%20than%20allowed%20or%20make%20an%20invalid%20query.%5Cn%5CnYou%20can%20get%20Idleness%20Limit%20Exceeded%20if%20you%20don%27t%20print%20anything%20or%20if%20you%20forget%20to%20flush%20the%20output.%5Cn%5CnIf%20at%20any%20moment%20your%20program%20reads%20-1%20as%20an%20answer%2C%20it%20should%20immediately%20exit%20normally%20%28for%20example%2C%20by%20calling%20exit%280%29%29.%20You%20will%20get%20Wrong%20Answer%20in%20this%20case%2C%20it%20means%20that%20you%20made%20more%20queries%20than%20allowed%2C%20or%20made%20an%20invalid%20query.%20If%20you%20ignore%20this%2C%20you%20can%20get%20other%20verdicts%20since%20your%20program%20will%20continue%20to%20read%20from%20a%20closed%20stream.%5Cn%5CnMaking%20test%20for%20hacking%5Cn%5CnThe%20first%20line%20should%20contain%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D10%5E%7B4%7D%20%24%20%29.%5Cn%5CnThe%20second%20line%20should%20contain%20%24%20n%20%24%20distinct%20integers%20%24%20x_%7Bi%7D%20%24%20%28-%20%24%2010%5E%7B8%7D%3C%3Dx_%7Bi%7D%3C%3D10%5E%7B8%7D%20%24%20%29%20%5Cu2014%20the%20coordinates%20of%20the%20vertical%20lines.%5Cn%5CnThe%20third%20line%20should%20contain%20%24%20m%20%24%20distinct%20integers%20%24%20y_%7Bi%7D%20%24%20%28-%20%24%2010%5E%7B8%7D%3C%3Dy_%7Bi%7D%3C%3D10%5E%7B8%7D%20%24%20%29%20%5Cu2014%20the%20coordinates%20of%20the%20horizontal%20lines.%5Cn%5CnYou%20can%20write%20coordinates%20in%20arbitrary%20order.%5Cn%5CnYou%20can%20see%20the%20example%20case%20in%20the%20notes.%22%2C%22samples%22%3A%5B%5B%221%5Cn1%5Cn3%5Cn2%5Cn%22%2C%220%201%202%5Cn0%20-2%20-2%5Cn0%205%206%5Cn0%20-2%202%5Cn1%201%202%5Cn2%5Cn0%20-3%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20example%20test%20is%5Cn%5Cn%60%3Cbr%3E%3C%5C%2Fbr%3E1%202%3Cbr%3E%3C%5C%2Fbr%3E2%3Cbr%3E%3C%5C%2Fbr%3E0%20-3%3Cbr%3E%3C%5C%2Fbr%3E%60The%20minimum%20distances%20are%3A%5Cn%5Cn-%20from%20%24%20%281%2C2%29%20%24%20to%20%24%20x%3D2%20%24%20%3B%5Cn-%20from%20%24%20%28-2%2C-2%29%20%24%20to%20%24%20y%3D-3%20%24%20%3B%5Cn-%20from%20%24%20%285%2C6%29%20%24%20to%20%24%20x%3D2%20%24%20%3B%5Cn-%20from%20%24%20%28-2%2C2%29%20%24%20to%20%24%20y%3D0%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F788%5C%2FD%22%2C%22id%22%3A%22788D%22%7D%2C%22translation%22%3A%22%5Cu4ea4%5Cu4e92%5Cu9898%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4e8c%5Cu7ef4%5Cu5e73%5Cu9762%5Cu4e0a%5Cu6709%5Cu5171%20n%20%5Cu6761%5Cu672a%5Cu77e5%5Cu7684%5Cu5e73%5Cu884c%5Cu4e8e%5Cu5750%5Cu6807%5Cu8f74%5Cu7684%5Cu76f4%5Cu7ebf%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4f60%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu8be2%5Cu95ee%5Cu4e00%5Cu4e2a%5Cu5e73%5Cu9762%5Cu4e0a%5Cu70b9%5Cuff0c%5Cu4ea4%5Cu4e92%5Cu5e93%5Cu5c06%5Cu8fd4%5Cu56de%5Cu8be5%5Cu70b9%5Cu4e0e%5Cu79bb%5Cu5b83%5Cu6700%5Cu8fd1%5Cu7684%5Cu76f4%5Cu7ebf%5Cu4e4b%5Cu95f4%5Cu7684%5Cu8ddd%5Cu79bb%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4f60%5Cu8981%5Cu5728%203e5%20%5Cu6b21%5Cu8be2%5Cu95ee%5Cu5185%5Cu786e%5Cu5b9a%5Cu8fd9%20n%20%5Cu6761%5Cu76f4%5Cu7ebf%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu9898%5Cu76ee%5Cu4fdd%5Cu8bc1%5Cu76f4%5Cu7ebf%20x%3Da%20%5Cu6216%5Cu8005%20y%3Da%20%5Cu4e2d%20%7Ca%7C%3C%3D1e18%5Cuff0c%5Cu4f60%5Cu8be2%5Cu95ee%5Cu7684%5Cu70b9%5Cu5750%5Cu6807%5Cu4e5f%5Cu8981%5Cu5728%20%5B-1e18%2C1e18%5D%20%5Cu4e2d%5Cu3002%5Cr%5Cn%5Cr%5Cnn%20%3C%3D%201e4%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A29%2C%22totalAccepted%22%3A16%2C%22pid%22%3A%22CF788D%22%2C%22title%22%3A%22Finding%20lines%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Finding%20lines%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Finding lines</h1>
<h2>题意翻译</h2>
<div>交互题。
二维平面上有共 n 条未知的平行于坐标轴的直线。
你每次可以询问一个平面上点，交互库将返回该点与离它最近的直线之间的距离。
你要在 3e5 次询问内确定这 n 条直线。
题目保证直线 x=a 或者 y=a 中 |a|<=1e18，你询问的点坐标也要在 [-1e18,1e18] 中。
n <= 1e4</div>
<h2>题目描述</h2>
<div>After some programming contest Roma decided to try himself in tourism. His home country Uzhlyandia is a Cartesian plane. He wants to walk along each of the Main Straight Lines in Uzhlyandia. It is known that each of these lines is a straight line parallel to one of the axes (i.e. it is described with the equation $ x=a $ or $ y=a $ , where $ a $ is integer called the coordinate of this line).
Roma lost his own map, so he should find out the coordinates of all lines at first. Uncle Anton agreed to help him, using the following rules:
- Initially Roma doesn't know the number of vertical and horizontal lines and their coordinates;
- Roma can announce integer coordinates of some point in Uzhlandia, and Anton then will tell him the minimum among the distances from the chosen point to each of the lines. However, since the coordinates of the lines don't exceed $ 10^{8} $ by absolute value, Roma can't choose a point with coordinates exceeding $ 10^{8} $ by absolute value.
Uncle Anton is in a hurry to the UOI (Uzhlandian Olympiad in Informatics), so he can only answer no more than $ 3·10^{5} $ questions.
The problem is that Roma doesn't know how to find out the coordinates of the lines. Write a program that plays Roma's role and finds the coordinates.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>There is no input initially. Your program should make queries to get information.
It is guaranteed that the number of horizontal and vertical lines is at least $ 1 $ and less than or equal to $ 10^{4} $ for each type.</div>
<h3>输出格式</h3>
<br />
<div>To make a query, print a line "0 x y" (- $ 10^{8}<=x,y<=10^{8} $ ), where $ x $ and $ y $ are the coordinates of the point. After each query you need to print end-of-line, make "flush" operation, and then read the answer to the query — the minimum among the distances prom this point to the Main Straight Lines of Uzhlyandia.
You can do no more than $ 3·10^{5} $ queries.
When you are ready to print the answer, print three lines:
1. In the first line print "1 n m", where $ n $ is the number of vertical lines (parallel to $ OY $ ), and $ m $ is the number of horizontal lines (parallel to $ OX $ ).
2. In the second line print $ n $ integers $ x_{1},x_{2},...,x_{n} $ — the coordinates of the vertical lines.
3. In the third line in the same format print $ m $ integers $ y_{1},y_{2},...,y_{m} $ — the coordinates of the horizontal lines.
You can print coordinates in arbitrary order.
To make "flush", you can use (just after printing a query/answer and end-of-line):
- fflush(stdout) in C++;
- System.out.flush() in Java;
- stdout.flush() in Python;
- flush(output) in Pascal;
- see the documentation for other languages.
You will get Wrong Answer if you make more queries than allowed or make an invalid query.
You can get Idleness Limit Exceeded if you don't print anything or if you forget to flush the output.
If at any moment your program reads -1 as an answer, it should immediately exit normally (for example, by calling exit(0)). You will get Wrong Answer in this case, it means that you made more queries than allowed, or made an invalid query. If you ignore this, you can get other verdicts since your program will continue to read from a closed stream.
Making test for hacking
The first line should contain two integers $ n $ and $ m $ ( $ 1<=n,m<=10^{4} $ ).
The second line should contain $ n $ distinct integers $ x_{i} $ (- $ 10^{8}<=x_{i}<=10^{8} $ ) — the coordinates of the vertical lines.
The third line should contain $ m $ distinct integers $ y_{i} $ (- $ 10^{8}<=y_{i}<=10^{8} $ ) — the coordinates of the horizontal lines.
You can write coordinates in arbitrary order.
You can see the example case in the notes.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
1
3
2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0 1 2
0 -2 -2
0 5 6
0 -2 2
1 1 2
2
0 -3
</code></pre>
<h2>说明</h2>
<div>The example test is
`<br></br>1 2<br></br>2<br></br>0 -3<br></br>`The minimum distances are:
- from $ (1,2) $ to $ x=2 $ ;
- from $ (-2,-2) $ to $ y=-3 $ ;
- from $ (5,6) $ to $ x=2 $ ;
- from $ (-2,2) $ to $ y=0 $ .</div>
</article>
</div>
</div>
</body>
</html>
