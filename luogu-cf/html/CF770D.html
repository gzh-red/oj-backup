<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Draw Brackets! - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397683:NukVOSpPzw5G8lvP4FG7Y1x2fmyBP/nbduYEn8oi610=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22A%20sequence%20of%20square%20brackets%20is%20regular%20if%20by%20inserting%20symbols%20%5C%22%2B%5C%22%20and%20%5C%221%5C%22%20into%20it%2C%20you%20can%20get%20a%20regular%20mathematical%20expression%20from%20it.%20For%20example%2C%20sequences%20%5C%22%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%5C%5D%5C%5C%5B%5C%5C%5D%5C%22%2C%20%5C%22%5C%5C%5B%5C%5C%5D%5C%22%20and%20%5C%22%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%5C%5D%5C%5C%5D%5C%22%20%5Cu2014%20are%20regular%2C%20at%20the%20same%20time%20%5C%22%5C%5C%5D%5C%5C%5B%5C%22%2C%20%5C%22%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%22%20and%20%5C%22%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%5C%5D%5C%5C%5D%5C%5C%5B%5C%22%20%5Cu2014%20are%20irregular.%5Cn%5CnDraw%20the%20given%20sequence%20using%20a%20minimalistic%20pseudographics%20in%20the%20strip%20of%20the%20lowest%20possible%20height%20%5Cu2014%20use%20symbols%20%27%2B%27%2C%20%27-%27%20and%20%27%7C%27.%20For%20example%2C%20the%20sequence%20%5C%22%5C%5C%5B%5C%5C%5B%5C%5C%5D%5C%5C%5B%5C%5C%5D%5C%5C%5D%5C%5C%5B%5C%5C%5D%5C%22%20should%20be%20represented%20as%3A%5Cn%5Cn%60%3Cbr%3E%3C%5C%2Fbr%3E%2B-%20%20%20%20%20%20%20%20-%2B%2B-%20-%2B%20%20%20%20%3Cbr%3E%3C%5C%2Fbr%3E%7C%2B-%20-%2B%2B-%20-%2B%7C%7C%20%20%20%7C%3Cbr%3E%3C%5C%2Fbr%3E%7C%7C%20%20%20%7C%7C%20%20%20%7C%7C%7C%20%20%20%7C%3Cbr%3E%3C%5C%2Fbr%3E%7C%2B-%20-%2B%2B-%20-%2B%7C%7C%20%20%20%7C%3Cbr%3E%3C%5C%2Fbr%3E%2B-%20%20%20%20%20%20%20%20-%2B%2B-%20-%2B%3Cbr%3E%3C%5C%2Fbr%3E%60Each%20bracket%20should%20be%20represented%20with%20the%20hepl%20of%20one%20or%20more%20symbols%20%27%7C%27%20%28the%20vertical%20part%29%20and%20symbols%20%27%2B%27%20and%20%27-%27%20as%20on%20the%20example%20which%20is%20given%20above.%5Cn%5CnBrackets%20should%20be%20drawn%20without%20spaces%20one%20by%20one%2C%20only%20dividing%20pairs%20of%20consecutive%20pairwise%20brackets%20with%20a%20single-space%20bar%20%28so%20that%20the%20two%20brackets%20do%20not%20visually%20merge%20into%20one%20symbol%29.%20The%20image%20should%20have%20the%20minimum%20possible%20height.%5Cn%5CnThe%20enclosed%20bracket%20is%20always%20smaller%20than%20the%20surrounding%20bracket%2C%20but%20each%20bracket%20separately%20strives%20to%20maximize%20the%20height%20of%20the%20image.%20So%20the%20pair%20of%20final%20brackets%20in%20the%20example%20above%20occupies%20the%20entire%20height%20of%20the%20image.%5Cn%5CnStudy%20carefully%20the%20examples%20below%2C%20they%20adequately%20explain%20the%20condition%20of%20the%20problem.%20Pay%20attention%20that%20in%20this%20problem%20the%20answer%20%28the%20image%29%20is%20unique.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20even%20integer%20%24%20n%20%24%20%28%20%24%202%3C%3Dn%3C%3D100%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20sequence%20of%20brackets.%5Cn%5CnThe%20second%20line%20contains%20the%20sequence%20of%20brackets%20%5Cu2014%20these%20are%20%24%20n%20%24%20symbols%20%5C%22%5C%5C%5B%5C%22%20and%20%5C%22%5C%5C%5D%5C%22.%20It%20is%20guaranteed%20that%20the%20given%20sequence%20of%20brackets%20is%20regular.%22%2C%22outputFormat%22%3A%22Print%20the%20drawn%20bracket%20sequence%20in%20the%20format%20which%20is%20given%20in%20the%20condition.%20Don%27t%20print%20extra%20%28unnecessary%29%20spaces.%22%2C%22samples%22%3A%5B%5B%228%5Cn%5B%5B%5D%5B%5D%5D%5B%5D%5Cn%22%2C%22%2B-%20%20%20%20%20%20%20%20-%2B%2B-%20-%2B%5Cn%7C%2B-%20-%2B%2B-%20-%2B%7C%7C%20%20%20%7C%5Cn%7C%7C%20%20%20%7C%7C%20%20%20%7C%7C%7C%20%20%20%7C%5Cn%7C%2B-%20-%2B%2B-%20-%2B%7C%7C%20%20%20%7C%5Cn%2B-%20%20%20%20%20%20%20%20-%2B%2B-%20-%2B%5Cn%22%5D%2C%5B%226%5Cn%5B%5B%5B%5D%5D%5D%5Cn%22%2C%22%2B-%20%20%20%20%20-%2B%5Cn%7C%2B-%20%20%20-%2B%7C%5Cn%7C%7C%2B-%20-%2B%7C%7C%5Cn%7C%7C%7C%20%20%20%7C%7C%7C%5Cn%7C%7C%2B-%20-%2B%7C%7C%5Cn%7C%2B-%20%20%20-%2B%7C%5Cn%2B-%20%20%20%20%20-%2B%5Cn%22%5D%2C%5B%226%5Cn%5B%5B%5D%5B%5D%5D%5Cn%22%2C%22%2B-%20%20%20%20%20%20%20%20-%2B%5Cn%7C%2B-%20-%2B%2B-%20-%2B%7C%5Cn%7C%7C%20%20%20%7C%7C%20%20%20%7C%7C%5Cn%7C%2B-%20-%2B%2B-%20-%2B%7C%5Cn%2B-%20%20%20%20%20%20%20%20-%2B%5Cn%22%5D%2C%5B%222%5Cn%5B%5D%5Cn%22%2C%22%2B-%20-%2B%5Cn%7C%20%20%20%7C%5Cn%2B-%20-%2B%5Cn%22%5D%2C%5B%224%5Cn%5B%5D%5B%5D%5Cn%22%2C%22%2B-%20-%2B%2B-%20-%2B%5Cn%7C%20%20%20%7C%7C%20%20%20%7C%5Cn%2B-%20-%2B%2B-%20-%2B%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F770%5C%2FD%22%2C%22id%22%3A%22770D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF770D%22%2C%22title%22%3A%22Draw%20Brackets%21%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Draw%20Brackets%21%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Draw Brackets!</h1>
<h2>题目描述</h2>
<div>A sequence of square brackets is regular if by inserting symbols "+" and "1" into it, you can get a regular mathematical expression from it. For example, sequences "\[\[\]\]\[\]", "\[\]" and "\[\[\]\[\[\]\]\]" — are regular, at the same time "\]\[", "\[\[\]" and "\[\[\]\]\]\[" — are irregular.
Draw the given sequence using a minimalistic pseudographics in the strip of the lowest possible height — use symbols '+', '-' and '|'. For example, the sequence "\[\[\]\[\]\]\[\]" should be represented as:
`<br></br>+- -++- -+ <br></br>|+- -++- -+|| |<br></br>|| || ||| |<br></br>|+- -++- -+|| |<br></br>+- -++- -+<br></br>`Each bracket should be represented with the hepl of one or more symbols '|' (the vertical part) and symbols '+' and '-' as on the example which is given above.
Brackets should be drawn without spaces one by one, only dividing pairs of consecutive pairwise brackets with a single-space bar (so that the two brackets do not visually merge into one symbol). The image should have the minimum possible height.
The enclosed bracket is always smaller than the surrounding bracket, but each bracket separately strives to maximize the height of the image. So the pair of final brackets in the example above occupies the entire height of the image.
Study carefully the examples below, they adequately explain the condition of the problem. Pay attention that in this problem the answer (the image) is unique.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an even integer $ n $ ( $ 2<=n<=100 $ ) — the length of the sequence of brackets.
The second line contains the sequence of brackets — these are $ n $ symbols "\[" and "\]". It is guaranteed that the given sequence of brackets is regular.</div>
<h3>输出格式</h3>
<br />
<div>Print the drawn bracket sequence in the format which is given in the condition. Don't print extra (unnecessary) spaces.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>8
[[][]][]
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>+-        -++- -+
|+- -++- -+||   |
||   ||   |||   |
|+- -++- -+||   |
+-        -++- -+
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6
[[[]]]
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>+-     -+
|+-   -+|
||+- -+||
|||   |||
||+- -+||
|+-   -+|
+-     -+
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>6
[[][]]
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>+-        -+
|+- -++- -+|
||   ||   ||
|+- -++- -+|
+-        -+
</code></pre>
<h3>输入样例 #4</h3>
<pre><code>2
[]
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>+- -+
|   |
+- -+
</code></pre>
<h3>输入样例 #5</h3>
<pre><code>4
[][]
</code></pre>
<h3>输出样例 #5</h3>
<pre><code>+- -++- -+
|   ||   |
+- -++- -+
</code></pre>
</article>
</div>
</div>
</body>
</html>
