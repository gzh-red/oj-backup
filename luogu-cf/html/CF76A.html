<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Gift - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390588:FYusUvhqF/+MkKoc5Ep/Ji/vEc9lEtX4LThCpx7ij9g=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20kingdom%20of%20Olympia%20consists%20of%20%24%20N%20%24%20cities%20and%20%24%20M%20%24%20bidirectional%20roads.%20Each%20road%20connects%20exactly%20two%20cities%20and%20two%20cities%20can%20be%20connected%20with%20more%20than%20one%20road.%20Also%20it%20possible%20that%20some%20roads%20connect%20city%20with%20itself%20making%20a%20loop.%5Cn%5CnAll%20roads%20are%20constantly%20plundered%20with%20bandits.%20After%20a%20while%20bandits%20became%20bored%20of%20wasting%20time%20in%20road%20robberies%2C%20so%20they%20suggested%20the%20king%20of%20Olympia%20to%20pay%20off.%20According%20to%20the%20offer%2C%20bandits%20want%20to%20get%20a%20gift%20consisted%20of%20gold%20and%20silver%20coins.%20Offer%20also%20contains%20a%20list%20of%20restrictions%3A%20for%20each%20road%20it%20is%20known%20%24%20g_%7Bi%7D%20%24%20%5Cu2014%20the%20smallest%20amount%20of%20gold%20and%20%24%20s_%7Bi%7D%20%24%20%5Cu2014%20the%20smallest%20amount%20of%20silver%20coins%20that%20should%20be%20in%20the%20gift%20to%20stop%20robberies%20on%20the%20road.%20That%20is%2C%20if%20the%20gift%20contains%20%24%20a%20%24%20gold%20and%20%24%20b%20%24%20silver%20coins%2C%20then%20bandits%20will%20stop%20robberies%20on%20all%20the%20roads%20that%20%24%20g_%7Bi%7D%3C%3Da%20%24%20and%20%24%20s_%7Bi%7D%3C%3Db%20%24%20.%5Cn%5CnUnfortunately%20kingdom%20treasury%20doesn%27t%20contain%20neither%20gold%20nor%20silver%20coins%2C%20but%20there%20are%20Olympian%20tugriks%20in%20it.%20The%20cost%20of%20one%20gold%20coin%20in%20tugriks%20is%20%24%20G%20%24%20%2C%20and%20the%20cost%20of%20one%20silver%20coin%20in%20tugriks%20is%20%24%20S%20%24%20.%20King%20really%20wants%20to%20send%20bandits%20such%20gift%20that%20for%20any%20two%20cities%20there%20will%20exist%20a%20safe%20path%20between%20them.%20Your%20task%20is%20to%20find%20the%20minimal%20cost%20in%20Olympian%20tugriks%20of%20the%20required%20gift.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%20%24%20N%20%24%20and%20%24%20M%20%24%20%28%20%24%202%3C%3DN%3C%3D200%20%24%20%2C%20%24%201%3C%3DM%3C%3D50000%20%24%20%29%20%5Cu2014%20the%20number%20of%20cities%20and%20the%20number%20of%20roads%2C%20respectively.%20The%20second%20line%20contains%20two%20integers%20%24%20G%20%24%20and%20%24%20S%20%24%20%28%20%24%201%3C%3DG%2CS%3C%3D10%5E%7B9%7D%20%24%20%29%20%5Cu2014%20the%20prices%20of%20gold%20and%20silver%20coins%20in%20tugriks.%20The%20following%20%24%20M%20%24%20lines%20contain%20information%20about%20the%20offer.%20Each%20of%20the%20records%20in%20list%20is%20given%20as%20four%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%2Cg_%7Bi%7D%2Cs_%7Bi%7D%20%24%20%2C%20where%20%24%20x_%7Bi%7D%20%24%20and%20%24%20y_%7Bi%7D%20%24%20are%20the%20numbers%20of%20cities%20that%20the%20road%20connects%20and%20%24%20g_%7Bi%7D%20%24%20%2C%20%24%20s_%7Bi%7D%20%24%20are%20minimal%20gold%20and%20silver%20coins%20requirements%20for%20the%20%24%20i%20%24%20-th%20road%20%28%20%24%201%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3DN%20%24%20%2C%20%24%201%3C%3Dg_%7Bi%7D%2Cs_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20%29.%20Cities%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20N%20%24%20.%20It%20is%20possible%20that%20there%20are%20more%20than%20one%20road%20between%20a%20pair%20of%20cities.%20It%20is%20possible%20that%20a%20road%20connects%20the%20city%20with%20itself.%22%2C%22outputFormat%22%3A%22The%20output%20should%20contain%20the%20minimal%20cost%20of%20the%20gift%20in%20Olympian%20tugriks.%20If%20there%20is%20no%20gift%20that%20satisfies%20the%20given%20requirements%20output%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF76A%5C%2F843ffcb025f9d699cf4e412e21508ca44c9ae26c.png%29.%22%2C%22samples%22%3A%5B%5B%223%203%5Cn2%201%5Cn1%202%2010%2015%5Cn1%202%204%2020%5Cn1%203%205%201%5Cn%22%2C%2230%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F76%5C%2FA%22%2C%22id%22%3A%2276A%22%7D%2C%22translation%22%3A%22%5Cu5965%5Cu6797%5Cu5339%5Cu4e9a%5Cu738b%5Cu56fd%5Cu7531N%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu548cM%5Cu4e2a%5Cu53cc%5Cu5411%5Cu9053%5Cu8def%5Cu7ec4%5Cu6210%5Cu3002%5Cu6bcf%5Cu6761%5Cu8def%5Cu8fde%5Cu63a5%5Cu4e24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu4e24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu53ef%5Cu4ee5%5Cu8fde%5Cu63a5%5Cu4e00%5Cu6761%5Cu4ee5%5Cu4e0a%5Cu7684%5Cu9053%5Cu8def%5Cu3002%5Cu53ef%5Cu80fd%5Cu6709%5Cu4e9b%5Cu9053%5Cu8def%5Cu662f%5Cu73af%5Cu57ce%5Cu7684%5Cu3002%5Cu6240%5Cu6709%5Cu7684%5Cu9053%5Cu8def%5Cu90fd%5Cu4e0d%5Cu65ad%5Cu5730%5Cu88ab%5Cu5f3a%5Cu76d7%5Cu63a0%5Cu593a%5Cu3002%5Cu540e%5Cu6765%5Cuff0c%5Cu5f3a%5Cu76d7%5Cu4eec%5Cu538c%5Cu5026%5Cu4e86%5Cu5728%5Cu9053%5Cu8def%5Cu62a2%5Cu52ab%5Cu4e2d%5Cu6d6a%5Cu8d39%5Cu65f6%5Cu95f4%5Cuff0c%5Cu6240%5Cu4ee5%5Cu4ed6%5Cu4eec%5Cu8981%5Cu6c42%5Cu5965%5Cu6797%5Cu5339%5Cu4e9a%5Cu56fd%5Cu738b%5Cu8fd8%5Cu6e05%5Cu503a%5Cu52a1%5Cu3002%5Cu6839%5Cu636e%5Cu63d0%5Cu8bae%5Cuff0c%5Cu5f3a%5Cu76d7%5Cu60f3%5Cu8981%5Cu5f97%5Cu5230%5Cu4e00%5Cu4e2a%5Cu7531%5Cu91d1%5Cu5e01%5Cu548c%5Cu94f6%5Cu5e01%5Cu7ec4%5Cu6210%5Cu7684%5Cu793c%5Cu7269%5Cu3002%5Cu63d0%5Cu8bae%5Cu8fd8%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu8868%5Cu5355%5Cuff1a%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e00%5Cu6761%5Cu9053%5Cu8def%5Cuff0c%5Cu5b83%5Cu90fd%5Cu662f%5Cu5df2%5Cu77e5%5Cu7684Gi%5Cu2014%5Cu2014%5Cu6700%5Cu5c0f%5Cu7684%5Cu91d1%5Cu5e01%5Cu6570%5Cu91cf%5Cu548cSi%5Cu2014%5Cu2014%5Cu6700%5Cu5c0f%5Cu7684%5Cu94f6%5Cu5e01%5Cu6570%5Cu91cf%5Cuff0c%5Cu5e94%5Cu5f53%5Cu662f%5Cu963b%5Cu6b62%5Cu5f3a%5Cu76d7%5Cu5728%5Cu8def%5Cu4e0a%5Cu62a2%5Cu52ab%5Cu7684%5Cu793c%5Cu7269%5Cu3002%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cuff0c%5Cu5982%5Cu679c%5Cu793c%5Cu7269%5Cu5305%5Cu542bA%5Cu679a%5Cu91d1%5Cu5e01%5Cu548cB%5Cu679a%5Cu94f6%5Cu5e01%28Gi%3C%3DA%5Cu4e14Si%3C%3DB%29%5Cuff0c%5Cu90a3%5Cu4e48%5Cu76d7%5Cu8d3c%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu5728%5Cu6bcf%5Cu4e2a%5Cu9053%5Cu8def%5Cu4e0a%5Cu90fd%5Cu505c%5Cu6b62%5Cu62a2%5Cu52ab%5Cu3002%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cuff0c%5Cu8d22%5Cu653f%5Cu90e8%5Cu65e2%5Cu65e0%5Cu91d1%5Cu5e01%5Cu4e5f%5Cu65e0%5Cu94f6%5Cu5e01%5Cuff0c%5Cu4f46%5Cu91cc%5Cu9762%5Cu6709%5Cu5965%5Cu6797%5Cu5339%5Cu4e9a%5Cu56fe%5Cu683c%5Cu91cc%5Cu514b%5Cu3002%5Cu4e00%5Cu4e2a%5Cu91d1%5Cu5e01%5Cu5728%5Cu56fe%5Cu683c%5Cu91cc%5Cu514b%5Cu7684%5Cu6210%5Cu672c%5Cu662fG%5Cuff0c%5Cu800c%5Cu4e00%5Cu4e2a%5Cu94f6%5Cu5e01%5Cu5728%5Cu56fe%5Cu683c%5Cu91cc%5Cu514b%5Cu7684%5Cu6210%5Cu672c%5Cu662fS%5Cu3002%5Cu56fd%5Cu738b%5Cu5f88%5Cu60f3%5Cu9001%5Cu4e0a%5Cu76d7%5Cu8d3c%5Cu8fd9%5Cu6837%5Cu7684%5Cu793c%5Cu7269%5Cuff0c%5Cu4f7f%5Cu4efb%5Cu4f55%5Cu4e24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu4e4b%5Cu95f4%5Cu6709%5Cu4e00%5Cu6761%5Cu5b89%5Cu5168%5Cu7684%5Cu9053%5Cu8def%5Cu3002%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu5728%5Cu56fe%5Cu683c%5Cu91cc%5Cu514b%5Cu627e%5Cu5230%5Cu6700%5Cu5c0f%5Cu7684%5Cu793c%5Cu7269%5Cu91d1%5Cu989d%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40%5Cu6d77%5Cu6d0b%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B113%2C166%2C287%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A224%2C%22totalAccepted%22%3A71%2C%22pid%22%3A%22CF76A%22%2C%22title%22%3A%22Gift%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A53053%2C%22title%22%3A%22emmm%5Cu2026%5Cu2026%5Cu6211%5Cu6210%5Cu529f%5Cu5730%5Cu6539%5Cu53d8%5Cu4e86%5Cu8fd9%5Cu9053%5Cu9898%5Cu7684%5Cu96be%5Cu5ea6%22%2C%22forum%22%3A%7B%22id%22%3A12311%2C%22name%22%3A%22CF76A%20Gift%22%2C%22slug%22%3A%22CF76A%22%7D%7D%2C%7B%22id%22%3A45596%2C%22title%22%3A%22%5Cu5f88%5Cu70c2%5Cu5f88%5Cu70c2%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12311%2C%22name%22%3A%22CF76A%20Gift%22%2C%22slug%22%3A%22CF76A%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3959%22%2C%22title%22%3A%22%5Cu5b9d%5Cu85cf%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF891C%22%2C%22title%22%3A%22Envy%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF609E%22%2C%22title%22%3A%22Minimum%20spanning%20tree%20for%20each%20edge%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4342%22%2C%22title%22%3A%22%5BIOI1998%5DPolygon%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1238A%22%2C%22title%22%3A%22Prime%20Subtraction%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Gift%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Gift</h1>
<h2>题意翻译</h2>
<div>奥林匹亚王国由N个城市和M个双向道路组成。每条路连接两个城市，两个城市可以连接一条以上的道路。可能有些道路是环城的。所有的道路都不断地被强盗掠夺。后来，强盗们厌倦了在道路抢劫中浪费时间，所以他们要求奥林匹亚国王还清债务。根据提议，强盗想要得到一个由金币和银币组成的礼物。提议还包含一个表单：对于每一条道路，它都是已知的Gi——最小的金币数量和Si——最小的银币数量，应当是阻止强盗在路上抢劫的礼物。也就是说，如果礼物包含A枚金币和B枚银币(Gi<=A且Si<=B)，那么盗贼就可以在每个道路上都停止抢劫。不幸的是，财政部既无金币也无银币，但里面有奥林匹亚图格里克。一个金币在图格里克的成本是G，而一个银币在图格里克的成本是S。国王很想送上盗贼这样的礼物，使任何两个城市之间有一条安全的道路。你的任务是在图格里克找到最小的礼物金额。
感谢@海洋 提供的翻译</div>
<h2>题目描述</h2>
<div>The kingdom of Olympia consists of $ N $ cities and $ M $ bidirectional roads. Each road connects exactly two cities and two cities can be connected with more than one road. Also it possible that some roads connect city with itself making a loop.
All roads are constantly plundered with bandits. After a while bandits became bored of wasting time in road robberies, so they suggested the king of Olympia to pay off. According to the offer, bandits want to get a gift consisted of gold and silver coins. Offer also contains a list of restrictions: for each road it is known $ g_{i} $ — the smallest amount of gold and $ s_{i} $ — the smallest amount of silver coins that should be in the gift to stop robberies on the road. That is, if the gift contains $ a $ gold and $ b $ silver coins, then bandits will stop robberies on all the roads that $ g_{i}<=a $ and $ s_{i}<=b $ .
Unfortunately kingdom treasury doesn't contain neither gold nor silver coins, but there are Olympian tugriks in it. The cost of one gold coin in tugriks is $ G $ , and the cost of one silver coin in tugriks is $ S $ . King really wants to send bandits such gift that for any two cities there will exist a safe path between them. Your task is to find the minimal cost in Olympian tugriks of the required gift.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers $ N $ and $ M $ ( $ 2<=N<=200 $ , $ 1<=M<=50000 $ ) — the number of cities and the number of roads, respectively. The second line contains two integers $ G $ and $ S $ ( $ 1<=G,S<=10^{9} $ ) — the prices of gold and silver coins in tugriks. The following $ M $ lines contain information about the offer. Each of the records in list is given as four integers $ x_{i},y_{i},g_{i},s_{i} $ , where $ x_{i} $ and $ y_{i} $ are the numbers of cities that the road connects and $ g_{i} $ , $ s_{i} $ are minimal gold and silver coins requirements for the $ i $ -th road ( $ 1<=x_{i},y_{i}<=N $ , $ 1<=g_{i},s_{i}<=10^{9} $ ). Cities are numbered from $ 1 $ to $ N $ . It is possible that there are more than one road between a pair of cities. It is possible that a road connects the city with itself.</div>
<h3>输出格式</h3>
<br />
<div>The output should contain the minimal cost of the gift in Olympian tugriks. If there is no gift that satisfies the given requirements output ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF76A/843ffcb025f9d699cf4e412e21508ca44c9ae26c.png).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3
2 1
1 2 10 15
1 2 4 20
1 3 5 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>30
</code></pre>
</article>
</div>
</div>
</body>
</html>
