<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Circular Dance - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401542:5QZAklGyn+cmJc0WDv0kc9Vdkb4OTSDCd1T0c1Vvuk4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22There%20are%20%24%20n%20%24%20kids%2C%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20%2C%20dancing%20in%20a%20circle%20around%20the%20Christmas%20tree.%20Let%27s%20enumerate%20them%20in%20a%20clockwise%20direction%20as%20%24%20p_1%20%24%20%2C%20%24%20p_2%20%24%20%2C%20...%2C%20%24%20p_n%20%24%20%28all%20these%20numbers%20are%20from%20%24%201%20%24%20to%20%24%20n%20%24%20and%20are%20distinct%2C%20so%20%24%20p%20%24%20is%20a%20permutation%29.%20Let%20the%20next%20kid%20for%20a%20kid%20%24%20p_i%20%24%20be%20kid%20%24%20p_%7Bi%20%2B%201%7D%20%24%20if%20%24%20i%20%3C%20n%20%24%20and%20%24%20p_1%20%24%20otherwise.%20After%20the%20dance%2C%20each%20kid%20remembered%20two%20kids%3A%20the%20next%20kid%20%28let%27s%20call%20him%20%24%20x%20%24%20%29%20and%20the%20next%20kid%20for%20%24%20x%20%24%20.%20Each%20kid%20told%20you%20which%20kids%20he%5C%2Fshe%20remembered%3A%20the%20kid%20%24%20i%20%24%20remembered%20kids%20%24%20a_%7Bi%2C%201%7D%20%24%20and%20%24%20a_%7Bi%2C%202%7D%20%24%20.%20However%2C%20the%20order%20of%20%24%20a_%7Bi%2C%201%7D%20%24%20and%20%24%20a_%7Bi%2C%202%7D%20%24%20can%20differ%20from%20their%20order%20in%20the%20circle.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1095D%5C%2Fba706820d7e68c6ca7fa05954588bb8c356ad841.png%29Example%3A%205%20kids%20in%20a%20circle%2C%20%24%20p%3D%5B3%2C%202%2C%204%2C%201%2C%205%5D%20%24%20%28or%20any%20cyclic%20shift%29.%20The%20information%20kids%20remembered%20is%3A%20%24%20a_%7B1%2C1%7D%3D3%20%24%20%2C%20%24%20a_%7B1%2C2%7D%3D5%20%24%20%3B%20%24%20a_%7B2%2C1%7D%3D1%20%24%20%2C%20%24%20a_%7B2%2C2%7D%3D4%20%24%20%3B%20%24%20a_%7B3%2C1%7D%3D2%20%24%20%2C%20%24%20a_%7B3%2C2%7D%3D4%20%24%20%3B%20%24%20a_%7B4%2C1%7D%3D1%20%24%20%2C%20%24%20a_%7B4%2C2%7D%3D5%20%24%20%3B%20%24%20a_%7B5%2C1%7D%3D2%20%24%20%2C%20%24%20a_%7B5%2C2%7D%3D3%20%24%20.You%20have%20to%20restore%20the%20order%20of%20the%20kids%20in%20the%20circle%20using%20this%20information.%20If%20there%20are%20several%20answers%2C%20you%20may%20print%20any.%20It%20is%20guaranteed%20that%20at%20least%20one%20solution%20exists.%5Cn%5CnIf%20you%20are%20Python%20programmer%2C%20consider%20using%20PyPy%20instead%20of%20Python%20when%20you%20submit%20your%20code.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%203%20%5C%5Cle%20n%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20the%20kids.%5Cn%5CnThe%20next%20%24%20n%20%24%20lines%20contain%20%24%202%20%24%20integers%20each.%20The%20%24%20i%20%24%20-th%20line%20contains%20two%20integers%20%24%20a_%7Bi%2C%201%7D%20%24%20and%20%24%20a_%7Bi%2C%202%7D%20%24%20%28%20%24%201%20%5C%5Cle%20a_%7Bi%2C%201%7D%2C%20a_%7Bi%2C%202%7D%20%5C%5Cle%20n%2C%20a_%7Bi%2C%201%7D%20%5C%5Cne%20a_%7Bi%2C%202%7D%20%24%20%29%20%5Cu2014%20the%20kids%20the%20%24%20i%20%24%20-th%20kid%20remembered%2C%20given%20in%20arbitrary%20order.%22%2C%22outputFormat%22%3A%22Print%20%24%20n%20%24%20integers%20%24%20p_1%20%24%20%2C%20%24%20p_2%20%24%20%2C%20...%2C%20%24%20p_n%20%24%20%5Cu2014%20permutation%20of%20integers%20from%20%24%201%20%24%20to%20%24%20n%20%24%20%2C%20which%20corresponds%20to%20the%20order%20of%20kids%20in%20the%20circle.%20If%20there%20are%20several%20answers%2C%20you%20may%20print%20any%20%28for%20example%2C%20it%20doesn%27t%20matter%20which%20kid%20is%20the%20first%20in%20the%20circle%29.%20It%20is%20guaranteed%20that%20at%20least%20one%20solution%20exists.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%5Cn3%205%5Cn1%204%5Cn2%204%5Cn1%205%5Cn2%203%5Cn%22%2C%22%5Cn3%202%204%201%205%20%5Cn%22%5D%2C%5B%22%5Cn3%5Cn2%203%5Cn3%201%5Cn1%202%5Cn%22%2C%22%5Cn3%201%202%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1095%5C%2FD%22%2C%22id%22%3A%221095D%22%7D%2C%22translation%22%3A%22%5Cu73b0%5Cu5728%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu6392%5Cu5217%2C%5Cu5df2%5Cu77e5%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu6570%5Cu540e%5Cu9762%5Cu7684%5Cu4e24%5Cu4e2a%5Cu6570%28%5Cu987a%5Cu5e8f%5Cu672a%5Cu77e5%29%2C%5Cu8fd8%5Cu539f%5Cu8fd9%5Cu4e2a%5Cu6392%5Cu5217.%5Cr%5Cn%5Cr%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A76%2C%22totalAccepted%22%3A48%2C%22pid%22%3A%22CF1095D%22%2C%22title%22%3A%22Circular%20Dance%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1095F%22%2C%22title%22%3A%22Make%20It%20Connected%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1095E%22%2C%22title%22%3A%22Almost%20Regular%20Bracket%20Sequence%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1095C%22%2C%22title%22%3A%22Powers%20Of%20Two%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1096D%22%2C%22title%22%3A%22Easy%20Problem%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1185D%22%2C%22title%22%3A%22Extra%20Element%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Circular%20Dance%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Circular Dance</h1>
<h2>题意翻译</h2>
<div>现在有一个长度为n的排列,已知每一个数后面的两个数(顺序未知),还原这个排列.
</div>
<h2>题目描述</h2>
<div>There are $ n $ kids, numbered from $ 1 $ to $ n $ , dancing in a circle around the Christmas tree. Let's enumerate them in a clockwise direction as $ p_1 $ , $ p_2 $ , ..., $ p_n $ (all these numbers are from $ 1 $ to $ n $ and are distinct, so $ p $ is a permutation). Let the next kid for a kid $ p_i $ be kid $ p_{i + 1} $ if $ i < n $ and $ p_1 $ otherwise. After the dance, each kid remembered two kids: the next kid (let's call him $ x $ ) and the next kid for $ x $ . Each kid told you which kids he/she remembered: the kid $ i $ remembered kids $ a_{i, 1} $ and $ a_{i, 2} $ . However, the order of $ a_{i, 1} $ and $ a_{i, 2} $ can differ from their order in the circle.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1095D/ba706820d7e68c6ca7fa05954588bb8c356ad841.png)Example: 5 kids in a circle, $ p=[3, 2, 4, 1, 5] $ (or any cyclic shift). The information kids remembered is: $ a_{1,1}=3 $ , $ a_{1,2}=5 $ ; $ a_{2,1}=1 $ , $ a_{2,2}=4 $ ; $ a_{3,1}=2 $ , $ a_{3,2}=4 $ ; $ a_{4,1}=1 $ , $ a_{4,2}=5 $ ; $ a_{5,1}=2 $ , $ a_{5,2}=3 $ .You have to restore the order of the kids in the circle using this information. If there are several answers, you may print any. It is guaranteed that at least one solution exists.
If you are Python programmer, consider using PyPy instead of Python when you submit your code.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains one integer $ n $ ( $ 3 \le n \le 2 \cdot 10^5 $ ) — the number of the kids.
The next $ n $ lines contain $ 2 $ integers each. The $ i $ -th line contains two integers $ a_{i, 1} $ and $ a_{i, 2} $ ( $ 1 \le a_{i, 1}, a_{i, 2} \le n, a_{i, 1} \ne a_{i, 2} $ ) — the kids the $ i $ -th kid remembered, given in arbitrary order.</div>
<h3>输出格式</h3>
<br />
<div>Print $ n $ integers $ p_1 $ , $ p_2 $ , ..., $ p_n $ — permutation of integers from $ 1 $ to $ n $ , which corresponds to the order of kids in the circle. If there are several answers, you may print any (for example, it doesn't matter which kid is the first in the circle). It is guaranteed that at least one solution exists.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5
3 5
1 4
2 4
1 5
2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
3 2 4 1 5 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
3
2 3
3 1
1 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
3 1 2 
</code></pre>
</article>
</div>
</div>
</body>
</html>
