<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Thanos Sort - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573402196:owN0Eg1bDmA0BzcYcrE0SUn1qL3RAv4uaAj6qBwlERs=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22%5BThanos%20sort%5D%28https%3A%5C%2F%5C%2Fcodegolf.stackexchange.com%5C%2Fquestions%5C%2F182221%5C%2Fimplement-the-thanos-sorting-algorithm%29%20is%20a%20supervillain%20sorting%20algorithm%2C%20which%20works%20as%20follows%3A%20if%20the%20array%20is%20not%20sorted%2C%20snap%20your%20fingers%5C%5C%2A%20to%20remove%20the%20first%20or%20the%20second%20half%20of%20the%20items%2C%20and%20repeat%20the%20process.%5Cn%5CnGiven%20an%20input%20array%2C%20what%20is%20the%20size%20of%20the%20longest%20sorted%20array%20you%20can%20obtain%20from%20it%20using%20Thanos%20sort%3F%5Cn%5Cn%5C%5C%2AInfinity%20Gauntlet%20required.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20a%20single%20number%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%2016%20%24%20%29%20%5Cu2014%20the%20size%20of%20the%20array.%20%24%20n%20%24%20is%20guaranteed%20to%20be%20a%20power%20of%202.%5Cn%5CnThe%20second%20line%20of%20input%20contains%20%24%20n%20%24%20space-separated%20integers%20%24%20a_i%20%24%20%28%20%24%201%20%5C%5Cle%20a_i%20%5C%5Cle%20100%20%24%20%29%20%5Cu2014%20the%20elements%20of%20the%20array.%22%2C%22outputFormat%22%3A%22Return%20the%20maximal%20length%20of%20a%20sorted%20array%20you%20can%20obtain%20using%20Thanos%20sort.%20The%20elements%20of%20the%20array%20have%20to%20be%20sorted%20in%20non-decreasing%20order.%22%2C%22samples%22%3A%5B%5B%224%5Cn1%202%202%204%5Cn%22%2C%224%5Cn%22%5D%2C%5B%228%5Cn11%2012%201%202%2013%2014%203%204%5Cn%22%2C%222%5Cn%22%5D%2C%5B%224%5Cn7%206%205%204%5Cn%22%2C%221%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%20the%20array%20is%20already%20sorted%2C%20so%20no%20finger%20snaps%20are%20required.%5Cn%5CnIn%20the%20second%20example%20the%20array%20actually%20has%20a%20subarray%20of%204%20sorted%20elements%2C%20but%20you%20can%20not%20remove%20elements%20from%20different%20sides%20of%20the%20array%20in%20one%20finger%20snap.%20Each%20time%20you%20have%20to%20remove%20either%20the%20whole%20first%20half%20or%20the%20whole%20second%20half%2C%20so%20you%27ll%20have%20to%20snap%20your%20fingers%20twice%20to%20get%20to%20a%202-element%20sorted%20array.%5Cn%5CnIn%20the%20third%20example%20the%20array%20is%20sorted%20in%20decreasing%20order%2C%20so%20you%20can%20only%20save%20one%20element%20from%20the%20ultimate%20destruction.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1145%5C%2FA%22%2C%22id%22%3A%221145A%22%7D%2C%22translation%22%3A%22%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5B%5Cu706d%5Cu9738%5Cu6392%5Cu5e8f%5D%28https%3A%5C%2F%5C%2Fcodegolf.stackexchange.com%5C%2Fquestions%5C%2F182221%5C%2Fimplement-the-thanos-sorting-algorithm%29%5Cu662f%5Cu4e00%5Cu79cd%5Cu8d85%5Cu7ea7%5Cu53cd%5Cu6d3e%5Cu6392%5Cu5e8f%5Cu7b97%5Cu6cd5%5Cu3002%5Cn%5Cn%5Cu5b83%5Cu662f%5Cu8fd9%5Cu6837%5Cu8fd0%5Cu884c%5Cu7684%5Cuff1a%20%20%5Cn%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%24a%24%2C%5Cu6ee1%5Cu8db3%24%5C%5Cforall%20i%3Cj%2Ca_i%5C%5Cle%20a_j%24%5Cuff0c%5Cu5c31%5Cu505c%5Cu6b62%5Cu6392%5Cu5e8f%5Cuff1b%20%20%5Cn%5Cu5426%5Cu5219%5Cu5220%5Cu6389%5Cu8fd9%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu7684%5Cu5de6%5Cu534a%5Cu8fb9%5Cu6216%5Cu53f3%5Cu534a%5Cu8fb9%5Cu3002%20%20%20%5Cn%5Cu6309%5Cu6b64%5Cu89c4%5Cu5219%5Cu91cd%5Cu590d%5Cu6267%5Cu884c%5Cuff0c%5Cu76f4%5Cu5230%5Cu6ee1%5Cu8db3%5Cu4e0a%5Cu8ff0%5Cu6761%5Cu4ef6%5Cu3002%20%20%5Cn%5Cn%5Cu73b0%5Cu5728%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%5Cuff0c%5Cu5bf9%5Cu5176%5Cu8fdb%5Cu884c%5Cu8fd9%5Cu79cd%5Cu6392%5Cu5e8f%5Cu7b97%5Cu6cd5%5Cu540e%5Cuff0c%5Cu6700%5Cu5927%5Cu957f%5Cu5ea6%5Cu4f1a%5Cu662f%5Cu591a%5Cu5c11%5Cu5462%5Cuff1f%20%20%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%20%20%5Cn%23%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%24n%24%20%20%5Cn%5Cu4e0b%5Cu9762%5Cu4e00%5Cu884c%24n%24%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%24a_i%24%5Cuff0c%5Cu8868%5Cu793a%5Cu5e8f%5Cu5217%24a%24%5Cu7684%5Cu7b2c%24i%24%5Cu9879%5Cu3002%20%20%20%20%5Cn%23%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%20%20%5Cn%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu6392%5Cu5e8f%5Cu540e%5Cu5e8f%5Cu5217%24a%24%5Cu7684%5Cu6700%5Cu5927%5Cu957f%5Cu5ea6%5Cu3002%5Cn%23%23%20%5Cu8bf4%5Cu660e%20%20%5Cn%23%23%23%20%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cuff1a%20%20%5Cn%24n%5C%5Cin%5C%5C%7B1%2C2%2C4%2C8%2C16%5C%5C%7D%24%20%20%5Cn%241%5C%5Cle%20a_i%5C%5Cle%20100%24%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A261%2C%22totalAccepted%22%3A171%2C%22pid%22%3A%22CF1145A%22%2C%22title%22%3A%22Thanos%20Sort%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A133882%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cu4e3a%5Cu4ec0%5Cu4e48RE%22%2C%22forum%22%3A%7B%22id%22%3A35454%2C%22name%22%3A%22CF1145A%20Thanos%20Sort%22%2C%22slug%22%3A%22CF1145A%22%7D%7D%2C%7B%22id%22%3A131570%2C%22title%22%3A%22%5Cu600e%5Cu4e48%5Cu8fd9%5Cu9898%5Cu4ece%5Cu7d2b%5Cu9898%5Cu53d8%5Cu6210%5Cu6a59%5Cu9898%5Cuff0c%5Cu53c8%5Cu53d8%5Cu56de%5Cu7d2b%5Cu9898%5Cu4e86%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A35454%2C%22name%22%3A%22CF1145A%20Thanos%20Sort%22%2C%22slug%22%3A%22CF1145A%22%7D%7D%2C%7B%22id%22%3A110314%2C%22title%22%3A%22%5Cu95ee%5Cu4e2a%5Cu95ee%5Cu9898%22%2C%22forum%22%3A%7B%22id%22%3A35454%2C%22name%22%3A%22CF1145A%20Thanos%20Sort%22%2C%22slug%22%3A%22CF1145A%22%7D%7D%2C%7B%22id%22%3A108691%2C%22title%22%3A%22Why%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%3F%22%2C%22forum%22%3A%7B%22id%22%3A35454%2C%22name%22%3A%22CF1145A%20Thanos%20Sort%22%2C%22slug%22%3A%22CF1145A%22%7D%7D%2C%7B%22id%22%3A108687%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu6709%5Cu8bef%5Cuff0c%5Cu6b64%5Cu5904%5Cu63d0%5Cu4f9b%5Cu6b63%5Cu786e%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A35454%2C%22name%22%3A%22CF1145A%20Thanos%20Sort%22%2C%22slug%22%3A%22CF1145A%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1145F%22%2C%22title%22%3A%22Neat%20Words%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1145E%22%2C%22title%22%3A%22Fourier%20Doodles%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1145D%22%2C%22title%22%3A%22Pigeon%20d%27Or%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1145C%22%2C%22title%22%3A%22Mystery%20Circuit%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1145B%22%2C%22title%22%3A%22Kanban%20Numbers%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Thanos%20Sort%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Thanos Sort</h1>
<h2>题意翻译</h2>
<div>## 题目描述
[灭霸排序](https://codegolf.stackexchange.com/questions/182221/implement-the-thanos-sorting-algorithm)是一种超级反派排序算法。
它是这样运行的：
对于一个序列$a$,满足$\forall i<j,a_i\le a_j$，就停止排序； 否则删掉这个序列的左半边或右半边。 按此规则重复执行，直到满足上述条件。 现在给你一个序列，对其进行这种排序算法后，最大长度会是多少呢？ ## 输入输出格式 ### 输入格式 第一行一个正整数$n$ 下面一行$n$个正整数$a_i$，表示序列$a$的第$i$项。 ### 输出格式 输出一个正整数，表示排序后序列$a$的最大长度。 ## 说明 ### 数据范围： $n\in\{1,2,4,8,16\}$ $1\le a_i\le 100$</div>
<h2>题目描述</h2>
<div>[Thanos sort](https://codegolf.stackexchange.com/questions/182221/implement-the-thanos-sorting-algorithm) is a supervillain sorting algorithm, which works as follows: if the array is not sorted, snap your fingers\* to remove the first or the second half of the items, and repeat the process.
Given an input array, what is the size of the longest sorted array you can obtain from it using Thanos sort?
\*Infinity Gauntlet required.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains a single number $ n $ ( $ 1 \le n \le 16 $ ) — the size of the array. $ n $ is guaranteed to be a power of 2.
The second line of input contains $ n $ space-separated integers $ a_i $ ( $ 1 \le a_i \le 100 $ ) — the elements of the array.</div>
<h3>输出格式</h3>
<br />
<div>Return the maximal length of a sorted array you can obtain using Thanos sort. The elements of the array have to be sorted in non-decreasing order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 2 2 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>8
11 12 1 2 13 14 3 4
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>4
7 6 5 4
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1
</code></pre>
<h2>说明</h2>
<div>In the first example the array is already sorted, so no finger snaps are required.
In the second example the array actually has a subarray of 4 sorted elements, but you can not remove elements from different sides of the array in one finger snap. Each time you have to remove either the whole first half or the whole second half, so you'll have to snap your fingers twice to get to a 2-element sorted array.
In the third example the array is sorted in decreasing order, so you can only save one element from the ultimate destruction.</div>
</article>
</div>
</div>
</body>
</html>
