<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Design Tutorial: Increase the Constraints - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573394478:kbFSOvGOgSOl+KxRVsqhPIokM9Vj1o89aENfgxJOuHc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22There%20is%20a%20simple%20way%20to%20create%20hard%20tasks%3A%20take%20one%20simple%20problem%20as%20the%20query%2C%20and%20try%20to%20find%20an%20algorithm%20that%20can%20solve%20it%20faster%20than%20bruteforce.%20This%20kind%20of%20tasks%20usually%20appears%20in%20OI%20contest%2C%20and%20usually%20involves%20data%20structures.%5Cn%5CnLet%27s%20try%20to%20create%20a%20task%2C%20for%20example%2C%20we%20take%20the%20%5C%22Hamming%20distance%20problem%5C%22%3A%20for%20two%20binary%20strings%20%24%20s%20%24%20and%20%24%20t%20%24%20with%20the%20same%20length%2C%20the%20Hamming%20distance%20between%20them%20is%20the%20number%20of%20positions%20at%20which%20the%20corresponding%20symbols%20are%20different.%20For%20example%2C%20the%20Hamming%20distance%20between%20%5C%2200111%5C%22%20and%20%5C%2210101%5C%22%20is%202%20%28the%20different%20symbols%20are%20marked%20with%20bold%29.%5Cn%5CnWe%20use%20the%20Hamming%20distance%20problem%20as%20a%20query%20in%20the%20following%20way%3A%20you%20are%20given%20two%20strings%20%24%20a%20%24%20and%20%24%20b%20%24%20and%20several%20queries.%20Each%20query%20will%20be%3A%20what%20is%20the%20Hamming%20distance%20between%20two%20strings%20%24%20a_%7Bp1%7Da_%7Bp1%7D%2B1...a_%7Bp1%7D%2Blen-1%20%24%20and%20%24%20b_%7Bp2%7Db_%7Bp2%7D%2B1...b_%7Bp2%7D%2Blen-1%20%24%20%3F%5Cn%5CnNote%2C%20that%20in%20this%20problem%20the%20strings%20are%20zero-based%2C%20that%20is%20%24%20s%3Ds_%7B0%7Ds_%7B1%7D...%20s_%7B%7Cs%7C-1%7D%20%24%20.%22%2C%22inputFormat%22%3A%22There%20is%20a%20simple%20way%20to%20create%20hard%20tasks%3A%20take%20one%20simple%20problem%20as%20the%20query%2C%20and%20try%20to%20find%20an%20algorithm%20that%20can%20solve%20it%20faster%20than%20bruteforce.%20This%20kind%20of%20tasks%20usually%20appears%20in%20OI%20contest%2C%20and%20usually%20involves%20data%20structures.%5Cn%5CnLet%27s%20try%20to%20create%20a%20task%2C%20for%20example%2C%20we%20take%20the%20%5C%22Hamming%20distance%20problem%5C%22%3A%20for%20two%20binary%20strings%20%24%20s%20%24%20and%20%24%20t%20%24%20with%20the%20same%20length%2C%20the%20Hamming%20distance%20between%20them%20is%20the%20number%20of%20positions%20at%20which%20the%20corresponding%20symbols%20are%20different.%20For%20example%2C%20the%20Hamming%20distance%20between%20%5C%2200111%5C%22%20and%20%5C%2210101%5C%22%20is%202%20%28the%20different%20symbols%20are%20marked%20with%20bold%29.%5Cn%5CnWe%20use%20the%20Hamming%20distance%20problem%20as%20a%20query%20in%20the%20following%20way%3A%20you%20are%20given%20two%20strings%20%24%20a%20%24%20and%20%24%20b%20%24%20and%20several%20queries.%20Each%20query%20will%20be%3A%20what%20is%20the%20Hamming%20distance%20between%20two%20strings%20%24%20a_%7Bp1%7Da_%7Bp1%7D%2B1...a_%7Bp1%7D%2Blen-1%20%24%20and%20%24%20b_%7Bp2%7Db_%7Bp2%7D%2B1...b_%7Bp2%7D%2Blen-1%20%24%20%3F%5Cn%5CnNote%2C%20that%20in%20this%20problem%20the%20strings%20are%20zero-based%2C%20that%20is%20%24%20s%3Ds_%7B0%7Ds_%7B1%7D...%20s_%7B%7Cs%7C-1%7D%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20%24%20q%20%24%20integers%20%5Cu2014%20the%20answers%20for%20the%20queries.%22%2C%22samples%22%3A%5B%5B%22101010%5Cn11110000%5Cn3%5Cn0%200%203%5Cn2%203%204%5Cn5%207%201%5Cn%22%2C%221%5Cn1%5Cn0%5Cn%22%5D%2C%5B%2210001010101011001010100101010011010%5Cn101010100101001010100100101010%5Cn5%5Cn0%200%2012%5Cn3%209%207%5Cn6%204%2015%5Cn12%2015%2010%5Cn13%203%2020%5Cn%22%2C%225%5Cn4%5Cn3%5Cn5%5Cn13%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B7000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F472%5C%2FG%22%2C%22id%22%3A%22472G%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fa%5Cu4e24%5Cu4e2a01%5Cu5e8f%5Cu5217A%5Cu548cB%5Cuff0c%5Cu54c8%5Cu660e%5Cu8ddd%5Cu79bb%5Cu5b9a%5Cu4e49%5Cu4e3a%5Cu4e24%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu76f8%5Cu540c%5Cu7684%5Cu5e8f%5Cu5217%5Cu4e2d%5Cuff0c%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu5bf9%5Cu5e94%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu7684%5Cu6570%5Cu5b57%5Cu4e0d%5Cu4e00%5Cu6837%5Cuff0c%5Cu5982%5C%22%2A%2A0%2A%2A01%2A%2A1%2A%2A1%5C%22%20%5Cu548c%20%5C%22%2A%2A1%2A%2A01%2A%2A0%2A%2A1%5C%22%5Cu7684%5Cu8ddd%5Cu79bb%5Cu4e3a2%5Cr%5Cn%5Cr%5CnQ%5Cu6b21%5Cu8be2%5Cu95ee%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu8be2%5Cu95ee%5Cu7ed9%5Cu51fap1%2Cp2%2Clen%5Cuff0c%5Cu6c42a%5Bp1%5D%2Ca%5Bp1%2B1%5D...a%5Bp1%2Blen%5Cu22121%5D%5Cu548cb%5Bp1%5D%2Cb%5Bp1%2B1%5D...b%5Bp1%2Blen%5Cu22121%5D%5Cu4e24%5Cu4e2a%5Cu5b50%5Cu4e32%5Cu7684%5Cu54c8%5Cu660e%5Cu8ddd%5Cu79bb%5Cr%5Cn%5Cr%5Cn%5Cu6ce8%5Cu610f%5Cuff1a%5Cu672c%5Cu9898%5Cu4e2d%5Cu7684%5Cu5e8f%5Cu5217%5Cu662f%5Cu4ece0%5Cu5f00%5Cu59cb%5Cu7f16%5Cu53f7%5Cu7684%5Cuff1aa%5B0%5D%2Ca%5B1%5D%2C...%2Ca%5Bn%5Cu22121%5D%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A12%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22CF472G%22%2C%22title%22%3A%22Design%20Tutorial%3A%20Increase%20the%20Constraints%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Design%20Tutorial%3A%20Increase%20the%20Constraints%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Design Tutorial: Increase the Constraints</h1>
<h2>题意翻译</h2>
<div>给出两个01序列A和B，哈明距离定义为两个长度相同的序列中，有多少个对应位置上的数字不一样，如"**0**01**1**1" 和 "**1**01**0**1"的距离为2
Q次询问，每次询问给出p1,p2,len，求a[p1],a[p1+1]...a[p1+len−1]和b[p1],b[p1+1]...b[p1+len−1]两个子串的哈明距离
注意：本题中的序列是从0开始编号的：a[0],a[1],...,a[n−1]</div>
<h2>题目描述</h2>
<div>There is a simple way to create hard tasks: take one simple problem as the query, and try to find an algorithm that can solve it faster than bruteforce. This kind of tasks usually appears in OI contest, and usually involves data structures.
Let's try to create a task, for example, we take the "Hamming distance problem": for two binary strings $ s $ and $ t $ with the same length, the Hamming distance between them is the number of positions at which the corresponding symbols are different. For example, the Hamming distance between "00111" and "10101" is 2 (the different symbols are marked with bold).
We use the Hamming distance problem as a query in the following way: you are given two strings $ a $ and $ b $ and several queries. Each query will be: what is the Hamming distance between two strings $ a_{p1}a_{p1}+1...a_{p1}+len-1 $ and $ b_{p2}b_{p2}+1...b_{p2}+len-1 $ ?
Note, that in this problem the strings are zero-based, that is $ s=s_{0}s_{1}... s_{|s|-1} $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>There is a simple way to create hard tasks: take one simple problem as the query, and try to find an algorithm that can solve it faster than bruteforce. This kind of tasks usually appears in OI contest, and usually involves data structures.
Let's try to create a task, for example, we take the "Hamming distance problem": for two binary strings $ s $ and $ t $ with the same length, the Hamming distance between them is the number of positions at which the corresponding symbols are different. For example, the Hamming distance between "00111" and "10101" is 2 (the different symbols are marked with bold).
We use the Hamming distance problem as a query in the following way: you are given two strings $ a $ and $ b $ and several queries. Each query will be: what is the Hamming distance between two strings $ a_{p1}a_{p1}+1...a_{p1}+len-1 $ and $ b_{p2}b_{p2}+1...b_{p2}+len-1 $ ?
Note, that in this problem the strings are zero-based, that is $ s=s_{0}s_{1}... s_{|s|-1} $ .</div>
<h3>输出格式</h3>
<br />
<div>Output $ q $ integers — the answers for the queries.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>101010
11110000
3
0 0 3
2 3 4
5 7 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
1
0
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>10001010101011001010100101010011010
101010100101001010100100101010
5
0 0 12
3 9 7
6 4 15
12 15 10
13 3 20
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>5
4
3
5
13
</code></pre>
</article>
</div>
</div>
</body>
</html>
