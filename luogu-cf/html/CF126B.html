<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Password - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390993:W53/ikb3MAcgHQXC72i7Amvd8+D6GwQ3g/DJtOPSoQ8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Asterix%2C%20Obelix%20and%20their%20temporary%20buddies%20Suffix%20and%20Prefix%20has%20finally%20found%20the%20Harmony%20temple.%20However%2C%20its%20doors%20were%20firmly%20locked%20and%20even%20Obelix%20had%20no%20luck%20opening%20them.%5Cn%5CnA%20little%20later%20they%20found%20a%20string%20%24%20s%20%24%20%2C%20carved%20on%20a%20rock%20below%20the%20temple%27s%20gates.%20Asterix%20supposed%20that%20that%27s%20the%20password%20that%20opens%20the%20temple%20and%20read%20the%20string%20aloud.%20However%2C%20nothing%20happened.%20Then%20Asterix%20supposed%20that%20a%20password%20is%20some%20substring%20%24%20t%20%24%20of%20the%20string%20%24%20s%20%24%20.%5Cn%5CnPrefix%20supposed%20that%20the%20substring%20%24%20t%20%24%20is%20the%20beginning%20of%20the%20string%20%24%20s%20%24%20%3B%20Suffix%20supposed%20that%20the%20substring%20%24%20t%20%24%20should%20be%20the%20end%20of%20the%20string%20%24%20s%20%24%20%3B%20and%20Obelix%20supposed%20that%20%24%20t%20%24%20should%20be%20located%20somewhere%20inside%20the%20string%20%24%20s%20%24%20%2C%20that%20is%2C%20%24%20t%20%24%20is%20neither%20its%20beginning%2C%20nor%20its%20end.%5Cn%5CnAsterix%20chose%20the%20substring%20%24%20t%20%24%20so%20as%20to%20please%20all%20his%20companions.%20Besides%2C%20from%20all%20acceptable%20variants%20Asterix%20chose%20the%20longest%20one%20%28as%20Asterix%20loves%20long%20strings%29.%20When%20Asterix%20read%20the%20substring%20%24%20t%20%24%20aloud%2C%20the%20temple%20doors%20opened.%5Cn%5CnYou%20know%20the%20string%20%24%20s%20%24%20.%20Find%20the%20substring%20%24%20t%20%24%20or%20determine%20that%20such%20substring%20does%20not%20exist%20and%20all%20that%27s%20been%20written%20above%20is%20just%20a%20nice%20legend.%22%2C%22inputFormat%22%3A%22You%20are%20given%20the%20string%20%24%20s%20%24%20whose%20length%20can%20vary%20from%20%24%201%20%24%20to%20%24%2010%5E%7B6%7D%20%24%20%28inclusive%29%2C%20consisting%20of%20small%20Latin%20letters.%22%2C%22outputFormat%22%3A%22Print%20the%20string%20%24%20t%20%24%20.%20If%20a%20suitable%20%24%20t%20%24%20string%20does%20not%20exist%2C%20then%20print%20%5C%22Just%20a%20legend%5C%22%20without%20the%20quotes.%22%2C%22samples%22%3A%5B%5B%22fixprefixsuffix%5Cn%22%2C%22fix%22%5D%2C%5B%22abcdabc%5Cn%22%2C%22Just%20a%20legend%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F126%5C%2FB%22%2C%22id%22%3A%22126B%22%7D%2C%22translation%22%3A%22Asterix%5Cuff0cObelix%5Cu548c%5Cu4ed6%5Cu4eec%5Cu7684%5Cu4e34%5Cu65f6%5Cu4f19%5Cu4f34Suffix%5Cu3001Prefix%5Cu5df2%5Cu7ecf%5Cu6700%5Cu7ec8%5Cu627e%5Cu5230%5Cu4e86%5Cu548c%5Cu8c10%5Cu5bfa%5Cu3002%5Cu7136%5Cu800c%5Cu548c%5Cu8c10%5Cu5bfa%5Cu5927%5Cu95e8%5Cu7d27%5Cu95ed%5Cuff0c%5Cu5c31%5Cu8fdeObelix%5Cu7684%5Cu8fd0%5Cu6c14%5Cu4e5f%5Cu6ca1%5Cu597d%5Cu5230%5Cu80fd%5Cu6253%5Cu5f00%5Cu5b83%5Cu3002%5Cn%5Cn%5Cu4e0d%5Cu4e45%5Cu4ed6%5Cu4eec%5Cu53d1%5Cu73b0%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32S%5Cuff08%7CS%7C%3C%3D1000000%5Cuff09%5Cuff0c%5Cu523b%5Cu5728%5Cu548c%5Cu8c10%5Cu5bfa%5Cu5927%5Cu95e8%5Cu4e0b%5Cu9762%5Cu7684%5Cu5ca9%5Cu77f3%5Cu4e0a%5Cu3002Asterix%5Cu731c%5Cu60f3%5Cu90a3%5Cu4e00%5Cu5b9a%5Cu662f%5Cu6253%5Cu5f00%5Cu5bfa%5Cu5e99%5Cu5927%5Cu95e8%5Cu7684%5Cu5bc6%5Cu7801%5Cuff0c%5Cu4e8e%5Cu662f%5Cu5c31%5Cu5927%5Cu58f0%5Cu5c06%5Cu5b57%5Cu7b26%5Cu4e32%5Cu6717%5Cu8bfb%5Cu4e86%5Cu51fa%5Cu6765%5Cuff0c%5Cu7136%5Cu800c%5Cu5e76%5Cu6ca1%5Cu6709%5Cu4ec0%5Cu4e48%5Cu4e8b%5Cu53d1%5Cu751f%5Cu3002%5Cu4e8e%5Cu662fAsterix%5Cu53c8%5Cu731c%5Cu60f3%5Cu5bc6%5Cu7801%5Cu4e00%5Cu5b9a%5Cu662f%5Cu5b57%5Cu7b26%5Cu4e32S%5Cu7684%5Cu5b50%5Cu4e32T%5Cu3002%5Cn%5CnPrefix%5Cu8ba4%5Cu4e3aT%5Cu662fS%5Cu7684%5Cu524d%5Cu7f00%5Cuff0cSuffix%5Cu8ba4%5Cu4e3aT%5Cu662fS%5Cu7684%5Cu540e%5Cu7f00%5Cuff0cObelix%5Cu5374%5Cu8ba4%5Cu4e3aT%5Cu5e94%5Cu8be5%5Cu662fS%5Cu4e2d%5Cu7684%5Cu67d0%5Cu4e00%5Cu90e8%5Cu5206%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cuff0cT%5Cu65e2%5Cu4e0d%5Cu662fS%5Cu7684%5Cu524d%5Cu7f00%5Cuff0c%5Cu4e5f%5Cu4e0d%5Cu662fS%5Cu7684%5Cu540e%5Cu7f00%5Cu3002%5Cn%5CnAsterix%5Cu9009%5Cu62e9%5Cu5b50%5Cu4e32T%5Cu6765%5Cu6ee1%5Cu8db3%5Cu6240%5Cu6709%5Cu4f19%5Cu4f34%5Cu4eec%5Cu7684%5Cu60f3%5Cu6cd5%5Cu3002%5Cu540c%5Cu65f6%5Cuff0c%5Cu5728%5Cu6240%5Cu6709%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu63a5%5Cu53d7%5Cu7684%5Cu5b50%5Cu4e32%5Cu53d8%5Cu5f62%5Cu4e2d%5Cuff0cAsterix%5Cu9009%5Cu62e9%5Cu4e86%5Cu6700%5Cu957f%5Cu7684%5Cu4e00%5Cu4e2a%5Cuff08%5Cu56e0%5Cu4e3aAsterix%5Cu559c%5Cu6b22%5Cu957f%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff09%5Cu5f53Asterix%5Cu5927%5Cu58f0%5Cu8bfb%5Cu51fa%5Cu5b50%5Cu4e32T%5Cu65f6%5Cuff0c%5Cu5bfa%5Cu5e99%5Cu7684%5Cu5927%5Cu95e8%5Cu5f00%5Cu4e86%5Cu3002%20%5Cuff08%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu627e%5Cu5230%5Cu65e2%5Cu662fS%5Cu7684%5Cu524d%5Cu7f00%5Cu53c8%5Cu662fS%5Cu7684%5Cu540e%5Cu7f00%5Cu540c%5Cu65f6%5Cu53c8%5Cu5728S%5Cu4e2d%5Cu95f4%5Cu51fa%5Cu73b0%5Cu8fc7%5Cu7684%5Cu6700%5Cu957f%5Cu5b50%5Cu4e32%5Cuff09%5Cn%5Cn%5Cu73b0%5Cu5728%5Cu7ed9%5Cu4f60%5Cu5b57%5Cu7b26%5Cu4e32S%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu627e%5Cu5230%5Cu6ee1%5Cu8db3%5Cu4e0a%5Cu8ff0%5Cu8981%5Cu6c42%5Cu7684%5Cu5b50%5Cu4e32T%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu5728%5B1%2C1000000%5D%5Cu95f4%5Cu7684%5Cu53ea%5Cu5305%5Cu542b%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32S%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu5b50%5Cu4e32T%5Cuff0c%5Cu5982%5Cu679cT%5Cu4e0d%5Cu5b58%5Cu5728%5Cuff0c%5Cu8f93%5Cu51fa%20%5C%22Just%20a%20legend%5C%22%5Cuff0c%5Cu4e0d%5Cu5305%5Cu542b%5Cu5f15%5Cu53f7%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40Chemist%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B2%2C111%2C302%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A423%2C%22totalAccepted%22%3A147%2C%22pid%22%3A%22CF126B%22%2C%22title%22%3A%22Password%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A126553%2C%22title%22%3A%22%5Cu81ea%5Cu9996%5Cuff08%5Cu5047%5Cu7684%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A12101%2C%22name%22%3A%22CF126B%20Password%22%2C%22slug%22%3A%22CF126B%22%7D%7D%2C%7B%22id%22%3A55953%2C%22title%22%3A%22RemoteJudge%5Cu662f%5Cu4e2a%5Cu5783%5Cu573e%22%2C%22forum%22%3A%7B%22id%22%3A12101%2C%22name%22%3A%22CF126B%20Password%22%2C%22slug%22%3A%22CF126B%22%7D%7D%2C%7B%22id%22%3A46110%2C%22title%22%3A%22%20CF126B%20Password%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12101%2C%22name%22%3A%22CF126B%20Password%22%2C%22slug%22%3A%22CF126B%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3287%22%2C%22title%22%3A%22%5BSCOI2014%5D%5Cu65b9%5Cu4f2f%5Cu4f2f%5Cu7684%5Cu7389%5Cu7c73%5Cu7530%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3808%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011AC%5Cu81ea%5Cu52a8%5Cu673a%5Cuff08%5Cu7b80%5Cu5355%5Cu7248%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF535D%22%2C%22title%22%3A%22Tavas%20and%20Malekas%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF427D%22%2C%22title%22%3A%22Match%20%26amp%3B%20Catch%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4280%22%2C%22title%22%3A%22%5BAHOI2008%5D%5Cu9006%5Cu5e8f%5Cu5bf9%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Password%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Password</h1>
<h2>题意翻译</h2>
<div>Asterix，Obelix和他们的临时伙伴Suffix、Prefix已经最终找到了和谐寺。然而和谐寺大门紧闭，就连Obelix的运气也没好到能打开它。
不久他们发现了一个字符串S（|S|<=1000000），刻在和谐寺大门下面的岩石上。Asterix猜想那一定是打开寺庙大门的密码，于是就大声将字符串朗读了出来，然而并没有什么事发生。于是Asterix又猜想密码一定是字符串S的子串T。
Prefix认为T是S的前缀，Suffix认为T是S的后缀，Obelix却认为T应该是S中的某一部分，也就是说，T既不是S的前缀，也不是S的后缀。
Asterix选择子串T来满足所有伙伴们的想法。同时，在所有可以被接受的子串变形中，Asterix选择了最长的一个（因为Asterix喜欢长的字符串）当Asterix大声读出子串T时，寺庙的大门开了。 （也就是说，你需要找到既是S的前缀又是S的后缀同时又在S中间出现过的最长子串）
现在给你字符串S，你需要找到满足上述要求的子串T。
输入格式：
一个长度在[1,1000000]间的只包含小写字母的字符串S。
输出格式：
输出子串T，如果T不存在，输出 "Just a legend"，不包含引号。
感谢@Chemist 提供的翻译</div>
<h2>题目描述</h2>
<div>Asterix, Obelix and their temporary buddies Suffix and Prefix has finally found the Harmony temple. However, its doors were firmly locked and even Obelix had no luck opening them.
A little later they found a string $ s $ , carved on a rock below the temple's gates. Asterix supposed that that's the password that opens the temple and read the string aloud. However, nothing happened. Then Asterix supposed that a password is some substring $ t $ of the string $ s $ .
Prefix supposed that the substring $ t $ is the beginning of the string $ s $ ; Suffix supposed that the substring $ t $ should be the end of the string $ s $ ; and Obelix supposed that $ t $ should be located somewhere inside the string $ s $ , that is, $ t $ is neither its beginning, nor its end.
Asterix chose the substring $ t $ so as to please all his companions. Besides, from all acceptable variants Asterix chose the longest one (as Asterix loves long strings). When Asterix read the substring $ t $ aloud, the temple doors opened.
You know the string $ s $ . Find the substring $ t $ or determine that such substring does not exist and all that's been written above is just a nice legend.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>You are given the string $ s $ whose length can vary from $ 1 $ to $ 10^{6} $ (inclusive), consisting of small Latin letters.</div>
<h3>输出格式</h3>
<br />
<div>Print the string $ t $ . If a suitable $ t $ string does not exist, then print "Just a legend" without the quotes.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>fixprefixsuffix
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>fix</code></pre>
<h3>输入样例 #2</h3>
<pre><code>abcdabc
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>Just a legend</code></pre>
</article>
</div>
</div>
</body>
</html>
