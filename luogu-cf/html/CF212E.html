<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>IT Restaurants - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573391758:h8Xzs0prNheH8HAiBzFcUfWi3DEjBYDQDQN6TBUW+PY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22%5Cu0421ity%20N.%20has%20a%20huge%20problem%20with%20roads%2C%20food%20and%20IT-infrastructure.%20In%20total%20the%20city%20has%20%24%20n%20%24%20junctions%2C%20some%20pairs%20of%20them%20are%20connected%20by%20bidirectional%20roads.%20The%20road%20network%20consists%20of%20%24%20n-1%20%24%20roads%2C%20you%20can%20get%20from%20any%20junction%20to%20any%20other%20one%20by%20these%20roads.%20Yes%2C%20you%27re%20right%20%5Cu2014%20the%20road%20network%20forms%20an%20undirected%20tree.%5Cn%5CnRecently%2C%20the%20Mayor%20came%20up%20with%20a%20way%20that%20eliminates%20the%20problems%20with%20the%20food%20and%20the%20IT-infrastructure%20at%20the%20same%20time%21%20He%20decided%20to%20put%20at%20the%20city%20junctions%20restaurants%20of%20two%20well-known%20cafe%20networks%20for%20IT%20professionals%3A%20%5C%22iMac%20D0naldz%5C%22%20and%20%5C%22Burger%20Bing%5C%22.%20Since%20the%20network%20owners%20are%20not%20friends%2C%20it%20is%20strictly%20prohibited%20to%20place%20two%20restaurants%20of%20different%20networks%20on%20neighboring%20junctions.%20There%20are%20other%20requirements.%20Here%27s%20the%20full%20list%3A%5Cn%5Cn-%20each%20junction%20must%20have%20at%20most%20one%20restaurant%3B%5Cn-%20each%20restaurant%20belongs%20either%20to%20%5C%22iMac%20D0naldz%5C%22%2C%20or%20to%20%5C%22Burger%20Bing%5C%22%3B%5Cn-%20each%20network%20should%20build%20at%20least%20one%20restaurant%3B%5Cn-%20there%20is%20no%20pair%20of%20junctions%20that%20are%20connected%20by%20a%20road%20and%20contains%20restaurants%20of%20different%20networks.%5Cn%5CnThe%20Mayor%20is%20going%20to%20take%20a%20large%20tax%20from%20each%20restaurant%2C%20so%20he%20is%20interested%20in%20making%20the%20total%20number%20of%20the%20restaurants%20as%20large%20as%20possible.%5Cn%5CnHelp%20the%20Mayor%20to%20analyze%20the%20situation.%20Find%20all%20such%20pairs%20of%20%24%20%28a%2Cb%29%20%24%20that%20%24%20a%20%24%20restaurants%20can%20belong%20to%20%5C%22iMac%20D0naldz%5C%22%2C%20%24%20b%20%24%20restaurants%20can%20belong%20to%20%5C%22Burger%20Bing%5C%22%2C%20and%20the%20sum%20of%20%24%20a%2Bb%20%24%20is%20as%20large%20as%20possible.%22%2C%22inputFormat%22%3A%22The%20first%20input%20line%20contains%20integer%20%24%20n%20%24%20%24%20%283%3C%3Dn%3C%3D5000%29%20%24%20%5Cu2014%20the%20number%20of%20junctions%20in%20the%20city.%20Next%20%24%20n-1%20%24%20lines%20list%20all%20roads%20one%20per%20line.%20Each%20road%20is%20given%20as%20a%20pair%20of%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%20%24%20%24%20%281%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3Dn%29%20%24%20%5Cu2014%20the%20indexes%20of%20connected%20junctions.%20Consider%20the%20junctions%20indexed%20from%201%20to%20%24%20n%20%24%20.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20given%20road%20network%20is%20represented%20by%20an%20undirected%20tree%20with%20%24%20n%20%24%20vertexes.%22%2C%22outputFormat%22%3A%22Print%20on%20the%20first%20line%20integer%20%24%20z%20%24%20%5Cu2014%20the%20number%20of%20sought%20pairs.%20Then%20print%20all%20sought%20pairs%20%24%20%28a%2Cb%29%20%24%20in%20the%20order%20of%20increasing%20of%20the%20first%20component%20%24%20a%20%24%20.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%205%5Cn%22%2C%223%5Cn1%203%5Cn2%202%5Cn3%201%5Cn%22%5D%2C%5B%2210%5Cn1%202%5Cn2%203%5Cn3%204%5Cn5%206%5Cn6%207%5Cn7%204%5Cn8%209%5Cn9%2010%5Cn10%204%5Cn%22%2C%226%5Cn1%208%5Cn2%207%5Cn3%206%5Cn6%203%5Cn7%202%5Cn8%201%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20figure%20below%20shows%20the%20answers%20to%20the%20first%20test%20case.%20The%20junctions%20with%20%5C%22iMac%20D0naldz%5C%22%20restaurants%20are%20marked%20red%20and%20%5C%22Burger%20Bing%5C%22%20restaurants%20are%20marked%20blue.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF212E%5C%2Fe31e0c50248bfe0f0984b19a32c117d20b449516.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1500%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F212%5C%2FE%22%2C%22id%22%3A%22212E%22%7D%2C%22translation%22%3A%22%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cuff1a%20%20%20%5Cr%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2an%5Cuff0c%5Cu8868%5Cu793a%5Cu6709n%5Cu4e2a%5Cu8282%5Cu70b9%5Cuff081%5Cuff5en%5Cuff09%5Cu4ee5%5Cu53ca%5Cu63a5%5Cu4e0b%5Cu6765n-1%5Cu6761%5Cu8fb9%5Cu7684%5Cu6811%5Cuff0c%5Cu73b0%5Cu7528%5Cu4e24%5Cu79cd%5Cu989c%5Cu8272%5Cuff08%5Cu7ea2%5Cuff0c%5Cu84dd%5Cuff09%5Cu5bf9%5Cu8fd9%5Cu9897%5Cu6811%5Cu7684%5Cu8282%5Cu70b9%5Cu67d3%5Cu8272%5Cuff0c%5Cu67d3%5Cu8272%5Cu89c4%5Cu5219%5Cu662f%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu8282%5Cu70b9%5Cu6709%5Cu4e09%5Cu79cd%5Cu72b6%5Cu6001%5Cuff0c%5Cu8981%5Cu4e48%5Cu67d3%5Cu6210%5Cu7ea2%5Cu8272%5Cuff0c%5Cu8981%5Cu4e48%5Cu67d3%5Cu6210%5Cu84dd%5Cu8272%5Cuff0c%5Cu8981%5Cu4e48%5Cu4e0d%5Cu67d3%5Cu8272%5Cuff0c%5Cu5e76%5Cu4e14%5Cu89c4%5Cu5b9a%5Cu7528%5Cu4e00%5Cu6761%5Cu8fb9%5Cu8fde%5Cu63a5%5Cu7684%5Cu4e24%5Cu4e2a%5Cu8282%5Cu70b9%5Cu8981%5Cu4e48%5Cu67d3%5Cu6210%5Cu989c%5Cu8272%5Cu76f8%5Cu540c%5Cuff0c%5Cu8981%5Cu4e48%5Cu4e00%5Cu4e2a%5Cu67d3%5Cu8272%5Cu4e00%5Cu4e2a%5Cu4e0d%5Cu67d3%5Cu8272%5Cu3002%5Cu95ee%5Cu5728%5Cu4fdd%5Cu8bc1%5Cu67d3%5Cu8272%5Cu8282%5Cu70b9%5Cu6700%5Cu591a%5Cu7684%5Cu6761%5Cu4ef6%5Cu4e0b%5Cuff0c%5Cu7ea2%5Cu8272%5Cu4e0e%5Cu84dd%5Cu8272%5Cu7684%5Cu4e2a%5Cu6570%5Cu7684%5Cu60c5%5Cu51b5%5Cu3002%5Cuff08%5Cu8981%5Cu6c42%5Cu662f%5Cu81f3%5Cu5c11%5Cu6709%5Cu4e00%5Cu4e2a%5Cu8282%5Cu70b9%5Cu88ab%5Cu67d3%5Cu6210%5Cu7ea2%5Cu8272%5Cuff0c%5Cu81f3%5Cu5c11%5Cu4e00%5Cu4e2a%5Cu8282%5Cu70b9%5Cu88ab%5Cu67d3%5Cu6210%5Cu84dd%5Cu8272%5Cuff09%5Cu3002%20%20%20%5Cr%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%23%23%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2an%5Cuff0c%5Cu63a5%5Cu4e0b%5Cu6765n%5Cu884c%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu4e00%5Cu6761%5Cu65e0%5Cu5411%5Cu8fb9%5Cu3002%20%20%5Cr%5Cn%23%23%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6570%5Cu8868%5Cu793a%5Cu53ef%5Cu884c%5Cu65b9%5Cu6848%5Cu6570%5Cu3002%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu82e5%5Cu5e72%5Cu884c%5Cu6bcf%5Cu884c%5Cu8f93%5Cu51fa%5Cu4e24%5Cu4e2a%5Cu6570%5Cu8868%5Cu793a%5Cu67d3%5Cu6210%5Cu7ea2%5Cu8272%5Cu7684%5Cu6570%5Cu91cf%5Cu548c%5Cu67d3%5Cu6210%5Cu84dd%5Cu8272%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cuff08%5Cu6309%5Cu7ea2%5Cu7684%5Cu6570%5Cu91cf%5Cu7684%5Cu5347%5Cu5e8f%5Cu8f93%5Cu51fa%5Cuff09%5Cu3002%20%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A60%2C%22totalAccepted%22%3A26%2C%22pid%22%3A%22CF212E%22%2C%22title%22%3A%22IT%20Restaurants%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3917%22%2C%22title%22%3A%22%5Cu5f02%5Cu6216%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF366C%22%2C%22title%22%3A%22Dima%20and%20Salad%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF19B%22%2C%22title%22%3A%22Checkout%20Assistant%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4567%22%2C%22title%22%3A%22%5BAHOI2006%5D%5Cu6587%5Cu672c%5Cu7f16%5Cu8f91%5Cu5668%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5020%22%2C%22title%22%3A%22%5Cu8d27%5Cu5e01%5Cu7cfb%5Cu7edf%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22IT%20Restaurants%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>IT Restaurants</h1>
<h2>题意翻译</h2>
<div>## 题目描述：
给定一个n，表示有n个节点（1～n）以及接下来n-1条边的树，现用两种颜色（红，蓝）对这颗树的节点染色，染色规则是，每个节点有三种状态，要么染成红色，要么染成蓝色，要么不染色，并且规定用一条边连接的两个节点要么染成颜色相同，要么一个染色一个不染色。问在保证染色节点最多的条件下，红色与蓝色的个数的情况。（要求是至少有一个节点被染成红色，至少一个节点被染成蓝色）。
## 输入输出格式：
#### 输入格式：
第一行一个n，接下来n行每行两个数，表示一条无向边。
#### 输出格式：
第一行输出一个数表示可行方案数。
接下来若干行每行输出两个数表示染成红色的数量和染成蓝色的数量。（按红的数量的升序输出）。 </div>
<h2>题目描述</h2>
<div>Сity N. has a huge problem with roads, food and IT-infrastructure. In total the city has $ n $ junctions, some pairs of them are connected by bidirectional roads. The road network consists of $ n-1 $ roads, you can get from any junction to any other one by these roads. Yes, you're right — the road network forms an undirected tree.
Recently, the Mayor came up with a way that eliminates the problems with the food and the IT-infrastructure at the same time! He decided to put at the city junctions restaurants of two well-known cafe networks for IT professionals: "iMac D0naldz" and "Burger Bing". Since the network owners are not friends, it is strictly prohibited to place two restaurants of different networks on neighboring junctions. There are other requirements. Here's the full list:
- each junction must have at most one restaurant;
- each restaurant belongs either to "iMac D0naldz", or to "Burger Bing";
- each network should build at least one restaurant;
- there is no pair of junctions that are connected by a road and contains restaurants of different networks.
The Mayor is going to take a large tax from each restaurant, so he is interested in making the total number of the restaurants as large as possible.
Help the Mayor to analyze the situation. Find all such pairs of $ (a,b) $ that $ a $ restaurants can belong to "iMac D0naldz", $ b $ restaurants can belong to "Burger Bing", and the sum of $ a+b $ is as large as possible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input line contains integer $ n $ $ (3<=n<=5000) $ — the number of junctions in the city. Next $ n-1 $ lines list all roads one per line. Each road is given as a pair of integers $ x_{i},y_{i} $ $ (1<=x_{i},y_{i}<=n) $ — the indexes of connected junctions. Consider the junctions indexed from 1 to $ n $ .
It is guaranteed that the given road network is represented by an undirected tree with $ n $ vertexes.</div>
<h3>输出格式</h3>
<br />
<div>Print on the first line integer $ z $ — the number of sought pairs. Then print all sought pairs $ (a,b) $ in the order of increasing of the first component $ a $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
1 2
2 3
3 4
4 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
1 3
2 2
3 1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>10
1 2
2 3
3 4
5 6
6 7
7 4
8 9
9 10
10 4
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>6
1 8
2 7
3 6
6 3
7 2
8 1
</code></pre>
<h2>说明</h2>
<div>The figure below shows the answers to the first test case. The junctions with "iMac D0naldz" restaurants are marked red and "Burger Bing" restaurants are marked blue.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF212E/e31e0c50248bfe0f0984b19a32c117d20b449516.png)</div>
</article>
</div>
</div>
</body>
</html>
