<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Unary - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573391058:NH1dwnm5MeHBxjYGoP25E6c6lQupdDwjOnxazwxsTJU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Unary%20is%20a%20minimalistic%20Brainfuck%20dialect%20in%20which%20programs%20are%20written%20using%20only%20one%20token.%5Cn%5CnBrainfuck%20programs%20use%208%20commands%3A%20%5C%22%2B%5C%22%2C%20%5C%22-%5C%22%2C%20%5C%22%5C%5C%5B%5C%22%2C%20%5C%22%5C%5C%5D%5C%22%2C%20%5C%22%3C%5C%22%2C%20%5C%22%3E%5C%22%2C%20%5C%22.%5C%22%20and%20%5C%22%2C%5C%22%20%28their%20meaning%20is%20not%20important%20for%20the%20purposes%20of%20this%20problem%29.%20Unary%20programs%20are%20created%20from%20Brainfuck%20programs%20using%20the%20following%20algorithm.%20First%2C%20replace%20each%20command%20with%20a%20corresponding%20binary%20code%2C%20using%20the%20following%20conversion%20table%3A%5Cn%5Cn-%20%5C%22%3E%5C%22%20%24%20%5Cu2192%20%24%201000%2C%5Cn-%20%5C%22%3C%5C%22%20%24%20%5Cu2192%20%24%201001%2C%5Cn-%20%5C%22%2B%5C%22%20%24%20%5Cu2192%20%24%201010%2C%5Cn-%20%5C%22-%5C%22%20%24%20%5Cu2192%20%24%201011%2C%5Cn-%20%5C%22.%5C%22%20%24%20%5Cu2192%20%24%201100%2C%5Cn-%20%5C%22%2C%5C%22%20%24%20%5Cu2192%20%24%201101%2C%5Cn-%20%5C%22%5C%5C%5B%5C%22%20%24%20%5Cu2192%20%24%201110%2C%5Cn-%20%5C%22%5C%5C%5D%5C%22%20%24%20%5Cu2192%20%24%201111.%5Cn%5CnNext%2C%20concatenate%20the%20resulting%20binary%20codes%20into%20one%20binary%20number%20in%20the%20same%20order%20as%20in%20the%20program.%20Finally%2C%20write%20this%20number%20using%20unary%20numeral%20system%20%5Cu2014%20this%20is%20the%20Unary%20program%20equivalent%20to%20the%20original%20Brainfuck%20one.%5Cn%5CnYou%20are%20given%20a%20Brainfuck%20program.%20Your%20task%20is%20to%20calculate%20the%20size%20of%20the%20equivalent%20Unary%20program%2C%20and%20print%20it%20modulo%20%24%201000003%20%24%20%24%20%2810%5E%7B6%7D%2B3%29%20%24%20.%22%2C%22inputFormat%22%3A%22The%20input%20will%20consist%20of%20a%20single%20line%20%24%20p%20%24%20which%20gives%20a%20Brainfuck%20program.%20String%20%24%20p%20%24%20will%20contain%20between%201%20and%20100%20characters%2C%20inclusive.%20Each%20character%20of%20%24%20p%20%24%20will%20be%20%5C%22%2B%5C%22%2C%20%5C%22-%5C%22%2C%20%5C%22%5C%5C%5B%5C%22%2C%20%5C%22%5C%5C%5D%5C%22%2C%20%5C%22%3C%5C%22%2C%20%5C%22%3E%5C%22%2C%20%5C%22.%5C%22%20or%20%5C%22%2C%5C%22.%22%2C%22outputFormat%22%3A%22Output%20the%20size%20of%20the%20equivalent%20Unary%20program%20modulo%20%24%201000003%20%24%20%24%20%2810%5E%7B6%7D%2B3%29%20%24%20.%22%2C%22samples%22%3A%5B%5B%22%2C.%5Cn%22%2C%22220%5Cn%22%5D%2C%5B%22%2B%2B%2B%2B%5B%26gt%3B%2C.%26lt%3B-%5D%5Cn%22%2C%2261425%5Cn%22%5D%5D%2C%22hint%22%3A%22To%20write%20a%20number%20%24%20n%20%24%20in%20unary%20numeral%20system%2C%20one%20simply%20has%20to%20write%201%20%24%20n%20%24%20times.%20For%20example%2C%205%20written%20in%20unary%20system%20will%20be%2011111.%5Cn%5CnIn%20the%20first%20example%20replacing%20Brainfuck%20commands%20with%20binary%20code%20will%20give%20us%201101%201100.%20After%20we%20concatenate%20the%20codes%2C%20we%27ll%20get%2011011100%20in%20binary%20system%2C%20or%20220%20in%20decimal.%20That%27s%20exactly%20the%20number%20of%20tokens%20in%20the%20equivalent%20Unary%20program.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F133%5C%2FB%22%2C%22id%22%3A%22133B%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu79cd%5Cu53ebBrainfuck%5Cu7684%5Cu8bed%5Cu8a00%5Cu6709%5Cu4e00%5Cu4e2a%5Cu65b9%5Cu8a00%5Cu53ebUnary%5Cu3002%5Cr%5Cn%5Cr%5CnBrainfuck%5Cu8bed%5Cu8a00%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu7531%5Cu5982%5Cu4e0b%5Cu516b%5Cu79cd%5Cu5b57%5Cu7b26%5Cu6784%5Cu6210%5Cuff1a%5C%22%2B%5C%22%2C%20%5C%22-%5C%22%2C%20%5C%22%5B%5C%22%2C%20%5C%22%5D%5C%22%2C%20%5C%22%3C%5C%22%2C%20%5C%22%3E%5C%22%2C%20%5C%22.%5C%22%20%5Cu548c%20%5C%22%2C%5C%22%5Cu3002%5Cr%5Cn%5Cr%5CnBrainfuck%5Cu8bed%5Cu8a00%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu8f6c%5Cu6362%5Cu6210Unary%5Cu9996%5Cu5148%5Cu8981%5Cu5c06%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu5b57%5Cu7b26%5Cu8f6c%5Cu6362%5Cu6210%5Cu4e8c%5Cu8fdb%5Cu5236%5Cu4e32%5Cuff1a%5Cr%5Cn-%20%5C%22%3E%5C%22%20%24%5Cu2192%24%201000%2C%5Cr%5Cn-%20%5C%22%3C%5C%22%20%24%5Cu2192%24%201001%2C%5Cr%5Cn-%20%5C%22%2B%5C%22%20%24%5Cu2192%24%201010%2C%5Cr%5Cn-%20%5C%22-%5C%22%20%24%5Cu2192%24%201011%2C%5Cr%5Cn-%20%5C%22.%5C%22%20%24%5Cu2192%24%201100%2C%5Cr%5Cn-%20%5C%22%2C%5C%22%20%24%5Cu2192%24%201101%2C%5Cr%5Cn-%20%5C%22%5B%5C%22%20%24%5Cu2192%24%201110%2C%5Cr%5Cn-%20%5C%22%5D%5C%22%20%24%5Cu2192%24%201111.%5Cr%5Cn%5Cr%5Cn%5Cu7136%5Cu540e%5Cu628a%5Cu8fd9%5Cu4e9b%5Cu4e8c%5Cu8fdb%5Cu5236%5Cu4e32%5Cu6309%5Cu5728%5Cu7a0b%5Cu5e8f%5Cu4e2d%5Cu51fa%5Cu73b0%5Cu7684%5Cu987a%5Cu5e8f%5Cu8fde%5Cu63a5%5Cu5728%5Cu4e00%5Cu8d77%5Cu5f62%5Cu6210%5Cu4e00%5Cu4e2a%5Cu4e8c%5Cu8fdb%5Cu5236%5Cu6570%24n%24%5Cuff0c%5Cu4e00%5Cu4e2a%5Cu4e0e%5Cu4e0a%5Cu8ff0Brainfuck%5Cu7a0b%5Cu5e8f%5Cu7b49%5Cu4ef7%5Cu7684Unary%5Cu7a0b%5Cu5e8f%5Cu5c31%5Cu662f%24n%24%5Cu4e2a%241%24%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cuff1a%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2aBrainfuck%5Cu7a0b%5Cu5e8f%5Cuff0c%5Cu6c42%5Cu4ed6%5Cu5bf9%5Cu5e94%5Cu7684Unary%5Cu7a0b%5Cu5e8f%5Cu4e2d%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%241%24%5Cu3002%5Cu7531%5Cu4e8e%5Cu8fd9%5Cu4e2a%5Cu6570%5Cu53ef%5Cu80fd%5Cu5f88%5Cu5927%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu8f93%5Cu51fa%5Cu8fd9%5Cu4e2a%5Cu6570%24mod%5C%5Cspace1000003%24%5Cu7684%5Cu503c%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A53%2C%22totalAccepted%22%3A25%2C%22pid%22%3A%22CF133B%22%2C%22title%22%3A%22Unary%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1387%22%2C%22title%22%3A%22%5Cu6700%5Cu5927%5Cu6b63%5Cu65b9%5Cu5f62%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1908%22%2C%22title%22%3A%22%5Cu9006%5Cu5e8f%5Cu5bf9%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF581A%22%2C%22title%22%3A%22Vasya%20the%20Hipster%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF171B%22%2C%22title%22%3A%22Star%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22AT1428%22%2C%22title%22%3A%22%5Cu9577%5Cu65b9%5Cu5f62%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22AT%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Unary%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Unary</h1>
<h2>题意翻译</h2>
<div>一种叫Brainfuck的语言有一个方言叫Unary。
Brainfuck语言的程序由如下八种字符构成："+", "-", "[", "]", "<", ">", "." 和 ","。
Brainfuck语言的程序转换成Unary首先要将给定的字符转换成二进制串：
- ">" $→$ 1000,
- "<" $→$ 1001,
- "+" $→$ 1010,
- "-" $→$ 1011,
- "." $→$ 1100,
- "," $→$ 1101,
- "[" $→$ 1110,
- "]" $→$ 1111.
然后把这些二进制串按在程序中出现的顺序连接在一起形成一个二进制数$n$，一个与上述Brainfuck程序等价的Unary程序就是$n$个$1$。
你的任务是：给你一个Brainfuck程序，求他对应的Unary程序中有多少个$1$。由于这个数可能很大，请你输出这个数$mod\space1000003$的值。</div>
<h2>题目描述</h2>
<div>Unary is a minimalistic Brainfuck dialect in which programs are written using only one token.
Brainfuck programs use 8 commands: "+", "-", "\[", "\]", "<", ">", "." and "," (their meaning is not important for the purposes of this problem). Unary programs are created from Brainfuck programs using the following algorithm. First, replace each command with a corresponding binary code, using the following conversion table:
- ">" $ → $ 1000,
- "<" $ → $ 1001,
- "+" $ → $ 1010,
- "-" $ → $ 1011,
- "." $ → $ 1100,
- "," $ → $ 1101,
- "\[" $ → $ 1110,
- "\]" $ → $ 1111.
Next, concatenate the resulting binary codes into one binary number in the same order as in the program. Finally, write this number using unary numeral system — this is the Unary program equivalent to the original Brainfuck one.
You are given a Brainfuck program. Your task is to calculate the size of the equivalent Unary program, and print it modulo $ 1000003 $ $ (10^{6}+3) $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The input will consist of a single line $ p $ which gives a Brainfuck program. String $ p $ will contain between 1 and 100 characters, inclusive. Each character of $ p $ will be "+", "-", "\[", "\]", "<", ">", "." or ",".</div>
<h3>输出格式</h3>
<br />
<div>Output the size of the equivalent Unary program modulo $ 1000003 $ $ (10^{6}+3) $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>,.
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>220
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>++++[&amp;gt;,.&amp;lt;-]
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>61425
</code></pre>
<h2>说明</h2>
<div>To write a number $ n $ in unary numeral system, one simply has to write 1 $ n $ times. For example, 5 written in unary system will be 11111.
In the first example replacing Brainfuck commands with binary code will give us 1101 1100. After we concatenate the codes, we'll get 11011100 in binary system, or 220 in decimal. That's exactly the number of tokens in the equivalent Unary program.</div>
</article>
</div>
</div>
</body>
</html>
