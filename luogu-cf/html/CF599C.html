<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Day at the Beach - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395834:HDmkiSwIaTpIILvsCU6y5CF5OvsNOxpGJ4pY/4pQaY4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22One%20day%20Squidward%2C%20Spongebob%20and%20Patrick%20decided%20to%20go%20to%20the%20beach.%20Unfortunately%2C%20the%20weather%20was%20bad%2C%20so%20the%20friends%20were%20unable%20to%20ride%20waves.%20However%2C%20they%20decided%20to%20spent%20their%20time%20building%20sand%20castles.%5Cn%5CnAt%20the%20end%20of%20the%20day%20there%20were%20%24%20n%20%24%20castles%20built%20by%20friends.%20Castles%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20%2C%20and%20the%20height%20of%20the%20%24%20i%20%24%20-th%20castle%20is%20equal%20to%20%24%20h_%7Bi%7D%20%24%20.%20When%20friends%20were%20about%20to%20leave%2C%20Squidward%20noticed%2C%20that%20castles%20are%20not%20ordered%20by%20their%20height%2C%20and%20this%20looks%20ugly.%20Now%20friends%20are%20going%20to%20reorder%20the%20castles%20in%20a%20way%20to%20obtain%20that%20condition%20%24%20h_%7Bi%7D%3C%3Dh_%7Bi%2B1%7D%20%24%20holds%20for%20all%20%24%20i%20%24%20from%20%24%201%20%24%20to%20%24%20n-1%20%24%20.%5Cn%5CnSquidward%20suggested%20the%20following%20process%20of%20sorting%20castles%3A%5Cn%5Cn-%20Castles%20are%20split%20into%20blocks%20%5Cu2014%20groups%20of%20consecutive%20castles.%20Therefore%20the%20block%20from%20%24%20i%20%24%20to%20%24%20j%20%24%20will%20include%20castles%20%24%20i%2Ci%2B1%2C...%2Cj%20%24%20.%20A%20block%20may%20consist%20of%20a%20single%20castle.%5Cn-%20The%20partitioning%20is%20chosen%20in%20such%20a%20way%20that%20every%20castle%20is%20a%20part%20of%20exactly%20one%20block.%5Cn-%20Each%20block%20is%20sorted%20independently%20from%20other%20blocks%2C%20that%20is%20the%20sequence%20%24%20h_%7Bi%7D%2Ch_%7Bi%2B1%7D%2C...%2Ch_%7Bj%7D%20%24%20becomes%20sorted.%5Cn-%20The%20partitioning%20should%20satisfy%20the%20condition%20that%20after%20each%20block%20is%20sorted%2C%20the%20sequence%20%24%20h_%7Bi%7D%20%24%20becomes%20sorted%20too.%20This%20may%20always%20be%20achieved%20by%20saying%20that%20the%20whole%20sequence%20is%20a%20single%20block.%5Cn%5CnEven%20Patrick%20understands%20that%20increasing%20the%20number%20of%20blocks%20in%20partitioning%20will%20ease%20the%20sorting%20process.%20Now%20friends%20ask%20you%20to%20count%20the%20maximum%20possible%20number%20of%20blocks%20in%20a%20partitioning%20that%20satisfies%20all%20the%20above%20requirements.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D100000%20%24%20%29%20%5Cu2014%20the%20number%20of%20castles%20Spongebob%2C%20Patrick%20and%20Squidward%20made%20from%20sand%20during%20the%20day.%5Cn%5CnThe%20next%20line%20contains%20%24%20n%20%24%20integers%20%24%20h_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dh_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20%29.%20The%20%24%20i%20%24%20-th%20of%20these%20integers%20corresponds%20to%20the%20height%20of%20the%20%24%20i%20%24%20-th%20castle.%22%2C%22outputFormat%22%3A%22Print%20the%20maximum%20possible%20number%20of%20blocks%20in%20a%20valid%20partitioning.%22%2C%22samples%22%3A%5B%5B%223%5Cn1%202%203%5Cn%22%2C%223%5Cn%22%5D%2C%5B%224%5Cn2%201%203%202%5Cn%22%2C%222%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%20the%20partitioning%20looks%20like%20that%3A%20%5C%5C%5B1%5C%5C%5D%5C%5C%5B2%5C%5C%5D%5C%5C%5B3%5C%5C%5D.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF599C%5C%2Fb9501a337331292f74a6e93736c318ca0eb6dcc6.png%29In%20the%20second%20sample%20the%20partitioning%20is%3A%20%5C%5C%5B2%2C%201%5C%5C%5D%5C%5C%5B3%2C%202%5C%5C%5D%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF599C%5C%2F631d2d13363437c6480fbc010a49d25892b48bb7.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F599%5C%2FC%22%2C%22id%22%3A%22599C%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu5929Squidward%5Cuff0cSpongebob%5Cuff0cPatrick%5Cu51b3%5Cu5b9a%5Cu4e00%5Cu8d77%5Cu53bb%5Cu6c99%5Cu6ee9%5Cu73a9%5Cu3002%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cuff0c%5Cu5929%5Cu6c14%5Cu5b9e%5Cu5728%5Cu4e0d%5Cu597d%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu6ca1%5Cu6cd5%5Cu51b2%5Cu6d6a%5Cu4e86%5Cu3002%5Cu7136%5Cu9e45%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu51b3%5Cu5b9a%5Cu5efa%5Cu4e00%5Cu4e2a%5Cu6c99%5Cu5821%5Cu3002%5Cr%5Cn%5Cu90a3%5Cu5929%5Cu5feb%5Cu7ed3%5Cu675f%5Cu7684%5Cu65f6%5Cu5019%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu5efa%5Cu4e86n%5Cu4e2a%5Cu57ce%5Cu5821%5Cu3002%5Cu57ce%5Cu5821%5Cu88ab%5Cu7f16%5Cu53f7%5Cu4e3a1%5Cu5230n%5Cuff0c%5Cu7b2ci%5Cu4e2a%5Cu57ce%5Cu5821%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu662fhi%5Cu3002%5Cu5c31%5Cu5728%5Cu5927%5Cu5bb6%5Cu90fd%5Cu8981%5Cu8d70%5Cu7684%5Cu65f6%5Cu5019%5Cuff0cSquidward%5Cu6ce8%5Cu610f%5Cu5230%5Cuff0c%5Cu6c99%5Cu5821%5Cu6ca1%5Cu6709%5Cu6309%5Cu5b83%5Cu4eec%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu6392%5Cu5e8f%5Cuff0c%5Cu8fd9%5Cu770b%5Cu8d77%5Cu6765%5Cu5f88%5Cu4e0d%5Cu548c%5Cu8c10%2C%5Cu3002%5Cu73b0%5Cu5728%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu5c06%5Cu91cd%5Cu65b0%5Cu6392%5Cu5217%5Cu57ce%5Cu5821%5Cuff0c%5Cu4f7f%5Cu5bf9%5Cu4e8e%5Cu6240%5Cu6709%5Cu7684i%5Cuff0c%5Cuff080%3C%3Di%3C%3Dn-1%5Cuff09%5Cu90fd%5Cu6709hi%3C%3Dhi%2B1%5Cu3002%5Cr%5CnSquidward%5Cu5efa%5Cu8bae%5Cu7528%5Cu4e0b%5Cu5217%5Cu65b9%5Cu5f0f%5Cu7ed9%5Cu57ce%5Cu5821%5Cu6392%5Cu5e8f%5Cuff1a%5Cr%5Cn-%20%5Cu57ce%5Cu5821%5Cu88ab%5Cu5206%5Cu6210%5Cu51e0%5Cu4e2a%5Cu8fde%5Cu7eed%5Cu7684%5Cu6bb5%5Cuff0c%5Cu56e0%5Cu6b64%5Cu4ecei%5Cu5230j%5Cu7684%5Cu57ce%5Cu5821%5Cu6bb5%5Cu5e94%5Cu8be5%5Cu5305%5Cu62eci%2Ci%2B1...j-1%2Cj%5Cu3002%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5821%5Cu6bb5%5Cu53ef%5Cu4ee5%5Cu53ea%5Cu6709%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5821%5Cu7ec4%5Cu6210%5Cu3002%5Cr%5Cn-%20%5Cu4f7f%5Cu6240%5Cu6709%5Cu57ce%5Cu5821%5Cu90fd%5Cu5728%5Cu4e00%5Cu4e2a%5Cu6bb5%5Cu5185%5Cu3002%5Cr%5Cn-%20%5Cu6bcf%5Cu4e2a%5Cu6bb5%5Cu72ec%5Cu7acb%5Cu4e8e%5Cu5176%5Cu4ed6%5Cu6bb5%5Cu8fdb%5Cu884c%5Cu6392%5Cu5e8f%5Cuff0c%5Cu5373%5Cu5e8f%5Cu5217hi%2Chi%2B1...hj-1%2Chj%5Cu662f%5Cu6709%5Cu5e8f%5Cu7684%5Cu3002%5Cr%5Cn-%20%5Cu6bb5%5Cu7684%5Cu5212%5Cu5206%5Cu5e94%5Cu6ee1%5Cu8db3%5Cu5728%5Cu6bcf%5Cu4e2a%5Cu6bb5%5Cu88ab%5Cu6392%5Cu5e8f%5Cu4e4b%5Cu540e%5Cuff0c%5Cu5e8f%5Cu5217%5Cu4e5f%5Cu53d8%5Cu5f97%5Cu6709%5Cu5e8f%5Cu3002%5Cu8fd9%5Cu603b%5Cu662f%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu6ee1%5Cu8db3%5Cu56e0%5Cu4e3a%5Cu53ef%5Cu4ee5%5Cu628a%5Cu6574%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu770b%5Cu505a%5Cu4e00%5Cu6bb5%5Cu3002%5Cr%5CnPatrick%5Cu77e5%5Cu9053%5Cu5728%5Cu5206%5Cu533a%5Cu4e2d%5Cu589e%5Cu52a0%5Cu5757%5Cu7684%5Cu6570%5Cu91cf%5Cu5c06%5Cu7b80%5Cu5316%5Cu6392%5Cu5e8f%5Cu8fc7%5Cu7a0b%5Cu3002%5Cu73b0%5Cu5728%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu8981%5Cu6c42%5Cu4f60%5Cu8ba1%5Cu7b97%5Cu6ee1%5Cu8db3%5Cu6240%5Cu6709%5Cu4e0a%5Cu8ff0%5Cu8981%5Cu6c42%5Cu7684%5Cu5206%5Cu533a%5Cu4e2d%5Cu7684%5Cu6700%5Cu5927%5Cu53ef%5Cu80fd%5Cu5757%5Cu6570%5Cu3002%5Cr%5Cn%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu62ec%5Cu4e00%5Cu4e2a%5Cu6570n%281%3C%3Dn%3C%3D100000%29%5Cuff0c%5Cu8868%5Cu793aSpongebob%2C%20Patrick%5Cu548cSquidward%5Cu5efa%5Cu7684%5Cu57ce%5Cu5821%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cr%5Cn%5Cu4e0b%5Cu4e00%5Cu884c%5Cu5305%5Cu62ecn%5Cu4e2a%5Cu6574%5Cu6570hi%281%3C%3Dhi%3C%3D1e9%29%5Cu3002%5Cu7b2ci%5Cu4e2a%5Cu6570%5Cu8868%5Cu793a%5Cu7b2ci%5Cu4e2a%5Cu57ce%5Cu5821%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu3002%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu6700%5Cu5927%5Cu53ef%5Cu80fd%5Cu7684%5Cu5e8f%5Cu5217%5Cu88ab%5Cu5212%5Cu5206%5Cu7684%5Cu6bb5%5Cu6570%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A4%2C%22totalAccepted%22%3A2%2C%22pid%22%3A%22CF599C%22%2C%22title%22%3A%22Day%20at%20the%20Beach%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A77913%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A10263%2C%22name%22%3A%22CF599C%20Day%20at%20the%20Beach%22%2C%22slug%22%3A%22CF599C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Day%20at%20the%20Beach%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Day at the Beach</h1>
<h2>题意翻译</h2>
<div>一天Squidward，Spongebob，Patrick决定一起去沙滩玩。不幸的是，天气实在不好，他们没法冲浪了。然鹅，他们决定建一个沙堡。
那天快结束的时候，他们建了n个城堡。城堡被编号为1到n，第i个城堡的高度是hi。就在大家都要走的时候，Squidward注意到，沙堡没有按它们的高度排序，这看起来很不和谐,。现在，他们将重新排列城堡，使对于所有的i，（0<=i<=n-1）都有hi<=hi+1。
Squidward建议用下列方式给城堡排序：
- 城堡被分成几个连续的段，因此从i到j的城堡段应该包括i,i+1...j-1,j。一个城堡段可以只有一个城堡组成。
- 使所有城堡都在一个段内。
- 每个段独立于其他段进行排序，即序列hi,hi+1...hj-1,hj是有序的。
- 段的划分应满足在每个段被排序之后，序列也变得有序。这总是可以被满足因为可以把整个序列看做一段。
Patrick知道在分区中增加块的数量将简化排序过程。现在，他们要求你计算满足所有上述要求的分区中的最大可能块数。
输入输出格式
输入格式：
第一行包括一个数n(1<=n<=100000)，表示Spongebob, Patrick和Squidward建的城堡的数量。
下一行包括n个整数hi(1<=hi<=1e9)。第i个数表示第i个城堡的高度。
输出格式：
输出最大可能的序列被划分的段数。</div>
<h2>题目描述</h2>
<div>One day Squidward, Spongebob and Patrick decided to go to the beach. Unfortunately, the weather was bad, so the friends were unable to ride waves. However, they decided to spent their time building sand castles.
At the end of the day there were $ n $ castles built by friends. Castles are numbered from $ 1 $ to $ n $ , and the height of the $ i $ -th castle is equal to $ h_{i} $ . When friends were about to leave, Squidward noticed, that castles are not ordered by their height, and this looks ugly. Now friends are going to reorder the castles in a way to obtain that condition $ h_{i}<=h_{i+1} $ holds for all $ i $ from $ 1 $ to $ n-1 $ .
Squidward suggested the following process of sorting castles:
- Castles are split into blocks — groups of consecutive castles. Therefore the block from $ i $ to $ j $ will include castles $ i,i+1,...,j $ . A block may consist of a single castle.
- The partitioning is chosen in such a way that every castle is a part of exactly one block.
- Each block is sorted independently from other blocks, that is the sequence $ h_{i},h_{i+1},...,h_{j} $ becomes sorted.
- The partitioning should satisfy the condition that after each block is sorted, the sequence $ h_{i} $ becomes sorted too. This may always be achieved by saying that the whole sequence is a single block.
Even Patrick understands that increasing the number of blocks in partitioning will ease the sorting process. Now friends ask you to count the maximum possible number of blocks in a partitioning that satisfies all the above requirements.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains a single integer $ n $ ( $ 1<=n<=100000 $ ) — the number of castles Spongebob, Patrick and Squidward made from sand during the day.
The next line contains $ n $ integers $ h_{i} $ ( $ 1<=h_{i}<=10^{9} $ ). The $ i $ -th of these integers corresponds to the height of the $ i $ -th castle.</div>
<h3>输出格式</h3>
<br />
<div>Print the maximum possible number of blocks in a valid partitioning.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
1 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
2 1 3 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
</code></pre>
<h2>说明</h2>
<div>In the first sample the partitioning looks like that: \[1\]\[2\]\[3\].
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF599C/b9501a337331292f74a6e93736c318ca0eb6dcc6.png)In the second sample the partitioning is: \[2, 1\]\[3, 2\]
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF599C/631d2d13363437c6480fbc010a49d25892b48bb7.png)</div>
</article>
</div>
</div>
</body>
</html>
