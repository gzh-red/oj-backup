<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Beautiful Lyrics - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573402715:0zpfKk71LSV5OdbfviRgev+h7Bw70ItK1QQwrDbkd5U=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20%24%20n%20%24%20words%2C%20each%20of%20which%20consists%20of%20lowercase%20alphabet%20letters.%20Each%20word%20contains%20at%20least%20one%20vowel.%20You%20are%20going%20to%20choose%20some%20of%20the%20given%20words%20and%20make%20as%20many%20beautiful%20lyrics%20as%20possible.%5Cn%5CnEach%20lyric%20consists%20of%20two%20lines.%20Each%20line%20consists%20of%20two%20words%20separated%20by%20whitespace.%5Cn%5CnA%20lyric%20is%20beautiful%20if%20and%20only%20if%20it%20satisfies%20all%20conditions%20below.%5Cn%5Cn-%20The%20number%20of%20vowels%20in%20the%20first%20word%20of%20the%20first%20line%20is%20the%20same%20as%20the%20number%20of%20vowels%20in%20the%20first%20word%20of%20the%20second%20line.%5Cn-%20The%20number%20of%20vowels%20in%20the%20second%20word%20of%20the%20first%20line%20is%20the%20same%20as%20the%20number%20of%20vowels%20in%20the%20second%20word%20of%20the%20second%20line.%5Cn-%20The%20last%20vowel%20of%20the%20first%20line%20is%20the%20same%20as%20the%20last%20vowel%20of%20the%20second%20line.%20Note%20that%20there%20may%20be%20consonants%20after%20the%20vowel.%5Cn%5CnAlso%2C%20letters%20%5C%22a%5C%22%2C%20%5C%22e%5C%22%2C%20%5C%22o%5C%22%2C%20%5C%22i%5C%22%2C%20and%20%5C%22u%5C%22%20are%20vowels.%20Note%20that%20%5C%22y%5C%22%20is%20never%20vowel.%5Cn%5CnFor%20example%20of%20a%20beautiful%20lyric%2C%5Cn%5Cn%20%5C%22hello%20hellooowww%5C%22%20%5C%22whatsup%20yowowowow%5C%22%5Cn%5Cn%20is%20a%20beautiful%20lyric%20because%20there%20are%20two%20vowels%20each%20in%20%5C%22hello%5C%22%20and%20%5C%22whatsup%5C%22%2C%20four%20vowels%20each%20in%20%5C%22hellooowww%5C%22%20and%20%5C%22yowowowow%5C%22%20%28keep%20in%20mind%20that%20%5C%22y%5C%22%20is%20not%20a%20vowel%29%2C%20and%20the%20last%20vowel%20of%20each%20line%20is%20%5C%22o%5C%22.For%20example%20of%20a%20not%20beautiful%20lyric%2C%5Cn%5Cn%20%5C%22hey%20man%5C%22%5C%22iam%20mcdic%5C%22%5Cn%5Cn%20is%20not%20a%20beautiful%20lyric%20because%20%5C%22hey%5C%22%20and%20%5C%22iam%5C%22%20don%27t%20have%20same%20number%20of%20vowels%20and%20the%20last%20vowels%20of%20two%20lines%20are%20different%20%28%5C%22a%5C%22%20in%20the%20first%20and%20%5C%22i%5C%22%20in%20the%20second%29.How%20many%20beautiful%20lyrics%20can%20you%20write%20from%20given%20words%3F%20Note%20that%20you%20cannot%20use%20a%20word%20more%20times%20than%20it%20is%20given%20to%20you.%20For%20example%2C%20if%20a%20word%20is%20given%20three%20times%2C%20you%20can%20use%20it%20at%20most%20three%20times.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20single%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%2010%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20words.%5Cn%5CnThe%20%24%20i%20%24%20-th%20of%20the%20next%20%24%20n%20%24%20lines%20contains%20string%20%24%20s_%7Bi%7D%20%24%20consisting%20lowercase%20alphabet%20letters%20%5Cu2014%20the%20%24%20i%20%24%20-th%20word.%20It%20is%20guaranteed%20that%20the%20sum%20of%20the%20total%20word%20length%20is%20equal%20or%20less%20than%20%24%2010%5E%7B6%7D%20%24%20.%20Each%20word%20contains%20at%20least%20one%20vowel.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%2C%20print%20%24%20m%20%24%20%5Cu2014%20the%20number%20of%20maximum%20possible%20beautiful%20lyrics.%5Cn%5CnIn%20next%20%24%202m%20%24%20lines%2C%20print%20%24%20m%20%24%20beautiful%20lyrics%20%28two%20lines%20per%20lyric%29.%5Cn%5CnIf%20there%20are%20multiple%20answers%2C%20print%20any.%22%2C%22samples%22%3A%5B%5B%22%5Cn14%5Cnwow%5Cnthis%5Cnis%5Cnthe%5Cnfirst%5Cnmcdics%5Cncodeforces%5Cnround%5Cnhooray%5Cni%5Cnam%5Cnproud%5Cnabout%5Cnthat%5Cn%22%2C%22%5Cn3%5Cnabout%20proud%5Cnhooray%20round%5Cnwow%20first%5Cnthis%20is%5Cni%20that%5Cnmcdics%20am%5Cn%22%5D%2C%5B%22%5Cn7%5Cnarsijo%5Cnsuggested%5Cnthe%5Cnidea%5Cnfor%5Cnthis%5Cnproblem%5Cn%22%2C%22%5Cn0%5Cn%22%5D%2C%5B%22%5Cn4%5Cnsame%5Cnsame%5Cnsame%5Cndiffer%5Cn%22%2C%22%5Cn1%5Cnsame%20differ%5Cnsame%20same%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20those%20beautiful%20lyrics%20are%20one%20of%20the%20possible%20answers.%20Let%27s%20look%20at%20the%20first%20lyric%20on%20the%20sample%20output%20of%20the%20first%20example.%20%5C%22about%20proud%20hooray%20round%5C%22%20forms%20a%20beautiful%20lyric%20because%20%5C%22about%5C%22%20and%20%5C%22hooray%5C%22%20have%20same%20number%20of%20vowels%2C%20%5C%22proud%5C%22%20and%20%5C%22round%5C%22%20have%20same%20number%20of%20vowels%2C%20and%20both%20lines%20have%20same%20last%20vowel.%20On%20the%20other%20hand%2C%20you%20cannot%20form%20any%20beautiful%20lyric%20with%20the%20word%20%5C%22codeforces%5C%22.%5Cn%5CnIn%20the%20second%20example%2C%20you%20cannot%20form%20any%20beautiful%20lyric%20from%20given%20words.%5Cn%5CnIn%20the%20third%20example%2C%20you%20can%20use%20the%20word%20%5C%22same%5C%22%20up%20to%20three%20times.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1182%5C%2FC%22%2C%22id%22%3A%221182C%22%7D%2C%22translation%22%3A%22%5Cu5b9a%5Cu4e49%5Cu201c%5Cu4f18%5Cu7f8e%5Cu7684%5Cu6b4c%5Cu8bcd%5Cu201d%5Cu5982%5Cu4e0b%5Cuff1a%5Cr%5Cn%5Cr%5Cn-%20%5Cu7531%5Cu4e24%5Cu884c%5Cu56db%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu7ec4%5Cu6210%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cuff0c%5Cu7528%5Cu7a7a%5Cu683c%5Cu9694%5Cu5f00%5Cr%5Cn%5Cr%5Cn-%20%5Cu7b2c%5Cu4e00%5Cu884c%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu7684%5Cu5143%5Cu97f3%5Cu6570%5Cu7b49%5Cu4e8e%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu7684%5Cu5143%5Cu97f3%5Cu6570%5Cr%5Cn%5Cr%5Cn-%20%5Cu7b2c%5Cu4e00%5Cu884c%5Cu7b2c%5Cu4e8c%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu7684%5Cu5143%5Cu97f3%5Cu6570%5Cu7b49%5Cu4e8e%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu7b2c%5Cu4e8c%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu7684%5Cu5143%5Cu97f3%5Cu6570%5Cr%5Cn%5Cr%5Cn-%20%5Cu6bcf%5Cu884c%5Cu7684%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu51fa%5Cu73b0%5Cu7684%5Cu5143%5Cu97f3%5Cu76f8%5Cu540c%5Cr%5Cn%5Cr%5Cn%5Cu7ed9%5Cu5b9a%24n%24%5Cu4e2a%5Cu5355%5Cu8bcd%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu6bcf%5Cu4e2a%5Cu5355%5Cu8bcd%5Cu542b%5Cu6709%5Cu81f3%5Cu5c11%5Cu4e00%5Cu4e2a%5Cu5143%5Cu97f3%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu8f93%5Cu5165%5Cu7684%5Cu5355%5Cu8bcd%5Cu53ea%5Cu80fd%5Cu4f7f%5Cu7528%5Cu4e00%5Cu6b21%5Cuff0c%5Cu91cd%5Cu590d%5Cu8f93%5Cu5165%5Cu6309%5Cu8f93%5Cu5165%5Cu6b21%5Cu6570%5Cu8bb0%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8bf7%5Cu627e%5Cu5230%5Cu6700%5Cu5927%5Cu7684%24m%24%5Cuff0c%5Cu5e76%5Cu6784%5Cu9020%5Cu4e00%5Cu4e2a%5Cu542b%5Cu6709%24m%24%5Cu6bb5%5Cu201c%5Cu4f18%5Cu7f8e%5Cu7684%5Cu6b4c%5Cu8bcd%5Cu201d%5Cu65b9%5Cu6848%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A108%2C%22totalAccepted%22%3A64%2C%22pid%22%3A%22CF1182C%22%2C%22title%22%3A%22Beautiful%20Lyrics%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A118365%2C%22title%22%3A%22%5Cu6c42%5Cu4f18%5Cu5316QAQ%22%2C%22forum%22%3A%7B%22id%22%3A37170%2C%22name%22%3A%22CF1182C%20Beautiful%20Lyrics%22%2C%22slug%22%3A%22CF1182C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1486%22%2C%22title%22%3A%22%5BNOI2004%5D%5Cu90c1%5Cu95f7%5Cu7684%5Cu51fa%5Cu7eb3%5Cu5458%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4980%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011Polya%5Cu5b9a%5Cu7406%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1182E%22%2C%22title%22%3A%22Product%20Oriented%20Recurrence%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1182D%22%2C%22title%22%3A%22Complete%20Mirror%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1182B%22%2C%22title%22%3A%22Plus%20from%20Picture%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Beautiful%20Lyrics%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Beautiful Lyrics</h1>
<h2>题意翻译</h2>
<div>定义“优美的歌词”如下：
- 由两行四个单词组成，每行两个，用空格隔开
- 第一行第一个单词的元音数等于第二行第一个单词的元音数
- 第一行第二个单词的元音数等于第二行第二个单词的元音数
- 每行的最后一个出现的元音相同
给定$n$个单词，保证每个单词含有至少一个元音。每个输入的单词只能使用一次，重复输入按输入次数记。
请找到最大的$m$，并构造一个含有$m$段“优美的歌词”方案。</div>
<h2>题目描述</h2>
<div>You are given $ n $ words, each of which consists of lowercase alphabet letters. Each word contains at least one vowel. You are going to choose some of the given words and make as many beautiful lyrics as possible.
Each lyric consists of two lines. Each line consists of two words separated by whitespace.
A lyric is beautiful if and only if it satisfies all conditions below.
- The number of vowels in the first word of the first line is the same as the number of vowels in the first word of the second line.
- The number of vowels in the second word of the first line is the same as the number of vowels in the second word of the second line.
- The last vowel of the first line is the same as the last vowel of the second line. Note that there may be consonants after the vowel.
Also, letters "a", "e", "o", "i", and "u" are vowels. Note that "y" is never vowel.
For example of a beautiful lyric,
"hello hellooowww" "whatsup yowowowow"
is a beautiful lyric because there are two vowels each in "hello" and "whatsup", four vowels each in "hellooowww" and "yowowowow" (keep in mind that "y" is not a vowel), and the last vowel of each line is "o".For example of a not beautiful lyric,
"hey man""iam mcdic"
is not a beautiful lyric because "hey" and "iam" don't have same number of vowels and the last vowels of two lines are different ("a" in the first and "i" in the second).How many beautiful lyrics can you write from given words? Note that you cannot use a word more times than it is given to you. For example, if a word is given three times, you can use it at most three times.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains single integer $ n $ ( $ 1 \le n \le 10^{5} $ ) — the number of words.
The $ i $ -th of the next $ n $ lines contains string $ s_{i} $ consisting lowercase alphabet letters — the $ i $ -th word. It is guaranteed that the sum of the total word length is equal or less than $ 10^{6} $ . Each word contains at least one vowel.</div>
<h3>输出格式</h3>
<br />
<div>In the first line, print $ m $ — the number of maximum possible beautiful lyrics.
In next $ 2m $ lines, print $ m $ beautiful lyrics (two lines per lyric).
If there are multiple answers, print any.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
14
wow
this
is
the
first
mcdics
codeforces
round
hooray
i
am
proud
about
that
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
3
about proud
hooray round
wow first
this is
i that
mcdics am
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
7
arsijo
suggested
the
idea
for
this
problem
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
0
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
4
same
same
same
differ
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
1
same differ
same same
</code></pre>
<h2>说明</h2>
<div>In the first example, those beautiful lyrics are one of the possible answers. Let's look at the first lyric on the sample output of the first example. "about proud hooray round" forms a beautiful lyric because "about" and "hooray" have same number of vowels, "proud" and "round" have same number of vowels, and both lines have same last vowel. On the other hand, you cannot form any beautiful lyric with the word "codeforces".
In the second example, you cannot form any beautiful lyric from given words.
In the third example, you can use the word "same" up to three times.</div>
</article>
</div>
</div>
</body>
</html>
