<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Reposts - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395040:tiHaV5wjF3j8LQ7WtNKDg9WWemKxItbDzMFg+yDGm3A=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22One%20day%20Polycarp%20published%20a%20funny%20picture%20in%20a%20social%20network%20making%20a%20poll%20about%20the%20color%20of%20his%20handle.%20Many%20of%20his%20friends%20started%20reposting%20Polycarp%27s%20joke%20to%20their%20news%20feed.%20Some%20of%20them%20reposted%20the%20reposts%20and%20so%20on.%5Cn%5CnThese%20events%20are%20given%20as%20a%20sequence%20of%20strings%20%5C%22name1%20reposted%20name2%5C%22%2C%20where%20name1%20is%20the%20name%20of%20the%20person%20who%20reposted%20the%20joke%2C%20and%20name2%20is%20the%20name%20of%20the%20person%20from%20whose%20news%20feed%20the%20joke%20was%20reposted.%20It%20is%20guaranteed%20that%20for%20each%20string%20%5C%22name1%20reposted%20name2%5C%22%20user%20%5C%22name1%5C%22%20didn%27t%20have%20the%20joke%20in%20his%20feed%20yet%2C%20and%20%5C%22name2%5C%22%20already%20had%20it%20in%20his%20feed%20by%20the%20moment%20of%20repost.%20Polycarp%20was%20registered%20as%20%5C%22Polycarp%5C%22%20and%20initially%20the%20joke%20was%20only%20in%20his%20feed.%5Cn%5CnPolycarp%20measures%20the%20popularity%20of%20the%20joke%20as%20the%20length%20of%20the%20largest%20repost%20chain.%20Print%20the%20popularity%20of%20Polycarp%27s%20joke.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D200%20%24%20%29%20%5Cu2014%20the%20number%20of%20reposts.%20Next%20follow%20the%20reposts%20in%20the%20order%20they%20were%20made.%20Each%20of%20them%20is%20written%20on%20a%20single%20line%20and%20looks%20as%20%5C%22name1%20reposted%20name2%5C%22.%20All%20the%20names%20in%20the%20input%20consist%20of%20lowercase%20or%20uppercase%20English%20letters%20and%5C%2For%20digits%20and%20have%20lengths%20from%202%20to%2024%20characters%2C%20inclusive.%5Cn%5CnWe%20know%20that%20the%20user%20names%20are%20case-insensitive%2C%20that%20is%2C%20two%20names%20that%20only%20differ%20in%20the%20letter%20case%20correspond%20to%20the%20same%20social%20network%20user.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20maximum%20length%20of%20a%20repost%20chain.%22%2C%22samples%22%3A%5B%5B%225%5Cntourist%20reposted%20Polycarp%5CnPetr%20reposted%20Tourist%5CnWJMZBMR%20reposted%20Petr%5Cnsdya%20reposted%20wjmzbmr%5Cnvepifanov%20reposted%20sdya%5Cn%22%2C%226%5Cn%22%5D%2C%5B%226%5CnMike%20reposted%20Polycarp%5CnMax%20reposted%20Polycarp%5CnEveryOne%20reposted%20Polycarp%5Cn111%20reposted%20Polycarp%5CnVkCup%20reposted%20Polycarp%5CnCodeforces%20reposted%20Polycarp%5Cn%22%2C%222%5Cn%22%5D%2C%5B%221%5CnSoMeStRaNgEgUe%20reposted%20PoLyCaRp%5Cn%22%2C%222%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F522%5C%2FA%22%2C%22id%22%3A%22522A%22%7D%2C%22translation%22%3A%22%23%23%23%20%5Cu9898%5Cu76ee%5Cu80cc%5Cu666f%5Cn%20%5Cu67d0%5Cu4e00%5Cu5929%5Cuff0cPolycarp%5Cu5728%5Cu4ed6%5Cu7684%5Cu5fae%5Cu535a%5Cu4e0a%5Cu53d1%5Cu5e03%5Cu4e86%5Cu4e00%5Cu5f20%5Cu6709%5Cu8da3%5Cu7684%5Cu7167%5Cu7247%5Cu3002%5Cu4ed6%5Cu7684%5Cu5f88%5Cu591a%5Cu670b%5Cu53cb%5Cu5c31%5Cu5f00%5Cu59cb%5Cu5728%5Cu5fae%5Cu535a%5Cu4e0a%5Cu8f6c%5Cu53d1%5Cu8fd9%5Cu5f20%5Cu56fe%5Cu7247%5Cuff0c%5Cu8fd9%5Cu4e2a%5Cu4e8b%5Cu60c5%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cu63cf%5Cu8ff0%5Cuff1aname1%20reposted%20name2%5Cuff0c%5Cu610f%5Cu601d%5Cu662f%5Cu8bf4name1%5Cu8fd9%5Cu4e2a%5Cu4eba%5Cu8f6c%5Cu53d1%5Cu4e86name2%5Cu8fd9%5Cu4e2a%5Cu4eba%5Cu3002%5Cu9898%5Cu76ee%5Cu4fdd%5Cu8bc1name1%5Cu80af%5Cu5b9a%5Cu662f%5Cu8fd8%5Cu6ca1%5Cu6709%5Cu8f6c%5Cu53d1%5Cu8fc7%5Cu7167%5Cu7247%5Cu7684%5Cuff0cname2%5Cu8fd9%5Cu4e2a%5Cu4eba%5Cu5df2%5Cu7ecf%5Cu6709%5Cu8fd9%5Cu4e2a%5Cu7167%5Cu7247%5Cu4e86%5Cu3002%5Cn%20%20%5Cu73b0%5Cu5728%5Cuff0cPolycarp%5Cu60f3%5Cu8981%5Cu77e5%5Cu9053%5Cu4ece%5Cu4ed6%5Cu5f00%5Cu59cb%5Cu8f6c%5Cu53d1%5Cu8fd9%5Cu5f20%5Cu56fe%5Cu7247%5Cuff0c%5Cu6700%5Cu957f%5Cu7684%5Cu8f6c%5Cu53d1%5Cu94fe%5Cu7684%5Cu957f%5Cu5ea6%5Cuff0c%5Cu6240%5Cu8c13%5Cu7684%5Cu8f6c%5Cu53d1%5Cu94fe%5Cu5c31%5Cu662fA%5Cu8f6c%5Cu53d1B%5Cu7684%5Cu56fe%5Cu7247%5Cuff0cC%5Cu8f6c%5Cu53d1A%5Cu7684%5Cu56fe%5Cu7247%5Cuff0c%5Cu8fd9%5Cu6837%5Cu8f6c%5Cu53d1%5Cu94fe%5Cu7684%5Cu957f%5Cu5ea6%5Cu5c31%5Cu662f3%5Cu3002%5Cn%23%23%23%20%5Cu8f93%5Cu5165%5Cn%5Cu8f93%5Cu5165%5Cu7b2c%5Cu4e00%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570N%5Cuff0c%5Cu8868%5Cu793a%5Cu8f6c%5Cu53d1%5Cu4fe1%5Cu606f%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cn%5Cu63a5%5Cu4e0b%5Cu6765N%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e00%5Cu6761%5Cu8f6c%5Cu53d1%5Cu4fe1%5Cu606f%5Cuff0c%5Cu683c%5Cu5f0f%5Cu90fd%5Cu662f%5Cuff1aname1%20reposted%20name2%5Cuff0c%5Cu8868%5Cu793aname1%5Cu8fd9%5Cu4e2a%5Cu4eba%5Cu8f6c%5Cu53d1%5Cu4e86name2%5Cu8fd9%5Cu4e2a%5Cu4eba%5Cu7684%5Cu4fe1%5Cu606f%5Cu3002%5Cu6240%5Cu6709%5Cu7684%5Cu540d%5Cu5b57%5Cu90fd%5Cu662f%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu6216%5Cu8005%5Cu5927%5Cu5199%5Cu5b57%5Cu6bcd%5Cu6216%5Cu8005%5Cu6570%5Cu5b57%5Cu7ec4%5Cu6210%5Cu7684%5Cuff0c%5Cu5927%5Cu5199%5Cu548c%5Cu5c0f%5Cu5199%5Cu88ab%5Cu8ba4%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu4e00%5Cu6837%5Cu7684%5Cu3002%5Cn%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cuff1a%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu7684%5Cu540d%5Cu5b57%5Cu7684%5Cu957f%5Cu5ea6%5Cu5927%5Cu4e8e%5Cu7b49%5Cu4e8e2%5Cuff0c%5Cu5c0f%5Cu4e8e%5Cu7b49%5Cu4e8e26%5Cuff0cN%3C%3D200%5Cu3002%5Cn%23%23%23%20%5Cu8f93%5Cu51fa%5Cn%5Cu8f93%5Cu51fa%5Cu6700%5Cu957f%5Cu7684%5Cu8f6c%5Cu53d1%5Cu94fe%5Cu7684%5Cu957f%5Cu5ea6%5Cu3002%22%2C%22tags%22%3A%5B2%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A98%2C%22totalAccepted%22%3A58%2C%22pid%22%3A%22CF522A%22%2C%22title%22%3A%22Reposts%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33929%2C%22title%22%3A%22%5Cu3010%5Cu7ffb%5Cu8bd1%5Cu3011%22%2C%22forum%22%3A%7B%22id%22%3A10578%2C%22name%22%3A%22CF522A%20Reposts%22%2C%22slug%22%3A%22CF522A%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1113%22%2C%22title%22%3A%22%5Cu6742%5Cu52a1%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1137%22%2C%22title%22%3A%22%5Cu65c5%5Cu884c%5Cu8ba1%5Cu5212%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3371%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu5355%5Cu6e90%5Cu6700%5Cu77ed%5Cu8def%5Cu5f84%5Cuff08%5Cu5f31%5Cu5316%5Cu7248%5Cuff09%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF500B%22%2C%22title%22%3A%22New%20Year%20Permutation%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF33B%22%2C%22title%22%3A%22String%20Problem%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Reposts%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Reposts</h1>
<h2>题意翻译</h2>
<div>### 题目背景
某一天，Polycarp在他的微博上发布了一张有趣的照片。他的很多朋友就开始在微博上转发这张图片，这个事情可以被一个字符串描述：name1 reposted name2，意思是说name1这个人转发了name2这个人。题目保证name1肯定是还没有转发过照片的，name2这个人已经有这个照片了。
现在，Polycarp想要知道从他开始转发这张图片，最长的转发链的长度，所谓的转发链就是A转发B的图片，C转发A的图片，这样转发链的长度就是3。
### 输入
输入第一行是一个正整数N，表示转发信息的数量。
接下来N行，每行一条转发信息，格式都是：name1 reposted name2，表示name1这个人转发了name2这个人的信息。所有的名字都是小写字母或者大写字母或者数字组成的，大写和小写被认为一个一样的。
数据范围：每个人的名字的长度大于等于2，小于等于26，N<=200。
### 输出
输出最长的转发链的长度。</div>
<h2>题目描述</h2>
<div>One day Polycarp published a funny picture in a social network making a poll about the color of his handle. Many of his friends started reposting Polycarp's joke to their news feed. Some of them reposted the reposts and so on.
These events are given as a sequence of strings "name1 reposted name2", where name1 is the name of the person who reposted the joke, and name2 is the name of the person from whose news feed the joke was reposted. It is guaranteed that for each string "name1 reposted name2" user "name1" didn't have the joke in his feed yet, and "name2" already had it in his feed by the moment of repost. Polycarp was registered as "Polycarp" and initially the joke was only in his feed.
Polycarp measures the popularity of the joke as the length of the largest repost chain. Print the popularity of Polycarp's joke.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains integer $ n $ ( $ 1<=n<=200 $ ) — the number of reposts. Next follow the reposts in the order they were made. Each of them is written on a single line and looks as "name1 reposted name2". All the names in the input consist of lowercase or uppercase English letters and/or digits and have lengths from 2 to 24 characters, inclusive.
We know that the user names are case-insensitive, that is, two names that only differ in the letter case correspond to the same social network user.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the maximum length of a repost chain.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
tourist reposted Polycarp
Petr reposted Tourist
WJMZBMR reposted Petr
sdya reposted wjmzbmr
vepifanov reposted sdya
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6
Mike reposted Polycarp
Max reposted Polycarp
EveryOne reposted Polycarp
111 reposted Polycarp
VkCup reposted Polycarp
Codeforces reposted Polycarp
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>1
SoMeStRaNgEgUe reposted PoLyCaRp
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>2
</code></pre>
</article>
</div>
</div>
</body>
</html>
