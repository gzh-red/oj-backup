<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Supercollider - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393614:OmWuucV7/cYODKKHJKVpIt2CkqQIjZUlZOM6FgNO7KQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22This%20problem%20consists%20of%20two%20subproblems%3A%20for%20solving%20subproblem%20D1%20you%20will%20receive%203%20points%2C%20and%20for%20solving%20subproblem%20D2%20you%20will%20receive%2016%20points.%5Cn%5CnManao%20is%20the%20chief%20architect%20involved%20in%20planning%20a%20new%20supercollider.%20He%20has%20to%20identify%20a%20plot%20of%20land%20where%20the%20largest%20possible%20supercollider%20can%20be%20built.%20The%20supercollider%20he%20is%20building%20requires%20four-way%20orthogonal%20collisions%20of%20particles%20traveling%20at%20the%20same%20speed%2C%20so%20it%20will%20consist%20of%20four%20accelerating%20chambers%20and%20be%20shaped%20like%20a%20plus%20sign%20%28i.e.%2C%20%2B%29.%20Each%20of%20the%20four%20accelerating%20chambers%20must%20be%20the%20same%20length%20and%20must%20be%20aligned%20with%20the%20Earth%27s%20magnetic%20field%20%28parallel%20or%20orthogonal%29%20to%20minimize%20interference.%5Cn%5CnThe%20accelerating%20chambers%20need%20to%20be%20laid%20down%20across%20long%20flat%20stretches%20of%20land%20to%20keep%20costs%20under%20control.%20Thus%2C%20Manao%20has%20already%20commissioned%20a%20topographical%20study%20that%20has%20identified%20all%20possible%20maximal%20length%20tracts%20of%20land%20available%20for%20building%20accelerating%20chambers%20that%20are%20either%20parallel%20or%20orthogonal%20to%20the%20Earth%27s%20magnetic%20field.%20To%20build%20the%20largest%20possible%20supercollider%2C%20Manao%20must%20identify%20the%20largest%20symmetric%20plus%20shape%20from%20among%20these%20candidate%20tracts.%20That%20is%2C%20he%20must%20find%20the%20two%20tracts%20of%20land%20that%20form%20an%20axis-aligned%20plus%20shape%20with%20the%20largest%20distance%20from%20the%20center%20of%20the%20plus%20to%20the%20tip%20of%20the%20shortest%20of%20the%20four%20arms%20of%20the%20plus.%20Note%20that%20the%20collider%20need%20not%20use%20the%20entire%20length%20of%20the%20tracts%20identified%20%28see%20the%20example%20in%20the%20notes%29.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20will%20contain%20two%20single-space-separated%20integers%20%24%20n%20%24%20%2C%20the%20number%20of%20north-south%20tracts%20and%20%24%20m%20%24%20%2C%20the%20number%20of%20west-east%20tracts.%5Cn%5CnEach%20of%20the%20%24%20n%20%24%20lines%20following%20the%20first%20describes%20a%20north-south%20tract.%20Each%20such%20tract%20is%20described%20by%20three%20single-space-separated%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%2Cl_%7Bi%7D%20%24%20representing%20the%20vertical%20line%20segment%20from%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%29%20%24%20to%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%2Bl_%7Bi%7D%29%20%24%20.%5Cn%5CnSimilarly%2C%20after%20the%20%24%20n%20%24%20lines%20describing%20north-south%20tracts%20follow%20%24%20m%20%24%20similar%20lines%20describing%20the%20west-east%20tracts.%20Each%20such%20tract%20is%20described%20by%20three%20single-space-separated%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%2Cl_%7Bi%7D%20%24%20representing%20the%20horizontal%20line%20segment%20from%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%29%20%24%20to%20%24%20%28x_%7Bi%7D%2Bl_%7Bi%7D%2Cy_%7Bi%7D%29%20%24%20.%5Cn%5CnAll%20%24%20x_%7Bi%7D%20%24%20and%20%24%20y_%7Bi%7D%20%24%20are%20between%20-100000000%20and%20100000000%2C%20inclusive.%20All%20%24%20l_%7Bi%7D%20%24%20are%20between%201%20and%20100000000%2C%20inclusive.%20No%20pair%20of%20horizontal%20segments%20will%20touch%20or%20intersect%2C%20and%20no%20pair%20of%20vertical%20segments%20will%20touch%20or%20intersect.%5Cn%5CnThe%20problem%20consists%20of%20two%20subproblems.%20The%20subproblems%20have%20different%20constraints%20on%20the%20input.%20You%20will%20get%20some%20score%20for%20the%20correct%20submission%20of%20the%20subproblem.%20The%20description%20of%20the%20subproblems%20follows.%5Cn%5Cn-%20In%20subproblem%20D1%20%283%20points%29%2C%20%24%20n%20%24%20and%20%24%20m%20%24%20will%20be%20between%20%24%201%20%24%20and%20%24%201000%20%24%20%2C%20inclusive.%5Cn-%20In%20subproblem%20D2%20%2816%20points%29%2C%20%24%20n%20%24%20and%20%24%20m%20%24%20will%20be%20between%20%24%201%20%24%20and%20%24%2050000%20%24%20%2C%20inclusive.%22%2C%22outputFormat%22%3A%22Print%20one%20line%20containing%20a%20single%20integer%2C%20the%20size%20of%20the%20largest%20supercollider%20that%20can%20be%20built%20on%20one%20north-south%20tract%20and%20one%20west-east%20tract.%20The%20size%20of%20the%20supercollider%20is%20defined%20to%20be%20the%20length%20of%20one%20of%20the%20four%20accelerating%20chambers.%20In%20other%20words%2C%20the%20size%20of%20the%20resulting%20supercollider%20is%20defined%20to%20be%20the%20distance%20from%20the%20intersection%20of%20the%20two%20line%20segments%20to%20the%20closest%20endpoint%20of%20either%20of%20the%20two%20segments.%20If%20no%20pair%20of%20north-south%20and%20west-east%20tracts%20intersects%2C%20it%20is%20not%20possible%20to%20build%20a%20supercollider%20and%20the%20program%20should%20report%20a%20maximum%20size%20of%20zero.%22%2C%22samples%22%3A%5B%5B%221%202%5Cn4%200%209%5Cn1%201%208%5Cn1%202%207%5Cn%22%2C%222%5Cn%22%5D%5D%2C%22hint%22%3A%22Consider%20the%20example.%20There%20is%20one%20vertical%20line%20segment%20from%20%284%2C%200%29%20to%20%284%2C%209%29%20and%20two%20horizontal%20line%20segments%3A%20from%20%281%2C%201%29%20to%20%289%2C%201%29%20and%20from%20%281%2C%202%29%20to%20%288%2C%202%29.%20The%20largest%20plus%20shape%20that%20can%20be%20found%20among%20these%20segments%20is%20formed%20from%20the%20only%20vertical%20segment%20and%20the%20second%20of%20horizontal%20segments%2C%20and%20is%20centered%20at%20%284%2C%202%29.%5Cn%5CnThe%20program%20should%20output%202%20because%20the%20closest%20end%20point%20of%20those%20segments%20to%20the%20center%20is%20%284%2C%200%29%2C%20which%20is%20distance%202%20from%20the%20center%20point%20of%20%284%2C%202%29.%20The%20collider%20will%20be%20formed%20by%20the%20line%20segments%20from%20%282%2C%202%29%20to%20%286%2C%202%29%20and%20from%20%284%2C%200%29%20to%20%284%2C%204%29.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F391%5C%2FD1%22%2C%22id%22%3A%22391D1%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF391D1%22%2C%22title%22%3A%22Supercollider%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Supercollider%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Supercollider</h1>
<h2>题目描述</h2>
<div>This problem consists of two subproblems: for solving subproblem D1 you will receive 3 points, and for solving subproblem D2 you will receive 16 points.
Manao is the chief architect involved in planning a new supercollider. He has to identify a plot of land where the largest possible supercollider can be built. The supercollider he is building requires four-way orthogonal collisions of particles traveling at the same speed, so it will consist of four accelerating chambers and be shaped like a plus sign (i.e., +). Each of the four accelerating chambers must be the same length and must be aligned with the Earth's magnetic field (parallel or orthogonal) to minimize interference.
The accelerating chambers need to be laid down across long flat stretches of land to keep costs under control. Thus, Manao has already commissioned a topographical study that has identified all possible maximal length tracts of land available for building accelerating chambers that are either parallel or orthogonal to the Earth's magnetic field. To build the largest possible supercollider, Manao must identify the largest symmetric plus shape from among these candidate tracts. That is, he must find the two tracts of land that form an axis-aligned plus shape with the largest distance from the center of the plus to the tip of the shortest of the four arms of the plus. Note that the collider need not use the entire length of the tracts identified (see the example in the notes).</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input will contain two single-space-separated integers $ n $ , the number of north-south tracts and $ m $ , the number of west-east tracts.
Each of the $ n $ lines following the first describes a north-south tract. Each such tract is described by three single-space-separated integers $ x_{i},y_{i},l_{i} $ representing the vertical line segment from $ (x_{i},y_{i}) $ to $ (x_{i},y_{i}+l_{i}) $ .
Similarly, after the $ n $ lines describing north-south tracts follow $ m $ similar lines describing the west-east tracts. Each such tract is described by three single-space-separated integers $ x_{i},y_{i},l_{i} $ representing the horizontal line segment from $ (x_{i},y_{i}) $ to $ (x_{i}+l_{i},y_{i}) $ .
All $ x_{i} $ and $ y_{i} $ are between -100000000 and 100000000, inclusive. All $ l_{i} $ are between 1 and 100000000, inclusive. No pair of horizontal segments will touch or intersect, and no pair of vertical segments will touch or intersect.
The problem consists of two subproblems. The subproblems have different constraints on the input. You will get some score for the correct submission of the subproblem. The description of the subproblems follows.
- In subproblem D1 (3 points), $ n $ and $ m $ will be between $ 1 $ and $ 1000 $ , inclusive.
- In subproblem D2 (16 points), $ n $ and $ m $ will be between $ 1 $ and $ 50000 $ , inclusive.</div>
<h3>输出格式</h3>
<br />
<div>Print one line containing a single integer, the size of the largest supercollider that can be built on one north-south tract and one west-east tract. The size of the supercollider is defined to be the length of one of the four accelerating chambers. In other words, the size of the resulting supercollider is defined to be the distance from the intersection of the two line segments to the closest endpoint of either of the two segments. If no pair of north-south and west-east tracts intersects, it is not possible to build a supercollider and the program should report a maximum size of zero.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1 2
4 0 9
1 1 8
1 2 7
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
</code></pre>
<h2>说明</h2>
<div>Consider the example. There is one vertical line segment from (4, 0) to (4, 9) and two horizontal line segments: from (1, 1) to (9, 1) and from (1, 2) to (8, 2). The largest plus shape that can be found among these segments is formed from the only vertical segment and the second of horizontal segments, and is centered at (4, 2).
The program should output 2 because the closest end point of those segments to the center is (4, 0), which is distance 2 from the center point of (4, 2). The collider will be formed by the line segments from (2, 2) to (6, 2) and from (4, 0) to (4, 4).</div>
</article>
</div>
</div>
</body>
</html>
