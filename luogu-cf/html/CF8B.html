<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Obsession with Robots - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573389894:/zEGuLxOqdZtpUkq9ZS+8FvURKX+IzYdf16qyy7XuuA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20whole%20world%20got%20obsessed%20with%20robots%2Cand%20to%20keep%20pace%20with%20the%20progress%2C%20great%20Berland%27s%20programmer%20Draude%20decided%20to%20build%20his%20own%20robot.%20He%20was%20working%20hard%20at%20the%20robot.%20He%20taught%20it%20to%20walk%20the%20shortest%20path%20from%20one%20point%20to%20another%2C%20to%20record%20all%20its%20movements%2C%20but%20like%20in%20many%20Draude%27s%20programs%2C%20there%20was%20a%20bug%20%5Cu2014%20the%20robot%20didn%27t%20always%20walk%20the%20shortest%20path.%20Fortunately%2C%20the%20robot%20recorded%20its%20own%20movements%20correctly.%20Now%20Draude%20wants%20to%20find%20out%20when%20his%20robot%20functions%20wrong.%20Heh%2C%20if%20Draude%20only%20remembered%20the%20map%20of%20the%20field%2C%20where%20he%20tested%20the%20robot%2C%20he%20would%20easily%20say%20if%20the%20robot%20walked%20in%20the%20right%20direction%20or%20not.%20But%20the%20field%20map%20was%20lost%20never%20to%20be%20found%2C%20that%27s%20why%20he%20asks%20you%20to%20find%20out%20if%20there%20exist%20at%20least%20one%20map%2C%20where%20the%20path%20recorded%20by%20the%20robot%20is%20the%20shortest.%5Cn%5CnThe%20map%20is%20an%20infinite%20checkered%20field%2C%20where%20each%20square%20is%20either%20empty%2C%20or%20contains%20an%20obstruction.%20It%20is%20also%20known%20that%20the%20robot%20never%20tries%20to%20run%20into%20the%20obstruction.%20By%20the%20recorded%20robot%27s%20movements%20find%20out%20if%20there%20exist%20at%20least%20one%20such%20map%2C%20that%20it%20is%20possible%20to%20choose%20for%20the%20robot%20a%20starting%20square%20%28the%20starting%20square%20should%20be%20empty%29%20such%20that%20when%20the%20robot%20moves%20from%20this%20square%20its%20movements%20coincide%20with%20the%20recorded%20ones%20%28the%20robot%20doesn%27t%20run%20into%20anything%2C%20moving%20along%20empty%20squares%20only%29%2C%20and%20the%20path%20from%20the%20starting%20square%20to%20the%20end%20one%20is%20the%20shortest.%5Cn%5CnIn%20one%20movement%20the%20robot%20can%20move%20into%20the%20square%20%28providing%20there%20are%20no%20obstrutions%20in%20this%20square%29%20that%20has%20common%20sides%20with%20the%20square%20the%20robot%20is%20currently%20in.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20file%20contains%20the%20recording%20of%20the%20robot%27s%20movements.%20This%20recording%20is%20a%20non-empty%20string%2C%20consisting%20of%20uppercase%20Latin%20letters%20L%2C%20R%2C%20U%20and%20D%2C%20standing%20for%20movements%20left%2C%20right%2C%20up%20and%20down%20respectively.%20The%20length%20of%20the%20string%20does%20not%20exceed%20100.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%20output%20the%20only%20word%20OK%20%28if%20the%20above%20described%20map%20exists%29%2C%20or%20BUG%20%28if%20such%20a%20map%20does%20not%20exist%29.%22%2C%22samples%22%3A%5B%5B%22LLUUUR%5Cn%22%2C%22OK%5Cn%22%5D%2C%5B%22RRUULLDD%5Cn%22%2C%22BUG%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B64000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F8%5C%2FB%22%2C%22id%22%3A%228B%22%7D%2C%22translation%22%3A%22%5Cu95ee%5Cu4ece%5Cu8d77%5Cu70b9%5Cu5230%5Cu7ec8%5Cu70b9%5Cu7684%5Cu8def%5Cu5f84%5Cu662f%5Cu5426%5Cu4e3a%5Cu6700%5Cu77ed%5Cu8def%5Cu5f84%5Cu3002%5Cu5047%5Cu8bbe%5Cu6bcf%5Cu4e2a%5Cu683c%5Cu5b50%5Cu4e0d%5Cu662f%5Cu969c%5Cu788d%5Cu5c31%5Cu662f%5Cu7a7a%5Cu683c%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40Dreamer%5Cu4e36%5Cu6768%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B126%2C160%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A111%2C%22totalAccepted%22%3A53%2C%22pid%22%3A%22CF8B%22%2C%22title%22%3A%22Obsession%20with%20Robots%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A102366%2C%22title%22%3A%22%5Cu7f16%5Cu8bd1%5Cu5931%5Cu8d25%5Cuff0c%5Cu6c42%5Cu5e2e%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A12679%2C%22name%22%3A%22CF8B%20Obsession%20with%20Robots%22%2C%22slug%22%3A%22CF8B%22%7D%7D%2C%7B%22id%22%3A32625%2C%22title%22%3A%22%5Cu9898%5Cu610f%5Cuff08%5Cu4e0d%5Cu600e%5Cu4e48%5Cu51c6%5Cu786e%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A12679%2C%22name%22%3A%22CF8B%20Obsession%20with%20Robots%22%2C%22slug%22%3A%22CF8B%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF16B%22%2C%22title%22%3A%22Burglar%20and%20Matches%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF11B%22%2C%22title%22%3A%22Jumping%20Jack%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF9C%22%2C%22title%22%3A%22Hexadecimal%27s%20Numbers%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF9B%22%2C%22title%22%3A%22Running%20Student%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF8C%22%2C%22title%22%3A%22Looking%20for%20Order%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Obsession%20with%20Robots%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Obsession with Robots</h1>
<h2>题意翻译</h2>
<div>问从起点到终点的路径是否为最短路径。假设每个格子不是障碍就是空格。
感谢@Dreamer丶杨 提供的翻译</div>
<h2>题目描述</h2>
<div>The whole world got obsessed with robots,and to keep pace with the progress, great Berland's programmer Draude decided to build his own robot. He was working hard at the robot. He taught it to walk the shortest path from one point to another, to record all its movements, but like in many Draude's programs, there was a bug — the robot didn't always walk the shortest path. Fortunately, the robot recorded its own movements correctly. Now Draude wants to find out when his robot functions wrong. Heh, if Draude only remembered the map of the field, where he tested the robot, he would easily say if the robot walked in the right direction or not. But the field map was lost never to be found, that's why he asks you to find out if there exist at least one map, where the path recorded by the robot is the shortest.
The map is an infinite checkered field, where each square is either empty, or contains an obstruction. It is also known that the robot never tries to run into the obstruction. By the recorded robot's movements find out if there exist at least one such map, that it is possible to choose for the robot a starting square (the starting square should be empty) such that when the robot moves from this square its movements coincide with the recorded ones (the robot doesn't run into anything, moving along empty squares only), and the path from the starting square to the end one is the shortest.
In one movement the robot can move into the square (providing there are no obstrutions in this square) that has common sides with the square the robot is currently in.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input file contains the recording of the robot's movements. This recording is a non-empty string, consisting of uppercase Latin letters L, R, U and D, standing for movements left, right, up and down respectively. The length of the string does not exceed 100.</div>
<h3>输出格式</h3>
<br />
<div>In the first line output the only word OK (if the above described map exists), or BUG (if such a map does not exist).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>LLUUUR
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>OK
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>RRUULLDD
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>BUG
</code></pre>
</article>
</div>
</div>
</body>
</html>
