<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Funny Game - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397202:QDyD5g8DFjnGLw28E/s/QNaFPwDf1L1S/J5wTIBEYHA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Once%20upon%20a%20time%20Petya%20and%20Gena%20gathered%20after%20another%20programming%20competition%20and%20decided%20to%20play%20some%20game.%20As%20they%20consider%20most%20modern%20games%20to%20be%20boring%2C%20they%20always%20try%20to%20invent%20their%20own%20games.%20They%20have%20only%20stickers%20and%20markers%2C%20but%20that%20won%27t%20stop%20them.%5Cn%5CnThe%20game%20they%20came%20up%20with%20has%20the%20following%20rules.%20Initially%2C%20there%20are%20%24%20n%20%24%20stickers%20on%20the%20wall%20arranged%20in%20a%20row.%20Each%20sticker%20has%20some%20number%20written%20on%20it.%20Now%20they%20alternate%20turn%2C%20Petya%20moves%20first.%5Cn%5CnOne%20move%20happens%20as%20follows.%20Lets%20say%20there%20are%20%24%20m%3E%3D2%20%24%20stickers%20on%20the%20wall.%20The%20player%2C%20who%20makes%20the%20current%20move%2C%20picks%20some%20integer%20%24%20k%20%24%20from%20%24%202%20%24%20to%20%24%20m%20%24%20and%20takes%20%24%20k%20%24%20leftmost%20stickers%20%28removes%20them%20from%20the%20wall%29.%20After%20that%20he%20makes%20the%20new%20sticker%2C%20puts%20it%20to%20the%20left%20end%20of%20the%20row%2C%20and%20writes%20on%20it%20the%20new%20integer%2C%20equal%20to%20the%20sum%20of%20all%20stickers%20he%20took%20on%20this%20move.%5Cn%5CnGame%20ends%20when%20there%20is%20only%20one%20sticker%20left%20on%20the%20wall.%20The%20score%20of%20the%20player%20is%20equal%20to%20the%20sum%20of%20integers%20written%20on%20all%20stickers%20he%20took%20during%20all%20his%20moves.%20The%20goal%20of%20each%20player%20is%20to%20maximize%20the%20difference%20between%20his%20score%20and%20the%20score%20of%20his%20opponent.%5Cn%5CnGiven%20the%20integer%20%24%20n%20%24%20and%20the%20initial%20sequence%20of%20stickers%20on%20the%20wall%2C%20define%20the%20result%20of%20the%20game%2C%20i.e.%20the%20difference%20between%20the%20Petya%27s%20and%20Gena%27s%20score%20if%20both%20players%20play%20optimally.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%202%3C%3Dn%3C%3D200000%20%24%20%29%20%5Cu2014%20the%20number%20of%20stickers%2C%20initially%20located%20on%20the%20wall.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_%7B1%7D%20%24%20%2C%20%24%20a_%7B2%7D%20%24%20%2C%20...%2C%20%24%20a_%7Bn%7D%20%24%20%28%20%24%20-10000%3C%3Da_%7Bi%7D%3C%3D10000%20%24%20%29%20%5Cu2014%20the%20numbers%20on%20stickers%20in%20order%20from%20left%20to%20right.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20difference%20between%20the%20Petya%27s%20score%20and%20Gena%27s%20score%20at%20the%20end%20of%20the%20game%20if%20both%20players%20play%20optimally.%22%2C%22samples%22%3A%5B%5B%223%5Cn2%204%208%5Cn%22%2C%2214%5Cn%22%5D%2C%5B%224%5Cn1%20-7%20-2%203%5Cn%22%2C%22-3%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%2C%20the%20optimal%20move%20for%20Petya%20is%20to%20take%20all%20the%20stickers.%20As%20a%20result%2C%20his%20score%20will%20be%20equal%20to%20%24%2014%20%24%20and%20Gena%27s%20score%20will%20be%20equal%20to%20%24%200%20%24%20.%5Cn%5CnIn%20the%20second%20sample%2C%20the%20optimal%20sequence%20of%20moves%20is%20the%20following.%20On%20the%20first%20move%20Petya%20will%20take%20first%20three%20sticker%20and%20will%20put%20the%20new%20sticker%20with%20value%20%24%20-8%20%24%20.%20On%20the%20second%20move%20Gena%20will%20take%20the%20remaining%20two%20stickers.%20The%20Petya%27s%20score%20is%20%24%201%2B%28-7%29%2B%28-2%29%3D-8%20%24%20%2C%20Gena%27s%20score%20is%20%24%20%28-8%29%2B3%3D-5%20%24%20%2C%20i.e.%20the%20score%20difference%20will%20be%20%24%20-3%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F731%5C%2FE%22%2C%22id%22%3A%22731E%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20N%20%5Cu7684%5Cu5e8f%5Cu5217%20ai%20%5Cuff0c%5Cu53cc%5Cu65b9%5Cu8f6e%5Cu6d41%5Cu64cd%5Cu4f5c%5Cn%5Cn%5Cu6bcf%5Cu6b21%5Cu7684%5Cu64cd%5Cu4f5c%5Cu662f%5Cu9009%5Cu62e9%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu5927%5Cu4e8e%201%20%5Cu7684%5Cu524d%5Cu7f00%5Cuff0c%5Cu8ba1%5Cu7b97%5Cu5b83%5Cu7684%5Cu548c%20s%20%5Cuff0c%5Cu7136%5Cu540e%20%5Cu7528%20s%20%5Cu66ff%5Cu6362%5Cu5b83%5Cu7684%5Cu524d%5Cu7f00%5Cuff0c%5Cu540c%5Cu65f6%5Cu5f53%5Cu524d%5Cu73a9%5Cu5bb6%5Cu83b7%5Cu5f97%20s%20%5Cu7684%5Cu5206%5Cu6570%5Cu3002%5Cn%5Cn%5Cu5f53%5Cu53ea%5Cu5269%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu5143%5Cu7d20%5Cuff0c%5Cu6e38%5Cu620f%5Cu7ed3%5Cu675f%5Cu3002%5Cn%5Cn%5Cu53cc%5Cu65b9%5Cu5747%5Cu60f3%5Cu6700%5Cu5927%5Cu5316%20%5Cu81ea%5Cu5df1%5Cu7684%5Cu5206%5Cu6570-%5Cu5bf9%5Cu624b%5Cu7684%5Cu5206%5Cu6570%5Cuff0c%5Cu8ba1%5Cu7b97%5Cu8fd9%5Cu4e2a%5Cu503c%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A27%2C%22totalAccepted%22%3A24%2C%22pid%22%3A%22CF731E%22%2C%22title%22%3A%22Funny%20Game%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A52451%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A9696%2C%22name%22%3A%22CF731E%20Funny%20Game%22%2C%22slug%22%3A%22CF731E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Funny%20Game%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Funny Game</h1>
<h2>题意翻译</h2>
<div>一个长度为 N 的序列 ai ，双方轮流操作
每次的操作是选择一个长度大于 1 的前缀，计算它的和 s ，然后 用 s 替换它的前缀，同时当前玩家获得 s 的分数。
当只剩下一个元素，游戏结束。
双方均想最大化 自己的分数-对手的分数，计算这个值。</div>
<h2>题目描述</h2>
<div>Once upon a time Petya and Gena gathered after another programming competition and decided to play some game. As they consider most modern games to be boring, they always try to invent their own games. They have only stickers and markers, but that won't stop them.
The game they came up with has the following rules. Initially, there are $ n $ stickers on the wall arranged in a row. Each sticker has some number written on it. Now they alternate turn, Petya moves first.
One move happens as follows. Lets say there are $ m>=2 $ stickers on the wall. The player, who makes the current move, picks some integer $ k $ from $ 2 $ to $ m $ and takes $ k $ leftmost stickers (removes them from the wall). After that he makes the new sticker, puts it to the left end of the row, and writes on it the new integer, equal to the sum of all stickers he took on this move.
Game ends when there is only one sticker left on the wall. The score of the player is equal to the sum of integers written on all stickers he took during all his moves. The goal of each player is to maximize the difference between his score and the score of his opponent.
Given the integer $ n $ and the initial sequence of stickers on the wall, define the result of the game, i.e. the difference between the Petya's and Gena's score if both players play optimally.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains a single integer $ n $ ( $ 2<=n<=200000 $ ) — the number of stickers, initially located on the wall.
The second line contains $ n $ integers $ a_{1} $ , $ a_{2} $ , ..., $ a_{n} $ ( $ -10000<=a_{i}<=10000 $ ) — the numbers on stickers in order from left to right.</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the difference between the Petya's score and Gena's score at the end of the game if both players play optimally.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 4 8
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>14
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
1 -7 -2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>-3
</code></pre>
<h2>说明</h2>
<div>In the first sample, the optimal move for Petya is to take all the stickers. As a result, his score will be equal to $ 14 $ and Gena's score will be equal to $ 0 $ .
In the second sample, the optimal sequence of moves is the following. On the first move Petya will take first three sticker and will put the new sticker with value $ -8 $ . On the second move Gena will take the remaining two stickers. The Petya's score is $ 1+(-7)+(-2)=-8 $ , Gena's score is $ (-8)+3=-5 $ , i.e. the score difference will be $ -3 $ .</div>
</article>
</div>
</div>
</body>
</html>
