<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Trial for Chief - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390160:FWrYysgdkIGpJZQ5eUW6pkZUB5dFOfmu/zPNegu7V8M=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Having%20unraveled%20the%20Berland%20Dictionary%2C%20the%20scientists%20managed%20to%20read%20the%20notes%20of%20the%20chroniclers%20of%20that%20time.%20For%20example%2C%20they%20learned%20how%20the%20chief%20of%20the%20ancient%20Berland%20tribe%20was%20chosen.%5Cn%5CnAs%20soon%20as%20enough%20pretenders%20was%20picked%2C%20the%20following%20test%20took%20place%20among%20them%3A%20the%20chief%20of%20the%20tribe%20took%20a%20slab%20divided%20by%20horizontal%20and%20vertical%20stripes%20into%20identical%20squares%20%28the%20slab%20consisted%20of%20%24%20N%20%24%20lines%20and%20%24%20M%20%24%20columns%29%20and%20painted%20every%20square%20black%20or%20white.%20Then%20every%20pretender%20was%20given%20a%20slab%20of%20the%20same%20size%20but%20painted%20entirely%20white.%20Within%20a%20day%20a%20pretender%20could%20paint%20any%20side-linked%20set%20of%20the%20squares%20of%20the%20slab%20some%20color.%20The%20set%20is%20called%20linked%20if%20for%20any%20two%20squares%20belonging%20to%20the%20set%20there%20is%20a%20path%20belonging%20the%20set%20on%20which%20any%20two%20neighboring%20squares%20share%20a%20side.%20The%20aim%20of%20each%20pretender%20is%20to%20paint%20his%20slab%20in%20the%20exactly%20the%20same%20way%20as%20the%20chief%5Cu2019s%20slab%20is%20painted.%20The%20one%20who%20paints%20a%20slab%20like%20that%20first%20becomes%20the%20new%20chief.%5Cn%5CnScientists%20found%20the%20slab%20painted%20by%20the%20ancient%20Berland%20tribe%20chief.%20Help%20them%20to%20determine%20the%20minimal%20amount%20of%20days%20needed%20to%20find%20a%20new%20chief%20if%20he%20had%20to%20paint%20his%20slab%20in%20the%20given%20way.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20N%20%24%20and%20%24%20M%20%24%20%28%20%24%201%3C%3DN%2CM%3C%3D50%20%24%20%29%20%5Cu2014%20the%20number%20of%20lines%20and%20columns%20on%20the%20slab.%20The%20next%20%24%20N%20%24%20lines%20contain%20%24%20M%20%24%20symbols%20each%20%5Cu2014%20the%20final%20coloration%20of%20the%20slab.%20%24%20W%20%24%20stands%20for%20the%20square%20that%20should%20be%20painted%20white%20and%20%24%20B%20%24%20%5Cu2014%20for%20the%20square%20that%20should%20be%20painted%20black.%22%2C%22outputFormat%22%3A%22In%20the%20single%20line%20output%20the%20minimal%20number%20of%20repaintings%20of%20side-linked%20areas%20needed%20to%20get%20the%20required%20coloration%20of%20the%20slab.%22%2C%22samples%22%3A%5B%5B%223%203%5CnWBW%5CnBWB%5CnWBW%5Cn%22%2C%222%5Cn%22%5D%2C%5B%222%203%5CnBBB%5CnBWB%5Cn%22%2C%221%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F37%5C%2FE%22%2C%22id%22%3A%2237E%22%7D%2C%22translation%22%3A%22%5Cu9898%5Cu610f%5Cu662f%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu5f20N%2AM%5Cu7684%5Cu56fe%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu70b9%5Cu6709%5Cu9ed1%5Cu8272%5Cu548c%5Cu767d%5Cu8272%5Cuff0c%5Cu521d%5Cu59cb%5Cu5168%5Cu4e3a%5Cu767d%5Cu8272%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu628a%5Cu4e00%5Cu4e2a%5Cu76f8%5Cu540c%5Cu989c%5Cu8272%5Cu7684%5Cu8fde%5Cu7eed%5Cu533a%5Cu57df%5Cu67d3%5Cu8272%5Cuff0c%5Cu6c42%5Cu6700%5Cu5c11%5Cu7684%5Cu67d3%5Cu8272%5Cu6b21%5Cu6570%5Cuff1b%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A122%2C%22totalAccepted%22%3A43%2C%22pid%22%3A%22CF37E%22%2C%22title%22%3A%22Trial%20for%20Chief%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A47894%2C%22title%22%3A%22%5Cu4e00%5Cu5b9a%5Cu8981%5Cu6ce8%5Cu610f%5Cu6570%5Cu7ec4%5Cu5927%5Cu5c0f%22%2C%22forum%22%3A%7B%22id%22%3A12534%2C%22name%22%3A%22CF37E%20Trial%20for%20Chief%22%2C%22slug%22%3A%22CF37E%22%7D%7D%2C%7B%22id%22%3A47854%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12534%2C%22name%22%3A%22CF37E%20Trial%20for%20Chief%22%2C%22slug%22%3A%22CF37E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3174%22%2C%22title%22%3A%22%5BHAOI2009%5D%5Cu6bdb%5Cu6bdb%5Cu866b%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF438D%22%2C%22title%22%3A%22The%20Child%20and%20Sequence%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF19E%22%2C%22title%22%3A%22Fairy%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22SP1043%22%2C%22title%22%3A%22GSS1%20-%20Can%20you%20answer%20these%20queries%20I%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22CF1025D%22%2C%22title%22%3A%22Recovering%20BST%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Trial%20for%20Chief%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Trial for Chief</h1>
<h2>题意翻译</h2>
<div>题意是给你一张N*M的图，每个点有黑色和白色，初始全为白色，每次可以把一个相同颜色的连续区域染色，求最少的染色次数；</div>
<h2>题目描述</h2>
<div>Having unraveled the Berland Dictionary, the scientists managed to read the notes of the chroniclers of that time. For example, they learned how the chief of the ancient Berland tribe was chosen.
As soon as enough pretenders was picked, the following test took place among them: the chief of the tribe took a slab divided by horizontal and vertical stripes into identical squares (the slab consisted of $ N $ lines and $ M $ columns) and painted every square black or white. Then every pretender was given a slab of the same size but painted entirely white. Within a day a pretender could paint any side-linked set of the squares of the slab some color. The set is called linked if for any two squares belonging to the set there is a path belonging the set on which any two neighboring squares share a side. The aim of each pretender is to paint his slab in the exactly the same way as the chief’s slab is painted. The one who paints a slab like that first becomes the new chief.
Scientists found the slab painted by the ancient Berland tribe chief. Help them to determine the minimal amount of days needed to find a new chief if he had to paint his slab in the given way.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ N $ and $ M $ ( $ 1<=N,M<=50 $ ) — the number of lines and columns on the slab. The next $ N $ lines contain $ M $ symbols each — the final coloration of the slab. $ W $ stands for the square that should be painted white and $ B $ — for the square that should be painted black.</div>
<h3>输出格式</h3>
<br />
<div>In the single line output the minimal number of repaintings of side-linked areas needed to get the required coloration of the slab.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3
WBW
BWB
WBW
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2 3
BBB
BWB
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
</code></pre>
</article>
</div>
</div>
</body>
</html>
