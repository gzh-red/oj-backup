<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Fairy - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390004:vTBhqyPZltGFNPQpiDJKJKcVSF24a1cZKDM3TltTtSA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Once%20upon%20a%20time%20there%20lived%20a%20good%20fairy%20A.%20One%20day%20a%20fine%20young%20man%20B%20came%20to%20her%20and%20asked%20to%20predict%20his%20future.%20The%20fairy%20looked%20into%20her%20magic%20ball%20and%20said%20that%20soon%20the%20fine%20young%20man%20will%20meet%20the%20most%20beautiful%20princess%20ever%20and%20will%20marry%20her.%20Then%20she%20drew%20on%20a%20sheet%20of%20paper%20%24%20n%20%24%20points%20and%20joined%20some%20of%20them%20with%20segments%2C%20each%20of%20the%20segments%20starts%20in%20some%20point%20and%20ends%20in%20some%20other%20point.%20Having%20drawn%20that%20picture%2C%20she%20asked%20the%20young%20man%20to%20erase%20one%20of%20the%20segments%20from%20the%20sheet.%20Then%20she%20tries%20to%20colour%20each%20point%20red%20or%20blue%20so%2C%20that%20there%20is%20no%20segment%20having%20points%20of%20the%20same%20colour%20as%20its%20ends.%20If%20she%20manages%20to%20do%20so%2C%20the%20prediction%20will%20come%20true.%20B%20wants%20to%20meet%20the%20most%20beautiful%20princess%2C%20that%27s%20why%20he%20asks%20you%20to%20help%20him.%20Find%20all%20the%20segments%20that%20will%20help%20him%20to%20meet%20the%20princess.%22%2C%22inputFormat%22%3A%22The%20first%20input%20line%20contains%20two%20integer%20numbers%3A%20%24%20n%20%24%20%5Cu2014%20amount%20of%20the%20drawn%20points%20and%20%24%20m%20%24%20%5Cu2014%20amount%20of%20the%20drawn%20segments%20%28%20%24%201%3C%3Dn%3C%3D10%5E%7B4%7D%2C0%3C%3Dm%3C%3D10%5E%7B4%7D%20%24%20%29.%20The%20following%20%24%20m%20%24%20lines%20contain%20the%20descriptions%20of%20the%20segments.%20Each%20description%20contains%20two%20different%20space-separated%20integer%20numbers%20%24%20v%20%24%20%2C%20%24%20u%20%24%20%28%20%24%201%3C%3Dv%3C%3Dn%2C1%3C%3Du%3C%3Dn%20%24%20%29%20%5Cu2014%20indexes%20of%20the%20points%2C%20joined%20by%20this%20segment.%20No%20segment%20is%20met%20in%20the%20description%20twice.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%20output%20number%20%24%20k%20%24%20%5Cu2014%20amount%20of%20the%20segments%20in%20the%20answer.%20In%20the%20second%20line%20output%20%24%20k%20%24%20space-separated%20numbers%20%5Cu2014%20indexes%20of%20these%20segments%20in%20ascending%20order.%20Each%20index%20should%20be%20output%20only%20once.%20Segments%20are%20numbered%20from%201%20in%20the%20input%20order.%22%2C%22samples%22%3A%5B%5B%224%204%5Cn1%202%5Cn1%203%5Cn2%204%5Cn3%204%5Cn%22%2C%224%5Cn1%202%203%204%20%22%5D%2C%5B%224%205%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%201%5Cn1%203%5Cn%22%2C%221%5Cn5%20%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1500%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F19%5C%2FE%22%2C%22id%22%3A%2219E%22%7D%2C%22translation%22%3A%22%5Cn%5Cn%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cn%5Cu5f88%5Cu4e45%5Cu5f88%5Cu4e45%5Cu4ee5%5Cu524d%5Cuff0c%5Cu6709%5Cu4e00%5Cu4e2a%5Cu4ed9%5Cu5973%5Cu53eb%5Cu505aA%5Cu3002%5Cu6709%5Cu4e00%5Cu5929%5Cu4e00%5Cu4e2a%5Cu5c11%5Cu5e74B%5Cu627e%5Cu5230%5Cu5979%5Cuff0c%5Cu5e76%5Cu4e14%5Cu8bf7%5Cu6c42%5Cu5979%5Cu9884%5Cu6d4b%5Cu4ed6%5Cu7684%5Cu672a%5Cu6765%5Cu3002%5Cu4ed9%5Cu5973%5Cu770b%5Cu7740%5Cu5979%5Cu7684%5Cu6c34%5Cu6676%5Cu7403%5Cuff0c%5Cu8bf4%5Cu8fd9%5Cu4f4d%5Cu5c11%5Cu5e74%5Cu4e0d%5Cu4e45%5Cu5c06%5Cu9047%5Cu89c1%5Cu4e16%5Cu754c%5Cu4e0a%5Cu6700%5Cu7f8e%5Cu4e3d%5Cu7684%5Cu516c%5Cu4e3b%5Cuff0c%5Cu5e76%5Cu4e14%5Cu5c06%5Cu8fce%5Cu5a36%5Cu5979%5Cu4e3a%5Cu59bb%5Cu3002%5Cu7136%5Cu540e%5Cu4ed9%5Cu5973%5Cu5728%5Cu4e00%5Cu5f20%5Cu7eb8%5Cu4e0a%5Cu753b%5Cu4e86n%5Cu4e2a%5Cu70b9%5Cuff0c%5Cu5e76%5Cu628a%5Cu5b83%5Cu4eec%5Cu5206%5Cu4e3a%5Cu51e0%5Cu4e2a%5Cu677f%5Cu5757%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu677f%5Cu5757%5Cu4ee5%5Cu4e00%5Cu4e9b%5Cu70b9%5Cu4e3a%5Cu59cb%5Cuff0c%5Cu53e6%5Cu4e00%5Cu4e9b%5Cu70b9%5Cu4e3a%5Cu7ec8%5Cu3002%5Cu753b%5Cu5b8c%5Cu8fd9%5Cu5e45%5Cu753b%5Cuff0c%5Cu4ed9%5Cu5973%5Cu8981%5Cu6c42%5Cu5c11%5Cu5e74%5Cu64e6%5Cu6389%5Cu4e4b%5Cu4e0a%5Cu7684%5Cu4e00%5Cu4e2a%5Cu677f%5Cu5757%5Cu3002%5Cu7136%5Cu540e%5Cu5979%5Cu5c1d%5Cu8bd5%5Cu7ed9%5Cu6bcf%5Cu4e2a%5Cu70b9%5Cu753b%5Cu4e0a%5Cu7ea2%5Cu8272%5Cu6216%5Cu84dd%5Cu8272%5Cuff0c%5Cu8ba9%5Cu7eb8%5Cu4e0a%5Cu6ca1%5Cu6709%5Cu677f%5Cu5757%5Cu6709%5Cu548c%5Cu5b83%5Cu7684%5Cu7ed3%5Cu5c3e%5Cu989c%5Cu8272%5Cu4e00%5Cu6837%5Cu7684%5Cu70b9%5Cu3002%5Cu5982%5Cu679c%5Cu5979%5Cu80fd%5Cu505a%5Cu5230%5Cuff0c%5Cu8fd9%5Cu4e2a%5Cu9884%5Cu8a00%5Cu5c06%5Cu4f1a%5Cu6210%5Cu771f%5Cu3002B%5Cu60f3%5Cu9082%5Cu9005%5Cu4e16%5Cu754c%5Cu4e0a%5Cu6700%5Cu7f8e%5Cu4e3d%5Cu7684%5Cu516c%5Cu4e3b%5Cuff0c%5Cu6240%5Cu4ee5%5Cu4ed6%5Cu60f3%5Cu8981%5Cu4f60%5Cu5e2e%5Cu52a9%5Cu4ed6%5Cu3002%5Cu627e%5Cu5230%5Cu6240%5Cu6709%5Cu80fd%5Cu5e2e%5Cu52a9%5Cu4ed6%5Cu9082%5Cu9005%5Cu516c%5Cu4e3b%5Cu7684%5Cu677f%5Cu5757%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu6587%5Cu4ef6%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu6709%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1an%5Cu2014%5Cu2014%5Cu70b9%5Cu6570%5Cuff1bm%3A%5Cu677f%5Cu5757%5Cu4e2a%5Cu6570%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684m%5Cu884c%5Cu6709%5Cu677f%5Cu5757%5Cu7684%5Cu63cf%5Cu8ff0%5Cu3002%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu63cf%5Cu8ff0%5Cu6709%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu7528%5Cu7a7a%5Cu683c%5Cu9694%5Cu5f00%5Cu2014%5Cu2014v%2Cu%5Cu2014%5Cu2014%5Cu5404%5Cu70b9%5Cu7684%5Cu7f16%5Cu53f7%5Cuff08index%5Cuff09%5Cuff0c%5Cu7531%5Cu6b64%5Cu677f%5Cu5757%5Cu8fde%5Cu63a5%5Cu3002%5Cu6ca1%5Cu6709%5Cu677f%5Cu5757%5Cu5728%5Cu63cf%5Cu8ff0%5Cu4e2d%5Cu4f1a%5Cu88ab%5Cu63cf%5Cu8ff0%5Cu4e24%5Cu6b21%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu6587%5Cu4ef6%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fa%5Cu6570%5Cu5b57k%5Cu2014%5Cu2014%5Cu7b54%5Cu6848%5Cu4e2d%5Cu677f%5Cu5757%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cu8f93%5Cu51fa%5Cu6587%5Cu4ef6%5Cu7684%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu8f93%5Cu51fak%5Cu4e2a%5Cu6570%5Cu5b57%5Cuff0c%5Cu4ee5%5Cu7a7a%5Cu683c%5Cu9694%5Cu5f00%5Cu2014%5Cu2014%5Cu2014%5Cu2014%5Cu6bcf%5Cu4e2a%5Cu677f%5Cu5757%5Cu7684%5Cu7f16%5Cu53f7%5Cuff0c%5Cu5347%5Cu5e8f%5Cu6392%5Cu5217%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu7f16%5Cu53f7%5Cu53ea%5Cu5e94%5Cu88ab%5Cu8f93%5Cu51fa%5Cu4e00%5Cu6b21%5Cu3002%5Cu677f%5Cu5757%5Cu4ece1%5Cu5f00%5Cu59cb%5Cu7f16%5Cu53f7%5Cuff0c%5Cu4ee5%5Cu8f93%5Cu5165%5Cu7684%5Cu987a%5Cu5e8f%5Cu4e3a%5Cu5e8f%5Cu3002%5Cn%5Cn%5Cn%5Cu611f%5Cu8c22%40qwerta%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B187%2C211%2C330%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A332%2C%22totalAccepted%22%3A125%2C%22pid%22%3A%22CF19E%22%2C%22title%22%3A%22Fairy%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A147893%2C%22title%22%3A%22%5Cu628a%5Cu8fd9%5Cu4e2a%5Cu673a%5Cu7ffb%5Cu6362%5Cu4e86%5Cu5427%22%2C%22forum%22%3A%7B%22id%22%3A12621%2C%22name%22%3A%22CF19E%20Fairy%22%2C%22slug%22%3A%22CF19E%22%7D%7D%2C%7B%22id%22%3A113539%2C%22title%22%3A%22%5Cu8bba%5Cu5982%5Cu4f55%5Cu8bc1%5Cu660e%5Cu6811%5Cu4e0a%5Cu5dee%5Cu5206%5Cu6b63%5Cu786e%5Cu6027%22%2C%22forum%22%3A%7B%22id%22%3A12621%2C%22name%22%3A%22CF19E%20Fairy%22%2C%22slug%22%3A%22CF19E%22%7D%7D%2C%7B%22id%22%3A73640%2C%22title%22%3A%22%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu673a%5Cu7ffb%5Cu53ef%5Cu4ee5%5Cu8fc7%5Cu989d%22%2C%22forum%22%3A%7B%22id%22%3A12621%2C%22name%22%3A%22CF19E%20Fairy%22%2C%22slug%22%3A%22CF19E%22%7D%7D%2C%7B%22id%22%3A47982%2C%22title%22%3A%22%5Cu5751%5Cu70b9%22%2C%22forum%22%3A%7B%22id%22%3A12621%2C%22name%22%3A%22CF19E%20Fairy%22%2C%22slug%22%3A%22CF19E%22%7D%7D%2C%7B%22id%22%3A33772%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12621%2C%22name%22%3A%22CF19E%20Fairy%22%2C%22slug%22%3A%22CF19E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3175%22%2C%22title%22%3A%22%5BHAOI2015%5D%5Cu6309%5Cu4f4d%5Cu6216%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4091%22%2C%22title%22%3A%22%5BHEOI2016%5C%2FTJOI2016%5D%5Cu6c42%5Cu548c%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22SP375%22%2C%22title%22%3A%22QTREE%20-%20Query%20on%20a%20tree%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22CF1053E%22%2C%22title%22%3A%22Euler%20tour%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1245D%22%2C%22title%22%3A%22Shichikuji%20and%20Power%20Grid%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Fairy%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Fairy</h1>
<h2>题意翻译</h2>
<div>
题目描述
很久很久以前，有一个仙女叫做A。有一天一个少年B找到她，并且请求她预测他的未来。仙女看着她的水晶球，说这位少年不久将遇见世界上最美丽的公主，并且将迎娶她为妻。然后仙女在一张纸上画了n个点，并把它们分为几个板块，每个板块以一些点为始，另一些点为终。画完这幅画，仙女要求少年擦掉之上的一个板块。然后她尝试给每个点画上红色或蓝色，让纸上没有板块有和它的结尾颜色一样的点。如果她能做到，这个预言将会成真。B想邂逅世界上最美丽的公主，所以他想要你帮助他。找到所有能帮助他邂逅公主的板块。
输入输出格式：
输入格式：
输入文件的第一行有两个整数：n——点数；m:板块个数。
接下来的m行有板块的描述。每一个描述有两个整数，用空格隔开——v,u——各点的编号（index），由此板块连接。没有板块在描述中会被描述两次。
输出格式：
输出文件的第一行输出数字k——答案中板块的数量。输出文件的第二行输出k个数字，以空格隔开————每个板块的编号，升序排列。每个编号只应被输出一次。板块从1开始编号，以输入的顺序为序。
感谢@qwerta 提供的翻译</div>
<h2>题目描述</h2>
<div>Once upon a time there lived a good fairy A. One day a fine young man B came to her and asked to predict his future. The fairy looked into her magic ball and said that soon the fine young man will meet the most beautiful princess ever and will marry her. Then she drew on a sheet of paper $ n $ points and joined some of them with segments, each of the segments starts in some point and ends in some other point. Having drawn that picture, she asked the young man to erase one of the segments from the sheet. Then she tries to colour each point red or blue so, that there is no segment having points of the same colour as its ends. If she manages to do so, the prediction will come true. B wants to meet the most beautiful princess, that's why he asks you to help him. Find all the segments that will help him to meet the princess.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input line contains two integer numbers: $ n $ — amount of the drawn points and $ m $ — amount of the drawn segments ( $ 1<=n<=10^{4},0<=m<=10^{4} $ ). The following $ m $ lines contain the descriptions of the segments. Each description contains two different space-separated integer numbers $ v $ , $ u $ ( $ 1<=v<=n,1<=u<=n $ ) — indexes of the points, joined by this segment. No segment is met in the description twice.</div>
<h3>输出格式</h3>
<br />
<div>In the first line output number $ k $ — amount of the segments in the answer. In the second line output $ k $ space-separated numbers — indexes of these segments in ascending order. Each index should be output only once. Segments are numbered from 1 in the input order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 4
1 2
1 3
2 4
3 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
1 2 3 4 </code></pre>
<h3>输入样例 #2</h3>
<pre><code>4 5
1 2
2 3
3 4
4 1
1 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
5 </code></pre>
</article>
</div>
</div>
</body>
</html>
