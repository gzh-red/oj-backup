<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Substring Removal - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401560:JiCnvStODpnt5zxPXPX/4vj/zLN29S3PzQ/QF1P8O00=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20a%20string%20%24%20s%20%24%20of%20length%20%24%20n%20%24%20consisting%20only%20of%20lowercase%20Latin%20letters.%5Cn%5CnA%20substring%20of%20a%20string%20is%20a%20contiguous%20subsequence%20of%20that%20string.%20So%2C%20string%20%5C%22forces%5C%22%20is%20substring%20of%20string%20%5C%22codeforces%5C%22%2C%20but%20string%20%5C%22coder%5C%22%20is%20not.%5Cn%5CnYour%20task%20is%20to%20calculate%20the%20number%20of%20ways%20to%20remove%20exactly%20one%20substring%20from%20this%20string%20in%20such%20a%20way%20that%20all%20remaining%20characters%20are%20equal%20%28the%20number%20of%20distinct%20characters%20either%20zero%20or%20one%29.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20is%20at%20least%20two%20different%20characters%20in%20%24%20s%20%24%20.%5Cn%5CnNote%20that%20you%20can%20remove%20the%20whole%20string%20and%20it%20is%20correct.%20Also%20note%20that%20you%20should%20remove%20at%20least%20one%20character.%5Cn%5CnSince%20the%20answer%20can%20be%20rather%20large%20%28not%20very%20large%20though%29%20print%20it%20modulo%20%24%20998244353%20%24%20.%5Cn%5CnIf%20you%20are%20Python%20programmer%2C%20consider%20using%20PyPy%20instead%20of%20Python%20when%20you%20submit%20your%20code.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20string%20%24%20s%20%24%20.%5Cn%5CnThe%20second%20line%20of%20the%20input%20contains%20the%20string%20%24%20s%20%24%20of%20length%20%24%20n%20%24%20consisting%20only%20of%20lowercase%20Latin%20letters.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20is%20at%20least%20two%20different%20characters%20in%20%24%20s%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20number%20of%20ways%20modulo%20%24%20998244353%20%24%20to%20remove%20exactly%20one%20substring%20from%20%24%20s%20%24%20in%20such%20way%20that%20all%20remaining%20characters%20are%20equal.%22%2C%22samples%22%3A%5B%5B%22%5Cn4%5Cnabaa%5Cn%22%2C%22%5Cn6%5Cn%22%5D%2C%5B%22%5Cn7%5Cnaacdeee%5Cn%22%2C%22%5Cn6%22%5D%2C%5B%22%5Cn2%5Cnaz%5Cn%22%2C%22%5Cn3%22%5D%5D%2C%22hint%22%3A%22Let%20%24%20s%5Bl%3B%20r%5D%20%24%20be%20the%20substring%20of%20%24%20s%20%24%20from%20the%20position%20%24%20l%20%24%20to%20the%20position%20%24%20r%20%24%20inclusive.%5Cn%5CnThen%20in%20the%20first%20example%20you%20can%20remove%20the%20following%20substrings%3A%5Cn%5Cn-%20%24%20s%5B1%3B%202%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%203%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%204%5D%20%24%20%3B%5Cn-%20%24%20s%5B2%3B%202%5D%20%24%20%3B%5Cn-%20%24%20s%5B2%3B%203%5D%20%24%20%3B%5Cn-%20%24%20s%5B2%3B%204%5D%20%24%20.%5Cn%5CnIn%20the%20second%20example%20you%20can%20remove%20the%20following%20substrings%3A%5Cn%5Cn-%20%24%20s%5B1%3B%204%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%205%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%206%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%207%5D%20%24%20%3B%5Cn-%20%24%20s%5B2%3B%207%5D%20%24%20%3B%5Cn-%20%24%20s%5B3%3B%207%5D%20%24%20.%5Cn%5CnIn%20the%20third%20example%20you%20can%20remove%20the%20following%20substrings%3A%5Cn%5Cn-%20%24%20s%5B1%3B%201%5D%20%24%20%3B%5Cn-%20%24%20s%5B1%3B%202%5D%20%24%20%3B%5Cn-%20%24%20s%5B2%3B%202%5D%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1096%5C%2FB%22%2C%22id%22%3A%221096B%22%7D%2C%22translation%22%3A%22%23%23%20Description%5Cr%5Cn%5Cr%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu4ece%5Cu4e2d%5Cu53bb%5Cu9664%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu4e32%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu5269%5Cu4e0b%5Cu7684%5Cu4e32%5Cu8981%5Cu4e48%5Cu4e3a%5Cu7a7a%5Cuff0c%5Cu8981%5Cu4e48%5Cu5b57%5Cu7b26%5Cu5b8c%5Cu5168%5Cu76f8%5Cu540c%5Cuff0c%5Cu8f93%5Cu51fa%5Cu65b9%5Cu6848%5Cu6570%5Cu6a21%20%24998244353%24%5Cr%5Cn%5Cr%5Cn%23%23%20Input%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu662f%5Cu5b57%5Cu7b26%5Cu4e32%5Cu957f%5Cu5ea6%20%24n%24%5Cr%5Cn%5Cr%5Cn%5Cu4e0b%5Cu9762%5Cu4e00%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cr%5Cn%5Cr%5Cn%23%23%20Output%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu4ee3%5Cu8868%5Cu7b54%5Cu6848%5Cu5bf9%20%24998244353%24%20%5Cu53d6%5Cu6a21%5Cu7684%5Cu7ed3%5Cu679c%5Cr%5Cn%5Cr%5Cn%23%23%20Hint%5Cr%5Cn%5Cr%5Cn%242~%5C%5Cleq~n~%5C%5Cleq~2~%5C%5Ctimes~10%5E5%24%5Cr%5Cn%5Cr%5Cn%5Cu4fdd%5Cu8bc1%5Cu7ed9%5Cu51fa%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu5168%5Cu662f%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu4e14%5Cu81f3%5Cu5c11%5Cu542b%5Cu6709%5Cu4e24%5Cu79cd%5Cu5b57%5Cu7b26%5Cr%5Cn%5Cr%5Cntranslated%20by%20%5Cu4e00%5Cu6276%5Cu82cf%5Cu4e00%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A123%2C%22totalAccepted%22%3A51%2C%22pid%22%3A%22CF1096B%22%2C%22title%22%3A%22Substring%20Removal%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3368%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu6811%5Cu72b6%5Cu6570%5Cu7ec4%202%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1096F%22%2C%22title%22%3A%22Inversion%20Expectation%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1096D%22%2C%22title%22%3A%22Easy%20Problem%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1096C%22%2C%22title%22%3A%22Polygon%20for%20the%20Angle%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1154B%22%2C%22title%22%3A%22Make%20Them%20Equal%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Substring%20Removal%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Substring Removal</h1>
<h2>题意翻译</h2>
<div>## Description
给定一个长度为 $n$ 的字符串，请你从中去除一个子串，使得剩下的串要么为空，要么字符完全相同，输出方案数模 $998244353$
## Input
第一行是字符串长度 $n$
下面一行是一个长度为 $n$ 的字符串
## Output
输出一行一个整数，代表答案对 $998244353$ 取模的结果
## Hint
$2~\leq~n~\leq~2~\times~10^5$
保证给出的字符串全是小写字母且至少含有两种字符
translated by 一扶苏一</div>
<h2>题目描述</h2>
<div>You are given a string $ s $ of length $ n $ consisting only of lowercase Latin letters.
A substring of a string is a contiguous subsequence of that string. So, string "forces" is substring of string "codeforces", but string "coder" is not.
Your task is to calculate the number of ways to remove exactly one substring from this string in such a way that all remaining characters are equal (the number of distinct characters either zero or one).
It is guaranteed that there is at least two different characters in $ s $ .
Note that you can remove the whole string and it is correct. Also note that you should remove at least one character.
Since the answer can be rather large (not very large though) print it modulo $ 998244353 $ .
If you are Python programmer, consider using PyPy instead of Python when you submit your code.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains one integer $ n $ ( $ 2 \le n \le 2 \cdot 10^5 $ ) — the length of the string $ s $ .
The second line of the input contains the string $ s $ of length $ n $ consisting only of lowercase Latin letters.
It is guaranteed that there is at least two different characters in $ s $ .</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the number of ways modulo $ 998244353 $ to remove exactly one substring from $ s $ in such way that all remaining characters are equal.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
4
abaa
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
6
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
7
aacdeee
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
6</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
2
az
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
3</code></pre>
<h2>说明</h2>
<div>Let $ s[l; r] $ be the substring of $ s $ from the position $ l $ to the position $ r $ inclusive.
Then in the first example you can remove the following substrings:
- $ s[1; 2] $ ;
- $ s[1; 3] $ ;
- $ s[1; 4] $ ;
- $ s[2; 2] $ ;
- $ s[2; 3] $ ;
- $ s[2; 4] $ .
In the second example you can remove the following substrings:
- $ s[1; 4] $ ;
- $ s[1; 5] $ ;
- $ s[1; 6] $ ;
- $ s[1; 7] $ ;
- $ s[2; 7] $ ;
- $ s[3; 7] $ .
In the third example you can remove the following substrings:
- $ s[1; 1] $ ;
- $ s[1; 2] $ ;
- $ s[2; 2] $ .</div>
</article>
</div>
</div>
</body>
</html>
