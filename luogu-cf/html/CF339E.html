<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Three Swaps - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392982:xLvgN8q6h6hzbZPJ7vnpYRmbL/Nt8Uqc7y78fnXZvaU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Xenia%20the%20horse%20breeder%20has%20%24%20n%20%24%20%24%20%28n%3E1%29%20%24%20horses%20that%20stand%20in%20a%20row.%20Each%20horse%20has%20its%20own%20unique%20number.%20Initially%2C%20the%20%24%20i%20%24%20-th%20left%20horse%20has%20number%20%24%20i%20%24%20.%20That%20is%2C%20the%20sequence%20of%20numbers%20of%20horses%20in%20a%20row%20looks%20as%20follows%20%28from%20left%20to%20right%29%3A%201%2C%202%2C%203%2C%20%24%20...%20%24%20%2C%20%24%20n%20%24%20.%5Cn%5CnXenia%20trains%20horses%20before%20the%20performance.%20During%20the%20practice%20sessions%2C%20she%20consistently%20gives%20them%20commands.%20Each%20command%20is%20a%20pair%20of%20numbers%20%24%20l%2Cr%20%24%20%24%20%281%3C%3Dl%3Cr%3C%3Dn%29%20%24%20.%20The%20command%20%24%20l%2Cr%20%24%20means%20that%20the%20horses%20that%20are%20on%20the%20%24%20l%20%24%20-th%2C%20%24%20%28l%2B1%29%20%24%20-th%2C%20%24%20%28l%2B2%29%20%24%20-th%2C%20%24%20...%20%24%20%2C%20%24%20r%20%24%20-th%20places%20from%20the%20left%20must%20be%20rearranged.%20The%20horses%20that%20initially%20stand%20on%20the%20%24%20l%20%24%20-th%20and%20%24%20r%20%24%20-th%20places%20will%20swap.%20The%20horses%20on%20the%20%24%20%28l%2B1%29%20%24%20-th%20and%20%24%20%28r-1%29%20%24%20-th%20places%20will%20swap.%20The%20horses%20on%20the%20%24%20%28l%2B2%29%20%24%20-th%20and%20%24%20%28r-2%29%20%24%20-th%20places%20will%20swap%20and%20so%20on.%20In%20other%20words%2C%20the%20horses%20that%20were%20on%20the%20segment%20%24%20%5Bl%2Cr%5D%20%24%20change%20their%20order%20to%20the%20reverse%20one.%5Cn%5CnFor%20example%2C%20if%20Xenia%20commanded%20%24%20l%3D2%2Cr%3D5%20%24%20%2C%20and%20the%20sequence%20of%20numbers%20of%20horses%20before%20the%20command%20looked%20as%20%282%2C%201%2C%203%2C%204%2C%205%2C%206%29%2C%20then%20after%20the%20command%20the%20sequence%20will%20be%20%282%2C%205%2C%204%2C%203%2C%201%2C%206%29.%5Cn%5CnWe%20know%20that%20during%20the%20practice%20Xenia%20gave%20at%20most%20three%20commands%20of%20the%20described%20form.%20You%20have%20got%20the%20final%20sequence%20of%20numbers%20of%20horses%20by%20the%20end%20of%20the%20practice.%20Find%20what%20commands%20Xenia%20gave%20during%20the%20practice.%20Note%20that%20you%20do%20not%20need%20to%20minimize%20the%20number%20of%20commands%20in%20the%20solution%2C%20find%20any%20valid%20sequence%20of%20at%20most%20three%20commands.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20integer%20%24%20n%20%24%20%24%20%282%3C%3Dn%3C%3D1000%29%20%24%20%5Cu2014%20the%20number%20of%20horses%20in%20the%20row.%20The%20second%20line%20contains%20%24%20n%20%24%20distinct%20integers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%24%20%281%3C%3Da_%7Bi%7D%3C%3Dn%29%20%24%20%2C%20where%20%24%20a_%7Bi%7D%20%24%20is%20the%20number%20of%20the%20%24%20i%20%24%20-th%20left%20horse%20in%20the%20row%20after%20the%20practice.%22%2C%22outputFormat%22%3A%22The%20first%20line%20should%20contain%20integer%20%24%20k%20%24%20%24%20%280%3C%3Dk%3C%3D3%29%20%24%20%5Cu2014%20the%20number%20of%20commads%20Xenia%20gave%20during%20the%20practice.%20In%20each%20of%20the%20next%20%24%20k%20%24%20lines%20print%20two%20integers.%20In%20the%20%24%20i%20%24%20-th%20line%20print%20numbers%20%24%20l_%7Bi%7D%2Cr_%7Bi%7D%20%24%20%24%20%281%3C%3Dl_%7Bi%7D%3Cr_%7Bi%7D%3C%3Dn%29%20%24%20%5Cu2014%20Xenia%27s%20%24%20i%20%24%20-th%20command%20during%20the%20practice.%5Cn%5CnIt%20is%20guaranteed%20that%20a%20solution%20exists.%20If%20there%20are%20several%20solutions%2C%20you%20are%20allowed%20to%20print%20any%20of%20them.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%204%203%202%205%5Cn%22%2C%221%5Cn2%204%5Cn%22%5D%2C%5B%226%5Cn2%201%204%203%206%205%5Cn%22%2C%223%5Cn1%202%5Cn3%204%5Cn5%206%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F339%5C%2FE%22%2C%22id%22%3A%22339E%22%7D%2C%22translation%22%3A%22%5Cn%5Cn%5Cu4e00%5Cu4e2a%5Cu6392%5Cu5217%5Cuff1a%24a_1%2Ca_2......a_n%24%5Cu200b%2C%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu7ffb%5Cu8f6c%5Cu533a%5Cu95f4%5Bl%2Cr%5D%5Cn%5Cn%5Cu4f60%5Cu9700%5Cu8981%5Cu5728%5Cu4e09%5Cu6b65%5Cu4ee5%5Cu5185%5Cuff0c%5Cu5c061%2C2%2C3......n%5Cu7684%5Cu6392%5Cu5217%5Cu7ffb%5Cu8f6c%5Cu6210%5Cu6392%5Cu5217a%5Cn%5CnTranslated%20by%20Fheiwn%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A27%2C%22totalAccepted%22%3A10%2C%22pid%22%3A%22CF339E%22%2C%22title%22%3A%22Three%20Swaps%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A32369%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A11281%2C%22name%22%3A%22CF339E%20Three%20Swaps%22%2C%22slug%22%3A%22CF339E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Three%20Swaps%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Three Swaps</h1>
<h2>题意翻译</h2>
<div>
一个排列：$a_1,a_2......a_n$​,你可以翻转区间[l,r]
你需要在三步以内，将1,2,3......n的排列翻转成排列a
Translated by Fheiwn
</div>
<h2>题目描述</h2>
<div>Xenia the horse breeder has $ n $ $ (n>1) $ horses that stand in a row. Each horse has its own unique number. Initially, the $ i $ -th left horse has number $ i $ . That is, the sequence of numbers of horses in a row looks as follows (from left to right): 1, 2, 3, $ ... $ , $ n $ .
Xenia trains horses before the performance. During the practice sessions, she consistently gives them commands. Each command is a pair of numbers $ l,r $ $ (1<=l<r<=n) $ . The command $ l,r $ means that the horses that are on the $ l $ -th, $ (l+1) $ -th, $ (l+2) $ -th, $ ... $ , $ r $ -th places from the left must be rearranged. The horses that initially stand on the $ l $ -th and $ r $ -th places will swap. The horses on the $ (l+1) $ -th and $ (r-1) $ -th places will swap. The horses on the $ (l+2) $ -th and $ (r-2) $ -th places will swap and so on. In other words, the horses that were on the segment $ [l,r] $ change their order to the reverse one. For example, if Xenia commanded $ l=2,r=5 $ , and the sequence of numbers of horses before the command looked as (2, 1, 3, 4, 5, 6), then after the command the sequence will be (2, 5, 4, 3, 1, 6). We know that during the practice Xenia gave at most three commands of the described form. You have got the final sequence of numbers of horses by the end of the practice. Find what commands Xenia gave during the practice. Note that you do not need to minimize the number of commands in the solution, find any valid sequence of at most three commands.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an integer $ n $ $ (2<=n<=1000) $ — the number of horses in the row. The second line contains $ n $ distinct integers $ a_{1},a_{2},...,a_{n} $ $ (1<=a_{i}<=n) $ , where $ a_{i} $ is the number of the $ i $ -th left horse in the row after the practice.</div>
<h3>输出格式</h3>
<br />
<div>The first line should contain integer $ k $ $ (0<=k<=3) $ — the number of commads Xenia gave during the practice. In each of the next $ k $ lines print two integers. In the $ i $ -th line print numbers $ l_{i},r_{i} $ $ (1<=l_{i}<r_{i}<=n) $ — Xenia's $ i $ -th command during the practice.

It is guaranteed that a solution exists. If there are several solutions, you are allowed to print any of them.</div>

    <h2>输入输出样例</h2>
                        <h3>输入样例 #1</h3>
            <pre><code>5
1 4 3 2 5
</code></pre>
            <h3>输出样例 #1</h3>
            <pre><code>1
2 4
</code></pre>
                    <h3>输入样例 #2</h3>
            <pre><code>6
2 1 4 3 6 5
</code></pre>
            <h3>输出样例 #2</h3>
            <pre><code>3
1 2
3 4
5 6
</code></pre>
            
    </article>
    </div>
</div>
<!-- <script src="//www.recaptcha.net/recaptcha/api.js?hl=zh-CN&render=explicit&onload=renderCaptcha" async defer></script> -->
</body>
</html>
