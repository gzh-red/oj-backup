<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Population Size - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393878:97iazBp+IKbSmPdqQZlij/FpFzpXf90BqlGclpfWi8M=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Polycarpus%20develops%20an%20interesting%20theory%20about%20the%20interrelation%20of%20arithmetic%20progressions%20with%20just%20everything%20in%20the%20world.%20His%20current%20idea%20is%20that%20the%20population%20of%20the%20capital%20of%20Berland%20changes%20over%20time%20like%20an%20arithmetic%20progression.%20Well%2C%20or%20like%20multiple%20arithmetic%20progressions.%5Cn%5CnPolycarpus%20believes%20that%20if%20he%20writes%20out%20the%20population%20of%20the%20capital%20for%20several%20consecutive%20years%20in%20the%20sequence%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%2C%20then%20it%20is%20convenient%20to%20consider%20the%20array%20as%20several%20arithmetic%20progressions%2C%20written%20one%20after%20the%20other.%20For%20example%2C%20sequence%20%24%20%288%2C6%2C4%2C2%2C1%2C4%2C7%2C10%2C2%29%20%24%20can%20be%20considered%20as%20a%20sequence%20of%20three%20arithmetic%20progressions%20%24%20%288%2C6%2C4%2C2%29%20%24%20%2C%20%24%20%281%2C4%2C7%2C10%29%20%24%20and%20%24%20%282%29%20%24%20%2C%20which%20are%20written%20one%20after%20another.%5Cn%5CnUnfortunately%2C%20Polycarpus%20may%20not%20have%20all%20the%20data%20for%20the%20%24%20n%20%24%20consecutive%20years%20%28a%20census%20of%20the%20population%20doesn%27t%20occur%20every%20year%2C%20after%20all%29.%20For%20this%20reason%2C%20some%20values%20of%20%24%20a_%7Bi%7D%20%24%20%5Cu200b%5Cu200bmay%20be%20unknown.%20Such%20values%20are%20represented%20by%20number%20-1.%5Cn%5CnFor%20a%20given%20sequence%20%24%20a%3D%28a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%29%20%24%20%2C%20which%20consists%20of%20positive%20integers%20and%20values%20%5Cu200b%5Cu200b-1%2C%20find%20the%20minimum%20number%20of%20arithmetic%20progressions%20Polycarpus%20needs%20to%20get%20%24%20a%20%24%20.%20To%20get%20%24%20a%20%24%20%2C%20the%20progressions%20need%20to%20be%20written%20down%20one%20after%20the%20other.%20Values%20%5Cu200b%5Cu200b-1%20may%20correspond%20to%20an%20arbitrary%20positive%20integer%20and%20the%20values%20%24%20a_%7Bi%7D%3E0%20%24%20must%20be%20equal%20to%20the%20corresponding%20elements%20of%20sought%20consecutive%20record%20of%20the%20progressions.%5Cn%5CnLet%20us%20remind%20you%20that%20a%20finite%20sequence%20%24%20c%20%24%20is%20called%20an%20arithmetic%20progression%20if%20the%20difference%20%24%20c_%7Bi%2B1%7D-c_%7Bi%7D%20%24%20of%20any%20two%20consecutive%20elements%20in%20it%20is%20constant.%20By%20definition%2C%20any%20sequence%20of%20length%201%20is%20an%20arithmetic%20progression.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D2%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20elements%20in%20the%20sequence.%20The%20second%20line%20contains%20integer%20values%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20separated%20by%20a%20space%20%28%20%24%201%3C%3Da_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20or%20%24%20a_%7Bi%7D%3D-1%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20the%20minimum%20number%20of%20arithmetic%20progressions%20that%20you%20need%20to%20write%20one%20after%20another%20to%20get%20sequence%20%24%20a%20%24%20.%20The%20positions%20marked%20as%20-1%20in%20%24%20a%20%24%20can%20be%20represented%20by%20any%20positive%20integers.%22%2C%22samples%22%3A%5B%5B%229%5Cn8%206%204%202%201%204%207%2010%202%5Cn%22%2C%223%5Cn%22%5D%2C%5B%229%5Cn-1%206%20-1%202%20-1%204%207%20-1%202%5Cn%22%2C%223%5Cn%22%5D%2C%5B%225%5Cn-1%20-1%20-1%20-1%20-1%5Cn%22%2C%221%5Cn%22%5D%2C%5B%227%5Cn-1%20-1%204%205%201%202%203%5Cn%22%2C%222%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F416%5C%2FD%22%2C%22id%22%3A%22416D%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%2C-1%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu66ff%5Cu6362%5Cu6210%5Cu4efb%5Cu610f%5Cu6b63%5Cu6574%5Cu6570%2C%5Cu6c42%5Cu8be5%5Cu5e8f%5Cu5217%5Cu6700%5Cu5c11%5Cu53ef%5Cu4ee5%5Cu88ab%5Cu5206%5Cu6210%5Cu591a%5Cu5c11%5Cu4e2a%5Cu7b49%5Cu5dee%5Cu6570%5Cu5217.%28%5Cu5206%5Cu6210%5Cu7684%5Cu662f%5Cu5b50%5Cu4e32%5Cu800c%5Cu4e0d%5Cu662f%5Cu5b50%5Cu5e8f%5Cu5217%29%5Cn%5Cn%5Cu611f%5Cu8c22%40Fuko_Ibuki%20%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A77%2C%22totalAccepted%22%3A22%2C%22pid%22%3A%22CF416D%22%2C%22title%22%3A%22Population%20Size%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A35215%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A10975%2C%22name%22%3A%22CF416D%20Population%20Size%22%2C%22slug%22%3A%22CF416D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1613%22%2C%22title%22%3A%22%5Cu8dd1%5Cu8def%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2152%22%2C%22title%22%3A%22%5BSDOI2009%5DSuperGCD%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2278%22%2C%22title%22%3A%22%5BHNOI2003%5D%5Cu64cd%5Cu4f5c%5Cu7cfb%5Cu7edf%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF111C%22%2C%22title%22%3A%22Petya%20and%20Spiders%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1156B%22%2C%22title%22%3A%22Ugly%20Pairs%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Population%20Size%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Population Size</h1>
<h2>题意翻译</h2>
<div>给定一个序列,-1可以被替换成任意正整数,求该序列最少可以被分成多少个等差数列.(分成的是子串而不是子序列)
感谢@Fuko_Ibuki 提供的翻译</div>
<h2>题目描述</h2>
<div>Polycarpus develops an interesting theory about the interrelation of arithmetic progressions with just everything in the world. His current idea is that the population of the capital of Berland changes over time like an arithmetic progression. Well, or like multiple arithmetic progressions.
Polycarpus believes that if he writes out the population of the capital for several consecutive years in the sequence $ a_{1},a_{2},...,a_{n} $ , then it is convenient to consider the array as several arithmetic progressions, written one after the other. For example, sequence $ (8,6,4,2,1,4,7,10,2) $ can be considered as a sequence of three arithmetic progressions $ (8,6,4,2) $ , $ (1,4,7,10) $ and $ (2) $ , which are written one after another.
Unfortunately, Polycarpus may not have all the data for the $ n $ consecutive years (a census of the population doesn't occur every year, after all). For this reason, some values of $ a_{i} $ ​​may be unknown. Such values are represented by number -1.
For a given sequence $ a=(a_{1},a_{2},...,a_{n}) $ , which consists of positive integers and values ​​-1, find the minimum number of arithmetic progressions Polycarpus needs to get $ a $ . To get $ a $ , the progressions need to be written down one after the other. Values ​​-1 may correspond to an arbitrary positive integer and the values $ a_{i}>0 $ must be equal to the corresponding elements of sought consecutive record of the progressions.
Let us remind you that a finite sequence $ c $ is called an arithmetic progression if the difference $ c_{i+1}-c_{i} $ of any two consecutive elements in it is constant. By definition, any sequence of length 1 is an arithmetic progression.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains integer $ n $ ( $ 1<=n<=2·10^{5} $ ) — the number of elements in the sequence. The second line contains integer values $ a_{1},a_{2},...,a_{n} $ separated by a space ( $ 1<=a_{i}<=10^{9} $ or $ a_{i}=-1 $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print the minimum number of arithmetic progressions that you need to write one after another to get sequence $ a $ . The positions marked as -1 in $ a $ can be represented by any positive integers.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>9
8 6 4 2 1 4 7 10 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>9
-1 6 -1 2 -1 4 7 -1 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>5
-1 -1 -1 -1 -1
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #4</h3>
<pre><code>7
-1 -1 4 5 1 2 3
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>2
</code></pre>
</article>
</div>
</div>
</body>
</html>
