<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Antimatter - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393507:0XvVC/oVfhhLuC4ThXO4urcsU99rbaTPTuy32NpjsJE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Iahub%20accidentally%20discovered%20a%20secret%20lab.%20He%20found%20there%20%24%20n%20%24%20devices%20ordered%20in%20a%20line%2C%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20from%20left%20to%20right.%20Each%20device%20%24%20i%20%24%20%24%20%281%3C%3Di%3C%3Dn%29%20%24%20can%20create%20either%20%24%20a_%7Bi%7D%20%24%20units%20of%20matter%20or%20%24%20a_%7Bi%7D%20%24%20units%20of%20antimatter.%5Cn%5CnIahub%20wants%20to%20choose%20some%20contiguous%20subarray%20of%20devices%20in%20the%20lab%2C%20specify%20the%20production%20mode%20for%20each%20of%20them%20%28produce%20matter%20or%20antimatter%29%20and%20finally%20take%20a%20photo%20of%20it.%20However%20he%20will%20be%20successful%20only%20if%20the%20amounts%20of%20matter%20and%20antimatter%20produced%20in%20the%20selected%20subarray%20will%20be%20the%20same%20%28otherwise%20there%20would%20be%20overflowing%20matter%20or%20antimatter%20in%20the%20photo%29.%5Cn%5CnYou%20are%20requested%20to%20compute%20the%20number%20of%20different%20ways%20Iahub%20can%20successful%20take%20a%20photo.%20A%20photo%20is%20different%20than%20another%20if%20it%20represents%20another%20subarray%2C%20or%20if%20at%20least%20one%20device%20of%20the%20subarray%20is%20set%20to%20produce%20matter%20in%20one%20of%20the%20photos%20and%20antimatter%20in%20the%20other%20one.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20integer%20%24%20n%20%24%20%24%20%281%3C%3Dn%3C%3D1000%29%20%24%20.%20The%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_%7B1%7D%20%24%20%2C%20%24%20a_%7B2%7D%20%24%20%2C%20...%2C%20%24%20a_%7Bn%7D%20%24%20%24%20%281%3C%3Da_%7Bi%7D%3C%3D1000%29%20%24%20.%5Cn%5CnThe%20sum%20%24%20a_%7B1%7D%2Ba_%7B2%7D%2B...%2Ba_%7Bn%7D%20%24%20will%20be%20less%20than%20or%20equal%20to%20%24%2010000%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20a%20single%20integer%2C%20the%20number%20of%20ways%20Iahub%20can%20take%20a%20photo%2C%20modulo%20%24%201000000007%20%24%20%28%20%24%2010%5E%7B9%7D%2B7%20%24%20%29.%22%2C%22samples%22%3A%5B%5B%224%5Cn1%201%201%201%5Cn%22%2C%2212%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20possible%20photos%20are%20%5C%5C%5B1%2B%2C%202-%5C%5C%5D%2C%20%5C%5C%5B1-%2C%202%2B%5C%5C%5D%2C%20%5C%5C%5B2%2B%2C%203-%5C%5C%5D%2C%20%5C%5C%5B2-%2C%203%2B%5C%5C%5D%2C%20%5C%5C%5B3%2B%2C%204-%5C%5C%5D%2C%20%5C%5C%5B3-%2C%204%2B%5C%5C%5D%2C%20%5C%5C%5B1%2B%2C%202%2B%2C%203-%2C%204-%5C%5C%5D%2C%20%5C%5C%5B1%2B%2C%202-%2C%203%2B%2C%204-%5C%5C%5D%2C%20%5C%5C%5B1%2B%2C%202-%2C%203-%2C%204%2B%5C%5C%5D%2C%20%5C%5C%5B1-%2C%202%2B%2C%203%2B%2C%204-%5C%5C%5D%2C%20%5C%5C%5B1-%2C%202%2B%2C%203-%2C%204%2B%5C%5C%5D%20and%20%5C%5C%5B1-%2C%202-%2C%203%2B%2C%204%2B%5C%5C%5D%2C%20where%20%5C%22%20%24%20i%20%24%20%2B%5C%22%20means%20that%20the%20%24%20i%20%24%20-th%20element%20produces%20matter%2C%20and%20%5C%22%20%24%20i%20%24%20-%5C%22%20means%20that%20the%20%24%20i%20%24%20-th%20element%20produces%20antimatter.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F383%5C%2FD%22%2C%22id%22%3A%22383D%22%7D%2C%22translation%22%3A%22%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cu7ed9%5Cu5b9a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu5e8f%5Cu5217%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu7ed9%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu6570%5Cu52a0%5Cu4e0a%5Cu6b63%5Cu53f7%5Cu6216%5Cu8005%5Cu8d1f%5Cu53f7%5Cuff0c%5Cu6c42%5Cu6709%5Cu591a%5Cu5c11%5Cu79cd%5Cu8fde%5Cu7eed%5Cu5b50%5Cu6bb5%5Cu548c%5Cu4e3a0%5Cu7684%5Cu60c5%5Cu51b5%5Cn%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542bn%281%3C%3Dn%3C%3D1000%29%5Cu3002%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5305%5Cu542ba1%2Ca2...an%281%3C%3Dai%3C%3D1000%29%5Cuff0c%5Cu5e8f%5Cu5217%5Cu7684%5Cu548c%5Cu5c0f%5Cu4e8e%5Cu7b49%5Cu4e8e10000%5Cu3002%5Cn%5Cn%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cu8f93%5Cu51fa%5Cu8fde%5Cu7eed%5Cu5b50%5Cu6bb5%5Cu548c%5Cu4e3a0%5Cu7684%5Cu65b9%5Cu6848%5Cu6570%5Cu6a2110%5E9%2B7%5Cu3002%5Cn%5Cn%23%23%20%5Cu8bf4%5Cu660e%5Cn%5Cu6837%5Cu4f8b1%5Cu53ef%5Cu80fd%5Cu7684%5Cu60c5%5Cu51b5%5Cu4e3a%5B1%2B%2C%202-%5D%2C%20%5B1-%2C%202%2B%5D%2C%20%5B2%2B%2C%203-%5D%2C%20%5B2-%2C%203%2B%5D%2C%20%5B3%2B%2C%204-%5D%2C%20%5B3-%2C%204%2B%5D%2C%20%5B1%2B%2C%202%2B%2C%203-%2C%204-%5D%2C%20%5B1%2B%2C%202-%2C%203%2B%2C%204-%5D%2C%20%5B1%2B%2C%202-%2C%203-%2C%204%2B%5D%2C%20%5B1-%2C%202%2B%2C%203%2B%2C%204-%5D%2C%20%5B1-%2C%202%2B%2C%203-%2C%204%2B%5D%5Cuff0c%5B1-%2C%202-%2C%203%2B%2C%204%2B%5D%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A9%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF383D%22%2C%22title%22%3A%22Antimatter%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A65203%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A11100%2C%22name%22%3A%22CF383D%20Antimatter%22%2C%22slug%22%3A%22CF383D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Antimatter%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Antimatter</h1>
<h2>题意翻译</h2>
<div>## 题目描述
给定长度为n的序列，可以给任意一个数加上正号或者负号，求有多少种连续子段和为0的情况
## 输入格式
第一行包含n(1<=n<=1000)。第二行包含a1,a2...an(1<=ai<=1000)，序列的和小于等于10000。
## 输出格式
输出连续子段和为0的方案数模10^9+7。
## 说明
样例1可能的情况为[1+, 2-], [1-, 2+], [2+, 3-], [2-, 3+], [3+, 4-], [3-, 4+], [1+, 2+, 3-, 4-], [1+, 2-, 3+, 4-], [1+, 2-, 3-, 4+], [1-, 2+, 3+, 4-], [1-, 2+, 3-, 4+]，[1-, 2-, 3+, 4+]
</div>
<h2>题目描述</h2>
<div>Iahub accidentally discovered a secret lab. He found there $ n $ devices ordered in a line, numbered from $ 1 $ to $ n $ from left to right. Each device $ i $ $ (1<=i<=n) $ can create either $ a_{i} $ units of matter or $ a_{i} $ units of antimatter.
Iahub wants to choose some contiguous subarray of devices in the lab, specify the production mode for each of them (produce matter or antimatter) and finally take a photo of it. However he will be successful only if the amounts of matter and antimatter produced in the selected subarray will be the same (otherwise there would be overflowing matter or antimatter in the photo).
You are requested to compute the number of different ways Iahub can successful take a photo. A photo is different than another if it represents another subarray, or if at least one device of the subarray is set to produce matter in one of the photos and antimatter in the other one.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an integer $ n $ $ (1<=n<=1000) $ . The second line contains $ n $ integers $ a_{1} $ , $ a_{2} $ , ..., $ a_{n} $ $ (1<=a_{i}<=1000) $ .
The sum $ a_{1}+a_{2}+...+a_{n} $ will be less than or equal to $ 10000 $ .</div>
<h3>输出格式</h3>
<br />
<div>Output a single integer, the number of ways Iahub can take a photo, modulo $ 1000000007 $ ( $ 10^{9}+7 $ ).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 1 1 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>12
</code></pre>
<h2>说明</h2>
<div>The possible photos are \[1+, 2-\], \[1-, 2+\], \[2+, 3-\], \[2-, 3+\], \[3+, 4-\], \[3-, 4+\], \[1+, 2+, 3-, 4-\], \[1+, 2-, 3+, 4-\], \[1+, 2-, 3-, 4+\], \[1-, 2+, 3+, 4-\], \[1-, 2+, 3-, 4+\] and \[1-, 2-, 3+, 4+\], where " $ i $ +" means that the $ i $ -th element produces matter, and " $ i $ -" means that the $ i $ -th element produces antimatter.</div>
</article>
</div>
</div>
</body>
</html>
