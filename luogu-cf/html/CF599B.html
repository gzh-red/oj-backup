<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Spongebob and Joke - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395829:EZiTf93ENN572WLWcaLJYBLhugdntiW0cPlXjdcwfoo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22While%20Patrick%20was%20gone%20shopping%2C%20Spongebob%20decided%20to%20play%20a%20little%20trick%20on%20his%20friend.%20The%20naughty%20Sponge%20browsed%20through%20Patrick%27s%20personal%20stuff%20and%20found%20a%20sequence%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bm%7D%20%24%20of%20length%20%24%20m%20%24%20%2C%20consisting%20of%20integers%20from%20%24%201%20%24%20to%20%24%20n%20%24%20%2C%20not%20necessarily%20distinct.%20Then%20he%20picked%20some%20sequence%20%24%20f_%7B1%7D%2Cf_%7B2%7D%2C...%2Cf_%7Bn%7D%20%24%20of%20length%20%24%20n%20%24%20and%20for%20each%20number%20%24%20a_%7Bi%7D%20%24%20got%20number%20%24%20b_%7Bi%7D%3Df_%7Bai%7D%20%24%20.%20To%20finish%20the%20prank%20he%20erased%20the%20initial%20sequence%20%24%20a_%7Bi%7D%20%24%20.%5Cn%5CnIt%27s%20hard%20to%20express%20how%20sad%20Patrick%20was%20when%20he%20returned%20home%20from%20shopping%21%20We%20will%20just%20say%20that%20Spongebob%20immediately%20got%20really%20sorry%20about%20what%20he%20has%20done%20and%20he%20is%20now%20trying%20to%20restore%20the%20original%20sequence.%20Help%20him%20do%20this%20or%20determine%20that%20this%20is%20impossible.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D100000%20%24%20%29%20%5Cu2014%20the%20lengths%20of%20sequences%20%24%20f_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20respectively.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%2C%20determining%20sequence%20%24%20f_%7B1%7D%2Cf_%7B2%7D%2C...%2Cf_%7Bn%7D%20%24%20%28%20%24%201%3C%3Df_%7Bi%7D%3C%3Dn%20%24%20%29.%5Cn%5CnThe%20last%20line%20contains%20%24%20m%20%24%20integers%2C%20determining%20sequence%20%24%20b_%7B1%7D%2Cb_%7B2%7D%2C...%2Cb_%7Bm%7D%20%24%20%24%20%281%3C%3Db_%7Bi%7D%3C%3Dn%29%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20%5C%22Possible%5C%22%20if%20there%20is%20exactly%20one%20sequence%20%24%20a_%7Bi%7D%20%24%20%2C%20such%20that%20%24%20b_%7Bi%7D%3Df_%7Bai%7D%20%24%20for%20all%20%24%20i%20%24%20from%20%24%201%20%24%20to%20%24%20m%20%24%20.%20Then%20print%20%24%20m%20%24%20integers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bm%7D%20%24%20.%5Cn%5CnIf%20there%20are%20multiple%20suitable%20sequences%20%24%20a_%7Bi%7D%20%24%20%2C%20print%20%5C%22Ambiguity%5C%22.%5Cn%5CnIf%20Spongebob%20has%20made%20a%20mistake%20in%20his%20calculations%20and%20no%20suitable%20sequence%20%24%20a_%7Bi%7D%20%24%20exists%2C%20print%20%5C%22Impossible%5C%22.%22%2C%22samples%22%3A%5B%5B%223%203%5Cn3%202%201%5Cn1%202%203%5Cn%22%2C%22Possible%5Cn3%202%201%20%5Cn%22%5D%2C%5B%223%203%5Cn1%201%201%5Cn1%201%201%5Cn%22%2C%22Ambiguity%5Cn%22%5D%2C%5B%223%203%5Cn1%202%201%5Cn3%203%203%5Cn%22%2C%22Impossible%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%20%24%203%20%24%20is%20replaced%20by%20%24%201%20%24%20and%20vice%20versa%2C%20while%20%24%202%20%24%20never%20changes.%20The%20answer%20exists%20and%20is%20unique.%5Cn%5CnIn%20the%20second%20sample%20all%20numbers%20are%20replaced%20by%20%24%201%20%24%20%2C%20so%20it%20is%20impossible%20to%20unambiguously%20restore%20the%20original%20sequence.%5Cn%5CnIn%20the%20third%20sample%20%24%20f_%7Bi%7D%5Cu22603%20%24%20for%20all%20%24%20i%20%24%20%2C%20so%20no%20sequence%20%24%20a_%7Bi%7D%20%24%20transforms%20into%20such%20%24%20b_%7Bi%7D%20%24%20and%20we%20can%20say%20for%20sure%20that%20Spongebob%20has%20made%20a%20mistake.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F599%5C%2FB%22%2C%22id%22%3A%22599B%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF599B%22%2C%22title%22%3A%22Spongebob%20and%20Joke%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Spongebob%20and%20Joke%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Spongebob and Joke</h1>
<h2>题目描述</h2>
<div>While Patrick was gone shopping, Spongebob decided to play a little trick on his friend. The naughty Sponge browsed through Patrick's personal stuff and found a sequence $ a_{1},a_{2},...,a_{m} $ of length $ m $ , consisting of integers from $ 1 $ to $ n $ , not necessarily distinct. Then he picked some sequence $ f_{1},f_{2},...,f_{n} $ of length $ n $ and for each number $ a_{i} $ got number $ b_{i}=f_{ai} $ . To finish the prank he erased the initial sequence $ a_{i} $ .
It's hard to express how sad Patrick was when he returned home from shopping! We will just say that Spongebob immediately got really sorry about what he has done and he is now trying to restore the original sequence. Help him do this or determine that this is impossible.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers $ n $ and $ m $ ( $ 1<=n,m<=100000 $ ) — the lengths of sequences $ f_{i} $ and $ b_{i} $ respectively.
The second line contains $ n $ integers, determining sequence $ f_{1},f_{2},...,f_{n} $ ( $ 1<=f_{i}<=n $ ).
The last line contains $ m $ integers, determining sequence $ b_{1},b_{2},...,b_{m} $ $ (1<=b_{i}<=n) $ .</div>
<h3>输出格式</h3>
<br />
<div>Print "Possible" if there is exactly one sequence $ a_{i} $ , such that $ b_{i}=f_{ai} $ for all $ i $ from $ 1 $ to $ m $ . Then print $ m $ integers $ a_{1},a_{2},...,a_{m} $ .
If there are multiple suitable sequences $ a_{i} $ , print "Ambiguity".
If Spongebob has made a mistake in his calculations and no suitable sequence $ a_{i} $ exists, print "Impossible".</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3
3 2 1
1 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Possible
3 2 1 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3 3
1 1 1
1 1 1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>Ambiguity
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3 3
1 2 1
3 3 3
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>Impossible
</code></pre>
<h2>说明</h2>
<div>In the first sample $ 3 $ is replaced by $ 1 $ and vice versa, while $ 2 $ never changes. The answer exists and is unique.
In the second sample all numbers are replaced by $ 1 $ , so it is impossible to unambiguously restore the original sequence.
In the third sample $ f_{i}≠3 $ for all $ i $ , so no sequence $ a_{i} $ transforms into such $ b_{i} $ and we can say for sure that Spongebob has made a mistake.</div>
</article>
</div>
</div>
</body>
</html>
