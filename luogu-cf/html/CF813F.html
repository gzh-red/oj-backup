<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Bipartite Checking - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573398202:1pxwQ8w2cqVamoZ5glxxrgr+h47G+7buHgdGwN3NQ5Y=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22You%20are%20given%20an%20undirected%20graph%20consisting%20of%20%24%20n%20%24%20vertices.%20Initially%20there%20are%20no%20edges%20in%20the%20graph.%20Also%20you%20are%20given%20%24%20q%20%24%20queries%2C%20each%20query%20either%20adds%20one%20undirected%20edge%20to%20the%20graph%20or%20removes%20it.%20After%20each%20query%20you%20have%20to%20check%20if%20the%20resulting%20graph%20is%20bipartite%20%28that%20is%2C%20you%20can%20paint%20all%20vertices%20of%20the%20graph%20into%20two%20colors%20so%20that%20there%20is%20no%20edge%20connecting%20two%20vertices%20of%20the%20same%20color%29.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20q%20%24%20%28%20%24%202%3C%3Dn%2Cq%3C%3D100000%20%24%20%29.%5Cn%5CnThen%20%24%20q%20%24%20lines%20follow.%20%24%20i%20%24%20th%20line%20contains%20two%20numbers%20%24%20x_%7Bi%7D%20%24%20and%20%24%20y_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dx_%7Bi%7D%3Cy_%7Bi%7D%3C%3Dn%20%24%20%29.%20These%20numbers%20describe%20%24%20i%20%24%20th%20query%3A%20if%20there%20is%20an%20edge%20between%20vertices%20%24%20x_%7Bi%7D%20%24%20and%20%24%20y_%7Bi%7D%20%24%20%2C%20then%20remove%20it%2C%20otherwise%20add%20it.%22%2C%22outputFormat%22%3A%22Print%20%24%20q%20%24%20lines.%20%24%20i%20%24%20th%20line%20must%20contain%20YES%20if%20the%20graph%20is%20bipartite%20after%20%24%20i%20%24%20th%20query%2C%20and%20NO%20otherwise.%22%2C%22samples%22%3A%5B%5B%223%205%5Cn2%203%5Cn1%203%5Cn1%202%5Cn1%202%5Cn1%202%5Cn%22%2C%22YES%5CnYES%5CnNO%5CnYES%5CnNO%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B6000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F813%5C%2FF%22%2C%22id%22%3A%22813F%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu7531n%5Cu4e2a%5Cu9876%5Cu70b9%5Cu7ec4%5Cu6210%5Cu7684%5Cu65e0%5Cu5411%5Cu56fe%5Cuff0c%5Cu6700%5Cu521d%5Cu5728%5Cu56fe%5Cu4e2d%5Cu6ca1%5Cu6709%5Cu8fb9%5Cu3002%5Cu540c%5Cu65f6%5Cu7ed9%5Cu4f60q%5Cu6b21%5Cu67e5%5Cu8be2%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu67e5%5Cu8be2%5Cu65f6%5Cu4f1a%5Cu5411%5Cu56fe%5Cu4e2d%5Cu6dfb%5Cu52a0%5Cu4e00%5Cu4e2a%5Cu65e0%5Cu5411%5Cu8fb9%5Cu6216%5Cu8005%5Cu5220%5Cu9664%5Cu4e00%5Cu4e2a%5Cu65e0%5Cu5411%5Cu8fb9%5Cu3002%20%5Cu5728%5Cu6bcf%5Cu6b21%5Cu67e5%5Cu8be2%5Cu4e4b%5Cu540e%5Cuff0c%5Cu60a8%5Cu5fc5%5Cu987b%5Cu68c0%5Cu67e5%5Cu7ed3%5Cu679c%5Cu56fe%5Cu662f%5Cu5426%5Cu4e3a%5Cu4e8c%5Cu5206%5Cu56fe%5Cuff08%5Cu5728%5Cu4fdd%5Cu8bc1%5Cu6ca1%5Cu6709%5Cu8fde%5Cu63a5%5Cu76f8%5Cu540c%5Cu989c%5Cu8272%5Cu7684%5Cu4e24%5Cu4e2a%5Cu9876%5Cu70b9%5Cu7684%5Cu8fb9%5Cu7684%5Cu6761%5Cu4ef6%5Cu4e0b%5Cuff0c%5Cu60a8%5Cu53ef%5Cu4ee5%5Cu5c06%5Cu56fe%5Cu7684%5Cu6240%5Cu6709%5Cu9876%5Cu70b9%5Cu7ed8%5Cu5236%5Cu4e3a%5Cu4e24%5Cu79cd%5Cu989c%5Cu8272%5Cuff09%5Cn%5CnTranslated%20by%20%40%5Cu5409%5Cu826f%5Cu5409%5Cu5f71%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A24%2C%22totalAccepted%22%3A15%2C%22pid%22%3A%22CF813F%22%2C%22title%22%3A%22Bipartite%20Checking%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A37436%2C%22title%22%3A%22%5Cu63d0%5Cu4ea4%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A9332%2C%22name%22%3A%22CF813F%20Bipartite%20Checking%22%2C%22slug%22%3A%22CF813F%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Bipartite%20Checking%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Bipartite Checking</h1>
<h2>题意翻译</h2>
<div>给你一个由n个顶点组成的无向图，最初在图中没有边。同时给你q次查询，每次查询时会向图中添加一个无向边或者删除一个无向边。 在每次查询之后，您必须检查结果图是否为二分图（在保证没有连接相同颜色的两个顶点的边的条件下，您可以将图的所有顶点绘制为两种颜色）
Translated by @吉良吉影 </div>
<h2>题目描述</h2>
<div>You are given an undirected graph consisting of $ n $ vertices. Initially there are no edges in the graph. Also you are given $ q $ queries, each query either adds one undirected edge to the graph or removes it. After each query you have to check if the resulting graph is bipartite (that is, you can paint all vertices of the graph into two colors so that there is no edge connecting two vertices of the same color).</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ q $ ( $ 2<=n,q<=100000 $ ).
Then $ q $ lines follow. $ i $ th line contains two numbers $ x_{i} $ and $ y_{i} $ ( $ 1<=x_{i}<y_{i}<=n $ ). These numbers describe $ i $ th query: if there is an edge between vertices $ x_{i} $ and $ y_{i} $ , then remove it, otherwise add it.</div>
<h3>输出格式</h3>
<br />
<div>Print $ q $ lines. $ i $ th line must contain YES if the graph is bipartite after $ i $ th query, and NO otherwise.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 5
2 3
1 3
1 2
1 2
1 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>YES
YES
NO
YES
NO
</code></pre>
</article>
</div>
</div>
</body>
</html>
