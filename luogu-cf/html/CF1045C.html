<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Hyperspace Highways - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573400948:Xer/bfHMBr0fmiqdHYpEPfvz2CHDVf/xjG69f14e90w=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22In%20an%20unspecified%20solar%20system%2C%20there%20are%20%24%20N%20%24%20planets.%20A%20space%20government%20company%20has%20recently%20hired%20space%20contractors%20to%20build%20%24%20M%20%24%20bidirectional%20Hyperspace%5Cu2122%20highways%2C%20each%20connecting%20two%20different%20planets.%20The%20primary%20objective%2C%20which%20was%20to%20make%20sure%20that%20every%20planet%20can%20be%20reached%20from%20any%20other%20planet%20taking%20only%20Hyperspace%5Cu2122%20highways%2C%20has%20been%20completely%20fulfilled.%20Unfortunately%2C%20lots%20of%20space%20contractors%20had%20friends%20and%20cousins%20in%20the%20Space%20Board%20of%20Directors%20of%20the%20company%2C%20so%20the%20company%20decided%20to%20do%20much%20more%20than%20just%20connecting%20all%20planets.%5Cn%5CnIn%20order%20to%20make%20spending%20enormous%20amounts%20of%20space%20money%20for%20Hyperspace%5Cu2122%20highways%20look%20neccessary%2C%20they%20decided%20to%20enforce%20a%20strict%20rule%20on%20the%20Hyperspace%5Cu2122%20highway%20network%3A%20whenever%20there%20is%20a%20way%20to%20travel%20through%20some%20planets%20and%20return%20to%20the%20starting%20point%20without%20travelling%20through%20any%20planet%20twice%2C%20every%20pair%20of%20planets%20on%20the%20itinerary%20should%20be%20directly%20connected%20by%20a%20Hyperspace%5Cu2122%20highway.%20In%20other%20words%2C%20the%20set%20of%20planets%20in%20every%20simple%20cycle%20induces%20a%20complete%20subgraph.%5Cn%5CnYou%20are%20designing%20a%20Hyperspace%5Cu2122%20navigational%20app%2C%20and%20the%20key%20technical%20problem%20you%20are%20facing%20is%20finding%20the%20minimal%20number%20of%20Hyperspace%5Cu2122%20highways%20one%20needs%20to%20use%20to%20travel%20from%20planet%20%24%20A%20%24%20to%20planet%20%24%20B%20%24%20.%20As%20this%20problem%20is%20too%20easy%20for%20Bubble%20Cup%2C%20here%20is%20a%20harder%20task%3A%20your%20program%20needs%20to%20do%20it%20for%20%24%20Q%20%24%20pairs%20of%20planets.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20three%20positive%20integers%20%24%20N%20%24%20%28%20%24%201%5C%5Cleq%20N%5C%5Cleq%20100%5C%5C%2C000%20%24%20%29%2C%20%24%20M%20%24%20%28%20%24%201%5C%5Cleq%20M%5C%5Cleq%20500%5C%5C%2C000%20%24%20%29%20and%20%24%20Q%20%24%20%28%20%24%201%5C%5Cleq%20Q%5C%5Cleq%20200%5C%5C%2C000%20%24%20%29%2C%20denoting%20the%20number%20of%20planets%2C%20the%20number%20of%20Hyperspace%5Cu2122%20highways%2C%20and%20the%20number%20of%20queries%2C%20respectively.%5Cn%5CnEach%20of%20the%20following%20M%20lines%20contains%20a%20highway%3A%20highway%20%24%20i%20%24%20is%20given%20by%20two%20integers%20%24%20u_i%20%24%20and%20%24%20v_i%20%24%20%28%20%24%201%20%5C%5Cleq%20u_i%20%3C%20v_i%20%5C%5Cleq%20N%20%24%20%29%2C%20meaning%20the%20planets%20%24%20u_i%20%24%20and%20%24%20v_i%20%24%20are%20connected%20by%20a%20Hyperspace%5Cu2122%20highway.%20It%20is%20guaranteed%20that%20the%20network%20of%20planets%20and%20Hyperspace%5Cu2122%20highways%20forms%20a%20simple%20connected%20graph.%5Cn%5CnEach%20of%20the%20following%20%24%20Q%20%24%20lines%20contains%20a%20query%3A%20query%20%24%20j%20%24%20is%20given%20by%20two%20integers%20%24%20a_j%20%24%20and%20%24%20b_j%20%24%20%24%20%281%20%5C%5Cleq%20a_j%20%3C%20b_j%20%5C%5Cleq%20N%20%29%20%24%20%2C%20meaning%20we%20are%20interested%20in%20the%20minimal%20number%20of%20Hyperspace%5Cu2122%20highways%20one%20needs%20to%20take%20to%20travel%20from%20planet%20%24%20a_j%20%24%20to%20planet%20%24%20b_j%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20%24%20Q%20%24%20lines%3A%20the%20%24%20j%20%24%20-th%20line%20of%20output%20should%20contain%20the%20minimal%20number%20of%20Hyperspace%5Cu2122%20highways%20one%20needs%20to%20take%20to%20travel%20from%20planet%20%24%20a_j%20%24%20to%20planet%20%24%20b_j%20%24%20.%22%2C%22samples%22%3A%5B%5B%225%207%202%5Cn1%202%5Cn1%203%5Cn1%204%5Cn2%203%5Cn2%204%5Cn3%204%5Cn1%205%5Cn1%204%5Cn2%205%5Cn%22%2C%221%5Cn2%5Cn%22%5D%2C%5B%228%2011%204%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%205%5Cn1%203%5Cn1%206%5Cn3%205%5Cn3%207%5Cn4%207%5Cn5%207%5Cn6%208%5Cn1%205%5Cn2%204%5Cn6%207%5Cn3%208%5Cn%22%2C%222%5Cn2%5Cn3%5Cn3%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20graph%20from%20the%20second%20sample%3A%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1045C%5C%2Ff8c9e6912b7629574b4563bbb808bc905c89fbb2.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1045%5C%2FC%22%2C%22id%22%3A%221045C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A42%2C%22totalAccepted%22%3A28%2C%22pid%22%3A%22CF1045C%22%2C%22title%22%3A%22Hyperspace%20Highways%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Hyperspace%20Highways%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Hyperspace Highways</h1>
<h2>题目描述</h2>
<div>In an unspecified solar system, there are $ N $ planets. A space government company has recently hired space contractors to build $ M $ bidirectional Hyperspace™ highways, each connecting two different planets. The primary objective, which was to make sure that every planet can be reached from any other planet taking only Hyperspace™ highways, has been completely fulfilled. Unfortunately, lots of space contractors had friends and cousins in the Space Board of Directors of the company, so the company decided to do much more than just connecting all planets.
In order to make spending enormous amounts of space money for Hyperspace™ highways look neccessary, they decided to enforce a strict rule on the Hyperspace™ highway network: whenever there is a way to travel through some planets and return to the starting point without travelling through any planet twice, every pair of planets on the itinerary should be directly connected by a Hyperspace™ highway. In other words, the set of planets in every simple cycle induces a complete subgraph.
You are designing a Hyperspace™ navigational app, and the key technical problem you are facing is finding the minimal number of Hyperspace™ highways one needs to use to travel from planet $ A $ to planet $ B $ . As this problem is too easy for Bubble Cup, here is a harder task: your program needs to do it for $ Q $ pairs of planets.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains three positive integers $ N $ ( $ 1\leq N\leq 100\,000 $ ), $ M $ ( $ 1\leq M\leq 500\,000 $ ) and $ Q $ ( $ 1\leq Q\leq 200\,000 $ ), denoting the number of planets, the number of Hyperspace™ highways, and the number of queries, respectively.
Each of the following M lines contains a highway: highway $ i $ is given by two integers $ u_i $ and $ v_i $ ( $ 1 \leq u_i < v_i \leq N $ ), meaning the planets $ u_i $ and $ v_i $ are connected by a Hyperspace™ highway. It is guaranteed that the network of planets and Hyperspace™ highways forms a simple connected graph.
Each of the following $ Q $ lines contains a query: query $ j $ is given by two integers $ a_j $ and $ b_j $ $ (1 \leq a_j < b_j \leq N ) $ , meaning we are interested in the minimal number of Hyperspace™ highways one needs to take to travel from planet $ a_j $ to planet $ b_j $ .</div>
<h3>输出格式</h3>
<br />
<div>Output $ Q $ lines: the $ j $ -th line of output should contain the minimal number of Hyperspace™ highways one needs to take to travel from planet $ a_j $ to planet $ b_j $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 7 2
1 2
1 3
1 4
2 3
2 4
3 4
1 5
1 4
2 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>8 11 4
1 2
2 3
3 4
4 5
1 3
1 6
3 5
3 7
4 7
5 7
6 8
1 5
2 4
6 7
3 8
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
2
3
3
</code></pre>
<h2>说明</h2>
<div>The graph from the second sample: ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1045C/f8c9e6912b7629574b4563bbb808bc905c89fbb2.png)</div>
</article>
</div>
</div>
</body>
</html>
