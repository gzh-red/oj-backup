<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Lesson Timetable - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390159:RJXcJnhALja1eT7EMx3+pbkW+cPZg8HRjXWsMs1DzUI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22When%20Petya%20has%20free%20from%20computer%20games%20time%2C%20he%20attends%20university%20classes.%20Every%20day%20the%20lessons%20on%20Petya%5Cu2019s%20faculty%20consist%20of%20two%20double%20classes.%20The%20floor%20where%20the%20lessons%20take%20place%20is%20a%20long%20corridor%20with%20%24%20M%20%24%20classrooms%20numbered%20from%20%24%201%20%24%20to%20%24%20M%20%24%20%2C%20situated%20along%20it.%5Cn%5CnAll%20the%20students%20of%20Petya%5Cu2019s%20year%20are%20divided%20into%20%24%20N%20%24%20groups.%20Petya%20has%20noticed%20recently%20that%20these%20groups%5Cu2019%20timetable%20has%20the%20following%20peculiarity%3A%20the%20number%20of%20the%20classroom%20where%20the%20first%20lesson%20of%20a%20group%20takes%20place%20does%20not%20exceed%20the%20number%20of%20the%20classroom%20where%20the%20second%20lesson%20of%20this%20group%20takes%20place.%5Cn%5CnOnce%20Petya%20decided%20to%20count%20the%20number%20of%20ways%20in%20which%20one%20can%20make%20a%20lesson%20timetable%20for%20all%20these%20groups.%20The%20timetable%20is%20a%20set%20of%20%24%202N%20%24%20numbers%3A%20for%20each%20group%20the%20number%20of%20the%20rooms%20where%20the%20first%20and%20the%20second%20lessons%20take%20place.%20Unfortunately%2C%20he%20quickly%20lost%20the%20track%20of%20his%20calculations%20and%20decided%20to%20count%20only%20the%20timetables%20that%20satisfy%20the%20following%20conditions%3A%5Cn%5Cn1%5C%5C%29%20On%20the%20first%20lesson%20in%20classroom%20%24%20i%20%24%20exactly%20%24%20X_%7Bi%7D%20%24%20groups%20must%20be%20present.%5Cn%5Cn2%5C%5C%29%20In%20classroom%20%24%20i%20%24%20no%20more%20than%20%24%20Y_%7Bi%7D%20%24%20groups%20may%20be%20placed.%5Cn%5CnHelp%20Petya%20count%20the%20number%20of%20timetables%20satisfying%20all%20those%20conditions%5Cu044e%20As%20there%20can%20be%20a%20lot%20of%20such%20timetables%2C%20output%20modulo%20%24%2010%5E%7B9%7D%2B7%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20M%20%24%20%28%20%24%201%3C%3DM%3C%3D100%20%24%20%29%20%5Cu2014%20the%20number%20of%20classrooms.%5Cn%5CnThe%20second%20line%20contains%20%24%20M%20%24%20space-separated%20integers%20%5Cu2014%20%24%20X_%7Bi%7D%20%24%20%28%20%24%200%3C%3DX_%7Bi%7D%3C%3D100%20%24%20%29%20the%20amount%20of%20groups%20present%20in%20classroom%20%24%20i%20%24%20during%20the%20first%20lesson.%5Cn%5CnThe%20third%20line%20contains%20%24%20M%20%24%20space-separated%20integers%20%5Cu2014%20%24%20Y_%7Bi%7D%20%24%20%28%20%24%200%3C%3DY_%7Bi%7D%3C%3D100%20%24%20%29%20the%20maximal%20amount%20of%20groups%20that%20can%20be%20present%20in%20classroom%20%24%20i%20%24%20at%20the%20same%20time.%5Cn%5CnIt%20is%20guaranteed%20that%20all%20the%20%24%20X_%7Bi%7D%3C%3DY_%7Bi%7D%20%24%20%2C%20and%20that%20the%20sum%20of%20all%20the%20%24%20X_%7Bi%7D%20%24%20is%20positive%20and%20does%20not%20exceed%20%24%201000%20%24%20.%22%2C%22outputFormat%22%3A%22In%20the%20single%20line%20output%20the%20answer%20to%20the%20problem%20modulo%20%24%2010%5E%7B9%7D%2B7%20%24%20.%22%2C%22samples%22%3A%5B%5B%223%5Cn1%201%201%5Cn1%202%203%5Cn%22%2C%2236%5Cn%22%5D%2C%5B%223%5Cn1%201%201%5Cn1%201%201%5Cn%22%2C%226%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20second%20sample%20test%20the%20first%20and%20the%20second%20lessons%20of%20each%20group%20must%20take%20place%20in%20the%20same%20classroom%2C%20that%5Cu2019s%20why%20the%20timetables%20will%20only%20be%20different%20in%20the%20rearrangement%20of%20the%20classrooms%5Cu2019%20numbers%20for%20each%20group%2C%20e.g.%20%24%203%21%3D6%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F37%5C%2FD%22%2C%22id%22%3A%2237D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A8%2C%22totalAccepted%22%3A5%2C%22pid%22%3A%22CF37D%22%2C%22title%22%3A%22Lesson%20Timetable%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Lesson%20Timetable%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Lesson Timetable</h1>
<h2>题目描述</h2>
<div>When Petya has free from computer games time, he attends university classes. Every day the lessons on Petya’s faculty consist of two double classes. The floor where the lessons take place is a long corridor with $ M $ classrooms numbered from $ 1 $ to $ M $ , situated along it.
All the students of Petya’s year are divided into $ N $ groups. Petya has noticed recently that these groups’ timetable has the following peculiarity: the number of the classroom where the first lesson of a group takes place does not exceed the number of the classroom where the second lesson of this group takes place.
Once Petya decided to count the number of ways in which one can make a lesson timetable for all these groups. The timetable is a set of $ 2N $ numbers: for each group the number of the rooms where the first and the second lessons take place. Unfortunately, he quickly lost the track of his calculations and decided to count only the timetables that satisfy the following conditions:
1\) On the first lesson in classroom $ i $ exactly $ X_{i} $ groups must be present.
2\) In classroom $ i $ no more than $ Y_{i} $ groups may be placed.
Help Petya count the number of timetables satisfying all those conditionsю As there can be a lot of such timetables, output modulo $ 10^{9}+7 $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ M $ ( $ 1<=M<=100 $ ) — the number of classrooms.
The second line contains $ M $ space-separated integers — $ X_{i} $ ( $ 0<=X_{i}<=100 $ ) the amount of groups present in classroom $ i $ during the first lesson.
The third line contains $ M $ space-separated integers — $ Y_{i} $ ( $ 0<=Y_{i}<=100 $ ) the maximal amount of groups that can be present in classroom $ i $ at the same time.
It is guaranteed that all the $ X_{i}<=Y_{i} $ , and that the sum of all the $ X_{i} $ is positive and does not exceed $ 1000 $ .</div>
<h3>输出格式</h3>
<br />
<div>In the single line output the answer to the problem modulo $ 10^{9}+7 $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
1 1 1
1 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>36
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3
1 1 1
1 1 1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>6
</code></pre>
<h2>说明</h2>
<div>In the second sample test the first and the second lessons of each group must take place in the same classroom, that’s why the timetables will only be different in the rearrangement of the classrooms’ numbers for each group, e.g. $ 3!=6 $ .</div>
</article>
</div>
</div>
</body>
</html>
