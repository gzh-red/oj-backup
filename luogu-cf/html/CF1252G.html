<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Performance Review - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403821:4+uh0hi4J7nTrMMEd9itetqNxP2LMZVBw3oG2b/uGvc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Randall%20is%20a%20software%20engineer%20at%20a%20company%20with%20%24%20N%20%24%20employees.%20Every%20year%2C%20the%20company%20re-evaluates%20its%20employees.%20At%20the%20end%20of%20every%20year%2C%20the%20company%20replaces%20its%20several%20worst-performing%20employees%20and%20replaces%20with%20the%20same%20number%20of%20new%20employees%2C%20so%20that%20the%20company%20keeps%20having%20%24%20N%20%24%20employees.%20Each%20person%20has%20a%20constant%20performance%20and%20can%20be%20represented%20by%20an%20integer%20%28higher%20integer%20means%20better%20performance%29%2C%20and%20no%20two%20people%20have%20the%20same%20performance.%5Cn%5CnThe%20performance%20of%20the%20initial%20employees%20are%20represented%20by%20an%20array%20of%20integers%20%24%20A%20%3D%20%5BA_1%2C%20A_2%2C%20%5C%5Cdots%2C%20A_N%5D%20%24%20where%20%24%20A_i%20%24%20is%20the%20performance%20of%20the%20%24%20i%5E%7Bth%7D%20%24%20employee.%20Randall%20is%20employee%20%24%201%20%24%20%2C%20so%20his%20performance%20is%20%24%20A_1%20%24%20.%20We%20will%20consider%20the%20first%20%24%20M%20%24%20years.%20At%20the%20end%20of%20the%20%24%20i%5E%7Bth%7D%20%24%20year%2C%20the%20company%20replaces%20its%20%24%20R_i%20%24%20worst-performing%20employees%20and%20replaces%20with%20%24%20R_i%20%24%20new%20employees.%20The%20performance%20of%20these%20new%20employees%20are%20represented%20by%20an%20array%20of%20integers%20%24%20B_i%20%3D%20%5B%28B_i%29_1%2C%20%28B_i%29_2%2C%20%5C%5Cdots%2C%20%28B_i%29_%7BR_i%7D%5D%20%24%20where%20%24%20%28B_i%29_j%20%24%20is%20the%20performance%20of%20the%20%24%20j%5E%7Bth%7D%20%24%20new%20employee.%5Cn%5CnHe%20will%20consider%20%24%20Q%20%24%20scenarios.%20On%20the%20%24%20i%5E%7Bth%7D%20%24%20scenario%2C%20he%20will%20change%20the%20value%20of%20%24%20%28B_%7BX_i%7D%29_%7BY_i%7D%20%24%20to%20%24%20Z_i%20%24%20.%20For%20each%20scenario%2C%20Randall%20is%20wondering%20whether%20he%20will%20still%20be%20in%20the%20company%20after%20%24%20M%20%24%20years.%20Note%20that%20the%20changes%20in%20each%20scenario%20are%20kept%20for%20the%20subsequent%20scenarios.%22%2C%22inputFormat%22%3A%22Input%20begins%20with%20a%20line%20containing%20three%20integers%3A%20%24%20N%20%24%20%24%20M%20%24%20%24%20Q%20%24%20%28%20%24%202%20%5C%5Cle%20N%20%5C%5Cle%20100%5C%5C%2C000%20%24%20%3B%20%24%201%20%5C%5Cle%20M%2C%20Q%20%5C%5Cle%20100%5C%5C%2C000%20%24%20%29%20representing%20the%20number%20of%20employees%2C%20the%20number%20of%20years%20to%20be%20considered%2C%20and%20the%20number%20of%20scenarios%2C%20respectively.%20The%20next%20line%20contains%20%24%20N%20%24%20integers%3A%20%24%20A_i%20%24%20%28%20%24%200%20%5C%5Cle%20A_i%20%5C%5Cle%2010%5E9%20%24%20%29%20representing%20the%20performance%20of%20the%20initial%20employees.%20The%20next%20%24%20M%20%24%20lines%20each%20contains%20several%20integers%3A%20%24%20R_i%20%24%20%24%20%28B_i%29_1%20%24%20%2C%20%24%20%28B_i%29_2%20%24%20%2C%20%24%20%5C%5Ccdots%20%24%20%2C%20%24%20%28B_i%29_%7BR_i%7D%20%24%20%28%20%24%201%20%5C%5Cle%20R_i%20%3C%20N%20%24%20%3B%20%24%200%20%5C%5Cle%20%28B_i%29_j%20%5C%5Cle%2010%5E9%20%24%20%29%20representing%20the%20number%20of%20employees%20replaced%20and%20the%20performance%20of%20the%20new%20employees%2C%20respectively.%20It%20is%20guaranteed%20that%20the%20sum%20of%20%24%20R_i%20%24%20does%20not%20exceed%20%24%2010%5E6%20%24%20.%20The%20next%20%24%20Q%20%24%20lines%20each%20contains%20three%20integers%3A%20%24%20X_i%20%24%20%24%20Y_i%20%24%20%24%20Z_i%20%24%20%28%20%24%201%20%5C%5Cle%20X_i%20%5C%5Cle%20M%20%24%20%3B%20%24%201%20%5C%5Cle%20Y_i%20%5C%5Cle%20R_%7B%28X_i%29%7D%20%24%20%3B%20%24%200%20%5C%5Cle%20Z_i%20%5C%5Cle%2010%5E9%20%24%20%29%20representing%20a%20scenario.%20It%20is%20guaranteed%20that%20all%20integers%20in%20all%20%24%20A_i%20%24%20%2C%20%24%20%28B_i%29_j%20%24%20%2C%20and%20%24%20Z_i%20%24%20%28combined%20together%29%20are%20distinct.%22%2C%22outputFormat%22%3A%22For%20each%20scenario%20in%20the%20same%20order%20as%20input%2C%20output%20in%20a%20line%20an%20integer%20%24%200%20%24%20if%20Randall%20will%20not%20be%20in%20the%20company%20after%20%24%20M%20%24%20years%2C%20or%20%24%201%20%24%20if%20Randall%20will%20still%20be%20in%20the%20company%20after%20%24%20M%20%24%20years.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%203%203%5Cn50%2040%2030%2020%2010%5Cn4%201%202%203%20100%5Cn1%204%5Cn2%206%207%5Cn1%203%20300%5Cn2%201%20400%5Cn2%201%205%5Cn%22%2C%22%5Cn1%5Cn0%5Cn1%5Cn%22%5D%5D%2C%22hint%22%3A%22Explanation%20for%20the%20sample%20input%5C%2Foutput%20%231%5Cn%5CnRandall%20performance%20is%20represented%20by%20%24%2050%20%24%20.%20For%20the%20first%20scenario%2C%20the%20value%20of%20%24%20%28B_1%29_3%20%24%20is%20updated%20to%20%24%20300%20%24%20%2C%20causes%20the%20following%3A%5Cn%5Cn-%20Initially%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B50%2C%2040%2C%2030%2C%2020%2C%2010%5D%20%24%20.%5Cn-%20At%20the%20end%20of%20the%20first%20year%2C%20%24%204%20%24%20worst-performing%20employees%20are%20replaced%20by%20employees%20with%20performance%20%24%20%5B300%2C%20100%2C%202%2C%201%5D%20%24%20.%20Therefore%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B300%2C%20100%2C%2050%2C%202%2C%201%5D%20%24%20.%5Cn-%20At%20the%20end%20of%20the%20second%20year%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B300%2C%20100%2C%2050%2C%204%2C%202%5D%20%24%20.%5Cn-%20At%20the%20end%20of%20the%20third%20year%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B300%2C%20100%2C%2050%2C%207%2C%206%5D%20%24%20.%5Cn%5Cn%20Therefore%2C%20Randall%20will%20still%20be%20in%20the%20company%20after%20%24%203%20%24%20years.For%20the%20second%20scenario%2C%20the%20value%20of%20%24%20%28B_2%29_1%20%24%20is%20updated%20to%20%24%20400%20%24%20%2C%20causes%20the%20following%3A%5Cn%5Cn-%20Initially%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B50%2C%2040%2C%2030%2C%2020%2C%2010%5D%20%24%20.%5Cn-%20At%20the%20end%20of%20the%20first%20year%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B300%2C%20100%2C%2050%2C%202%2C%201%5D%20%24%20.%20Recall%20that%20the%20change%20in%20the%20first%20scenario%20is%20kept%20for%20this%20scenario%20as%20well.%5Cn-%20At%20the%20end%20of%20the%20second%20year%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B400%2C%20300%2C%20100%2C%2050%2C%202%5D%20%24%20.%5Cn-%20At%20the%20end%20of%20the%20third%20year%2C%20the%20performance%20of%20the%20employees%20is%20%24%20%5B400%2C%20300%2C%20100%2C%207%2C%206%5D%20%24%20.%5Cn%5Cn%20Therefore%2C%20Randall%20will%20not%20be%20in%20the%20company%20after%20%24%203%20%24%20years.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1252%5C%2FG%22%2C%22id%22%3A%221252G%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF1252G%22%2C%22title%22%3A%22Performance%20Review%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Performance%20Review%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Performance Review</h1>
<h2>题目描述</h2>
<div>Randall is a software engineer at a company with $ N $ employees. Every year, the company re-evaluates its employees. At the end of every year, the company replaces its several worst-performing employees and replaces with the same number of new employees, so that the company keeps having $ N $ employees. Each person has a constant performance and can be represented by an integer (higher integer means better performance), and no two people have the same performance.
The performance of the initial employees are represented by an array of integers $ A = [A_1, A_2, \dots, A_N] $ where $ A_i $ is the performance of the $ i^{th} $ employee. Randall is employee $ 1 $ , so his performance is $ A_1 $ . We will consider the first $ M $ years. At the end of the $ i^{th} $ year, the company replaces its $ R_i $ worst-performing employees and replaces with $ R_i $ new employees. The performance of these new employees are represented by an array of integers $ B_i = [(B_i)_1, (B_i)_2, \dots, (B_i)_{R_i}] $ where $ (B_i)_j $ is the performance of the $ j^{th} $ new employee.
He will consider $ Q $ scenarios. On the $ i^{th} $ scenario, he will change the value of $ (B_{X_i})_{Y_i} $ to $ Z_i $ . For each scenario, Randall is wondering whether he will still be in the company after $ M $ years. Note that the changes in each scenario are kept for the subsequent scenarios.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Input begins with a line containing three integers: $ N $ $ M $ $ Q $ ( $ 2 \le N \le 100\,000 $ ; $ 1 \le M, Q \le 100\,000 $ ) representing the number of employees, the number of years to be considered, and the number of scenarios, respectively. The next line contains $ N $ integers: $ A_i $ ( $ 0 \le A_i \le 10^9 $ ) representing the performance of the initial employees. The next $ M $ lines each contains several integers: $ R_i $ $ (B_i)_1 $ , $ (B_i)_2 $ , $ \cdots $ , $ (B_i)_{R_i} $ ( $ 1 \le R_i < N $ ; $ 0 \le (B_i)_j \le 10^9 $ ) representing the number of employees replaced and the performance of the new employees, respectively. It is guaranteed that the sum of $ R_i $ does not exceed $ 10^6 $ . The next $ Q $ lines each contains three integers: $ X_i $ $ Y_i $ $ Z_i $ ( $ 1 \le X_i \le M $ ; $ 1 \le Y_i \le R_{(X_i)} $ ; $ 0 \le Z_i \le 10^9 $ ) representing a scenario. It is guaranteed that all integers in all $ A_i $ , $ (B_i)_j $ , and $ Z_i $ (combined together) are distinct.</div>
<h3>输出格式</h3>
<br />
<div>For each scenario in the same order as input, output in a line an integer $ 0 $ if Randall will not be in the company after $ M $ years, or $ 1 $ if Randall will still be in the company after $ M $ years.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5 3 3
50 40 30 20 10
4 1 2 3 100
1 4
2 6 7
1 3 300
2 1 400
2 1 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
1
0
1
</code></pre>
<h2>说明</h2>
<div>Explanation for the sample input/output #1
Randall performance is represented by $ 50 $ . For the first scenario, the value of $ (B_1)_3 $ is updated to $ 300 $ , causes the following:
- Initially, the performance of the employees is $ [50, 40, 30, 20, 10] $ .
- At the end of the first year, $ 4 $ worst-performing employees are replaced by employees with performance $ [300, 100, 2, 1] $ . Therefore, the performance of the employees is $ [300, 100, 50, 2, 1] $ .
- At the end of the second year, the performance of the employees is $ [300, 100, 50, 4, 2] $ .
- At the end of the third year, the performance of the employees is $ [300, 100, 50, 7, 6] $ .
Therefore, Randall will still be in the company after $ 3 $ years.For the second scenario, the value of $ (B_2)_1 $ is updated to $ 400 $ , causes the following:
- Initially, the performance of the employees is $ [50, 40, 30, 20, 10] $ .
- At the end of the first year, the performance of the employees is $ [300, 100, 50, 2, 1] $ . Recall that the change in the first scenario is kept for this scenario as well.
- At the end of the second year, the performance of the employees is $ [400, 300, 100, 50, 2] $ .
- At the end of the third year, the performance of the employees is $ [400, 300, 100, 7, 6] $ .
Therefore, Randall will not be in the company after $ 3 $ years.</div>
</article>
</div>
</div>
</body>
</html>
