<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Roadside Trees - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392170:iD9mMVhKwhEysyVmtJznO/fMR+ZER1oCSo8NCCpCfMs=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Squirrel%20Liss%20loves%20nuts.%20Liss%20asks%20you%20to%20plant%20some%20nut%20trees.%5Cn%5CnThere%20are%20%24%20n%20%24%20positions%20%28numbered%201%20to%20%24%20n%20%24%20from%20west%20to%20east%29%20to%20plant%20a%20tree%20along%20a%20street.%20Trees%20grow%20one%20meter%20per%20month.%20At%20the%20beginning%20of%20each%20month%20you%20should%20process%20one%20query.%20The%20query%20is%20one%20of%20the%20following%20types%3A%5Cn%5Cn1.%20Plant%20a%20tree%20of%20height%20%24%20h%20%24%20at%20position%20%24%20p%20%24%20.%5Cn2.%20Cut%20down%20the%20%24%20x%20%24%20-th%20existent%20%28not%20cut%29%20tree%20from%20the%20west%20%28where%20%24%20x%20%24%20is%201-indexed%29.%20When%20we%20cut%20the%20tree%20it%20drops%20down%20and%20takes%20all%20the%20available%20place%20at%20the%20position%20where%20it%20has%20stood.%20So%20no%20tree%20can%20be%20planted%20at%20this%20position%20anymore.%5Cn%5CnAfter%20processing%20each%20query%2C%20you%20should%20print%20the%20length%20of%20the%20longest%20increasing%20subsequence.%20A%20subset%20of%20existent%20trees%20is%20called%20an%20increasing%20subsequence%20if%20the%20height%20of%20the%20trees%20in%20the%20set%20is%20strictly%20increasing%20from%20west%20to%20east%20%28for%20example%2C%20the%20westmost%20tree%20in%20the%20set%20must%20be%20the%20shortest%20in%20the%20set%29.%20The%20length%20of%20the%20increasing%20subsequence%20is%20the%20number%20of%20trees%20in%20it.%5Cn%5CnNote%20that%20Liss%20don%27t%20like%20the%20trees%20with%20the%20same%20heights%2C%20so%20it%20is%20guaranteed%20that%20at%20any%20time%20no%20two%20trees%20have%20the%20exactly%20same%20heights.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%3A%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%3C%3D10%5E%7B5%7D%3B%5Cu00a01%3C%3Dm%3C%3D2%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20positions%20and%20the%20number%20of%20queries.%5Cn%5CnNext%20%24%20m%20%24%20lines%20contains%20the%20information%20of%20queries%20by%20following%20formats%3A%5Cn%5Cn-%20If%20the%20%24%20i%20%24%20-th%20query%20is%20type%201%2C%20the%20%24%20i%20%24%20-th%20line%20contains%20three%20integers%3A%201%2C%20%24%20p_%7Bi%7D%20%24%20%2C%20and%20%24%20h_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dp_%7Bi%7D%3C%3Dn%2C1%3C%3Dh_%7Bi%7D%3C%3D10%20%24%20%29%2C%20where%20%24%20p_%7Bi%7D%20%24%20is%20the%20position%20of%20the%20new%20tree%20and%20%24%20h_%7Bi%7D%20%24%20is%20the%20initial%20height%20of%20the%20new%20tree.%5Cn-%20If%20the%20%24%20i%20%24%20-th%20query%20is%20type%202%2C%20the%20%24%20i%20%24%20-th%20line%20contains%20two%20integers%3A%202%20and%20%24%20x_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dx_%7Bi%7D%3C%3D10%20%24%20%29%2C%20where%20the%20%24%20x_%7Bi%7D%20%24%20is%20the%20index%20of%20the%20tree%20we%20want%20to%20cut.%5Cn%5CnThe%20input%20is%20guaranteed%20to%20be%20correct%2C%20i.e.%2C%5Cn%5Cn-%20For%20type%201%20queries%2C%20%24%20p_%7Bi%7D%20%24%20will%20be%20pairwise%20distinct.%5Cn-%20For%20type%202%20queries%2C%20%24%20x_%7Bi%7D%20%24%20will%20be%20less%20than%20or%20equal%20to%20the%20current%20number%20of%20trees.%5Cn-%20At%20any%20time%20no%20two%20trees%20have%20the%20exactly%20same%20heights.%5Cn%5CnIn%20each%20line%20integers%20are%20separated%20by%20single%20spaces.%22%2C%22outputFormat%22%3A%22Print%20%24%20m%20%24%20integers%20%5Cu2014%20the%20length%20of%20the%20longest%20increasing%20subsequence%20after%20each%20query.%20Separate%20the%20numbers%20by%20whitespaces.%22%2C%22samples%22%3A%5B%5B%224%206%5Cn1%201%201%5Cn1%204%204%5Cn1%203%204%5Cn2%202%5Cn1%202%208%5Cn2%203%5Cn%22%2C%221%5Cn2%5Cn3%5Cn2%5Cn2%5Cn2%5Cn%22%5D%5D%2C%22hint%22%3A%22States%20of%20street%20after%20each%20query%20you%20can%20see%20on%20the%20following%20animation%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF264E%5C%2Fd9e4fa5cd79261f3aad9ee385bd25a1e662d547a.png%29If%20your%20browser%20doesn%27t%20support%20animation%20png%2C%20please%20see%20the%20gif%20version%20here%3A%20http%3A%5C%2F%5C%2F212.193.37.254%5C%2Fcodeforces%5C%2Fimages%5C%2F162%5C%2Froadtree.gif%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B5000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F264%5C%2FE%22%2C%22id%22%3A%22264E%22%7D%2C%22translation%22%3A%22%5Cu5728%24%201%5Cu223cn%20%24%20%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu80fd%5Cu79cd%5Cu6811%5Cuff0c%5Cu521a%5Cu5f00%5Cu59cb%5Cu80fd%5Cu79cd%5Cu6811%5Cu3002%20%20%5Cn%5Cu7b2c%24%20i%20%24%20%5Cu4e2a%5Cu65f6%5Cu523b%5Cu4f1a%5Cu6709%5Cu64cd%5Cu4f5c%5Cuff1a%20%20%5Cn1.%5Cu5728%5Cu4e00%5Cu4e2a%5Cu6ca1%5Cu79cd%5Cu8fc7%5Cu6811%5Cu7684%5Cu4f4d%5Cu7f6e%24%20p_i%20%24%20%5Cu79cd%5Cu4e00%5Cu9897%5Cu9ad8%5Cu5ea6%5Cu4e3a%24%20h_i%20%24%20%5Cu7684%5Cu6811%5Cu3002%20%20%5Cn2.%5Cu780d%5Cu6389%5Cu7b2c%24%20x_i%20%24%20%5Cu68f5%5Cu6811%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu8fd9%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4ee5%5Cu540e%5Cu4e0d%5Cu4f1a%5Cu79cd%5Cu6811%5Cu3002%20%20%5Cn%5Cu6bcf%5Cu5929%5Cu6811%5Cu4f1a%5Cu957f%5Cu9ad81%20%20%5Cn%5Cu6bcf%5Cu6267%5Cu884c%5Cu4e00%5Cu6b21%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu8f93%5Cu51fa%5Cu6700%5Cu957f%5Cu4e0a%5Cu5347%5Cu5b50%5Cu5e8f%5Cu5217%5Cu957f%5Cu5ea6%20%20%5Cn%5Cu4efb%5Cu610f%5Cu65f6%5Cu523b%5Cu6811%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu4e0d%5Cu540c%20%20%20%20%20%20%5CnTranslated%20by%40Fheiwn%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A32%2C%22totalAccepted%22%3A17%2C%22pid%22%3A%22CF264E%22%2C%22title%22%3A%22Roadside%20Trees%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A32458%2C%22title%22%3A%22%5Cu9898%5Cu610f%22%2C%22forum%22%3A%7B%22id%22%3A11549%2C%22name%22%3A%22CF264E%20Roadside%20Trees%22%2C%22slug%22%3A%22CF264E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Roadside%20Trees%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Roadside Trees</h1>
<h2>题意翻译</h2>
<div>在$ 1∼n $ 的位置能种树，刚开始能种树。
第$ i $ 个时刻会有操作：
1.在一个没种过树的位置$ p_i $ 种一颗高度为$ h_i $ 的树。
2.砍掉第$ x_i $ 棵树，保证这个位置以后不会种树。
每天树会长高1
每执行一次操作，输出最长上升子序列长度
任意时刻树的高度不同
Translated by@Fheiwn </div>
<h2>题目描述</h2>
<div>Squirrel Liss loves nuts. Liss asks you to plant some nut trees.
There are $ n $ positions (numbered 1 to $ n $ from west to east) to plant a tree along a street. Trees grow one meter per month. At the beginning of each month you should process one query. The query is one of the following types:
1. Plant a tree of height $ h $ at position $ p $ .
2. Cut down the $ x $ -th existent (not cut) tree from the west (where $ x $ is 1-indexed). When we cut the tree it drops down and takes all the available place at the position where it has stood. So no tree can be planted at this position anymore.
After processing each query, you should print the length of the longest increasing subsequence. A subset of existent trees is called an increasing subsequence if the height of the trees in the set is strictly increasing from west to east (for example, the westmost tree in the set must be the shortest in the set). The length of the increasing subsequence is the number of trees in it.
Note that Liss don't like the trees with the same heights, so it is guaranteed that at any time no two trees have the exactly same heights.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers: $ n $ and $ m $ ( $ 1<=n<=10^{5}; 1<=m<=2·10^{5} $ ) — the number of positions and the number of queries.
Next $ m $ lines contains the information of queries by following formats:
- If the $ i $ -th query is type 1, the $ i $ -th line contains three integers: 1, $ p_{i} $ , and $ h_{i} $ ( $ 1<=p_{i}<=n,1<=h_{i}<=10 $ ), where $ p_{i} $ is the position of the new tree and $ h_{i} $ is the initial height of the new tree.
- If the $ i $ -th query is type 2, the $ i $ -th line contains two integers: 2 and $ x_{i} $ ( $ 1<=x_{i}<=10 $ ), where the $ x_{i} $ is the index of the tree we want to cut.
The input is guaranteed to be correct, i.e.,
- For type 1 queries, $ p_{i} $ will be pairwise distinct.
- For type 2 queries, $ x_{i} $ will be less than or equal to the current number of trees.
- At any time no two trees have the exactly same heights.
In each line integers are separated by single spaces.</div>
<h3>输出格式</h3>
<br />
<div>Print $ m $ integers — the length of the longest increasing subsequence after each query. Separate the numbers by whitespaces.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 6
1 1 1
1 4 4
1 3 4
2 2
1 2 8
2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
2
3
2
2
2
</code></pre>
<h2>说明</h2>
<div>States of street after each query you can see on the following animation:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF264E/d9e4fa5cd79261f3aad9ee385bd25a1e662d547a.png)If your browser doesn't support animation png, please see the gif version here: http://212.193.37.254/codeforces/images/162/roadtree.gif</div>
</article>
</div>
</div>
</body>
</html>
