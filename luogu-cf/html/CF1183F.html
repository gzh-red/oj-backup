<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Topforces Strikes Back - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573402742:D3ZVyyhzU7SZkJsgplVz+5lRdLf0QtGyeR5piiUa+ic=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22One%20important%20contest%20will%20take%20place%20on%20the%20most%20famous%20programming%20platform%20%28Topforces%29%20very%20soon%21%5Cn%5CnThe%20authors%20have%20a%20pool%20of%20%24%20n%20%24%20problems%20and%20should%20choose%20at%20most%20three%20of%20them%20into%20this%20contest.%20The%20prettiness%20of%20the%20%24%20i%20%24%20-th%20problem%20is%20%24%20a_i%20%24%20.%20The%20authors%20have%20to%20compose%20the%20most%20pretty%20contest%20%28in%20other%20words%2C%20the%20cumulative%20prettinesses%20of%20chosen%20problems%20should%20be%20maximum%20possible%29.%5Cn%5CnBut%20there%20is%20one%20important%20thing%20in%20the%20contest%20preparation%3A%20because%20of%20some%20superstitions%20of%20authors%2C%20the%20prettinesses%20of%20problems%20cannot%20divide%20each%20other.%20In%20other%20words%2C%20if%20the%20prettinesses%20of%20chosen%20problems%20are%20%24%20x%2C%20y%2C%20z%20%24%20%2C%20then%20%24%20x%20%24%20should%20be%20divisible%20by%20neither%20%24%20y%20%24%20%2C%20nor%20%24%20z%20%24%20%2C%20%24%20y%20%24%20should%20be%20divisible%20by%20neither%20%24%20x%20%24%20%2C%20nor%20%24%20z%20%24%20and%20%24%20z%20%24%20should%20be%20divisible%20by%20neither%20%24%20x%20%24%20%2C%20nor%20%24%20y%20%24%20.%20If%20the%20prettinesses%20of%20chosen%20problems%20are%20%24%20x%20%24%20and%20%24%20y%20%24%20then%20neither%20%24%20x%20%24%20should%20be%20divisible%20by%20%24%20y%20%24%20nor%20%24%20y%20%24%20should%20be%20divisible%20by%20%24%20x%20%24%20.%20Any%20contest%20composed%20from%20one%20problem%20is%20considered%20good.%5Cn%5CnYour%20task%20is%20to%20find%20out%20the%20maximum%20possible%20total%20prettiness%20of%20the%20contest%20composed%20of%20at%20most%20three%20problems%20from%20the%20given%20pool.%5Cn%5CnYou%20have%20to%20answer%20%24%20q%20%24%20independent%20queries.%5Cn%5CnIf%20you%20are%20Python%20programmer%2C%20consider%20using%20PyPy%20instead%20of%20Python%20when%20you%20submit%20your%20code.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20one%20integer%20%24%20q%20%24%20%28%20%24%201%20%5C%5Cle%20q%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20queries.%5Cn%5CnThe%20first%20line%20of%20the%20query%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cle%20n%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20problems.%5Cn%5CnThe%20second%20line%20of%20the%20query%20contains%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cdots%2C%20a_n%20%24%20%28%20%24%202%20%5C%5Cle%20a_i%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E5%20%24%20%29%2C%20where%20%24%20a_i%20%24%20is%20the%20prettiness%20of%20the%20%24%20i%20%24%20-th%20problem.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20sum%20of%20%24%20n%20%24%20over%20all%20queries%20does%20not%20exceed%20%24%202%20%5C%5Ccdot%2010%5E5%20%24%20.%22%2C%22outputFormat%22%3A%22For%20each%20query%20print%20one%20integer%20%5Cu2014%20the%20maximum%20possible%20cumulative%20prettiness%20of%20the%20contest%20composed%20of%20at%20most%20three%20problems%20from%20the%20given%20pool%20of%20problems%20in%20the%20query.%22%2C%22samples%22%3A%5B%5B%22%5Cn3%5Cn4%5Cn5%206%2015%2030%5Cn4%5Cn10%206%2030%2015%5Cn3%5Cn3%204%206%5Cn%22%2C%22%5Cn30%5Cn31%5Cn10%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1183%5C%2FF%22%2C%22id%22%3A%221183F%22%7D%2C%22translation%22%3A%22%5Cu4f60%5Cu6709%24n%24%5Cu4e2a%5Cu6570%24a_1%24%5Cu5230%24a_n%24%5Cuff0c%5Cu4f60%5Cu60f3%5Cu9009%5Cu51fa%5Cu6765%2A%2A%5Cu81f3%5Cu591a%2A%2A%243%24%5Cu4e2a%5Cu6570%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu5176%5Cu4e2d%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu6570%5Cu90fd%5Cu4e0d%5Cu662f%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7684%5Cu500d%5Cu6570%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4f60%5Cu60f3%5Cu4f7f%5Cu5f97%5Cu4f60%5Cu9009%5Cu51fa%5Cu6765%5Cu7684%5Cu6570%5Cu5b57%5Cu7684%5Cu548c%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu5927%5Cuff0c%5Cu8f93%5Cu51fa%5Cu8fd9%5Cu4e2a%5Cu6700%5Cu5927%5Cu7684%5Cu548c%5Cu3002%5Cr%5Cn%5Cr%5Cn%24%5C%5Ctext%7B%5Cu2014%5Cu2014by%20wucstdio%7D%24%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A138%2C%22totalAccepted%22%3A63%2C%22pid%22%3A%22CF1183F%22%2C%22title%22%3A%22Topforces%20Strikes%20Back%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1151E%22%2C%22title%22%3A%22Number%20of%20Components%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1176D%22%2C%22title%22%3A%22Recover%20it%21%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1183H%22%2C%22title%22%3A%22Subsequences%20%28hard%20version%29%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1183G%22%2C%22title%22%3A%22Candy%20Box%20%28hard%20version%29%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1183E%22%2C%22title%22%3A%22Subsequences%20%28easy%20version%29%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Topforces%20Strikes%20Back%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Topforces Strikes Back</h1>
<h2>题意翻译</h2>
<div>你有$n$个数$a_1$到$a_n$，你想选出来**至多**$3$个数，使得其中任意一个数都不是另一个数的倍数。
你想使得你选出来的数字的和尽可能大，输出这个最大的和。
$\text{——by wucstdio}$</div>
<h2>题目描述</h2>
<div>One important contest will take place on the most famous programming platform (Topforces) very soon!
The authors have a pool of $ n $ problems and should choose at most three of them into this contest. The prettiness of the $ i $ -th problem is $ a_i $ . The authors have to compose the most pretty contest (in other words, the cumulative prettinesses of chosen problems should be maximum possible).
But there is one important thing in the contest preparation: because of some superstitions of authors, the prettinesses of problems cannot divide each other. In other words, if the prettinesses of chosen problems are $ x, y, z $ , then $ x $ should be divisible by neither $ y $ , nor $ z $ , $ y $ should be divisible by neither $ x $ , nor $ z $ and $ z $ should be divisible by neither $ x $ , nor $ y $ . If the prettinesses of chosen problems are $ x $ and $ y $ then neither $ x $ should be divisible by $ y $ nor $ y $ should be divisible by $ x $ . Any contest composed from one problem is considered good.
Your task is to find out the maximum possible total prettiness of the contest composed of at most three problems from the given pool.
You have to answer $ q $ independent queries.
If you are Python programmer, consider using PyPy instead of Python when you submit your code.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains one integer $ q $ ( $ 1 \le q \le 2 \cdot 10^5 $ ) — the number of queries.
The first line of the query contains one integer $ n $ ( $ 1 \le n \le 2 \cdot 10^5 $ ) — the number of problems.
The second line of the query contains $ n $ integers $ a_1, a_2, \dots, a_n $ ( $ 2 \le a_i \le 2 \cdot 10^5 $ ), where $ a_i $ is the prettiness of the $ i $ -th problem.
It is guaranteed that the sum of $ n $ over all queries does not exceed $ 2 \cdot 10^5 $ .</div>
<h3>输出格式</h3>
<br />
<div>For each query print one integer — the maximum possible cumulative prettiness of the contest composed of at most three problems from the given pool of problems in the query.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
3
4
5 6 15 30
4
10 6 30 15
3
3 4 6
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
30
31
10
</code></pre>
</article>
</div>
</div>
</body>
</html>
