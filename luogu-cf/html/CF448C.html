<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Painting Fence - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573394189:3Hdb1C3EUZT4+FQkQ1FtCg0O9B4Ziytk3nG/y1ZlIvo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Bizon%20the%20Champion%20isn%27t%20just%20attentive%2C%20he%20also%20is%20very%20hardworking.%5Cn%5CnBizon%20the%20Champion%20decided%20to%20paint%20his%20old%20fence%20his%20favorite%20color%2C%20orange.%20The%20fence%20is%20represented%20as%20%24%20n%20%24%20vertical%20planks%2C%20put%20in%20a%20row.%20Adjacent%20planks%20have%20no%20gap%20between%20them.%20The%20planks%20are%20numbered%20from%20the%20left%20to%20the%20right%20starting%20from%20one%2C%20the%20%24%20i%20%24%20-th%20plank%20has%20the%20width%20of%20%24%201%20%24%20meter%20and%20the%20height%20of%20%24%20a_%7Bi%7D%20%24%20meters.%5Cn%5CnBizon%20the%20Champion%20bought%20a%20brush%20in%20the%20shop%2C%20the%20brush%27s%20width%20is%20%24%201%20%24%20meter.%20He%20can%20make%20vertical%20and%20horizontal%20strokes%20with%20the%20brush.%20During%20a%20stroke%20the%20brush%27s%20full%20surface%20must%20touch%20the%20fence%20at%20all%20the%20time%20%28see%20the%20samples%20for%20the%20better%20understanding%29.%20What%20minimum%20number%20of%20strokes%20should%20Bizon%20the%20Champion%20do%20to%20fully%20paint%20the%20fence%3F%20Note%20that%20you%20are%20allowed%20to%20paint%20the%20same%20area%20of%20the%20fence%20multiple%20times.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integer%20%24%20n%20%24%20%24%20%281%3C%3Dn%3C%3D5000%29%20%24%20%5Cu2014%20the%20number%20of%20fence%20planks.%20The%20second%20line%20contains%20%24%20n%20%24%20space-separated%20integers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%24%20%281%3C%3Da_%7Bi%7D%3C%3D10%5E%7B9%7D%29%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20minimum%20number%20of%20strokes%20needed%20to%20paint%20the%20whole%20fence.%22%2C%22samples%22%3A%5B%5B%225%5Cn2%202%201%202%201%5Cn%22%2C%223%5Cn%22%5D%2C%5B%222%5Cn2%202%5Cn%22%2C%222%5Cn%22%5D%2C%5B%221%5Cn5%5Cn%22%2C%221%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%20you%20need%20to%20paint%20the%20fence%20in%20three%20strokes%20with%20the%20brush%3A%20the%20first%20stroke%20goes%20on%20height%201%20horizontally%20along%20all%20the%20planks.%20The%20second%20stroke%20goes%20on%20height%202%20horizontally%20and%20paints%20the%20first%20and%20second%20planks%20and%20the%20third%20stroke%20%28it%20can%20be%20horizontal%20and%20vertical%29%20finishes%20painting%20the%20fourth%20plank.%5Cn%5CnIn%20the%20second%20sample%20you%20can%20paint%20the%20fence%20with%20two%20strokes%2C%20either%20two%20horizontal%20or%20two%20vertical%20strokes.%5Cn%5CnIn%20the%20third%20sample%20there%20is%20only%20one%20plank%20that%20can%20be%20painted%20using%20a%20single%20vertical%20stroke.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F448%5C%2FC%22%2C%22id%22%3A%22448C%22%7D%2C%22translation%22%3A%22%5Cu6709n%5Cu5757%5Cu8fde%5Cu7740%5Cu7684%5Cu6728%5Cu677f%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu6728%5Cu677f%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu4e3a%24h_i%24%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu628a%5Cu8fd9n%5Cu5757%5Cu6728%5Cu677f%5Cu4e0a%5Cu8272%5Cuff0c%5Cu6bcf%5Cu6b21%20%5Cu4e0a%5Cu8272%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu7ad6%5Cu7740%5Cu5237%5Cu5b8c%5Cu4e00%5Cu5757%5Cu6728%5Cu677f%5Cuff0c%5Cu6216%5Cu8005%5Cu6a2a%5Cu7740%5Cu5237%5Cu4e00%5Cu4e2a%5Cu9ad8%5Cu5ea6%5Cu5355%5Cu4f4d%5Cu7684%5Cu8fde%5Cu7eed%5Cu7684%5Cu6728%5Cu677f%5Cuff08%5Cu4e0d%5Cu80fd%5Cu4e2d%20%5Cu95f4%5Cu7a7a%5Cu7740%5Cu7684%5Cu4e0d%5Cu80fd%5Cu8df3%5Cu8dc3%5Cuff09%5Cuff0c%5Cu95ee%5Cu6700%5Cu5c11%5Cu9700%5Cu8981%5Cu5237%5Cu51e0%5Cu6b21%5Cu3002%5Cr%5Cn%5Cr%5Cn%60%60%60%5Cr%5Cn%5Cu6709n%5Cu5757%5Cu8fde%5Cu7740%5Cu7684%5Cu6728%5Cu677f%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu6728%5Cu677f%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu4e3a%24h_i%24%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu628a%5Cu8fd9n%5Cu5757%5Cu6728%5Cu677f%5Cu4e0a%5Cu8272%5Cuff0c%5Cu6bcf%5Cu6b21%20%5Cu4e0a%5Cu8272%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu7ad6%5Cu7740%5Cu5237%5Cu5b8c%5Cu4e00%5Cu5757%5Cu6728%5Cu677f%5Cuff0c%5Cu6216%5Cu8005%5Cu6a2a%5Cu7740%5Cu5237%5Cu4e00%5Cu4e2a%5Cu9ad8%5Cu5ea6%5Cu5355%5Cu4f4d%5Cu7684%5Cu8fde%5Cu7eed%5Cu7684%5Cu6728%5Cu677f%5Cuff08%5Cu4e0d%5Cu80fd%5Cu4e2d%20%5Cu95f4%5Cu7a7a%5Cu7740%5Cu7684%5Cu4e0d%5Cu80fd%5Cu8df3%5Cu8dc3%5Cuff09%5Cuff0c%5Cu95ee%5Cu6700%5Cu5c11%5Cu9700%5Cu8981%5Cu5237%5Cu51e0%5Cu6b21%5Cu3002%5Cr%5Cn%60%60%60%22%2C%22tags%22%3A%5B7%2C54%2C112%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A392%2C%22totalAccepted%22%3A170%2C%22pid%22%3A%22CF448C%22%2C%22title%22%3A%22Painting%20Fence%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A149970%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A10863%2C%22name%22%3A%22CF448C%20Painting%20Fence%22%2C%22slug%22%3A%22CF448C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1429%22%2C%22title%22%3A%22%5Cu5e73%5Cu9762%5Cu6700%5Cu8fd1%5Cu70b9%5Cu5bf9%5Cuff08%5Cu52a0%5Cu5f3a%5Cu7248%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3199%22%2C%22title%22%3A%22%5BHNOI2009%5D%5Cu6700%5Cu5c0f%5Cu5708%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF232C%22%2C%22title%22%3A%22Doe%20Graphs%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4451%22%2C%22title%22%3A%22%5B%5Cu56fd%5Cu5bb6%5Cu96c6%5Cu8bad%5Cu961f%5D%5Cu6574%5Cu6570%5Cu7684lqp%5Cu62c6%5Cu5206%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4951%22%2C%22title%22%3A%22%5BUSACO%202001%20OPEN%5D%5Cu5730%5Cu9707%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Painting%20Fence%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Painting Fence</h1>
<h2>题意翻译</h2>
<div>有n块连着的木板，每个木板的高度为$h_i$，你需要把这n块木板上色，每次 上色你可以选择竖着刷完一块木板，或者横着刷一个高度单位的连续的木板（不能中 间空着的不能跳跃），问最少需要刷几次。
```
有n块连着的木板，每个木板的高度为$h_i$，你需要把这n块木板上色，每次 上色你可以选择竖着刷完一块木板，或者横着刷一个高度单位的连续的木板（不能中 间空着的不能跳跃），问最少需要刷几次。
```</div>
<h2>题目描述</h2>
<div>Bizon the Champion isn't just attentive, he also is very hardworking.
Bizon the Champion decided to paint his old fence his favorite color, orange. The fence is represented as $ n $ vertical planks, put in a row. Adjacent planks have no gap between them. The planks are numbered from the left to the right starting from one, the $ i $ -th plank has the width of $ 1 $ meter and the height of $ a_{i} $ meters.
Bizon the Champion bought a brush in the shop, the brush's width is $ 1 $ meter. He can make vertical and horizontal strokes with the brush. During a stroke the brush's full surface must touch the fence at all the time (see the samples for the better understanding). What minimum number of strokes should Bizon the Champion do to fully paint the fence? Note that you are allowed to paint the same area of the fence multiple times.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integer $ n $ $ (1<=n<=5000) $ — the number of fence planks. The second line contains $ n $ space-separated integers $ a_{1},a_{2},...,a_{n} $ $ (1<=a_{i}<=10^{9}) $ .</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the minimum number of strokes needed to paint the whole fence.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
2 2 1 2 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2
2 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>1
5
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1
</code></pre>
<h2>说明</h2>
<div>In the first sample you need to paint the fence in three strokes with the brush: the first stroke goes on height 1 horizontally along all the planks. The second stroke goes on height 2 horizontally and paints the first and second planks and the third stroke (it can be horizontal and vertical) finishes painting the fourth plank.
In the second sample you can paint the fence with two strokes, either two horizontal or two vertical strokes.
In the third sample there is only one plank that can be painted using a single vertical stroke.</div>
</article>
</div>
</div>
</body>
</html>
