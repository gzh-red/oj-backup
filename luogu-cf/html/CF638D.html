<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Three-dimensional Turtle Super Computer - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573396280:ILV3NkWZ1Fx4XVdjk2w5fXGW4qz5xpMOcqPmDFTCnZ8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22A%20super%20computer%20has%20been%20built%20in%20the%20Turtle%20Academy%20of%20Sciences.%20The%20computer%20consists%20of%20%24%20n%5Cu00b7m%5Cu00b7k%20%24%20CPUs.%20The%20architecture%20was%20the%20paralellepiped%20of%20size%20%24%20n%5Cu00d7m%5Cu00d7k%20%24%20%2C%20split%20into%20%24%201%5Cu00d71%5Cu00d71%20%24%20cells%2C%20each%20cell%20contains%20exactly%20one%20CPU.%20Thus%2C%20each%20CPU%20can%20be%20simultaneously%20identified%20as%20a%20group%20of%20three%20numbers%20from%20the%20layer%20number%20from%20%24%201%20%24%20to%20%24%20n%20%24%20%2C%20the%20line%20number%20from%20%24%201%20%24%20to%20%24%20m%20%24%20and%20the%20column%20number%20from%20%24%201%20%24%20to%20%24%20k%20%24%20.%5Cn%5CnIn%20the%20process%20of%20the%20Super%20Computer%27s%20work%20the%20CPUs%20can%20send%20each%20other%20messages%20by%20the%20famous%20turtle%20scheme%3A%20CPU%20%24%20%28x%2Cy%2Cz%29%20%24%20can%20send%20messages%20to%20CPUs%20%24%20%28x%2B1%2Cy%2Cz%29%20%24%20%2C%20%24%20%28x%2Cy%2B1%2Cz%29%20%24%20and%20%24%20%28x%2Cy%2Cz%2B1%29%20%24%20%28of%20course%2C%20if%20they%20exist%29%2C%20there%20is%20no%20feedback%2C%20that%20is%2C%20CPUs%20%24%20%28x%2B1%2Cy%2Cz%29%20%24%20%2C%20%24%20%28x%2Cy%2B1%2Cz%29%20%24%20and%20%24%20%28x%2Cy%2Cz%2B1%29%20%24%20cannot%20send%20messages%20to%20CPU%20%24%20%28x%2Cy%2Cz%29%20%24%20.%5Cn%5CnOver%20time%20some%20CPUs%20broke%20down%20and%20stopped%20working.%20Such%20CPUs%20cannot%20send%20messages%2C%20receive%20messages%20or%20serve%20as%20intermediates%20in%20transmitting%20messages.%20We%20will%20say%20that%20CPU%20%24%20%28a%2Cb%2Cc%29%20%24%20controls%20CPU%20%24%20%28d%2Ce%2Cf%29%20%24%20%2C%20if%20there%20is%20a%20chain%20of%20CPUs%20%24%20%28x_%7Bi%7D%2Cy_%7Bi%7D%2Cz_%7Bi%7D%29%20%24%20%2C%20such%20that%20%24%20%28x_%7B1%7D%3Da%2Cy_%7B1%7D%3Db%2Cz_%7B1%7D%3Dc%29%20%24%20%2C%20%24%20%28x_%7Bp%7D%3Dd%2Cy_%7Bp%7D%3De%2Cz_%7Bp%7D%3Df%29%20%24%20%28here%20and%20below%20%24%20p%20%24%20is%20the%20length%20of%20the%20chain%29%20and%20the%20CPU%20in%20the%20chain%20with%20number%20%24%20i%20%24%20%28%20%24%20i%26lt%3Bp%20%24%20%29%20can%20send%20messages%20to%20CPU%20%24%20i%2B1%20%24%20.%5Cn%5CnTurtles%20are%20quite%20concerned%20about%20the%20denial-proofness%20of%20the%20system%20of%20communication%20between%20the%20remaining%20CPUs.%20For%20that%20they%20want%20to%20know%20the%20number%20of%20critical%20CPUs.%20A%20CPU%20%24%20%28x%2Cy%2Cz%29%20%24%20is%20critical%2C%20if%20turning%20it%20off%20will%20disrupt%20some%20control%2C%20that%20is%2C%20if%20there%20are%20two%20distinctive%20from%20%24%20%28x%2Cy%2Cz%29%20%24%20CPUs%3A%20%24%20%28a%2Cb%2Cc%29%20%24%20and%20%24%20%28d%2Ce%2Cf%29%20%24%20%2C%20such%20that%20%24%20%28a%2Cb%2Cc%29%20%24%20controls%20%24%20%28d%2Ce%2Cf%29%20%24%20before%20%24%20%28x%2Cy%2Cz%29%20%24%20is%20turned%20off%20and%20stopped%20controlling%20it%20after%20the%20turning%20off.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20three%20integers%20%24%20n%20%24%20%2C%20%24%20m%20%24%20and%20%24%20k%20%24%20%28%20%24%201%3C%3Dn%2Cm%2Ck%3C%3D100%20%24%20%29%20%5Cu2014%20the%20dimensions%20of%20the%20Super%20Computer.%5Cn%5CnThen%20%24%20n%20%24%20blocks%20follow%2C%20describing%20the%20current%20state%20of%20the%20processes.%20The%20blocks%20correspond%20to%20the%20layers%20of%20the%20Super%20Computer%20in%20the%20order%20from%20%24%201%20%24%20to%20%24%20n%20%24%20.%20Each%20block%20consists%20of%20%24%20m%20%24%20lines%2C%20%24%20k%20%24%20characters%20in%20each%20%5Cu2014%20the%20description%20of%20a%20layer%20in%20the%20format%20of%20an%20%24%20m%5Cu00d7k%20%24%20table.%20Thus%2C%20the%20state%20of%20the%20CPU%20%24%20%28x%2Cy%2Cz%29%20%24%20is%20corresponded%20to%20the%20%24%20z%20%24%20-th%20character%20of%20the%20%24%20y%20%24%20-th%20line%20of%20the%20block%20number%20%24%20x%20%24%20.%20Character%20%5C%221%5C%22%20corresponds%20to%20a%20working%20CPU%20and%20character%20%5C%220%5C%22%20corresponds%20to%20a%20malfunctioning%20one.%20The%20blocks%20are%20separated%20by%20exactly%20one%20empty%20line.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20number%20of%20critical%20CPUs%2C%20that%20is%2C%20such%20that%20turning%20only%20this%20CPU%20off%20will%20disrupt%20some%20control.%22%2C%22samples%22%3A%5B%5B%222%202%203%5Cn000%5Cn000%5Cn%5Cn111%5Cn111%5Cn%22%2C%222%5Cn%22%5D%2C%5B%223%203%203%5Cn111%5Cn111%5Cn111%5Cn%5Cn111%5Cn111%5Cn111%5Cn%5Cn111%5Cn111%5Cn111%5Cn%22%2C%2219%5Cn%22%5D%2C%5B%221%201%2010%5Cn0101010101%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20sample%20the%20whole%20first%20layer%20of%20CPUs%20is%20malfunctional.%20In%20the%20second%20layer%20when%20CPU%20%24%20%282%2C1%2C2%29%20%24%20turns%20off%2C%20it%20disrupts%20the%20control%20by%20CPU%20%24%20%282%2C1%2C3%29%20%24%20over%20CPU%20%24%20%282%2C1%2C1%29%20%24%20%2C%20and%20when%20CPU%20%24%20%282%2C2%2C2%29%20%24%20is%20turned%20off%2C%20it%20disrupts%20the%20control%20over%20CPU%20%24%20%282%2C2%2C3%29%20%24%20by%20CPU%20%24%20%282%2C2%2C1%29%20%24%20.%5Cn%5CnIn%20the%20second%20sample%20all%20processors%20except%20for%20the%20corner%20ones%20are%20critical.%5Cn%5CnIn%20the%20third%20sample%20there%20is%20not%20a%20single%20processor%20controlling%20another%20processor%2C%20so%20the%20answer%20is%20%24%200%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F638%5C%2FD%22%2C%22id%22%3A%22638D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF638D%22%2C%22title%22%3A%22Three-dimensional%20Turtle%20Super%20Computer%20%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Three-dimensional%20Turtle%20Super%20Computer%20%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Three-dimensional Turtle Super Computer </h1>
<h2>题目描述</h2>
<div>A super computer has been built in the Turtle Academy of Sciences. The computer consists of $ n·m·k $ CPUs. The architecture was the paralellepiped of size $ n×m×k $ , split into $ 1×1×1 $ cells, each cell contains exactly one CPU. Thus, each CPU can be simultaneously identified as a group of three numbers from the layer number from $ 1 $ to $ n $ , the line number from $ 1 $ to $ m $ and the column number from $ 1 $ to $ k $ .
In the process of the Super Computer's work the CPUs can send each other messages by the famous turtle scheme: CPU $ (x,y,z) $ can send messages to CPUs $ (x+1,y,z) $ , $ (x,y+1,z) $ and $ (x,y,z+1) $ (of course, if they exist), there is no feedback, that is, CPUs $ (x+1,y,z) $ , $ (x,y+1,z) $ and $ (x,y,z+1) $ cannot send messages to CPU $ (x,y,z) $ .
Over time some CPUs broke down and stopped working. Such CPUs cannot send messages, receive messages or serve as intermediates in transmitting messages. We will say that CPU $ (a,b,c) $ controls CPU $ (d,e,f) $ , if there is a chain of CPUs $ (x_{i},y_{i},z_{i}) $ , such that $ (x_{1}=a,y_{1}=b,z_{1}=c) $ , $ (x_{p}=d,y_{p}=e,z_{p}=f) $ (here and below $ p $ is the length of the chain) and the CPU in the chain with number $ i $ ( $ i&lt;p $ ) can send messages to CPU $ i+1 $ .
Turtles are quite concerned about the denial-proofness of the system of communication between the remaining CPUs. For that they want to know the number of critical CPUs. A CPU $ (x,y,z) $ is critical, if turning it off will disrupt some control, that is, if there are two distinctive from $ (x,y,z) $ CPUs: $ (a,b,c) $ and $ (d,e,f) $ , such that $ (a,b,c) $ controls $ (d,e,f) $ before $ (x,y,z) $ is turned off and stopped controlling it after the turning off.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains three integers $ n $ , $ m $ and $ k $ ( $ 1<=n,m,k<=100 $ ) — the dimensions of the Super Computer.
Then $ n $ blocks follow, describing the current state of the processes. The blocks correspond to the layers of the Super Computer in the order from $ 1 $ to $ n $ . Each block consists of $ m $ lines, $ k $ characters in each — the description of a layer in the format of an $ m×k $ table. Thus, the state of the CPU $ (x,y,z) $ is corresponded to the $ z $ -th character of the $ y $ -th line of the block number $ x $ . Character "1" corresponds to a working CPU and character "0" corresponds to a malfunctioning one. The blocks are separated by exactly one empty line.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the number of critical CPUs, that is, such that turning only this CPU off will disrupt some control.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 2 3
000
000

111
111
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3 3 3
111
111
111

111
111
111

111
111
111
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>19
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>1 1 10
0101010101
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>0
</code></pre>
<h2>说明</h2>
<div>In the first sample the whole first layer of CPUs is malfunctional. In the second layer when CPU $ (2,1,2) $ turns off, it disrupts the control by CPU $ (2,1,3) $ over CPU $ (2,1,1) $ , and when CPU $ (2,2,2) $ is turned off, it disrupts the control over CPU $ (2,2,3) $ by CPU $ (2,2,1) $ .
In the second sample all processors except for the corner ones are critical.
In the third sample there is not a single processor controlling another processor, so the answer is $ 0 $ .</div>
</article>
</div>
</div>
</body>
</html>
