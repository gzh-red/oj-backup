<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Pearls in a Row - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573396064:sF2aY0oL+3tSuzXjdQE9QGGZ7p6l1vUeolP3eDSlqEo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22There%20are%20%24%20n%20%24%20pearls%20in%20a%20row.%20Let%27s%20enumerate%20them%20with%20integers%20from%20%24%201%20%24%20to%20%24%20n%20%24%20from%20the%20left%20to%20the%20right.%20The%20pearl%20number%20%24%20i%20%24%20has%20the%20type%20%24%20a_%7Bi%7D%20%24%20.%5Cn%5CnLet%27s%20call%20a%20sequence%20of%20consecutive%20pearls%20a%20segment.%20Let%27s%20call%20a%20segment%20good%20if%20it%20contains%20two%20pearls%20of%20the%20same%20type.%5Cn%5CnSplit%20the%20row%20of%20the%20pearls%20to%20the%20maximal%20number%20of%20good%20segments.%20Note%20that%20each%20pearl%20should%20appear%20in%20exactly%20one%20segment%20of%20the%20partition.%5Cn%5CnAs%20input%5C%2Foutput%20can%20reach%20huge%20size%20it%20is%20recommended%20to%20use%20fast%20input%5C%2Foutput%20methods%3A%20for%20example%2C%20prefer%20to%20use%20scanf%5C%2Fprintf%20instead%20of%20cin%5C%2Fcout%20in%20C%2B%2B%2C%20prefer%20to%20use%20BufferedReader%5C%2FPrintWriter%20instead%20of%20Scanner%5C%2FSystem.out%20in%20Java.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D3%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20pearls%20in%20a%20row.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_%7Bi%7D%20%24%20%28%20%24%201%3C%3Da_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20%29%20%5Cu2013%20the%20type%20of%20the%20%24%20i%20%24%20-th%20pearl.%22%2C%22outputFormat%22%3A%22On%20the%20first%20line%20print%20integer%20%24%20k%20%24%20%5Cu2014%20the%20maximal%20number%20of%20segments%20in%20a%20partition%20of%20the%20row.%5Cn%5CnEach%20of%20the%20next%20%24%20k%20%24%20lines%20should%20contain%20two%20integers%20%24%20l_%7Bj%7D%2Cr_%7Bj%7D%20%24%20%28%20%24%201%3C%3Dl_%7Bj%7D%3C%3Dr_%7Bj%7D%3C%3Dn%20%24%20%29%20%5Cu2014%20the%20number%20of%20the%20leftmost%20and%20the%20rightmost%20pearls%20in%20the%20%24%20j%20%24%20-th%20segment.%5Cn%5CnNote%20you%20should%20print%20the%20correct%20partition%20of%20the%20row%20of%20the%20pearls%2C%20so%20each%20pearl%20should%20be%20in%20exactly%20one%20segment%20and%20all%20segments%20should%20contain%20two%20pearls%20of%20the%20same%20type.%5Cn%5CnIf%20there%20are%20several%20optimal%20solutions%20print%20any%20of%20them.%20You%20can%20print%20the%20segments%20in%20any%20order.%5Cn%5CnIf%20there%20are%20no%20correct%20partitions%20of%20the%20row%20print%20the%20number%20%5C%22-1%5C%22.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%202%203%204%201%5Cn%22%2C%221%5Cn1%205%5Cn%22%5D%2C%5B%225%5Cn1%202%203%204%205%5Cn%22%2C%22-1%5Cn%22%5D%2C%5B%227%5Cn1%202%201%203%201%202%201%5Cn%22%2C%222%5Cn1%203%5Cn4%207%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F620%5C%2FC%22%2C%22id%22%3A%22620C%22%7D%2C%22translation%22%3A%22%5Cu73b0%5Cu5728%5Cu6709N%5Cu4e2a%5Cu6570%5Cuff0c%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu5c06%5Cu8fd9N%5Cu4e2a%5Cu6570%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu5207%5Cu5272%5Cu6210%5Cu591a%5Cu6bb5%5Cu3002%5Cu6bcf%5Cu4e00%5Cu6bb5%5Cu5fc5%5Cu987b%5Cu5305%5Cu62ec%5Cu4e24%5Cu4e2a%5Cu76f8%5Cu540c%5Cu7684%5Cu6570%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6570%5Cu636e%5Cu8f93%5Cu5165%5Cu91cf%5Cu6bd4%5Cu8f83%5Cu5927%5Cuff0c%5Cu5efa%5Cu8bae%5Cu4f7f%5Cu7528scanf%5Cu548cprintf%5Cu3002%5Cr%5Cn%5Cr%5CnInput%5Cr%5Cn%5Cu5355%5Cu7ec4%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cu3002%5Cu6570%5Cu636e%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e3aN%281%5Cu2009%5Cu2264%5Cu2009N%5Cu2009%5Cu2264%5Cu20093%5Cu00b7105%29%20%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6570%5Cu636e%5Cu7684%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5305%5Cu62ecN%5Cu4e2a%5Cu6570ai%281%5Cu2009%5Cu2264%5Cu2009ai%5Cu2009%5Cu2264%5Cu2009109%29%20%5Cu3002%5Cr%5Cn%5Cr%5CnOutput%5Cr%5Cn%5Cu8f93%5Cu51fa%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e3a%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu5207%5Cu5272%5Cu7684%5Cu6700%5Cu5927%5Cu6bb5%5Cu6570K%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765K%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e3a%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570lj%2C%5Cu2009rj%20%281%5Cu2009%5Cu2264%5Cu2009lj%5Cu2009%5Cu2264%5Cu2009rj%5Cu2009%5Cu2264%5Cu2009n%29%20%5Cuff0c%5Cu8868%5Cu793a%5Cu5207%5Cu5272%5Cu7684%5Cu533a%5Cu95f4%5Cu8303%5Cu56f4%5Cr%5Cn%5Cr%5Cn%5Cu5982%5Cu679c%5Cu5b58%5Cu5728%5Cu591a%5Cu4e2a%5Cu5408%5Cu6cd5%5Cu7684%5Cu5207%5Cu5272%5Cu65b9%5Cu6cd5%5Cuff0c%5Cu8f93%5Cu51fa%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu5373%5Cu53ef%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5982%5Cu679c%5Cu4e0d%5Cu80fd%5Cu5207%5Cu5272%5Cu6210%5Cu5408%5Cu6cd5%5Cu7684%5Cu60c5%5Cu51b5%5Cuff0c%5Cu8f93%5Cu51fa%5C%22-1%5C%22.%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A7%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF620C%22%2C%22title%22%3A%22Pearls%20in%20a%20Row%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Pearls%20in%20a%20Row%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Pearls in a Row</h1>
<h2>题意翻译</h2>
<div>现在有N个数，你的任务是将这N个数尽可能切割成多段。每一段必须包括两个相同的数。
数据输入量比较大，建议使用scanf和printf。
Input
单组测试数据。数据第一行为N(1 ≤ N ≤ 3·105) 。
数据的第二行包括N个数ai(1 ≤ ai ≤ 109) 。
Output
输出的第一行为尽可能切割的最大段数K。
接下来K行，每行为两个整数lj, rj (1 ≤ lj ≤ rj ≤ n) ，表示切割的区间范围
如果存在多个合法的切割方法，输出任意一个即可。
如果不能切割成合法的情况，输出"-1".</div>
<h2>题目描述</h2>
<div>There are $ n $ pearls in a row. Let's enumerate them with integers from $ 1 $ to $ n $ from the left to the right. The pearl number $ i $ has the type $ a_{i} $ .
Let's call a sequence of consecutive pearls a segment. Let's call a segment good if it contains two pearls of the same type.
Split the row of the pearls to the maximal number of good segments. Note that each pearl should appear in exactly one segment of the partition.
As input/output can reach huge size it is recommended to use fast input/output methods: for example, prefer to use scanf/printf instead of cin/cout in C++, prefer to use BufferedReader/PrintWriter instead of Scanner/System.out in Java.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integer $ n $ ( $ 1<=n<=3·10^{5} $ ) — the number of pearls in a row.
The second line contains $ n $ integers $ a_{i} $ ( $ 1<=a_{i}<=10^{9} $ ) – the type of the $ i $ -th pearl.</div>
<h3>输出格式</h3>
<br />
<div>On the first line print integer $ k $ — the maximal number of segments in a partition of the row.
Each of the next $ k $ lines should contain two integers $ l_{j},r_{j} $ ( $ 1<=l_{j}<=r_{j}<=n $ ) — the number of the leftmost and the rightmost pearls in the $ j $ -th segment.
Note you should print the correct partition of the row of the pearls, so each pearl should be in exactly one segment and all segments should contain two pearls of the same type.
If there are several optimal solutions print any of them. You can print the segments in any order.
If there are no correct partitions of the row print the number "-1".</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
1 2 3 4 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
1 5
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5
1 2 3 4 5
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>-1
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>7
1 2 1 3 1 2 1
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>2
1 3
4 7
</code></pre>
</article>
</div>
</div>
</body>
</html>
