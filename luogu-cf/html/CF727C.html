<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Guess the Array - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397137:Eymb0FxoB/HFF+parbyNBPIC7paDuxX+YClZxHW4TD8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22This%20is%20an%20interactive%20problem.%20You%20should%20use%20flush%20operation%20after%20each%20printed%20line.%20For%20example%2C%20in%20C%2B%2B%20you%20should%20use%20fflush%28stdout%29%2C%20in%20Java%20you%20should%20use%20System.out.flush%28%29%2C%20and%20in%20Pascal%20%5Cu2014%20flush%28output%29.%5Cn%5CnIn%20this%20problem%20you%20should%20guess%20an%20array%20%24%20a%20%24%20which%20is%20unknown%20for%20you.%20The%20only%20information%20you%20have%20initially%20is%20the%20length%20%24%20n%20%24%20of%20the%20array%20%24%20a%20%24%20.%5Cn%5CnThe%20only%20allowed%20action%20is%20to%20ask%20the%20sum%20of%20two%20elements%20by%20their%20indices.%20Formally%2C%20you%20can%20print%20two%20indices%20%24%20i%20%24%20and%20%24%20j%20%24%20%28the%20indices%20should%20be%20distinct%29.%20Then%20your%20program%20should%20read%20the%20response%3A%20the%20single%20integer%20equals%20to%20%24%20a_%7Bi%7D%2Ba_%7Bj%7D%20%24%20.%5Cn%5CnIt%20is%20easy%20to%20prove%20that%20it%20is%20always%20possible%20to%20guess%20the%20array%20using%20at%20most%20%24%20n%20%24%20requests.%5Cn%5CnWrite%20a%20program%20that%20will%20guess%20the%20array%20%24%20a%20%24%20by%20making%20at%20most%20%24%20n%20%24%20requests.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22In%20each%20test%20your%20program%20should%20guess%20a%20single%20array.%5Cn%5CnThe%20input%20starts%20with%20a%20line%20containing%20integer%20%24%20n%20%24%20%28%20%24%203%3C%3Dn%3C%3D5000%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20array.%20Your%20program%20should%20read%20it%20at%20first.%5Cn%5CnAfter%20that%20your%20program%20should%20print%20to%20the%20standard%20output%20the%20requests%20about%20the%20sum%20of%20two%20elements%20or%20inform%20that%20the%20array%20is%20guessed.%5Cn%5Cn-%20In%20case%20your%20program%20is%20making%20a%20request%20to%20ask%20the%20sum%20of%20two%20elements%2C%20it%20should%20print%20line%20in%20the%20format%20%5C%22%3F%20i%20j%5C%22%20%28%20%24%20i%20%24%20and%20%24%20j%20%24%20are%20distinct%20integers%20between%20%24%201%20%24%20and%20%24%20n%20%24%20%29%2C%20where%20%24%20i%20%24%20and%20%24%20j%20%24%20are%20indices%20in%20the%20array%20%24%20a%20%24%20.%5Cn-%20In%20case%20your%20program%20informs%20that%20the%20array%20is%20guessed%2C%20it%20should%20print%20line%20in%20the%20format%20%5C%22%20%24%20%21%5Cu00a0a_%7B1%7D%5Cu00a0a_%7B2%7D%5Cu00a0...%5Cu00a0a_%7Bn%7D%20%24%20%5C%22%20%28it%20is%20guaranteed%20that%20all%20%24%20a_%7Bi%7D%20%24%20are%20positive%20integers%20not%20exceeding%20%24%2010%5E%7B5%7D%20%24%20%29%2C%20where%20%24%20a_%7Bi%7D%20%24%20is%20the%20%24%20i%20%24%20-th%20element%20of%20the%20array%20%24%20a%20%24%20.%5Cn%5CnThe%20response%20on%20a%20request%20is%20a%20single%20integer%20equal%20to%20%24%20a_%7Bi%7D%2Ba_%7Bj%7D%20%24%20%2C%20printed%20on%20a%20separate%20line.%5Cn%5CnYour%20program%20can%20do%20at%20most%20%24%20n%20%24%20requests.%20Note%20that%20the%20final%20line%20%5Cu00ab%20%24%20%21%5Cu00a0a_%7B1%7D%5Cu00a0a_%7B2%7D%5Cu00a0...%5Cu00a0a_%7Bn%7D%20%24%20%5Cu00bb%20is%20not%20counted%20as%20a%20request.%5Cn%5CnDo%20not%20forget%20about%20flush%20operation%20after%20each%20printed%20line.%5Cn%5CnAfter%20you%20program%20prints%20the%20guessed%20array%2C%20it%20should%20terminate%20normally.%22%2C%22samples%22%3A%5B%5B%225%5Cn%5Cu00a0%5Cn9%5Cn%5Cu00a0%5Cn7%5Cn%5Cu00a0%5Cn9%5Cn%5Cu00a0%5Cn11%5Cn%5Cu00a0%5Cn6%5Cn%5Cu00a0%22%2C%22%5Cu00a0%5Cn%3F%201%205%5Cn%5Cu00a0%5Cn%3F%202%203%5Cn%5Cu00a0%5Cn%3F%204%201%5Cn%5Cu00a0%5Cn%3F%205%202%5Cn%5Cu00a0%5Cn%3F%203%204%5Cn%5Cu00a0%5Cn%21%204%206%201%205%205%22%5D%5D%2C%22hint%22%3A%22The%20format%20of%20a%20test%20to%20make%20a%20hack%20is%3A%5Cn%5Cn-%20The%20first%20line%20contains%20an%20integer%20number%20%24%20n%20%24%20%28%20%24%203%3C%3Dn%3C%3D5000%20%24%20%29%20%5Cu2014%20the%20length%20of%20the%20array.%5Cn-%20The%20second%20line%20contains%20%24%20n%20%24%20numbers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%28%20%24%201%3C%3Da_%7Bi%7D%3C%3D10%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20elements%20of%20the%20array%20to%20guess.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F727%5C%2FC%22%2C%22id%22%3A%22727C%22%7D%2C%22translation%22%3A%22%5Cu8fd9%5Cu662f%5Cu4e00%5Cu9053%5Cu4ea4%5Cu4e92%5Cu9898%5Cu3002%5Cn%5Cu4f60%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu6570%5Cu7ec4a%2C%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu5411%5Cu4ea4%5Cu4e92%5Cu5e93%5Cu8be2%5Cu95ee%5Cu4efb%5Cu610f%5Cu4e24%5Cu4e2a%5Cu6570%5Cu7684%5Cu548c%5Cuff0c%5Cu4f60%5Cu81f3%5Cu591a%5Cu53ef%5Cu4ee5%5Cu8be2%5Cu95een%5Cu6b21%5Cuff0c%5Cu4f60%5Cu7684%5Cu76ee%5Cu6807%5Cu662f%5Cu6839%5Cu636e%5Cu8be2%5Cu95ee%5Cu7ed3%5Cu679c%5Cu7b97%5Cu51fa%5Cu6570%5Cu7ec4%5Cu91cc%5Cu7684%5Cu6bcf%5Cu4e2a%5Cu6570%5Cu3002%5Cn%5Cu8be2%5Cu95ee%5Cu683c%5Cu5f0f%5Cu5982%5Cu4e0b%5Cuff1a%5Cn1.%5Cu4f60%5Cu8f93%5Cu51fa%20%3F%20x%20y%5Cn2.%5Cu4ea4%5Cu4e92%5Cu5e93%5Cu5c06%5Cu4f1a%5Cu544a%5Cu8bc9%5Cu4f60a%5Bx%5D%5Cu4e0ea%5By%5D%5Cu7684%5Cu548c%5Cn%5Cu4ea4%5Cu4e92%5Cu5e93%5Cu5c06%5Cu4f1a%5Cu5c06%5Cu4f60%5Cu67e5%5Cu8be2%5Cu7684%5Cu7ed3%5Cu679c%5Cu8f93%5Cu51fa%5Cu5230%5Cu4f60%5Cu7a0b%5Cu5e8f%5Cu7684%5Cu6807%5Cu51c6%5Cu8f93%5Cu5165%5Cu4e2d%5Cuff0c%5Cu4f60%5Cu8be2%5Cu95ee%5Cu5b8c%5Cu76f4%5Cu63a5%5Cu8bfb%5Cu5165%5Cu5373%5Cu53ef%5Cu3002%5Cn%5Cu6bcf%5Cu505a%5Cu51fa%5Cu4e00%5Cu6b21%5Cu8be2%5Cu95ee%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu4f7f%5Cu7528flush%5Cuff0c%5Cu5177%5Cu4f53%5Cu7528%5Cu6cd5%5Cu53c2%5Cu89c1CF679A%5Cu7684%5Cu7ffb%5Cu8bd1%5Cn%5Cu5f53%5Cu4f60%5Cu8ba1%5Cu7b97%5Cu51fa%5Cu7ed3%5Cu679c%5Cu540e%5Cuff0c%5Cu9700%5Cu8981%5Cu5148%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5C%22%21%20%5C%22%5Cuff0c%5Cu63a5%5Cu4e0b%5Cu6765%5Cu8f93%5Cu51faa%5B1%5D%2Ca%5B2%5D%2Ca%5B3%5D...a%5Bn%5D%5Cuff0c%5Cu6bcf%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7a7a%5Cu4e00%5Cu683c%5Cu3002%5Cn%5Cu5177%5Cu4f53%5Cu683c%5Cu5f0f%5Cu53ef%5Cu53c2%5Cu8003%5Cu6837%5Cu4f8b%5Cu7406%5Cu89e3%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22U20158%20Ebola%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B103%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A91%2C%22totalAccepted%22%3A41%2C%22pid%22%3A%22CF727C%22%2C%22title%22%3A%22Guess%20the%20Array%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33507%2C%22title%22%3A%22%5Cu3010%5Cu7ffb%5Cu8bd1%5Cu3011%22%2C%22forum%22%3A%7B%22id%22%3A9739%2C%22name%22%3A%22CF727C%20Guess%20the%20Array%22%2C%22slug%22%3A%22CF727C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2397%22%2C%22title%22%3A%22yyy%20loves%20Maths%20VI%20%28mode%29%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3375%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011KMP%5Cu5b57%5Cu7b26%5Cu4e32%5Cu5339%5Cu914d%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF679A%22%2C%22title%22%3A%22Bear%20and%20Prime%20100%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF605A%22%2C%22title%22%3A%22Sorting%20Railway%20Cars%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1010B%22%2C%22title%22%3A%22Rocket%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Guess%20the%20Array%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Guess the Array</h1>
<h2>题意翻译</h2>
<div>这是一道交互题。
你有一个长度为n的数组a,你可以向交互库询问任意两个数的和，你至多可以询问n次，你的目标是根据询问结果算出数组里的每个数。
询问格式如下：
1.你输出 ? x y
2.交互库将会告诉你a[x]与a[y]的和
交互库将会将你查询的结果输出到你程序的标准输入中，你询问完直接读入即可。
每做出一次询问，你需要使用flush，具体用法参见CF679A的翻译
当你计算出结果后，需要先输出一个"! "，接下来输出a[1],a[2],a[3]...a[n]，每输出一个数空一格。
具体格式可参考样例理解。
感谢U20158 Ebola 提供的翻译</div>
<h2>题目描述</h2>
<div>This is an interactive problem. You should use flush operation after each printed line. For example, in C++ you should use fflush(stdout), in Java you should use System.out.flush(), and in Pascal — flush(output).
In this problem you should guess an array $ a $ which is unknown for you. The only information you have initially is the length $ n $ of the array $ a $ .
The only allowed action is to ask the sum of two elements by their indices. Formally, you can print two indices $ i $ and $ j $ (the indices should be distinct). Then your program should read the response: the single integer equals to $ a_{i}+a_{j} $ .
It is easy to prove that it is always possible to guess the array using at most $ n $ requests.
Write a program that will guess the array $ a $ by making at most $ n $ requests.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div>In each test your program should guess a single array.
The input starts with a line containing integer $ n $ ( $ 3<=n<=5000 $ ) — the length of the array. Your program should read it at first.
After that your program should print to the standard output the requests about the sum of two elements or inform that the array is guessed.
- In case your program is making a request to ask the sum of two elements, it should print line in the format "? i j" ( $ i $ and $ j $ are distinct integers between $ 1 $ and $ n $ ), where $ i $ and $ j $ are indices in the array $ a $ .
- In case your program informs that the array is guessed, it should print line in the format " $ ! a_{1} a_{2} ... a_{n} $ " (it is guaranteed that all $ a_{i} $ are positive integers not exceeding $ 10^{5} $ ), where $ a_{i} $ is the $ i $ -th element of the array $ a $ .
The response on a request is a single integer equal to $ a_{i}+a_{j} $ , printed on a separate line.
Your program can do at most $ n $ requests. Note that the final line « $ ! a_{1} a_{2} ... a_{n} $ » is not counted as a request.
Do not forget about flush operation after each printed line.
After you program prints the guessed array, it should terminate normally.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
 
9
 
7
 
9
 
11
 
6
 </code></pre>
<h3>输出样例 #1</h3>
<pre><code> 
? 1 5
 
? 2 3
 
? 4 1
 
? 5 2
 
? 3 4
 
! 4 6 1 5 5</code></pre>
<h2>说明</h2>
<div>The format of a test to make a hack is:
- The first line contains an integer number $ n $ ( $ 3<=n<=5000 $ ) — the length of the array.
- The second line contains $ n $ numbers $ a_{1},a_{2},...,a_{n} $ ( $ 1<=a_{i}<=10^{5} $ ) — the elements of the array to guess.</div>
</article>
</div>
</div>
</body>
</html>
