<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Autocompletion - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573399520:NKKstDe/a2aYmOWeCnEFh4KYMft1R1NEpxtGEvkIUmg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Arcady%20is%20a%20copywriter.%20His%20today%27s%20task%20is%20to%20type%20up%20an%20already%20well-designed%20story%20using%20his%20favorite%20text%20editor.%5Cn%5CnArcady%20types%20words%2C%20punctuation%20signs%20and%20spaces%20one%20after%20another.%20Each%20letter%20and%20each%20sign%20%28including%20line%20feed%29%20requires%20one%20keyboard%20click%20in%20order%20to%20be%20printed.%20Moreover%2C%20when%20Arcady%20has%20a%20non-empty%20prefix%20of%20some%20word%20on%20the%20screen%2C%20the%20editor%20proposes%20a%20possible%20autocompletion%20for%20this%20word%2C%20more%20precisely%20one%20of%20the%20already%20printed%20words%20such%20that%20its%20prefix%20matches%20the%20currently%20printed%20prefix%20if%20this%20word%20is%20unique.%20For%20example%2C%20if%20Arcady%20has%20already%20printed%20%5Cu00abcodeforces%5Cu00bb%2C%20%5Cu00abcoding%5Cu00bb%20and%20%5Cu00abcodeforces%5Cu00bb%20once%20again%2C%20then%20there%20will%20be%20no%20autocompletion%20attempt%20for%20%5Cu00abcod%5Cu00bb%2C%20but%20if%20he%20proceeds%20with%20%5Cu00abcode%5Cu00bb%2C%20the%20editor%20will%20propose%20%5Cu00abcodeforces%5Cu00bb.%5Cn%5CnWith%20a%20single%20click%20Arcady%20can%20follow%20the%20editor%27s%20proposal%2C%20i.e.%20to%20transform%20the%20current%20prefix%20to%20it.%20Note%20that%20no%20additional%20symbols%20are%20printed%20after%20the%20autocompletion%20%28no%20spaces%2C%20line%20feeds%2C%20etc%29.%20What%20is%20the%20minimum%20number%20of%20keyboard%20clicks%20Arcady%20has%20to%20perform%20to%20print%20the%20entire%20text%2C%20if%20he%20is%20not%20allowed%20to%20move%20the%20cursor%20or%20erase%20the%20already%20printed%20symbols%3F%5Cn%5CnA%20word%20here%20is%20a%20contiguous%20sequence%20of%20latin%20letters%20bordered%20by%20spaces%2C%20punctuation%20signs%20and%20line%5C%2Ftext%20beginnings%5C%2Fends.%20Arcady%20uses%20only%20lowercase%20letters.%20For%20example%2C%20there%20are%2020%20words%20in%20%5Cu00abit%27s%20well-known%20that%20tic-tac-toe%20is%20a%20paper-and-pencil%20game%20for%20two%20players%2C%20x%20and%20o.%5Cu00bb.%22%2C%22inputFormat%22%3A%22The%20only%20line%20contains%20Arcady%27s%20text%2C%20consisting%20only%20of%20lowercase%20latin%20letters%2C%20spaces%2C%20line%20feeds%20and%20the%20following%20punctuation%20signs%3A%20%5Cu00ab.%5Cu00bb%2C%20%5Cu00ab%2C%5Cu00bb%2C%20%5Cu00ab%3F%5Cu00bb%2C%20%5Cu00ab%21%5Cu00bb%2C%20%5Cu00ab%27%5Cu00bb%20and%20%5Cu00ab-%5Cu00bb.%20The%20total%20amount%20of%20symbols%20doesn%27t%20exceed%20%24%203%5Cu00b710%5E%7B5%7D%20%24%20.%20It%27s%20guaranteed%20that%20all%20lines%20are%20non-empty.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20minimum%20number%20of%20clicks.%22%2C%22samples%22%3A%5B%5B%22snow%20affects%20sports%20such%20as%20skiing%2C%20snowboarding%2C%20and%20snowmachine%20travel.%5Cnsnowboarding%20is%20a%20recreational%20activity%20and%20olympic%20and%20paralympic%20sport.%5Cn%22%2C%22141%5Cn%22%5D%2C%5B%22%27co-co-co%2C%20codeforces%3F%21%27%5Cn%22%2C%2225%5Cn%22%5D%2C%5B%22thun-thun-thunder%2C%20thunder%2C%20thunder%5Cnthunder%2C%20thun-%2C%20thunder%5Cnthun-thun-thunder%2C%20thunder%5Cnthunder%2C%20feel%20the%20thunder%5Cnlightning%20then%20the%20thunder%5Cnthunder%2C%20feel%20the%20thunder%5Cnlightning%20then%20the%20thunder%5Cnthunder%2C%20thunder%5Cn%22%2C%22183%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20sample%20case%20one%20it%27s%20optimal%20to%20use%20autocompletion%20for%20the%20first%20instance%20of%20%5Cu00absnowboarding%5Cu00bb%20after%20typing%20up%20%5Cu00absn%5Cu00bb%20and%20for%20the%20second%20instance%20of%20%5Cu00absnowboarding%5Cu00bb%20after%20typing%20up%20%5Cu00absnowb%5Cu00bb.%20This%20will%20save%207%20clicks.%5Cn%5CnIn%20sample%20case%20two%20it%20doesn%27t%20matter%20whether%20to%20use%20autocompletion%20or%20not.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F928%5C%2FD%22%2C%22id%22%3A%22928D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22CF928D%22%2C%22title%22%3A%22Autocompletion%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Autocompletion%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Autocompletion</h1>
<h2>题目描述</h2>
<div>Arcady is a copywriter. His today's task is to type up an already well-designed story using his favorite text editor.
Arcady types words, punctuation signs and spaces one after another. Each letter and each sign (including line feed) requires one keyboard click in order to be printed. Moreover, when Arcady has a non-empty prefix of some word on the screen, the editor proposes a possible autocompletion for this word, more precisely one of the already printed words such that its prefix matches the currently printed prefix if this word is unique. For example, if Arcady has already printed «codeforces», «coding» and «codeforces» once again, then there will be no autocompletion attempt for «cod», but if he proceeds with «code», the editor will propose «codeforces».
With a single click Arcady can follow the editor's proposal, i.e. to transform the current prefix to it. Note that no additional symbols are printed after the autocompletion (no spaces, line feeds, etc). What is the minimum number of keyboard clicks Arcady has to perform to print the entire text, if he is not allowed to move the cursor or erase the already printed symbols?
A word here is a contiguous sequence of latin letters bordered by spaces, punctuation signs and line/text beginnings/ends. Arcady uses only lowercase letters. For example, there are 20 words in «it's well-known that tic-tac-toe is a paper-and-pencil game for two players, x and o.».</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The only line contains Arcady's text, consisting only of lowercase latin letters, spaces, line feeds and the following punctuation signs: «.», «,», «?», «!», «'» and «-». The total amount of symbols doesn't exceed $ 3·10^{5} $ . It's guaranteed that all lines are non-empty.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the minimum number of clicks.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>snow affects sports such as skiing, snowboarding, and snowmachine travel.
snowboarding is a recreational activity and olympic and paralympic sport.
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>141
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>&#039;co-co-co, codeforces?!&#039;
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>25
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>thun-thun-thunder, thunder, thunder
thunder, thun-, thunder
thun-thun-thunder, thunder
thunder, feel the thunder
lightning then the thunder
thunder, feel the thunder
lightning then the thunder
thunder, thunder
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>183
</code></pre>
<h2>说明</h2>
<div>In sample case one it's optimal to use autocompletion for the first instance of «snowboarding» after typing up «sn» and for the second instance of «snowboarding» after typing up «snowb». This will save 7 clicks.
In sample case two it doesn't matter whether to use autocompletion or not.</div>
</article>
</div>
</div>
</body>
</html>
