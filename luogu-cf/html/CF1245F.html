<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Daniel and Spring Cleaning - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403673:jNVIulnJoUZUq0ceYpbboxPE20uuLzlQ34AvzTPWPNQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22While%20doing%20some%20spring%20cleaning%2C%20Daniel%20found%20an%20old%20calculator%20that%20he%20loves%20so%20much.%20However%2C%20it%20seems%20like%20it%20is%20broken.%20When%20he%20tries%20to%20compute%20%24%201%20%2B%203%20%24%20using%20the%20calculator%2C%20he%20gets%20%24%202%20%24%20instead%20of%20%24%204%20%24%20.%20But%20when%20he%20tries%20computing%20%24%201%20%2B%204%20%24%20%2C%20he%20gets%20the%20correct%20answer%2C%20%24%205%20%24%20.%20Puzzled%20by%20this%20mystery%2C%20he%20opened%20up%20his%20calculator%20and%20found%20the%20answer%20to%20the%20riddle%3A%20the%20full%20adders%20became%20half%20adders%21%5Cn%5CnSo%2C%20when%20he%20tries%20to%20compute%20the%20sum%20%24%20a%20%2B%20b%20%24%20using%20the%20calculator%2C%20he%20instead%20gets%20the%20xorsum%20%24%20a%20%5C%5Coplus%20b%20%24%20%28read%20the%20definition%20by%20the%20link%3A%20%5Bhttps%3A%5C%2F%5C%2Fen.wikipedia.org%5C%2Fwiki%5C%2FExclusive%5C%5C_or%5D%28https%3A%5C%2F%5C%2Fen.wikipedia.org%5C%2Fwiki%5C%2FExclusive_or%29%29.%5Cn%5CnAs%20he%20saw%20earlier%2C%20the%20calculator%20sometimes%20gives%20the%20correct%20answer.%20And%20so%2C%20he%20wonders%2C%20given%20integers%20%24%20l%20%24%20and%20%24%20r%20%24%20%2C%20how%20many%20pairs%20of%20integers%20%24%20%28a%2C%20b%29%20%24%20satisfy%20the%20following%20conditions%3A%20%24%20%24%24%24a%20%2B%20b%20%3D%20a%20%5C%5Coplus%20b%20%24%20%24%20%20%20%24%20%24%20l%20%5C%5Cleq%20a%20%5C%5Cleq%20r%20%24%20%24%20%20%20%24%20%24%20l%20%5C%5Cleq%20b%20%5C%5Cleq%20r%20%24%20%24%24%24%5Cn%5CnHowever%2C%20Daniel%20the%20Barman%20is%20going%20to%20the%20bar%20and%20will%20return%20in%20two%20hours.%20He%20tells%20you%20to%20solve%20the%20problem%20before%20he%20returns%2C%20or%20else%20you%20will%20have%20to%20enjoy%20being%20blocked.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20t%20%24%20%28%20%24%201%20%5C%5Cle%20t%20%5C%5Cle%20100%20%24%20%29%20%5Cu2014%20the%20number%20of%20testcases.%5Cn%5CnThen%2C%20%24%20t%20%24%20lines%20follow%2C%20each%20containing%20two%20space-separated%20integers%20%24%20l%20%24%20and%20%24%20r%20%24%20%28%20%24%200%20%5C%5Cle%20l%20%5C%5Cle%20r%20%5C%5Cle%2010%5E9%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20%24%20t%20%24%20integers%2C%20the%20%24%20i%20%24%20-th%20integer%20should%20be%20the%20answer%20to%20the%20%24%20i%20%24%20-th%20testcase.%22%2C%22samples%22%3A%5B%5B%22%5Cn3%5Cn1%204%5Cn323%20323%5Cn1%201000000%5Cn%22%2C%22%5Cn8%5Cn0%5Cn3439863766%5Cn%22%5D%5D%2C%22hint%22%3A%22%20%24%20a%20%5C%5Coplus%20b%20%24%20denotes%20the%20bitwise%20XOR%20of%20%24%20a%20%24%20and%20%24%20b%20%24%20.%5Cn%5CnFor%20the%20first%20testcase%2C%20the%20pairs%20are%3A%20%24%20%281%2C%202%29%20%24%20%2C%20%24%20%281%2C%204%29%20%24%20%2C%20%24%20%282%2C%201%29%20%24%20%2C%20%24%20%282%2C%204%29%20%24%20%2C%20%24%20%283%2C%204%29%20%24%20%2C%20%24%20%284%2C%201%29%20%24%20%2C%20%24%20%284%2C%202%29%20%24%20%2C%20and%20%24%20%284%2C%203%29%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1245%5C%2FF%22%2C%22id%22%3A%221245F%22%7D%2C%22translation%22%3A%22%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cr%5Cn%5Cu7ed9%5Cu5b9a%24l%2Cr%24%5Cuff0c%5Cu6c42%5Cr%5Cn%24%24%5C%5Csum_%7Ba%3Dl%7D%5Er%5C%5Csum_%7Bb%3Dl%7D%5Er%5Ba%2Bb%3Da%5C%5Coplus%20b%5D%24%24%5Cr%5Cn%5Cr%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%24t%281%5C%5Cle%20t%5C%5Cle100%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu6570%5Cu636e%5Cu7ec4%5Cu6570%5Cr%5Cn%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%24t%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%24l%2Cr%24%5Cr%5Cn%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cr%5Cn%5Cu5171%24t%24%5Cu884c%5Cuff0c%5Cu7b54%5Cu6848%5Cu4e3a%5Cu9898%5Cu76ee%5Cu6240%5Cu8ff0%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A53%2C%22totalAccepted%22%3A41%2C%22pid%22%3A%22CF1245F%22%2C%22title%22%3A%22Daniel%20and%20Spring%20Cleaning%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1084%22%2C%22title%22%3A%22%5Cu75ab%5Cu60c5%5Cu63a7%5Cu5236%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5614%22%2C%22title%22%3A%22%5BMtOI2019%5D%5Cu819cSiyuan%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5613%22%2C%22title%22%3A%22%5BMtOI2019%5D%5Cu9ed1%5Cu868a%5Cu5b50%5Cu591a%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1245D%22%2C%22title%22%3A%22Shichikuji%20and%20Power%20Grid%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1245C%22%2C%22title%22%3A%22Constanze%27s%20Machine%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Daniel%20and%20Spring%20Cleaning%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Daniel and Spring Cleaning</h1>
<h2>题意翻译</h2>
<div>## 题目描述
给定$l,r$，求
$$\sum_{a=l}^r\sum_{b=l}^r[a+b=a\oplus b]$$
## 输入格式
第一行$t(1\le t\le100)$，表示数据组数
接下来$t$行，每行$l,r$
## 输出格式
共$t$行，答案为题目所述</div>
<h2>题目描述</h2>
<div>While doing some spring cleaning, Daniel found an old calculator that he loves so much. However, it seems like it is broken. When he tries to compute $ 1 + 3 $ using the calculator, he gets $ 2 $ instead of $ 4 $ . But when he tries computing $ 1 + 4 $ , he gets the correct answer, $ 5 $ . Puzzled by this mystery, he opened up his calculator and found the answer to the riddle: the full adders became half adders!
So, when he tries to compute the sum $ a + b $ using the calculator, he instead gets the xorsum $ a \oplus b $ (read the definition by the link: [https://en.wikipedia.org/wiki/Exclusive\_or](https://en.wikipedia.org/wiki/Exclusive_or)).
As he saw earlier, the calculator sometimes gives the correct answer. And so, he wonders, given integers $ l $ and $ r $ , how many pairs of integers $ (a, b) $ satisfy the following conditions: $ $$$a + b = a \oplus b $ $ $ $ l \leq a \leq r $ $ $ $ l \leq b \leq r $ $$$
However, Daniel the Barman is going to the bar and will return in two hours. He tells you to solve the problem before he returns, or else you will have to enjoy being blocked.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ t $ ( $ 1 \le t \le 100 $ ) — the number of testcases.
Then, $ t $ lines follow, each containing two space-separated integers $ l $ and $ r $ ( $ 0 \le l \le r \le 10^9 $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print $ t $ integers, the $ i $ -th integer should be the answer to the $ i $ -th testcase.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
3
1 4
323 323
1 1000000
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
8
0
3439863766
</code></pre>
<h2>说明</h2>
<div> $ a \oplus b $ denotes the bitwise XOR of $ a $ and $ b $ .
For the first testcase, the pairs are: $ (1, 2) $ , $ (1, 4) $ , $ (2, 1) $ , $ (2, 4) $ , $ (3, 4) $ , $ (4, 1) $ , $ (4, 2) $ , and $ (4, 3) $ .</div>
</article>
</div>
</div>
</body>
</html>
