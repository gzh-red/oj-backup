<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Kamal-ol-molk&#039;s Painting - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573394498:jZlWgyW5b6UJqrhIyM0j17K/VzRJGmhEF/8b+KfeKPM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Rumors%20say%20that%20one%20of%20Kamal-ol-molk%27s%20paintings%20has%20been%20altered.%20A%20rectangular%20brush%20has%20been%20moved%20right%20and%20down%20on%20the%20painting.%5Cn%5CnConsider%20the%20painting%20as%20a%20%24%20n%5Cu00d7m%20%24%20rectangular%20grid.%20At%20the%20beginning%20an%20%24%20x%5Cu00d7y%20%24%20rectangular%20brush%20is%20placed%20somewhere%20in%20the%20frame%2C%20with%20edges%20parallel%20to%20the%20frame%2C%20%28%20%24%201%3C%3Dx%3C%3Dn%2C1%3C%3Dy%3C%3Dm%20%24%20%29.%20Then%20the%20brush%20is%20moved%20several%20times.%20Each%20time%20the%20brush%20is%20moved%20one%20unit%20right%20or%20down.%20The%20brush%20has%20been%20strictly%20inside%20the%20frame%20during%20the%20painting.%20The%20brush%20alters%20every%20cell%20it%20has%20covered%20at%20some%20moment.%5Cn%5CnYou%20have%20found%20one%20of%20the%20old%20Kamal-ol-molk%27s%20paintings.%20You%20want%20to%20know%20if%20it%27s%20possible%20that%20it%20has%20been%20altered%20in%20described%20manner.%20If%20yes%2C%20you%20also%20want%20to%20know%20minimum%20possible%20area%20of%20the%20brush.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%2C%20%28%20%24%201%3C%3Dn%2Cm%3C%3D1000%20%24%20%29%2C%20denoting%20the%20height%20and%20width%20of%20the%20painting.%5Cn%5CnThe%20next%20%24%20n%20%24%20lines%20contain%20the%20painting.%20Each%20line%20has%20%24%20m%20%24%20characters.%20Character%20%27X%27%20denotes%20an%20altered%20cell%2C%20otherwise%20it%27s%20showed%20by%20%27.%27.%20There%20will%20be%20at%20least%20one%20altered%20cell%20in%20the%20painting.%22%2C%22outputFormat%22%3A%22Print%20the%20minimum%20area%20of%20the%20brush%20in%20a%20line%2C%20if%20the%20painting%20is%20possibly%20altered%2C%20otherwise%20print%20%24%20-1%20%24%20.%22%2C%22samples%22%3A%5B%5B%224%204%5CnXX..%5CnXX..%5CnXXXX%5CnXXXX%5Cn%22%2C%224%5Cn%22%5D%2C%5B%224%204%5Cn....%5Cn.XXX%5Cn.XXX%5Cn....%5Cn%22%2C%222%5Cn%22%5D%2C%5B%224%205%5CnXXXX.%5CnXXXX.%5Cn.XX..%5Cn.XX..%5Cn%22%2C%22-1%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F475%5C%2FC%22%2C%22id%22%3A%22475C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF475C%22%2C%22title%22%3A%22Kamal-ol-molk%27s%20Painting%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Kamal-ol-molk%27s%20Painting%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Kamal-ol-molk&#039;s Painting</h1>
<h2>题目描述</h2>
<div>Rumors say that one of Kamal-ol-molk's paintings has been altered. A rectangular brush has been moved right and down on the painting.
Consider the painting as a $ n×m $ rectangular grid. At the beginning an $ x×y $ rectangular brush is placed somewhere in the frame, with edges parallel to the frame, ( $ 1<=x<=n,1<=y<=m $ ). Then the brush is moved several times. Each time the brush is moved one unit right or down. The brush has been strictly inside the frame during the painting. The brush alters every cell it has covered at some moment.
You have found one of the old Kamal-ol-molk's paintings. You want to know if it's possible that it has been altered in described manner. If yes, you also want to know minimum possible area of the brush.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains two integers $ n $ and $ m $ , ( $ 1<=n,m<=1000 $ ), denoting the height and width of the painting.
The next $ n $ lines contain the painting. Each line has $ m $ characters. Character 'X' denotes an altered cell, otherwise it's showed by '.'. There will be at least one altered cell in the painting.</div>
<h3>输出格式</h3>
<br />
<div>Print the minimum area of the brush in a line, if the painting is possibly altered, otherwise print $ -1 $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 4
XX..
XX..
XXXX
XXXX
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4 4
....
.XXX
.XXX
....
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>4 5
XXXX.
XXXX.
.XX..
.XX..
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>-1
</code></pre>
</article>
</div>
</div>
</body>
</html>
