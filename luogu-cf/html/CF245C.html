<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Game with Coins - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392032:uT4XYVUaXXuuSqaCOBRsDPuM3gyK8V4sLfpthHQZPtc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Two%20pirates%20Polycarpus%20and%20Vasily%20play%20a%20very%20interesting%20game.%20They%20have%20%24%20n%20%24%20chests%20with%20coins%2C%20the%20chests%20are%20numbered%20with%20integers%20from%201%20to%20%24%20n%20%24%20.%20Chest%20number%20%24%20i%20%24%20has%20%24%20a_%7Bi%7D%20%24%20coins.%5Cn%5CnPolycarpus%20and%20Vasily%20move%20in%20turns.%20Polycarpus%20moves%20first.%20During%20a%20move%20a%20player%20is%20allowed%20to%20choose%20a%20positive%20integer%20%24%20x%20%24%20%24%20%282%5Cu00b7x%2B1%3C%3Dn%29%20%24%20and%20take%20a%20coin%20from%20each%20chest%20with%20numbers%20%24%20x%20%24%20%2C%20%24%202%5Cu00b7x%20%24%20%2C%20%24%202%5Cu00b7x%2B1%20%24%20.%20It%20may%20turn%20out%20that%20some%20chest%20has%20no%20coins%2C%20in%20this%20case%20the%20player%20doesn%27t%20take%20a%20coin%20from%20this%20chest.%20The%20game%20finishes%20when%20all%20chests%20get%20emptied.%5Cn%5CnPolycarpus%20isn%27t%20a%20greedy%20scrooge.%20Polycarpys%20is%20a%20lazy%20slob.%20So%20he%20wonders%20in%20what%20minimum%20number%20of%20moves%20the%20game%20can%20finish.%20Help%20Polycarpus%2C%20determine%20the%20minimum%20number%20of%20moves%20in%20which%20the%20game%20can%20finish.%20Note%20that%20Polycarpus%20counts%20not%20only%20his%20moves%2C%20he%20also%20counts%20Vasily%27s%20moves.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%24%20%281%3C%3Dn%3C%3D100%29%20%24%20%5Cu2014%20the%20number%20of%20chests%20with%20coins.%20The%20second%20line%20contains%20a%20sequence%20of%20space-separated%20integers%3A%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%24%20%281%3C%3Da_%7Bi%7D%3C%3D1000%29%20%24%20%2C%20where%20%24%20a_%7Bi%7D%20%24%20is%20the%20number%20of%20coins%20in%20the%20chest%20number%20%24%20i%20%24%20at%20the%20beginning%20of%20the%20game.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20minimum%20number%20of%20moves%20needed%20to%20finish%20the%20game.%20If%20no%20sequence%20of%20turns%20leads%20to%20finishing%20the%20game%2C%20print%20-1.%22%2C%22samples%22%3A%5B%5B%221%5Cn1%5Cn%22%2C%22-1%5Cn%22%5D%2C%5B%223%5Cn1%202%203%5Cn%22%2C%223%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20test%20case%20there%20isn%27t%20a%20single%20move%20that%20can%20be%20made.%20That%27s%20why%20the%20players%20won%27t%20be%20able%20to%20empty%20the%20chests.%5Cn%5CnIn%20the%20second%20sample%20there%20is%20only%20one%20possible%20move%20%24%20x%3D1%20%24%20.%20This%20move%20should%20be%20repeated%20at%20least%203%20times%20to%20empty%20the%20third%20chest.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F245%5C%2FC%22%2C%22id%22%3A%22245C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF245C%22%2C%22title%22%3A%22Game%20with%20Coins%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Game%20with%20Coins%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Game with Coins</h1>
<h2>题目描述</h2>
<div>Two pirates Polycarpus and Vasily play a very interesting game. They have $ n $ chests with coins, the chests are numbered with integers from 1 to $ n $ . Chest number $ i $ has $ a_{i} $ coins.
Polycarpus and Vasily move in turns. Polycarpus moves first. During a move a player is allowed to choose a positive integer $ x $ $ (2·x+1<=n) $ and take a coin from each chest with numbers $ x $ , $ 2·x $ , $ 2·x+1 $ . It may turn out that some chest has no coins, in this case the player doesn't take a coin from this chest. The game finishes when all chests get emptied.
Polycarpus isn't a greedy scrooge. Polycarpys is a lazy slob. So he wonders in what minimum number of moves the game can finish. Help Polycarpus, determine the minimum number of moves in which the game can finish. Note that Polycarpus counts not only his moves, he also counts Vasily's moves.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ $ (1<=n<=100) $ — the number of chests with coins. The second line contains a sequence of space-separated integers: $ a_{1},a_{2},...,a_{n} $ $ (1<=a_{i}<=1000) $ , where $ a_{i} $ is the number of coins in the chest number $ i $ at the beginning of the game.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the minimum number of moves needed to finish the game. If no sequence of turns leads to finishing the game, print -1.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>-1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3
1 2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3
</code></pre>
<h2>说明</h2>
<div>In the first test case there isn't a single move that can be made. That's why the players won't be able to empty the chests.
In the second sample there is only one possible move $ x=1 $ . This move should be repeated at least 3 times to empty the third chest.</div>
</article>
</div>
</div>
</body>
</html>
