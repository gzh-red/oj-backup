<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>T-shirt buying - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573398020:WdK7tLHtkKsN7wMFJnkVMY27StBt6LdEOzWc/j7PzPo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20new%20pack%20of%20%24%20n%20%24%20t-shirts%20came%20to%20a%20shop.%20Each%20of%20the%20t-shirts%20is%20characterized%20by%20three%20integers%20%24%20p_%7Bi%7D%20%24%20%2C%20%24%20a_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20%2C%20where%20%24%20p_%7Bi%7D%20%24%20is%20the%20price%20of%20the%20%24%20i%20%24%20-th%20t-shirt%2C%20%24%20a_%7Bi%7D%20%24%20is%20front%20color%20of%20the%20%24%20i%20%24%20-th%20t-shirt%20and%20%24%20b_%7Bi%7D%20%24%20is%20back%20color%20of%20the%20%24%20i%20%24%20-th%20t-shirt.%20All%20values%20%24%20p_%7Bi%7D%20%24%20are%20distinct%2C%20and%20values%20%24%20a_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20are%20integers%20from%20%24%201%20%24%20to%20%24%203%20%24%20.%5Cn%5Cn%20%24%20m%20%24%20buyers%20will%20come%20to%20the%20shop.%20Each%20of%20them%20wants%20to%20buy%20exactly%20one%20t-shirt.%20For%20the%20%24%20j%20%24%20-th%20buyer%20we%20know%20his%20favorite%20color%20%24%20c_%7Bj%7D%20%24%20.%5Cn%5CnA%20buyer%20agrees%20to%20buy%20a%20t-shirt%2C%20if%20at%20least%20one%20side%20%28front%20or%20back%29%20is%20painted%20in%20his%20favorite%20color.%20Among%20all%20t-shirts%20that%20have%20colors%20acceptable%20to%20this%20buyer%20he%20will%20choose%20the%20cheapest%20one.%20If%20there%20are%20no%20such%20t-shirts%2C%20the%20buyer%20won%27t%20buy%20anything.%20Assume%20that%20the%20buyers%20come%20one%20by%20one%2C%20and%20each%20buyer%20is%20served%20only%20after%20the%20previous%20one%20is%20served.%5Cn%5CnYou%20are%20to%20compute%20the%20prices%20each%20buyer%20will%20pay%20for%20t-shirts.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D200000%20%24%20%29%20%5Cu2014%20the%20number%20of%20t-shirts.%5Cn%5CnThe%20following%20line%20contains%20sequence%20of%20integers%20%24%20p_%7B1%7D%2Cp_%7B2%7D%2C...%2Cp_%7Bn%7D%20%24%20%28%20%24%201%3C%3Dp_%7Bi%7D%3C%3D1000000000%20%24%20%29%2C%20where%20%24%20p_%7Bi%7D%20%24%20equals%20to%20the%20price%20of%20the%20%24%20i%20%24%20-th%20t-shirt.%5Cn%5CnThe%20following%20line%20contains%20sequence%20of%20integers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%28%20%24%201%3C%3Da_%7Bi%7D%3C%3D3%20%24%20%29%2C%20where%20%24%20a_%7Bi%7D%20%24%20equals%20to%20the%20front%20color%20of%20the%20%24%20i%20%24%20-th%20t-shirt.%5Cn%5CnThe%20following%20line%20contains%20sequence%20of%20integers%20%24%20b_%7B1%7D%2Cb_%7B2%7D%2C...%2Cb_%7Bn%7D%20%24%20%28%20%24%201%3C%3Db_%7Bi%7D%3C%3D3%20%24%20%29%2C%20where%20%24%20b_%7Bi%7D%20%24%20equals%20to%20the%20back%20color%20of%20the%20%24%20i%20%24%20-th%20t-shirt.%5Cn%5CnThe%20next%20line%20contains%20single%20integer%20%24%20m%20%24%20%28%20%24%201%3C%3Dm%3C%3D200000%20%24%20%29%20%5Cu2014%20the%20number%20of%20buyers.%5Cn%5CnThe%20following%20line%20contains%20sequence%20%24%20c_%7B1%7D%2Cc_%7B2%7D%2C...%2Cc_%7Bm%7D%20%24%20%28%20%24%201%3C%3Dc_%7Bj%7D%3C%3D3%20%24%20%29%2C%20where%20%24%20c_%7Bj%7D%20%24%20equals%20to%20the%20favorite%20color%20of%20the%20%24%20j%20%24%20-th%20buyer.%20The%20buyers%20will%20come%20to%20the%20shop%20in%20the%20order%20they%20are%20given%20in%20the%20input.%20Each%20buyer%20is%20served%20only%20after%20the%20previous%20one%20is%20served.%22%2C%22outputFormat%22%3A%22Print%20to%20the%20first%20line%20%24%20m%20%24%20integers%20%5Cu2014%20the%20%24%20j%20%24%20-th%20integer%20should%20be%20equal%20to%20the%20price%20of%20the%20t-shirt%20which%20the%20%24%20j%20%24%20-th%20buyer%20will%20buy.%20If%20the%20%24%20j%20%24%20-th%20buyer%20won%27t%20buy%20anything%2C%20print%20-1.%22%2C%22samples%22%3A%5B%5B%225%5Cn300%20200%20400%20500%20911%5Cn1%202%201%202%203%5Cn2%201%203%202%201%5Cn6%5Cn2%203%201%202%201%201%5Cn%22%2C%22200%20400%20300%20500%20911%20-1%20%5Cn%22%5D%2C%5B%222%5Cn1000000000%201%5Cn1%201%5Cn1%202%5Cn2%5Cn2%201%5Cn%22%2C%221%201000000000%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F799%5C%2FB%22%2C%22id%22%3A%22799B%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu5305%5Cu5171%20%20%24n%24%20%20%5Cu4ef6T%5Cu6064%5Cu88ab%5Cu9001%5Cu5230%5Cu4e86%5Cu5546%5Cu5e97%5Cu3002%5Cu6bcf%5Cu4ef6T%5Cu6064%5Cu88ab%5Cu4e09%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%20%20%24p_%7Bi%7D%24%20%20%2C%20%24a_%7Bi%7D%24%20%20%5Cu548c%20%20%24b_%7Bi%7D%24%20%5Cu6240%5Cu63cf%5Cu8ff0%5Cu3002%20%24p_%7Bi%7D%24%20%20%5Cu662f%5Cu7b2c%20%20%24i%24%20%20%5Cu4ef6T%5Cu6064%5Cu7684%5Cu4ef7%5Cu683c%5Cuff0c%20%24a_%7Bi%7D%24%20%5Cu662f%5Cu7b2c%20%20%24i%24%20%20%5Cu4ef6T%5Cu6064%5Cu6b63%5Cu9762%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%20%24b_%7Bi%7D%24%20%5Cu662f%5Cu7b2c%20%20%24i%24%20%20%5Cu4ef6T%5Cu6064%5Cu80cc%5Cu9762%5Cu7684%5Cu989c%5Cu8272%5Cu3002%5Cu6240%5Cu6709%20%24p_%7Bi%7D%24%20%5Cu90fd%5Cu5404%5Cu4e0d%5Cu76f8%5Cu540c%5Cuff0c%20%24a_%7Bi%7D%24%20%5Cu548c%20%24b_%7Bi%7D%24%20%5Cu90fd%5Cu662f1~3%5Cu7684%5Cu6574%5Cu6570%5Cu3002%5Cn%5Cn%5Cu6709%20%20%24m%24%20%20%5Cu4e2a%5Cu987e%5Cu5ba2%5Cuff0c%5Cu6bcf%5Cu4eba%5Cu90fd%5Cu4ec5%5Cu60f3%5Cu4e70%5Cu4e00%5Cu4ef6T%5Cu6064%5Cu3002%5Cu7b2c%20%20%24i%24%20%20%5Cu4e2a%5Cu987e%5Cu5ba2%5Cu6700%5Cu559c%5Cu6b22%5Cu7684%5Cu989c%5Cu8272%5Cu662f%20%24c_%7Bj%7D%24%20%5Cu3002%5Cn%5Cn%5Cu5982%5Cu679c%5Cu4e00%5Cu4ef6T%5Cu6064%5Cu81f3%5Cu5c11%5Cu4e00%5Cu9762%5Cuff08%5Cu524d%5Cu6216%5Cu540e%5Cuff09%5Cu7684%5Cu989c%5Cu8272%5Cu662f%5Cu987e%5Cu5ba2%5Cu559c%5Cu6b22%5Cu7684%5Cuff0c%5Cu4ed6%5Cu624d%5Cu4f1a%5Cu5c06%5Cu5176%5Cu4e70%5Cu4e0b%5Cuff1b%5Cu5982%5Cu679c%5Cu6709%5Cu591a%5Cu4ef6T%5Cu6064%5Cu7b26%5Cu5408%5Cu6761%5Cu4ef6%5Cuff0c%5Cu4ed6%5Cu4f1a%5Cu9009%5Cu62e9%5Cu6700%5Cu4fbf%5Cu5b9c%5Cu7684%5Cuff1b%5Cu5982%5Cu679c%5Cu6ca1%5Cu6709%5Cu7b26%5Cu5408%5Cu6761%5Cu4ef6%5Cu7684%5Cuff0c%5Cu4ed6%5Cu4ec0%5Cu4e48%5Cu90fd%5Cu4e0d%5Cu4f1a%5Cu4e70%5Cu3002%5Cu6211%5Cu4eec%5Cu5047%5Cu5b9a%5Cu987e%5Cu5ba2%5Cu90fd%5Cu4e56%5Cu5de7%5Cu5730%5Cu6392%5Cu7740%5Cu961f%5Cu4e00%5Cu4e2a%5Cu4e00%5Cu4e2a%5Cu6765%5Cuff0c%5Cu524d%5Cu4e00%5Cu4e2a%5Cu987e%5Cu5ba2%5Cu8d70%5Cu540e%5Cu7b2c%5Cu4e8c%5Cu4e2a%5Cu624d%5Cu80fd%5Cu88ab%5Cu63a5%5Cu5f85%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu9700%5Cu8981%5Cu8ba1%5Cu7b97%5Cu6bcf%5Cu4e2a%5Cu987e%5Cu5ba2%5Cu5206%5Cu522b%5Cu82b1%5Cu4e86%5Cu591a%5Cu5c11%5Cu94b1%5Cu3002%5Cn%5CnTranslated%20by%20%40%5Cu957f%5Cu6cb3%5Cu843d%5Cu65e5%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A211%2C%22totalAccepted%22%3A95%2C%22pid%22%3A%22CF799B%22%2C%22title%22%3A%22T-shirt%20buying%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A49251%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A9395%2C%22name%22%3A%22CF799B%20T-shirt%20buying%22%2C%22slug%22%3A%22CF799B%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3370%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu5b57%5Cu7b26%5Cu4e32%5Cu54c8%5Cu5e0c%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2827%22%2C%22title%22%3A%22%5Cu86af%5Cu8693%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF555B%22%2C%22title%22%3A%22Case%20of%20Fugitive%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF962D%22%2C%22title%22%3A%22Merge%20Equals%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1106D%22%2C%22title%22%3A%22Lunar%20New%20Year%20and%20a%20Wander%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22T-shirt%20buying%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>T-shirt buying</h1>
<h2>题意翻译</h2>
<div>一包共 $n$ 件T恤被送到了商店。每件T恤被三个正整数 $p_{i}$ , $a_{i}$ 和 $b_{i}$ 所描述。 $p_{i}$ 是第 $i$ 件T恤的价格， $a_{i}$ 是第 $i$ 件T恤正面的颜色， $b_{i}$ 是第 $i$ 件T恤背面的颜色。所有 $p_{i}$ 都各不相同， $a_{i}$ 和 $b_{i}$ 都是1~3的整数。
有 $m$ 个顾客，每人都仅想买一件T恤。第 $i$ 个顾客最喜欢的颜色是 $c_{j}$ 。
如果一件T恤至少一面（前或后）的颜色是顾客喜欢的，他才会将其买下；如果有多件T恤符合条件，他会选择最便宜的；如果没有符合条件的，他什么都不会买。我们假定顾客都乖巧地排着队一个一个来，前一个顾客走后第二个才能被接待。
你需要计算每个顾客分别花了多少钱。
Translated by @长河落日 </div>
<h2>题目描述</h2>
<div>A new pack of $ n $ t-shirts came to a shop. Each of the t-shirts is characterized by three integers $ p_{i} $ , $ a_{i} $ and $ b_{i} $ , where $ p_{i} $ is the price of the $ i $ -th t-shirt, $ a_{i} $ is front color of the $ i $ -th t-shirt and $ b_{i} $ is back color of the $ i $ -th t-shirt. All values $ p_{i} $ are distinct, and values $ a_{i} $ and $ b_{i} $ are integers from $ 1 $ to $ 3 $ .
$ m $ buyers will come to the shop. Each of them wants to buy exactly one t-shirt. For the $ j $ -th buyer we know his favorite color $ c_{j} $ .
A buyer agrees to buy a t-shirt, if at least one side (front or back) is painted in his favorite color. Among all t-shirts that have colors acceptable to this buyer he will choose the cheapest one. If there are no such t-shirts, the buyer won't buy anything. Assume that the buyers come one by one, and each buyer is served only after the previous one is served.
You are to compute the prices each buyer will pay for t-shirts.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains single integer $ n $ ( $ 1<=n<=200000 $ ) — the number of t-shirts.
The following line contains sequence of integers $ p_{1},p_{2},...,p_{n} $ ( $ 1<=p_{i}<=1000000000 $ ), where $ p_{i} $ equals to the price of the $ i $ -th t-shirt.
The following line contains sequence of integers $ a_{1},a_{2},...,a_{n} $ ( $ 1<=a_{i}<=3 $ ), where $ a_{i} $ equals to the front color of the $ i $ -th t-shirt.
The following line contains sequence of integers $ b_{1},b_{2},...,b_{n} $ ( $ 1<=b_{i}<=3 $ ), where $ b_{i} $ equals to the back color of the $ i $ -th t-shirt.
The next line contains single integer $ m $ ( $ 1<=m<=200000 $ ) — the number of buyers.
The following line contains sequence $ c_{1},c_{2},...,c_{m} $ ( $ 1<=c_{j}<=3 $ ), where $ c_{j} $ equals to the favorite color of the $ j $ -th buyer. The buyers will come to the shop in the order they are given in the input. Each buyer is served only after the previous one is served.</div>
<h3>输出格式</h3>
<br />
<div>Print to the first line $ m $ integers — the $ j $ -th integer should be equal to the price of the t-shirt which the $ j $ -th buyer will buy. If the $ j $ -th buyer won't buy anything, print -1.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
300 200 400 500 911
1 2 1 2 3
2 1 3 2 1
6
2 3 1 2 1 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>200 400 300 500 911 -1 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2
1000000000 1
1 1
1 2
2
2 1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1 1000000000 
</code></pre>
</article>
</div>
</div>
</body>
</html>
