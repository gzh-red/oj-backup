<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Guarding warehouses - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403388:2qq8y6+RlmH8wDiItu9fD1a2S3Bx9lob+R/lD913Dck=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Bob%20Bubblestrong%20just%20got%20a%20new%20job%20as%20security%20guard.%20Bob%20is%20now%20responsible%20for%20safety%20of%20a%20collection%20of%20warehouses%2C%20each%20containing%20the%20most%20valuable%20Bubble%20Cup%20assets%20-%20the%20high-quality%20bubbles.%20His%20task%20is%20to%20detect%20thieves%20inside%20the%20warehouses%20and%20call%20the%20police.%5Cn%5CnLooking%20from%20the%20sky%2C%20each%20warehouse%20has%20a%20shape%20of%20a%20convex%20polygon.%20Walls%20of%20no%20two%20warehouses%20intersect%2C%20and%20of%20course%2C%20none%20of%20the%20warehouses%20is%20built%20inside%20of%20another%20warehouse.%5Cn%5CnLittle%20did%20the%20Bubble%20Cup%20bosses%20know%20how%20lazy%20Bob%20is%20and%20that%20he%20enjoys%20watching%20soap%20operas%20%28he%20heard%20they%20are%20full%20of%20bubbles%29%20from%20the%20coziness%20of%20his%20office.%20Instead%20of%20going%20from%20one%20warehouse%20to%20another%20to%20check%20if%20warehouses%20are%20secured%2C%20the%20plan%20Bob%20has%20is%20to%20monitor%20all%20the%20warehouses%20from%20the%20comfort%20of%20his%20office%20using%20the%20special%20X-ray%20goggles.%20The%20goggles%20have%20an%20infinite%20range%2C%20so%20a%20thief%20in%20any%20of%20the%20warehouses%20could%20easily%20be%20spotted.%5Cn%5CnHowever%2C%20the%20goggles%20promptly%20broke%20and%20the%20X-rays%20are%20now%20strong%20only%20enough%20to%20let%20Bob%20see%20through%20a%20single%20wall.%20Now%2C%20Bob%20would%20really%20appreciate%20if%20you%20could%20help%20him%20find%20out%20what%20is%20the%20total%20area%20inside%20of%20the%20warehouses%20monitored%20by%20the%20broken%20goggles%2C%20so%20that%20he%20could%20know%20how%20much%20area%20of%20the%20warehouses%20he%20needs%20to%20monitor%20in%20person.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20N%20%24%20%28%20%24%201%20%24%20%24%20%5C%5Cleq%20%24%20%24%20N%20%24%20%24%20%5C%5Cleq%20%24%20%24%2010%5E4%20%24%20%29%20%5Cu2013%20the%20number%20of%20warehouses.%5Cn%5CnThe%20next%20%24%20N%20%24%20lines%20describe%20the%20warehouses.%5Cn%5CnThe%20first%20number%20of%20the%20line%20is%20integer%20%24%20c_i%20%24%20%28%20%24%203%20%24%20%24%20%5C%5Cleq%20%24%20%24%20c_i%20%24%20%24%20%5C%5Cleq%20%24%20%24%2010%5E4%20%24%20%29%20%5Cu2013%20the%20number%20corners%20in%20the%20%24%20i%5E%7Bth%7D%20%24%20warehouse%2C%20followed%20by%20%24%20c_i%20%24%20pairs%20of%20integers.%20The%20%24%20j%5E%7Bth%7D%20%24%20pair%20is%20%24%20%28x_j%2C%20y_j%29%20%24%20%5Cu2013%20the%20coordinates%20of%20the%20%24%20j%5E%7Bth%7D%20%24%20corner%20%28%20%24%20%7Cx_j%7C%20%24%20%2C%20%24%20%7Cy_j%7C%20%24%20%24%20%5C%5Cleq%20%24%20%24%203%20%2A%2010%5E4%20%24%20%29.%20The%20corners%20are%20listed%20in%20the%20clockwise%20order.%20The%20total%20number%20of%20corners%20in%20all%20the%20warehouses%20is%20at%20most%20%24%205%20%2A%2010%5E4%20%24%20.%5Cn%5CnBob%27s%20office%20is%20positioned%20at%20the%20point%20with%20coordinates%20%24%20%280%2C%200%29%20%24%20.%20The%20office%20is%20not%20contained%20within%20any%20of%20the%20warehouses.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20line%20containing%20a%20single%20decimal%20number%20accurate%20to%20at%20least%20four%20decimal%20places%20%5Cu2013%20the%20total%20area%20of%20the%20warehouses%20Bob%20can%20monitor%20using%20the%20broken%20X-ray%20goggles.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%5Cn4%201%201%201%203%203%203%203%201%5Cn4%204%203%206%202%206%200%204%200%5Cn6%20-5%203%20-4%204%20-3%204%20-2%203%20-3%202%20-4%202%5Cn3%200%20-1%201%20-3%20-1%20-3%5Cn4%201%20-4%201%20-6%20-1%20-6%20-1%20-4%5Cn%22%2C%22%5Cn13.333333333333%5Cn%22%5D%5D%2C%22hint%22%3A%22%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1218B%5C%2F6911d4ba3620171533dd6d070243aebc48b31c5f.png%29Areas%20monitored%20by%20the%20X-ray%20goggles%20are%20colored%20green%20and%20areas%20not%20monitored%20by%20the%20goggles%20are%20colored%20red.%5Cn%5CnThe%20warehouses%20%24%20ABCD%20%24%20%2C%20%24%20IJK%20%24%20and%20%24%20LMNOPQ%20%24%20are%20completely%20monitored%20using%20the%20googles.%5Cn%5CnThe%20warehouse%20%24%20EFGH%20%24%20is%20partially%20monitored%20using%20the%20goggles%3A%20part%20%24%20EFW%20%24%20is%20not%20monitored%20because%20to%20monitor%20each%20point%20inside%20it%2C%20the%20X-rays%20must%20go%20through%20two%20walls%20of%20warehouse%20%24%20ABCD%20%24%20.%5Cn%5CnThe%20warehouse%20%24%20RUTS%20%24%20is%20not%20monitored%20from%20the%20Bob%27s%20office%2C%20because%20there%20are%20two%20walls%20of%20the%20warehouse%20%24%20IJK%20%24%20between%20Bob%27s%20office%20and%20each%20point%20in%20%24%20RUTS%20%24%20.%5Cn%5CnThe%20total%20area%20monitored%20by%20the%20goggles%20is%20%24%20P%20%24%20%3D%20%24%20P_%7BABCD%7D%20%24%20%2B%20%24%20P_%7BFGHW%7D%20%24%20%2B%20%24%20P_%7BIJK%7D%20%24%20%2B%20%24%20P_%7BLMNOPQ%7D%20%24%20%3D%20%24%204%20%24%20%2B%20%24%203.333333333333%20%24%20%2B%20%24%202%20%24%20%2B%20%24%204%20%24%20%3D%20%24%2013.333333333333%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1218%5C%2FB%22%2C%22id%22%3A%221218B%22%7D%2C%22translation%22%3A%22%5Cu5e73%5Cu9762%5Cu4e0a%5Cu6709n%5Cu4e2a%5Cu4e92%5Cu4e0d%5Cu76f8%5Cu4ea4%5Cu7684%5Cu591a%5Cu8fb9%5Cu5f62%5Cuff0c%5Cu4e14%5Cu6ca1%5Cu6709%5Cu4e00%5Cu4e2a%5Cu591a%5Cu8fb9%5Cu5f62%5Cu5728%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu591a%5Cu8fb9%5Cu5f62%5Cu91cc%5Cu9762%5Cu3002%5Cu4ece%5Cuff080%2C0%5Cuff09%5Cu7528%5Cu67d0%5Cu4e00%5Cu8bbe%5Cu5907%5Cu626b%5Cu63cf%5Cuff0c%5Cu8be5%5Cu8bbe%5Cu5907%5Cu80fd%5Cu4e14%5Cu4ec5%5Cu80fd%5Cu7a7f%5Cu8fc7%5Cu591a%5Cu8fb9%5Cu5f62%5Cu7684%5Cu4e00%5Cu5c42%5Cu8fb9%5Cu3002%5Cu7ed9%5Cu4f60%5Cu8fd9n%5Cu4e2a%5Cu591a%5Cu8fb9%5Cu5f62%5Cu6bcf%5Cu4e2a%5Cu9876%5Cu70b9%5Cu7684%5Cu5750%5Cu6807%5Cuff0c%5Cu95ee%5Cu8be5%5Cu8bbe%5Cu5907%5Cu53ef%5Cu4ee5%5Cu626b%5Cu63cf%5Cu5230%5Cu7684%5Cu591a%5Cu8fb9%5Cu5f62%5Cu9762%5Cu79ef%5Cu662f%5Cu591a%5Cu5c11%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF1218B%22%2C%22title%22%3A%22Guarding%20warehouses%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Guarding%20warehouses%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Guarding warehouses</h1>
<h2>题意翻译</h2>
<div>平面上有n个互不相交的多边形，且没有一个多边形在另一个多边形里面。从（0,0）用某一设备扫描，该设备能且仅能穿过多边形的一层边。给你这n个多边形每个顶点的坐标，问该设备可以扫描到的多边形面积是多少。</div>
<h2>题目描述</h2>
<div>Bob Bubblestrong just got a new job as security guard. Bob is now responsible for safety of a collection of warehouses, each containing the most valuable Bubble Cup assets - the high-quality bubbles. His task is to detect thieves inside the warehouses and call the police.
Looking from the sky, each warehouse has a shape of a convex polygon. Walls of no two warehouses intersect, and of course, none of the warehouses is built inside of another warehouse.
Little did the Bubble Cup bosses know how lazy Bob is and that he enjoys watching soap operas (he heard they are full of bubbles) from the coziness of his office. Instead of going from one warehouse to another to check if warehouses are secured, the plan Bob has is to monitor all the warehouses from the comfort of his office using the special X-ray goggles. The goggles have an infinite range, so a thief in any of the warehouses could easily be spotted.
However, the goggles promptly broke and the X-rays are now strong only enough to let Bob see through a single wall. Now, Bob would really appreciate if you could help him find out what is the total area inside of the warehouses monitored by the broken goggles, so that he could know how much area of the warehouses he needs to monitor in person.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ N $ ( $ 1 $ $ \leq $ $ N $ $ \leq $ $ 10^4 $ ) – the number of warehouses.
The next $ N $ lines describe the warehouses.
The first number of the line is integer $ c_i $ ( $ 3 $ $ \leq $ $ c_i $ $ \leq $ $ 10^4 $ ) – the number corners in the $ i^{th} $ warehouse, followed by $ c_i $ pairs of integers. The $ j^{th} $ pair is $ (x_j, y_j) $ – the coordinates of the $ j^{th} $ corner ( $ |x_j| $ , $ |y_j| $ $ \leq $ $ 3 * 10^4 $ ). The corners are listed in the clockwise order. The total number of corners in all the warehouses is at most $ 5 * 10^4 $ .
Bob's office is positioned at the point with coordinates $ (0, 0) $ . The office is not contained within any of the warehouses.</div>
<h3>输出格式</h3>
<br />
<div>Print a single line containing a single decimal number accurate to at least four decimal places – the total area of the warehouses Bob can monitor using the broken X-ray goggles.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5
4 1 1 1 3 3 3 3 1
4 4 3 6 2 6 0 4 0
6 -5 3 -4 4 -3 4 -2 3 -3 2 -4 2
3 0 -1 1 -3 -1 -3
4 1 -4 1 -6 -1 -6 -1 -4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
13.333333333333
</code></pre>
<h2>说明</h2>
<div> ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1218B/6911d4ba3620171533dd6d070243aebc48b31c5f.png)Areas monitored by the X-ray goggles are colored green and areas not monitored by the goggles are colored red.
The warehouses $ ABCD $ , $ IJK $ and $ LMNOPQ $ are completely monitored using the googles.
The warehouse $ EFGH $ is partially monitored using the goggles: part $ EFW $ is not monitored because to monitor each point inside it, the X-rays must go through two walls of warehouse $ ABCD $ .
The warehouse $ RUTS $ is not monitored from the Bob's office, because there are two walls of the warehouse $ IJK $ between Bob's office and each point in $ RUTS $ .
The total area monitored by the goggles is $ P $ = $ P_{ABCD} $ + $ P_{FGHW} $ + $ P_{IJK} $ + $ P_{LMNOPQ} $ = $ 4 $ + $ 3.333333333333 $ + $ 2 $ + $ 4 $ = $ 13.333333333333 $ .</div>
</article>
</div>
</div>
</body>
</html>
