<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Logical Expression - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573399323:corS4Uuk9LclY9rvV80b9A7hMVeaW0+ghbNj2+BDQ9o=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22You%20are%20given%20a%20boolean%20function%20of%20three%20variables%20which%20is%20defined%20by%20its%20truth%20table.%20You%20need%20to%20find%20an%20expression%20of%20minimum%20length%20that%20equals%20to%20this%20function.%20The%20expression%20may%20consist%20of%3A%5Cn%5Cn-%20Operation%20AND%20%28%27%26%27%2C%20ASCII%20code%2038%29%5Cn-%20Operation%20OR%20%28%27%7C%27%2C%20ASCII%20code%20124%29%5Cn-%20Operation%20NOT%20%28%27%21%27%2C%20ASCII%20code%2033%29%5Cn-%20Variables%20x%2C%20y%20and%20z%20%28ASCII%20codes%20120-122%29%5Cn-%20Parentheses%20%28%27%28%27%2C%20ASCII%20code%2040%2C%20and%20%27%29%27%2C%20ASCII%20code%2041%29%5Cn%5CnIf%20more%20than%20one%20expression%20of%20minimum%20length%20exists%2C%20you%20should%20find%20the%20lexicographically%20smallest%20one.%5Cn%5CnOperations%20have%20standard%20priority.%20NOT%20has%20the%20highest%20priority%2C%20then%20AND%20goes%2C%20and%20OR%20has%20the%20lowest%20priority.%20The%20expression%20should%20satisfy%20the%20following%20grammar%3A%5Cn%5CnE%20%3A%3A%3D%20E%20%27%7C%27%20T%20%7C%20T%5Cn%5CnT%20%3A%3A%3D%20T%20%27%26%27%20F%20%7C%20F%5Cn%5CnF%20%3A%3A%3D%20%27%21%27%20F%20%7C%20%27%28%27%20E%20%27%29%27%20%7C%20%27x%27%20%7C%20%27y%27%20%7C%20%27z%27%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20n%20%24%20%5Cu2014%20the%20number%20of%20functions%20in%20the%20input%20%28%20%24%201%3C%3Dn%3C%3D10000%20%24%20%29.%5Cn%5CnThe%20following%20%24%20n%20%24%20lines%20contain%20descriptions%20of%20functions%2C%20the%20%24%20i%20%24%20-th%20of%20them%20contains%20a%20string%20of%20length%20%24%208%20%24%20that%20consists%20of%20digits%200%20and%201%20%5Cu2014%20the%20truth%20table%20of%20the%20%24%20i%20%24%20-th%20function.%20The%20digit%20on%20position%20%24%20j%20%24%20%28%20%24%200%3C%3Dj%3C8%20%24%20%29%20equals%20to%20the%20value%20of%20the%20function%20in%20case%20of%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF913E%5C%2Fb8eda924cf9b585e94a39b9ab3c5eeda2c793292.png%29%2C%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF913E%5C%2F00c1c3743f5d59404305925e13121f3f9be2b74b.png%29%20and%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF913E%5C%2F7f8e49041b68756db041968d10ae0529ba976fb8.png%29.%22%2C%22outputFormat%22%3A%22You%20should%20output%20%24%20n%20%24%20lines%2C%20the%20%24%20i%20%24%20-th%20line%20should%20contain%20the%20expression%20of%20minimum%20length%20which%20equals%20to%20the%20%24%20i%20%24%20-th%20function.%20If%20there%20is%20more%20than%20one%20such%20expression%2C%20output%20the%20lexicographically%20smallest%20of%20them.%20Expressions%20should%20satisfy%20the%20given%20grammar%20and%20shouldn%27t%20contain%20white%20spaces.%22%2C%22samples%22%3A%5B%5B%224%5Cn00110011%5Cn00000111%5Cn11110000%5Cn00011111%5Cn%22%2C%22y%5Cn%28y%7Cz%29%26x%5Cn%21x%5Cnx%7Cy%26z%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20truth%20table%20for%20the%20second%20function%3A%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF913E%5C%2Fc3830892a1af029262c7cea8f026f08f9802d2de.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F913%5C%2FE%22%2C%22id%22%3A%22913E%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu5f20%5Cu5173%5Cu4e8e%5Cu53d8%5Cu91cfx%2C%20y%2C%20z%5Cu7684%5Cu771f%5Cu503c%5Cu8868%5Cuff08%5Cu89c1%5Cu8bf4%5Cu660e%5Cuff09%5Cuff0c%5Cu7ed9%5Cu51fan%5Cu4e2a%5Cu53ea%5Cu5305%5Cu542b0%5Cu548c1%5Cu7684%5Cu516b%5Cu4f4d%5Cu5b57%5Cu7b26%5Cu4e32%5Cu3002%5Cn%5Cn%5Cu8981%5Cu6c42%5Cu5bf9%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu53ea%5Cu7528%5Cu53d8%5Cu91cfx%2C%20y%2C%20z%5Cu548c%5Cu8fd0%5Cu7b97%5Cu4e0e%5Cu3001%5Cu6216%5Cu3001%5Cu975e%5Cu53ca%5Cu62ec%5Cu53f7%5Cuff08%5Cu4e0e%5Cu3001%5Cu6216%5Cu3001%5Cu975e%5Cu8fd0%5Cu7b97%5Cu65f6%5Cu4f18%5Cu5148%5Cu7ea7%5Cu6709%5Cu6240%5Cu4e0d%5Cu540c%5Cuff0c%5Cu975e%5Cu4f18%5Cu5148%5Cu5ea6%3E%5Cu4e0e%3E%5Cu6216%5Cuff09%5Cu6c42%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6ee1%5Cu8db3%5Cu5b57%5Cu7b26%5Cu4e32%5Cu7684%5Cu957f%5Cu5ea6%5Cu6700%5Cu5c0f%5Cu7684%5Cu903b%5Cu8f91%5Cu8868%5Cu8fbe%5Cu5f0f%5Cu3002%5Cu5047%5Cu5982%5Cu6709%5Cu591a%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e00%5Cu6837%5Cu7684%5Cu903b%5Cu8f91%5Cu8868%5Cu8fbe%5Cu5f0f%5Cu6ee1%5Cu8db3%5Cu6761%5Cu4ef6%5Cuff0c%5Cu6c42%5Cu51fa%5Cu5176%5Cu4e2d%5Cu5b57%5Cu5178%5Cu5e8f%5Cu6700%5Cu5c0f%5Cu7684%5Cu4e00%5Cu4e2a%5Cu3002%5Cn%5CnTranslated%20by%20%40milkfilling%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A8%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF913E%22%2C%22title%22%3A%22Logical%20Expression%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A34513%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A8895%2C%22name%22%3A%22CF913E%20Logical%20Expression%22%2C%22slug%22%3A%22CF913E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Logical%20Expression%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Logical Expression</h1>
<h2>题意翻译</h2>
<div>给定一张关于变量x, y, z的真值表（见说明），给出n个只包含0和1的八位字符串。
要求对每一个字符串，只用变量x, y, z和运算与、或、非及括号（与、或、非运算时优先级有所不同，非优先度>与>或）求出一个满足字符串的长度最小的逻辑表达式。假如有多个长度一样的逻辑表达式满足条件，求出其中字典序最小的一个。
Translated by @milkfilling</div>
<h2>题目描述</h2>
<div>You are given a boolean function of three variables which is defined by its truth table. You need to find an expression of minimum length that equals to this function. The expression may consist of:
- Operation AND ('&', ASCII code 38)
- Operation OR ('|', ASCII code 124)
- Operation NOT ('!', ASCII code 33)
- Variables x, y and z (ASCII codes 120-122)
- Parentheses ('(', ASCII code 40, and ')', ASCII code 41)
If more than one expression of minimum length exists, you should find the lexicographically smallest one.
Operations have standard priority. NOT has the highest priority, then AND goes, and OR has the lowest priority. The expression should satisfy the following grammar:
E ::= E '|' T | T
T ::= T '&' F | F
F ::= '!' F | '(' E ')' | 'x' | 'y' | 'z'</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ n $ — the number of functions in the input ( $ 1<=n<=10000 $ ).
The following $ n $ lines contain descriptions of functions, the $ i $ -th of them contains a string of length $ 8 $ that consists of digits 0 and 1 — the truth table of the $ i $ -th function. The digit on position $ j $ ( $ 0<=j<8 $ ) equals to the value of the function in case of ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913E/b8eda924cf9b585e94a39b9ab3c5eeda2c793292.png), ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913E/00c1c3743f5d59404305925e13121f3f9be2b74b.png) and ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913E/7f8e49041b68756db041968d10ae0529ba976fb8.png).</div>
<h3>输出格式</h3>
<br />
<div>You should output $ n $ lines, the $ i $ -th line should contain the expression of minimum length which equals to the $ i $ -th function. If there is more than one such expression, output the lexicographically smallest of them. Expressions should satisfy the given grammar and shouldn't contain white spaces.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
00110011
00000111
11110000
00011111
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>y
(y|z)&amp;x
!x
x|y&amp;z
</code></pre>
<h2>说明</h2>
<div>The truth table for the second function:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF913E/c3830892a1af029262c7cea8f026f08f9802d2de.png)</div>
</article>
</div>
</div>
</body>
</html>
