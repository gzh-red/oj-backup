<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Fight Against Traffic - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573399724:DTnkSwPCEiOsSiMozY4lMx/w3QnZlaab07TbDb3boLc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Little%20town%20Nsk%20consists%20of%20%24%20n%20%24%20junctions%20connected%20by%20%24%20m%20%24%20bidirectional%20roads.%20Each%20road%20connects%20two%20distinct%20junctions%20and%20no%20two%20roads%20connect%20the%20same%20pair%20of%20junctions.%20It%20is%20possible%20to%20get%20from%20any%20junction%20to%20any%20other%20junction%20by%20these%20roads.%20The%20distance%20between%20two%20junctions%20is%20equal%20to%20the%20minimum%20possible%20number%20of%20roads%20on%20a%20path%20between%20them.%5Cn%5CnIn%20order%20to%20improve%20the%20transportation%20system%2C%20the%20city%20council%20asks%20mayor%20to%20build%20one%20new%20road.%20The%20problem%20is%20that%20the%20mayor%20has%20just%20bought%20a%20wonderful%20new%20car%20and%20he%20really%20enjoys%20a%20ride%20from%20his%20home%2C%20located%20near%20junction%20%24%20s%20%24%20to%20work%20located%20near%20junction%20%24%20t%20%24%20.%20Thus%2C%20he%20wants%20to%20build%20a%20new%20road%20in%20such%20a%20way%20that%20the%20distance%20between%20these%20two%20junctions%20won%27t%20decrease.%5Cn%5CnYou%20are%20assigned%20a%20task%20to%20compute%20the%20number%20of%20pairs%20of%20junctions%20that%20are%20not%20connected%20by%20the%20road%2C%20such%20that%20if%20the%20new%20road%20between%20these%20two%20junctions%20is%20built%20the%20distance%20between%20%24%20s%20%24%20and%20%24%20t%20%24%20won%27t%20decrease.%22%2C%22inputFormat%22%3A%22The%20firt%20line%20of%20the%20input%20contains%20integers%20%24%20n%20%24%20%2C%20%24%20m%20%24%20%2C%20%24%20s%20%24%20and%20%24%20t%20%24%20%28%20%24%202%3C%3Dn%3C%3D1000%20%24%20%2C%20%24%201%3C%3Dm%3C%3D1000%20%24%20%2C%20%24%201%3C%3Ds%2Ct%3C%3Dn%20%24%20%2C%20%24%20s%5Cu2260t%20%24%20%29%20%5Cu2014%20the%20number%20of%20junctions%20and%20the%20number%20of%20roads%20in%20Nsk%2C%20as%20well%20as%20the%20indices%20of%20junctions%20where%20mayors%20home%20and%20work%20are%20located%20respectively.%20The%20%24%20i%20%24%20-th%20of%20the%20following%20%24%20m%20%24%20lines%20contains%20two%20integers%20%24%20u_%7Bi%7D%20%24%20and%20%24%20v_%7Bi%7D%20%24%20%28%20%24%201%3C%3Du_%7Bi%7D%2Cv_%7Bi%7D%3C%3Dn%20%24%20%2C%20%24%20u_%7Bi%7D%5Cu2260v_%7Bi%7D%20%24%20%29%2C%20meaning%20that%20this%20road%20connects%20junctions%20%24%20u_%7Bi%7D%20%24%20and%20%24%20v_%7Bi%7D%20%24%20directly.%20It%20is%20guaranteed%20that%20there%20is%20a%20path%20between%20any%20two%20junctions%20and%20no%20two%20roads%20connect%20the%20same%20pair%20of%20junctions.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20number%20of%20pairs%20of%20junctions%20not%20connected%20by%20a%20direct%20road%2C%20such%20that%20building%20a%20road%20between%20these%20two%20junctions%20won%27t%20decrease%20the%20distance%20between%20junctions%20%24%20s%20%24%20and%20%24%20t%20%24%20.%22%2C%22samples%22%3A%5B%5B%225%204%201%205%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%205%5Cn%22%2C%220%5Cn%22%5D%2C%5B%225%204%203%205%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%205%5Cn%22%2C%225%5Cn%22%5D%2C%5B%225%206%201%205%5Cn1%202%5Cn1%203%5Cn1%204%5Cn4%205%5Cn3%205%5Cn2%205%5Cn%22%2C%223%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F954%5C%2FD%22%2C%22id%22%3A%22954D%22%7D%2C%22translation%22%3A%22%5Cu9898%5Cu610f%5Cu63cf%5Cu8ff0%5Cuff1a%5Cn%5Cn%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu5f20%5Cu65e0%5Cu5411%5Cu56fe%2C%5Cu4e00%5Cu5171%5Cu6709n%5Cu4e2a%5Cu70b9%282%20%3C%3D%20n%20%3C%3D%201000%29%2C%5Cu7531m%5Cu6761%5Cu8fb9%5Cu8fde%5Cu63a5%5Cu8d77%5Cu6765%281%20%3C%3D%20m%20%3C%3D%2010000%29%2C%5Cu73b0%5Cu5728%5Cu8981%5Cu5728%5Cu4efb%5Cu610f%5Cu4e00%5Cu5bf9%5Cu6ca1%5Cu6709%5Cu8fde%5Cu8fb9%5Cu7684%5Cu70b9%5Cu4e4b%5Cu95f4%5Cu8fde%5Cu4e0a%5Cu4e00%5Cu6761%5Cu8fb9%2C%5Cu5e76%5Cu4e14%5Cu4fdd%5Cu8bc1s%5Cu5230t%5Cu4e4b%5Cu95f4%5Cu7684%5Cu6700%5Cu77ed%5Cu8def%5Cu5f84%5Cu957f%5Cu5ea6%5Cu4e0d%5Cu53d8%28%5Cu6700%5Cu77ed%5Cu8def%5Cu5f84%5Cu957f%5Cu5ea6%5Cu8868%5Cu793as%5Cu5230t%5Cu6700%5Cu5c11%5Cu7ecf%5Cu8fc7%5Cu7684%5Cu8fb9%5Cu7684%5Cu6570%5Cu91cf%29%281%20%3C%3D%20s%2Ct%20%3C%3D%20n%20%2C%20s%5Cu2260t%29%2C%5Cu8bf7%5Cu4f60%5Cu6c42%5Cu51fa%5Cu4e00%5Cu5171%5Cu6709%5Cu591a%5Cu5c11%5Cu6761%5Cu8fd9%5Cu6837%5Cu7684%5Cu8fb9%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165n%2Cm%2Cs%2Ct%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5230%5Cu7b2cm%2B1%5Cu884c%5Cu6bcf%5Cu884c%5Cu5171%5Cu6709%5Cu4e24%5Cu4e2a%5Cu6570%2C%5Cu8868%5Cu793a%5Cu8fd9%5Cu4e24%5Cu4e2a%5Cu70b9%5Cu4e4b%5Cu95f4%5Cu6709%5Cu4e00%5Cu6761%5Cu8fb9%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu4e00%5Cu5171%5Cu4e00%5Cu884c%2C%5Cu8868%5Cu793a%5Cu5408%5Cu6cd5%5Cu7684%5Cu52a0%5Cu8fb9%5Cu65b9%5Cu6848%5Cu6570%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40zhaotiensn%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A165%2C%22totalAccepted%22%3A103%2C%22pid%22%3A%22CF954D%22%2C%22title%22%3A%22Fight%20Against%20Traffic%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A72985%2C%22title%22%3A%22qwq%20%20%20%20UKEing%22%2C%22forum%22%3A%7B%22id%22%3A24770%2C%22name%22%3A%22CF954D%20Fight%20Against%20Traffic%22%2C%22slug%22%3A%22CF954D%22%7D%7D%2C%7B%22id%22%3A38389%2C%22title%22%3A%22%5Cu5c1d%5Cu8bd5%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A24770%2C%22name%22%3A%22CF954D%20Fight%20Against%20Traffic%22%2C%22slug%22%3A%22CF954D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3275%22%2C%22title%22%3A%22%5BSCOI2011%5D%5Cu7cd6%5Cu679c%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF543B%22%2C%22title%22%3A%22Destroying%20Roads%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF95C%22%2C%22title%22%3A%22Volleyball%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF954G%22%2C%22title%22%3A%22Castle%20Defense%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF954E%22%2C%22title%22%3A%22Water%20Taps%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Fight%20Against%20Traffic%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Fight Against Traffic</h1>
<h2>题意翻译</h2>
<div>题意描述：
给你一张无向图,一共有n个点(2 <= n <= 1000),由m条边连接起来(1 <= m <= 10000),现在要在任意一对没有连边的点之间连上一条边,并且保证s到t之间的最短路径长度不变(最短路径长度表示s到t最少经过的边的数量)(1 <= s,t <= n , s≠t),请你求出一共有多少条这样的边。
输入格式：
第一行输入n,m,s,t。
第二行到第m+1行每行共有两个数,表示这两个点之间有一条边。
输出格式：
一共一行,表示合法的加边方案数。
感谢@zhaotiensn 提供的翻译</div>
<h2>题目描述</h2>
<div>Little town Nsk consists of $ n $ junctions connected by $ m $ bidirectional roads. Each road connects two distinct junctions and no two roads connect the same pair of junctions. It is possible to get from any junction to any other junction by these roads. The distance between two junctions is equal to the minimum possible number of roads on a path between them.
In order to improve the transportation system, the city council asks mayor to build one new road. The problem is that the mayor has just bought a wonderful new car and he really enjoys a ride from his home, located near junction $ s $ to work located near junction $ t $ . Thus, he wants to build a new road in such a way that the distance between these two junctions won't decrease.
You are assigned a task to compute the number of pairs of junctions that are not connected by the road, such that if the new road between these two junctions is built the distance between $ s $ and $ t $ won't decrease.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The firt line of the input contains integers $ n $ , $ m $ , $ s $ and $ t $ ( $ 2<=n<=1000 $ , $ 1<=m<=1000 $ , $ 1<=s,t<=n $ , $ s≠t $ ) — the number of junctions and the number of roads in Nsk, as well as the indices of junctions where mayors home and work are located respectively. The $ i $ -th of the following $ m $ lines contains two integers $ u_{i} $ and $ v_{i} $ ( $ 1<=u_{i},v_{i}<=n $ , $ u_{i}≠v_{i} $ ), meaning that this road connects junctions $ u_{i} $ and $ v_{i} $ directly. It is guaranteed that there is a path between any two junctions and no two roads connect the same pair of junctions.</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the number of pairs of junctions not connected by a direct road, such that building a road between these two junctions won't decrease the distance between junctions $ s $ and $ t $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 4 1 5
1 2
2 3
3 4
4 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5 4 3 5
1 2
2 3
3 4
4 5
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>5
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>5 6 1 5
1 2
1 3
1 4
4 5
3 5
2 5
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>3
</code></pre>
</article>
</div>
</div>
</body>
</html>
