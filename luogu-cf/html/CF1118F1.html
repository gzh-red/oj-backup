<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Tree Cutting (Easy Version) - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401929:gnhL7/bFgi0b5phyD2kbHP4gquF3Ea/6vmuoDc7cMko=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20an%20undirected%20tree%20of%20%24%20n%20%24%20vertices.%5Cn%5CnSome%20vertices%20are%20colored%20blue%2C%20some%20are%20colored%20red%20and%20some%20are%20uncolored.%20It%20is%20guaranteed%20that%20the%20tree%20contains%20at%20least%20one%20red%20vertex%20and%20at%20least%20one%20blue%20vertex.%5Cn%5CnYou%20choose%20an%20edge%20and%20remove%20it%20from%20the%20tree.%20Tree%20falls%20apart%20into%20two%20connected%20components.%20Let%27s%20call%20an%20edge%20nice%20if%20neither%20of%20the%20resulting%20components%20contain%20vertices%20of%20both%20red%20and%20blue%20colors.%5Cn%5CnHow%20many%20nice%20edges%20are%20there%20in%20the%20given%20tree%3F%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%203%20%5C%5Ccdot%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20vertices%20in%20the%20tree.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cdots%2C%20a_n%20%24%20%28%20%24%200%20%5C%5Cle%20a_i%20%5C%5Cle%202%20%24%20%29%20%5Cu2014%20the%20colors%20of%20the%20vertices.%20%24%20a_i%20%3D%201%20%24%20means%20that%20vertex%20%24%20i%20%24%20is%20colored%20red%2C%20%24%20a_i%20%3D%202%20%24%20means%20that%20vertex%20%24%20i%20%24%20is%20colored%20blue%20and%20%24%20a_i%20%3D%200%20%24%20means%20that%20vertex%20%24%20i%20%24%20is%20uncolored.%5Cn%5CnThe%20%24%20i%20%24%20-th%20of%20the%20next%20%24%20n%20-%201%20%24%20lines%20contains%20two%20integers%20%24%20v_i%20%24%20and%20%24%20u_i%20%24%20%28%20%24%201%20%5C%5Cle%20v_i%2C%20u_i%20%5C%5Cle%20n%20%24%20%2C%20%24%20v_i%20%5C%5Cne%20u_i%20%24%20%29%20%5Cu2014%20the%20edges%20of%20the%20tree.%20It%20is%20guaranteed%20that%20the%20given%20edges%20form%20a%20tree.%20It%20is%20guaranteed%20that%20the%20tree%20contains%20at%20least%20one%20red%20vertex%20and%20at%20least%20one%20blue%20vertex.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20number%20of%20nice%20edges%20in%20the%20given%20tree.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%5Cn2%200%200%201%202%5Cn1%202%5Cn2%203%5Cn2%204%5Cn2%205%5Cn%22%2C%22%5Cn1%5Cn%22%5D%2C%5B%22%5Cn5%5Cn1%200%200%200%202%5Cn1%202%5Cn2%203%5Cn3%204%5Cn4%205%5Cn%22%2C%22%5Cn4%5Cn%22%5D%2C%5B%22%5Cn3%5Cn1%201%202%5Cn2%203%5Cn1%203%5Cn%22%2C%22%5Cn0%5Cn%22%5D%5D%2C%22hint%22%3A%22Here%20is%20the%20tree%20from%20the%20first%20example%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1118F1%5C%2Fab0319e6d1b3fdf0a12318f77b159c6dc359f231.png%29The%20only%20nice%20edge%20is%20edge%20%24%20%282%2C%204%29%20%24%20.%20Removing%20it%20makes%20the%20tree%20fall%20apart%20into%20components%20%24%20%5C%5C%7B4%5C%5C%7D%20%24%20and%20%24%20%5C%5C%7B1%2C%202%2C%203%2C%205%5C%5C%7D%20%24%20.%20The%20first%20component%20only%20includes%20a%20red%20vertex%20and%20the%20second%20component%20includes%20blue%20vertices%20and%20uncolored%20vertices.%5Cn%5CnHere%20is%20the%20tree%20from%20the%20second%20example%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1118F1%5C%2F7f13f482fb950c8fef37bc2658aa383ebfb7bf5b.png%29Every%20edge%20is%20nice%20in%20it.%5Cn%5CnHere%20is%20the%20tree%20from%20the%20third%20example%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1118F1%5C%2Ff3485c6c57decb8200c34309a45ff67d9c4b5fd0.png%29Edge%20%24%20%281%2C%203%29%20%24%20splits%20the%20into%20components%20%24%20%5C%5C%7B1%5C%5C%7D%20%24%20and%20%24%20%5C%5C%7B3%2C%202%5C%5C%7D%20%24%20%2C%20the%20latter%20one%20includes%20both%20red%20and%20blue%20vertex%2C%20thus%20the%20edge%20isn%27t%20nice.%20Edge%20%24%20%282%2C%203%29%20%24%20splits%20the%20into%20components%20%24%20%5C%5C%7B1%2C%203%5C%5C%7D%20%24%20and%20%24%20%5C%5C%7B2%5C%5C%7D%20%24%20%2C%20the%20former%20one%20includes%20both%20red%20and%20blue%20vertex%2C%20thus%20the%20edge%20also%20isn%27t%20nice.%20So%20the%20answer%20is%200.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1118%5C%2FF1%22%2C%22id%22%3A%221118F1%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4e00%5Cu68f5%5Cu6811%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu8282%5Cu70b9%5Cu90fd%5Cu662f%5Cu7ea2%5Cu8272%5Cuff0c%5Cu84dd%5Cu8272%5Cu6216%5Cu8005%5Cu65e0%5Cu8272%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4e00%5Cu6761%5Cu8fb9%5Cu662f%5Cu5408%5Cu6cd5%5Cu7684%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53%5Cu5220%5Cu9664%5Cu8fd9%5Cu4e00%5Cu6761%5Cu8fb9%5Cu4e4b%5Cu540e%5Cuff0c%5Cu6811%5Cu88ab%5Cu5206%5Cu6210%5Cu4e24%5Cu90e8%5Cu5206%5Cuff0c%5Cu8fd9%5Cu4e24%5Cu90e8%5Cu5206%5Cu4e0d%5Cu540c%5Cu65f6%5Cu542b%5Cu6709%5Cu7ea2%5Cu8272%5Cu548c%5Cu84dd%5Cu8272%5Cr%5Cn%5Cr%5Cn%5Cu95ee%5Cu6709%5Cu591a%5Cu5c11%5Cu6761%5Cu5408%5Cu6cd5%5Cu7684%5Cu8fb9%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cuff1a1%20%3C%3D%20n%20%3C%3D%203e5%5Cuff0c%24a_i%24%20%3D%201%5Cu8868%5Cu793a%5Cu662f%5Cu7ea2%5Cu8272%5Cuff0c%24a_i%24%20%3D%202%20%5Cu8868%5Cu793a%5Cu84dd%5Cu8272%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A7%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF1118F1%22%2C%22title%22%3A%22Tree%20Cutting%20%28Easy%20Version%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Tree%20Cutting%20%28Easy%20Version%29%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Tree Cutting (Easy Version)</h1>
<h2>题意翻译</h2>
<div>给一棵树，每一个节点都是红色，蓝色或者无色。
一条边是合法的当且仅当删除这一条边之后，树被分成两部分，这两部分不同时含有红色和蓝色
问有多少条合法的边。
数据范围：1 <= n <= 3e5，$a_i$ = 1表示是红色，$a_i$ = 2 表示蓝色</div>
<h2>题目描述</h2>
<div>You are given an undirected tree of $ n $ vertices.
Some vertices are colored blue, some are colored red and some are uncolored. It is guaranteed that the tree contains at least one red vertex and at least one blue vertex.
You choose an edge and remove it from the tree. Tree falls apart into two connected components. Let's call an edge nice if neither of the resulting components contain vertices of both red and blue colors.
How many nice edges are there in the given tree?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ ( $ 2 \le n \le 3 \cdot 10^5 $ ) — the number of vertices in the tree.
The second line contains $ n $ integers $ a_1, a_2, \dots, a_n $ ( $ 0 \le a_i \le 2 $ ) — the colors of the vertices. $ a_i = 1 $ means that vertex $ i $ is colored red, $ a_i = 2 $ means that vertex $ i $ is colored blue and $ a_i = 0 $ means that vertex $ i $ is uncolored.
The $ i $ -th of the next $ n - 1 $ lines contains two integers $ v_i $ and $ u_i $ ( $ 1 \le v_i, u_i \le n $ , $ v_i \ne u_i $ ) — the edges of the tree. It is guaranteed that the given edges form a tree. It is guaranteed that the tree contains at least one red vertex and at least one blue vertex.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the number of nice edges in the given tree.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5
2 0 0 1 2
1 2
2 3
2 4
2 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
5
1 0 0 0 2
1 2
2 3
3 4
4 5
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
4
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
3
1 1 2
2 3
1 3
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
0
</code></pre>
<h2>说明</h2>
<div>Here is the tree from the first example:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1118F1/ab0319e6d1b3fdf0a12318f77b159c6dc359f231.png)The only nice edge is edge $ (2, 4) $ . Removing it makes the tree fall apart into components $ \{4\} $ and $ \{1, 2, 3, 5\} $ . The first component only includes a red vertex and the second component includes blue vertices and uncolored vertices.
Here is the tree from the second example:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1118F1/7f13f482fb950c8fef37bc2658aa383ebfb7bf5b.png)Every edge is nice in it.
Here is the tree from the third example:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1118F1/f3485c6c57decb8200c34309a45ff67d9c4b5fd0.png)Edge $ (1, 3) $ splits the into components $ \{1\} $ and $ \{3, 2\} $ , the latter one includes both red and blue vertex, thus the edge isn't nice. Edge $ (2, 3) $ splits the into components $ \{1, 3\} $ and $ \{2\} $ , the former one includes both red and blue vertex, thus the edge also isn't nice. So the answer is 0.</div>
</article>
</div>
</div>
</body>
</html>
