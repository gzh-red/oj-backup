<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Maze - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393411:W0VAeX1bk0gGVxDb+ep6uGnvgTpvVBxAK08wvhs99Q0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Pavel%20loves%20grid%20mazes.%20A%20grid%20maze%20is%20an%20%24%20n%5Cu00d7m%20%24%20rectangle%20maze%20where%20each%20cell%20is%20either%20empty%2C%20or%20is%20a%20wall.%20You%20can%20go%20from%20one%20cell%20to%20another%20only%20if%20both%20cells%20are%20empty%20and%20have%20a%20common%20side.%5Cn%5CnPavel%20drew%20a%20grid%20maze%20with%20all%20empty%20cells%20forming%20a%20connected%20area.%20That%20is%2C%20you%20can%20go%20from%20any%20empty%20cell%20to%20any%20other%20one.%20Pavel%20doesn%27t%20like%20it%20when%20his%20maze%20has%20too%20little%20walls.%20He%20wants%20to%20turn%20exactly%20%24%20k%20%24%20empty%20cells%20into%20walls%20so%20that%20all%20the%20remaining%20cells%20still%20formed%20a%20connected%20area.%20Help%20him.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20three%20integers%20%24%20n%20%24%20%2C%20%24%20m%20%24%20%2C%20%24%20k%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D500%20%24%20%2C%20%24%200%3C%3Dk%26lt%3Bs%20%24%20%29%2C%20where%20%24%20n%20%24%20and%20%24%20m%20%24%20are%20the%20maze%27s%20height%20and%20width%2C%20correspondingly%2C%20%24%20k%20%24%20is%20the%20number%20of%20walls%20Pavel%20wants%20to%20add%20and%20letter%20%24%20s%20%24%20represents%20the%20number%20of%20empty%20cells%20in%20the%20original%20maze.%5Cn%5CnEach%20of%20the%20next%20%24%20n%20%24%20lines%20contains%20%24%20m%20%24%20characters.%20They%20describe%20the%20original%20maze.%20If%20a%20character%20on%20a%20line%20equals%20%5C%22.%5C%22%2C%20then%20the%20corresponding%20cell%20is%20empty%20and%20if%20the%20character%20equals%20%5C%22%5C%5C%23%5C%22%2C%20then%20the%20cell%20is%20a%20wall.%22%2C%22outputFormat%22%3A%22Print%20%24%20n%20%24%20lines%20containing%20%24%20m%20%24%20characters%20each%3A%20the%20new%20maze%20that%20fits%20Pavel%27s%20requirements.%20Mark%20the%20empty%20cells%20that%20you%20transformed%20into%20walls%20as%20%5C%22X%5C%22%2C%20the%20other%20cells%20must%20be%20left%20without%20changes%20%28that%20is%2C%20%5C%22.%5C%22%20and%20%5C%22%5C%5C%23%5C%22%29.%5Cn%5CnIt%20is%20guaranteed%20that%20a%20solution%20exists.%20If%20there%20are%20multiple%20solutions%20you%20can%20output%20any%20of%20them.%22%2C%22samples%22%3A%5B%5B%223%204%202%5Cn%23..%23%5Cn..%23.%5Cn%23...%5Cn%22%2C%22%23.X%23%5CnX.%23.%5Cn%23...%5Cn%22%5D%2C%5B%225%204%205%5Cn%23...%5Cn%23.%23.%5Cn.%23..%5Cn...%23%5Cn.%23.%23%5Cn%22%2C%22%23XXX%5Cn%23X%23.%5CnX%23..%5Cn...%23%5Cn.%23.%23%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F377%5C%2FA%22%2C%22id%22%3A%22377A%22%7D%2C%22translation%22%3A%22%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cuff1a%5Cn%5Cn%5Cu5c0fP%5Cu975e%5Cu5e38%5Cu7684%5Cu559c%5Cu6b22%5Cu65b9%5Cu683c%5Cu8ff7%5Cu5bab%5Cu3002%5Cu65b9%5Cu683c%5Cu8ff7%5Cu5bab%5Cu662f%5Cu4e00%5Cu4e2an%2Am%5Cu7684%5Cu7531%5Cu5899%5Cu548c%5Cu7a7a%5Cu5730%5Cu6784%5Cu6210%5Cu7684%5Cu957f%5Cu65b9%5Cu5f62%5Cu65b9%5Cu9635%5Cu3002%5Cu53ea%5Cu6709%5Cu5f53%5Cu4e24%5Cu70b9%5Cu6ee1%5Cu8db3%5Cu56db%5Cu8054%5Cu901a%5Cu6761%5Cu4ef6%5Cu65f6%5Cu624d%5Cu80fd%5Cu8d70%5Cu8fc7%5Cu53bb%5Cu3002%5Cn%5Cn%5Cu5c0fP%5Cu753b%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu8ff7%5Cu5bab%5Cuff0c%5Cu91cc%5Cu9762%5Cu6240%5Cu6709%5Cu7684%5Cu7a7a%5Cu5730%5Cu90fd%5Cu662f%5Cu56db%5Cu8fde%5Cu901a%5Cu7684%5Cu3002%5Cu4f46~~%5Cu95f2%5Cu7740%5Cu6ca1%5Cu4e8b%5Cu5e72%5Cu7684~~%5Cu5c0fP%5Cu8ba4%5Cu4e3a%5Cu81ea%5Cu5df1%5Cu753b%5Cu7684%5Cu8ff7%5Cu5bab%5Cu91cc%5Cu5c0f%5Cu5899%5Cu592a%5Cu591a%5Cu4e86%5Cu5f88%5Cu96be%5Cu770b%5Cuff0c%5Cu6240%5Cu4ee5%5Cu4ed6%5Cu5e0c%5Cu671b%5Cu80fd%5Cu591f%5Cu901a%5Cu8fc7%5Cu628a%5Cu8ff7%5Cu5bab%5Cu4e2dk%5Cu4e2a%5Cu683c%5Cu5b50%5Cu4ece%5Cu7a7a%5Cu5730%5Cu53d8%5Cu6210%5Cu5899%5Cu4f46%5Cu4e0d%5Cu7834%5Cu574f%5Cu6574%5Cu5f20%5Cu56fe%5Cu7684%5Cu8fde%5Cu901a%5Cu6027%5Cuff08%5Cu5373%5Cu4ecd%5Cu7136%5Cu4fdd%5Cu6301%5Cu6240%5Cu6709%5Cu7a7a%5Cu5730%5Cu5728%5Cu4e00%5Cu4e2a%5Cu56db%5Cu8fde%5Cu901a%5Cu5757%5Cu4e2d%5Cuff09%5Cn%5Cn%5Cu4f46%5Cu662f%5Cu5c0fP%5Cu592a%5Cu8822%5Cu4e86%5Cu505a%5Cu4e0d%5Cu6765%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu5e2e%5Cu52a9%5Cu4ed6%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cuff1a%5Cn%5Cu7b2c%5Cu4e00%5Cu884cn%2Cm%2Ck%5Cuff08%5Cu63cf%5Cu8ff0%5Cu5982%5Cu9898%5Cuff09%5Cn%5Cu7b2c%5Cu4e8c%5Cu5230n%2B1%5Cu884c%5Cuff1a%5Cn%5Cu6bcf%5Cu884cm%5Cu4e2a%5Cu5b57%5Cu7b26%5Cuff0c%5Cu5206%5Cu522b%5Cu662f%27.%27%5Cu6216%27%23%27%5Cu3002%20%27.%27%5Cu8868%5Cu793a%5Cu7a7a%5Cu5730%5Cuff0c%27%23%27%5Cu8868%5Cu793a%5Cu5899%5Cu3002%5Cn%5Cu8f93%5Cu51fa%5Cuff1a%5Cn%5Cu628a%5Cu6574%5Cu5f20%5Cu56fe%5Cu539f%5Cu6837%5Cu6253%5Cu51fa%5Cu6765%5Cuff0c%5Cu4f46%5Cu662f%5Cu88ab%5Cu4f60%5Cu4fee%5Cu6539%5Cu7684%5Cu683c%5Cu5b50%5Cu8f93%5Cu51fa%27X%27%5Cu3002%5Cn%5Cn%5Cuff08%5Cu9898%5Cu610f%5Cu57fa%5Cu672c%5Cu6b63%5Cu786e%5Cuff09%22%2C%22tags%22%3A%5B127%2C287%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A312%2C%22totalAccepted%22%3A139%2C%22pid%22%3A%22CF377A%22%2C%22title%22%3A%22Maze%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A52394%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A11129%2C%22name%22%3A%22CF377A%20Maze%22%2C%22slug%22%3A%22CF377A%22%7D%7D%2C%7B%22id%22%3A52164%2C%22title%22%3A%22%5Cu6c42%5Cu627ebug%22%2C%22forum%22%3A%7B%22id%22%3A11129%2C%22name%22%3A%22CF377A%20Maze%22%2C%22slug%22%3A%22CF377A%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2165%22%2C%22title%22%3A%22%5BAHOI2009%5D%5Cu98de%5Cu884c%5Cu68cb%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3956%22%2C%22title%22%3A%22%5Cu68cb%5Cu76d8%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF763A%22%2C%22title%22%3A%22Timofey%20and%20a%20tree%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22SP1837%22%2C%22title%22%3A%22PIE%20-%20Pie%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22CF977D%22%2C%22title%22%3A%22Divide%20by%20three%2C%20multiply%20by%20two%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Maze%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Maze</h1>
<h2>题意翻译</h2>
<div>题目描述：
小P非常的喜欢方格迷宫。方格迷宫是一个n*m的由墙和空地构成的长方形方阵。只有当两点满足四联通条件时才能走过去。
小P画了一个迷宫，里面所有的空地都是四连通的。但~~闲着没事干的~~小P认为自己画的迷宫里小墙太多了很难看，所以他希望能够通过把迷宫中k个格子从空地变成墙但不破坏整张图的连通性（即仍然保持所有空地在一个四连通块中）
但是小P太蠢了做不来，请你帮助他。
输入：
第一行n,m,k（描述如题）
第二到n+1行：
每行m个字符，分别是'.'或'#'。 '.'表示空地，'#'表示墙。
输出：
把整张图原样打出来，但是被你修改的格子输出'X'。
（题意基本正确）</div>
<h2>题目描述</h2>
<div>Pavel loves grid mazes. A grid maze is an $ n×m $ rectangle maze where each cell is either empty, or is a wall. You can go from one cell to another only if both cells are empty and have a common side.
Pavel drew a grid maze with all empty cells forming a connected area. That is, you can go from any empty cell to any other one. Pavel doesn't like it when his maze has too little walls. He wants to turn exactly $ k $ empty cells into walls so that all the remaining cells still formed a connected area. Help him.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains three integers $ n $ , $ m $ , $ k $ ( $ 1<=n,m<=500 $ , $ 0<=k&lt;s $ ), where $ n $ and $ m $ are the maze's height and width, correspondingly, $ k $ is the number of walls Pavel wants to add and letter $ s $ represents the number of empty cells in the original maze.
Each of the next $ n $ lines contains $ m $ characters. They describe the original maze. If a character on a line equals ".", then the corresponding cell is empty and if the character equals "\#", then the cell is a wall.</div>
<h3>输出格式</h3>
<br />
<div>Print $ n $ lines containing $ m $ characters each: the new maze that fits Pavel's requirements. Mark the empty cells that you transformed into walls as "X", the other cells must be left without changes (that is, "." and "\#").
It is guaranteed that a solution exists. If there are multiple solutions you can output any of them.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 4 2
#..#
..#.
#...
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>#.X#
X.#.
#...
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5 4 5
#...
#.#.
.#..
...#
.#.#
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>#XXX
#X#.
X#..
...#
.#.#
</code></pre>
</article>
</div>
</div>
</body>
</html>
