<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Permutations - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397277:MJGWWbH2X2O5mdEXNlPqLG5gzRKscKTLkG96fP2/bWw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Ostap%20Bender%20is%20worried%20that%20people%20started%20to%20forget%20that%20he%20is%20the%20Great%20Combinator.%20Now%20he%20wants%20to%20show%20them%20his%20skills%20in%20combinatorics.%20Now%20he%20studies%20the%20permutations%20of%20length%20%24%20n%20%24%20.%20He%20has%20a%20list%20of%20%24%20m%20%24%20valid%20pairs%2C%20pair%20%24%20a_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20means%20that%20he%20is%20allowed%20to%20place%20integers%20%24%20b_%7Bi%7D%20%24%20at%20position%20%24%20a_%7Bi%7D%20%24%20.%5Cn%5CnHe%20knows%20that%20the%20number%20of%20permutations%20that%20use%20only%20valid%20pairs%20is%20odd.%20Now%2C%20for%20each%20pair%20he%20wants%20to%20find%20out%2C%20will%20the%20number%20of%20valid%20permutations%20be%20odd%20if%20he%20removes%20this%20pair%20%28and%20only%20it%29%20from%20the%20list.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%3C%3D2000%20%24%20%2C%20%24%20n%3C%3Dm%3C%3Dmin%28n%5E%7B2%7D%2C500000%29%20%24%20%29%20%5Cu2014%20the%20number%20of%20elements%20in%20the%20permutation.%20Then%20follow%20%24%20m%20%24%20lines%2C%20each%20containing%20some%20valid%20pair%20%24%20%28a_%7Bi%7D%2Cb_%7Bi%7D%29%20%24%20%28%20%24%201%3C%3Da_%7Bi%7D%2Cb_%7Bi%7D%3C%3Dn%20%24%20%29.%20It%27s%20guaranteed%20that%20no%20pair%20occurs%20in%20the%20input%20twice%20and%20that%20the%20total%20number%20of%20valid%20permutations%20%28i.e.%20using%20only%20allowed%20pairs%20position-elements%29%20is%20odd.%22%2C%22outputFormat%22%3A%22Print%20%24%20m%20%24%20lines%2C%20one%20line%20for%20each%20valid%20pair.%20The%20%24%20i%20%24%20-th%20line%20should%20contain%20%5C%22YES%5C%22%20if%20after%20Ostap%20removes%20the%20%24%20i%20%24%20-th%20pair%20%28and%20only%20it%29%20the%20remaining%20number%20of%20valid%20permutations%20is%20odd.%20Otherwise%2C%20print%20%5Cu00abNO%5Cu00bb.%22%2C%22samples%22%3A%5B%5B%222%203%5Cn1%201%5Cn1%202%5Cn2%202%5Cn%22%2C%22NO%5CnYES%5CnNO%5Cn%22%5D%2C%5B%223%203%5Cn1%201%5Cn2%202%5Cn3%203%5Cn%22%2C%22NO%5CnNO%5CnNO%5Cn%22%5D%2C%5B%223%207%5Cn3%203%5Cn3%201%5Cn1%203%5Cn1%201%5Cn2%202%5Cn1%202%5Cn2%201%5Cn%22%2C%22YES%5CnNO%5CnNO%5CnNO%5CnYES%5CnNO%5CnNO%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F736%5C%2FD%22%2C%22id%22%3A%22736D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A7%2C%22totalAccepted%22%3A3%2C%22pid%22%3A%22CF736D%22%2C%22title%22%3A%22Permutations%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Permutations%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Permutations</h1>
<h2>题目描述</h2>
<div>Ostap Bender is worried that people started to forget that he is the Great Combinator. Now he wants to show them his skills in combinatorics. Now he studies the permutations of length $ n $ . He has a list of $ m $ valid pairs, pair $ a_{i} $ and $ b_{i} $ means that he is allowed to place integers $ b_{i} $ at position $ a_{i} $ .
He knows that the number of permutations that use only valid pairs is odd. Now, for each pair he wants to find out, will the number of valid permutations be odd if he removes this pair (and only it) from the list.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ m $ ( $ 1<=n<=2000 $ , $ n<=m<=min(n^{2},500000) $ ) — the number of elements in the permutation. Then follow $ m $ lines, each containing some valid pair $ (a_{i},b_{i}) $ ( $ 1<=a_{i},b_{i}<=n $ ). It's guaranteed that no pair occurs in the input twice and that the total number of valid permutations (i.e. using only allowed pairs position-elements) is odd.</div>
<h3>输出格式</h3>
<br />
<div>Print $ m $ lines, one line for each valid pair. The $ i $ -th line should contain "YES" if after Ostap removes the $ i $ -th pair (and only it) the remaining number of valid permutations is odd. Otherwise, print «NO».</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 3
1 1
1 2
2 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>NO
YES
NO
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3 3
1 1
2 2
3 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>NO
NO
NO
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3 7
3 3
3 1
1 3
1 1
2 2
1 2
2 1
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>YES
NO
NO
NO
YES
NO
NO
</code></pre>
</article>
</div>
</div>
</body>
</html>
