<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Magic Stones - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401841:zPb9TJvu1+I2jv0878tQG0qE0c1esCYwkDWHs229iUM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Grigory%20has%20%24%20n%20%24%20magic%20stones%2C%20conveniently%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20.%20The%20charge%20of%20the%20%24%20i%20%24%20-th%20stone%20is%20equal%20to%20%24%20c_i%20%24%20.%5Cn%5CnSometimes%20Grigory%20gets%20bored%20and%20selects%20some%20inner%20stone%20%28that%20is%2C%20some%20stone%20with%20index%20%24%20i%20%24%20%2C%20where%20%24%202%20%5C%5Cle%20i%20%5C%5Cle%20n%20-%201%20%24%20%29%2C%20and%20after%20that%20synchronizes%20it%20with%20neighboring%20stones.%20After%20that%2C%20the%20chosen%20stone%20loses%20its%20own%20charge%2C%20but%20acquires%20the%20charges%20from%20neighboring%20stones.%20In%20other%20words%2C%20its%20charge%20%24%20c_i%20%24%20changes%20to%20%24%20c_i%27%20%3D%20c_%7Bi%20%2B%201%7D%20%2B%20c_%7Bi%20-%201%7D%20-%20c_i%20%24%20.%5Cn%5CnAndrew%2C%20Grigory%27s%20friend%2C%20also%20has%20%24%20n%20%24%20stones%20with%20charges%20%24%20t_i%20%24%20.%20Grigory%20is%20curious%2C%20whether%20there%20exists%20a%20sequence%20of%20zero%20or%20more%20synchronization%20operations%2C%20which%20transforms%20charges%20of%20Grigory%27s%20stones%20into%20charges%20of%20corresponding%20Andrew%27s%20stones%2C%20that%20is%2C%20changes%20%24%20c_i%20%24%20into%20%24%20t_i%20%24%20for%20all%20%24%20i%20%24%20%3F%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20magic%20stones.%5Cn%5CnThe%20second%20line%20contains%20integers%20%24%20c_1%2C%20c_2%2C%20%5C%5Cldots%2C%20c_n%20%24%20%28%20%24%200%20%5C%5Cle%20c_i%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E9%20%24%20%29%20%5Cu2014%20the%20charges%20of%20Grigory%27s%20stones.%5Cn%5CnThe%20second%20line%20contains%20integers%20%24%20t_1%2C%20t_2%2C%20%5C%5Cldots%2C%20t_n%20%24%20%28%20%24%200%20%5C%5Cle%20t_i%20%5C%5Cle%202%20%5C%5Ccdot%2010%5E9%20%24%20%29%20%5Cu2014%20the%20charges%20of%20Andrew%27s%20stones.%22%2C%22outputFormat%22%3A%22If%20there%20exists%20a%20%28possibly%20empty%29%20sequence%20of%20synchronization%20operations%2C%20which%20changes%20all%20charges%20to%20the%20required%20ones%2C%20print%20%5C%22Yes%5C%22.%5Cn%5CnOtherwise%2C%20print%20%5C%22No%5C%22.%22%2C%22samples%22%3A%5B%5B%22%5Cn4%5Cn7%202%204%2012%5Cn7%2015%2010%2012%5Cn%22%2C%22%5CnYes%5Cn%22%5D%2C%5B%22%5Cn3%5Cn4%204%204%5Cn1%202%203%5Cn%22%2C%22%5CnNo%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20we%20can%20perform%20the%20following%20synchronizations%20%28%20%24%201%20%24%20-indexed%29%3A%5Cn%5Cn-%20First%2C%20synchronize%20the%20third%20stone%20%24%20%5B7%2C%202%2C%20%5C%5Cmathbf%7B4%7D%2C%2012%5D%20%5C%5Crightarrow%20%5B7%2C%202%2C%20%5C%5Cmathbf%7B10%7D%2C%2012%5D%20%24%20.%5Cn-%20Then%20synchronize%20the%20second%20stone%3A%20%24%20%5B7%2C%20%5C%5Cmathbf%7B2%7D%2C%2010%2C%2012%5D%20%5C%5Crightarrow%20%5B7%2C%20%5C%5Cmathbf%7B15%7D%2C%2010%2C%2012%5D%20%24%20.%5Cn%5CnIn%20the%20second%20example%2C%20any%20operation%20with%20the%20second%20stone%20will%20not%20change%20its%20charge.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1110%5C%2FE%22%2C%22id%22%3A%221110E%22%7D%2C%22translation%22%3A%22%2A%2A%5Cu9898%5Cu610f%5Cuff1a%2A%2A%5Cr%5Cn%5Cr%5Cn%5Cu4e00%5Cu6b21%5Cu64cd%5Cu4f5c%5Cu9009%5Cu62e9%241%3Ci%3Cn%24%5Cuff0c%5Cu4f7f%24c_i%24%5Cu53d8%5Cu4e3a%24c_i%27%24%5Cuff0c%24c_i%27%3Dc_%7Bi%2B1%7D%2Bc_%7Bi-1%7D-c_i%24%5Cr%5Cn%5Cr%5Cn%5Cu662f%5Cu5426%5Cu80fd%5Cu505a%5Cu82e5%5Cu5e72%5Cu6b21%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu4f7f%5Cu6bcf%5Cu4e2a%24c_i%24%5Cu548c%24t_i%24%5Cu76f8%5Cu7b49%5Cuff1f%5Cr%5Cn%5Cr%5Cn%2A%2A%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cuff1a%2A%2A%5Cr%5Cn%5Cr%5Cn%242%5C%5Cle%20n%5C%5Cle%2010%5E5%2C%200%5C%5Cle%20c_i%5C%5Cle%202%2A10%5E9%2C%200%5C%5Cle%20t_i%5C%5Cle%202%2A10%5E9%24%5Cr%5Cn%5Cr%5Cn%2A%2A%5Cu8f93%5Cu5165%5Cu65b9%5Cu5f0f%5Cuff1a%2A%2A%5Cr%5Cn%5Cr%5Cn%5Cu884c1%20%24n%24%5Cr%5Cn%5Cr%5Cn%5Cu884c2%20%24c_1%2C%20%5C%5Ccdots%2C%20c_n%24%5Cr%5Cn%5Cr%5Cn%5Cu884c3%20%24t_1%2C%20%5C%5Ccdots%2C%20t_n%24%5Cr%5Cn%5Cr%5Cn%2A%2A%5Cu8f93%5Cu51fa%5Cu65b9%5Cu5f0f%5Cuff1a%2A%2A%5Cr%5Cn%5Cr%5CnYes%5C%2FNo%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A308%2C%22totalAccepted%22%3A204%2C%22pid%22%3A%22CF1110E%22%2C%22title%22%3A%22Magic%20Stones%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A101487%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu4e0d%5Cu5c31%5Cu662fAGC006C%5Cu554a%22%2C%22forum%22%3A%7B%22id%22%3A34163%2C%22name%22%3A%22CF1110E%20Magic%20Stones%22%2C%22slug%22%3A%22CF1110E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1110F%22%2C%22title%22%3A%22Nearest%20Leaf%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1110D%22%2C%22title%22%3A%22Jongmah%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1110C%22%2C%22title%22%3A%22Meaningless%20Operations%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1110B%22%2C%22title%22%3A%22Tape%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1175E%22%2C%22title%22%3A%22Minimal%20Segment%20Cover%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Magic%20Stones%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Magic Stones</h1>
<h2>题意翻译</h2>
<div>**题意：**
一次操作选择$1<i<n$，使$c_i$变为$c_i'$，$c_i'=c_{i+1}+c_{i-1}-c_i$ 是否能做若干次操作，使每个$c_i$和$t_i$相等？ **数据范围：** $2\le n\le 10^5, 0\le c_i\le 2*10^9, 0\le t_i\le 2*10^9$ **输入方式：** 行1 $n$ 行2 $c_1, \cdots, c_n$ 行3 $t_1, \cdots, t_n$ **输出方式：** Yes/No</div>
<h2>题目描述</h2>
<div>Grigory has $ n $ magic stones, conveniently numbered from $ 1 $ to $ n $ . The charge of the $ i $ -th stone is equal to $ c_i $ .
Sometimes Grigory gets bored and selects some inner stone (that is, some stone with index $ i $ , where $ 2 \le i \le n - 1 $ ), and after that synchronizes it with neighboring stones. After that, the chosen stone loses its own charge, but acquires the charges from neighboring stones. In other words, its charge $ c_i $ changes to $ c_i' = c_{i + 1} + c_{i - 1} - c_i $ .
Andrew, Grigory's friend, also has $ n $ stones with charges $ t_i $ . Grigory is curious, whether there exists a sequence of zero or more synchronization operations, which transforms charges of Grigory's stones into charges of corresponding Andrew's stones, that is, changes $ c_i $ into $ t_i $ for all $ i $ ?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ n $ ( $ 2 \le n \le 10^5 $ ) — the number of magic stones.
The second line contains integers $ c_1, c_2, \ldots, c_n $ ( $ 0 \le c_i \le 2 \cdot 10^9 $ ) — the charges of Grigory's stones.
The second line contains integers $ t_1, t_2, \ldots, t_n $ ( $ 0 \le t_i \le 2 \cdot 10^9 $ ) — the charges of Andrew's stones.</div>
<h3>输出格式</h3>
<br />
<div>If there exists a (possibly empty) sequence of synchronization operations, which changes all charges to the required ones, print "Yes".
Otherwise, print "No".</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
4
7 2 4 12
7 15 10 12
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
Yes
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
3
4 4 4
1 2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
No
</code></pre>
<h2>说明</h2>
<div>In the first example, we can perform the following synchronizations ( $ 1 $ -indexed):
- First, synchronize the third stone $ [7, 2, \mathbf{4}, 12] \rightarrow [7, 2, \mathbf{10}, 12] $ .
- Then synchronize the second stone: $ [7, \mathbf{2}, 10, 12] \rightarrow [7, \mathbf{15}, 10, 12] $ .
In the second example, any operation with the second stone will not change its charge.</div>
</article>
</div>
</div>
</body>
</html>
