<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Bits of merry old England - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573391054:kRCZ3BQRe+4FtI+7HOCxdalP+ARTXOyAwtOtNUsQDfw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Another%20feature%20of%20Shakespeare%20language%20is%20that%20the%20variables%20are%20named%20after%20characters%20of%20plays%20by%20Shakespeare%2C%20and%20all%20operations%20on%20them%20%28value%20assignment%2C%20output%20etc.%29%20look%20like%20a%20dialog%20with%20other%20characters.%20New%20values%20of%20variables%20are%20defined%20in%20a%20rather%20lengthy%20way%2C%20so%20a%20programmer%20should%20try%20to%20minimize%20their%20usage.%5Cn%5CnYou%20have%20to%20print%20the%20given%20sequence%20of%20%24%20n%20%24%20integers.%20To%20do%20this%2C%20you%20have%20%24%20m%20%24%20variables%20and%20two%20types%20of%20operations%20on%20them%3A%5Cn%5Cn-%20variable%3Dinteger%5Cn-%20print%28variable%29%5Cn%5CnAny%20of%20the%20%24%20m%20%24%20variables%20can%20be%20used%20as%20variable.%20Variables%20are%20denoted%20by%20lowercase%20letters%20between%20%5C%22a%5C%22%20and%20%5C%22z%5C%22%2C%20inclusive.%20Any%20integer%20number%20can%20be%20used%20as%20integer.%5Cn%5CnLet%27s%20say%20that%20the%20penalty%20for%20using%20first%20type%20of%20operations%20equals%20to%20the%20number%20of%20set%20bits%20in%20the%20number%20integer.%20There%20is%20no%20penalty%20on%20using%20second%20type%20of%20operations.%20Find%20and%20output%20the%20program%20which%20minimizes%20the%20penalty%20for%20printing%20the%20given%20sequence%20of%20numbers.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%3C%3D250%20%24%20%2C%20%24%201%3C%3Dm%3C%3D26%20%24%20%29.%20The%20second%20line%20contains%20the%20sequence%20to%20be%20printed.%20Each%20element%20of%20the%20sequence%20is%20an%20integer%20between%20%24%201%20%24%20and%20%24%2010%5E%7B9%7D%20%24%20%2C%20inclusive.%20The%20sequence%20has%20to%20be%20printed%20in%20the%20given%20order%20%28from%20left%20to%20right%29.%22%2C%22outputFormat%22%3A%22Output%20the%20number%20of%20lines%20in%20the%20optimal%20program%20and%20the%20optimal%20penalty.%20Next%2C%20output%20the%20program%20itself%2C%20one%20command%20per%20line.%20If%20there%20are%20several%20programs%20with%20minimal%20penalty%2C%20output%20any%20of%20them%20%28you%20have%20only%20to%20minimize%20the%20penalty%29.%22%2C%22samples%22%3A%5B%5B%227%202%5Cn1%202%202%204%202%201%202%5Cn%22%2C%2211%204%5Cnb%3D1%5Cnprint%28b%29%5Cna%3D2%5Cnprint%28a%29%5Cnprint%28a%29%5Cnb%3D4%5Cnprint%28b%29%5Cnprint%28a%29%5Cnb%3D1%5Cnprint%28b%29%5Cnprint%28a%29%5Cn%22%5D%2C%5B%226%203%5Cn1%202%203%201%202%203%5Cn%22%2C%229%204%5Cnc%3D1%5Cnprint%28c%29%5Cnb%3D2%5Cnprint%28b%29%5Cna%3D3%5Cnprint%28a%29%5Cnprint%28c%29%5Cnprint%28b%29%5Cnprint%28a%29%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F132%5C%2FE%22%2C%22id%22%3A%22132E%22%7D%2C%22translation%22%3A%22%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.org%5C%2Fupload%5C%2Fpic%5C%2F54243.png%20%29%5Cr%5Cn%5Cr%5Cn%5Cr%5CnInput%5Cr%5Cn%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%20n%5Cuff0cm%20%5Cu3002%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4e00%5Cu884c%5Cu6709n%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu63cf%5Cu8ff0a%20%5Cu3002%5Cr%5Cn%5Cr%5CnOutput%5Cr%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cuff1av1%2Cv2%5Cuff0c%5Cu8868%5Cu793a%5Cu64cd%5Cu4f5c%5Cu6570%5Cu548c%5Cu6700%5Cu5c0f%5Cu4ee3%5Cu4ef7%5Cu3002%5Cr%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4e00%5Cu7ec4%5Cu5408%5Cu6cd5%5Cu65b9%5Cu6848%5Cuff08%5Cu6ce8%5Cu610f%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff09%5Cu3002%5Cr%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A11%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22CF132E%22%2C%22title%22%3A%22Bits%20of%20merry%20old%20England%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Bits%20of%20merry%20old%20England%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Bits of merry old England</h1>
<h2>题意翻译</h2>
<div>![](https://cdn.luogu.org/upload/pic/54243.png )
Input
第一行两个整数 n，m 。
接下来一行有n 个整数，描述a 。
Output
第一行：v1,v2，表示操作数和最小代价。
接下来一组合法方案（注意输出格式）。
</div>
<h2>题目描述</h2>
<div>Another feature of Shakespeare language is that the variables are named after characters of plays by Shakespeare, and all operations on them (value assignment, output etc.) look like a dialog with other characters. New values of variables are defined in a rather lengthy way, so a programmer should try to minimize their usage.
You have to print the given sequence of $ n $ integers. To do this, you have $ m $ variables and two types of operations on them:
- variable=integer
- print(variable)
Any of the $ m $ variables can be used as variable. Variables are denoted by lowercase letters between "a" and "z", inclusive. Any integer number can be used as integer.
Let's say that the penalty for using first type of operations equals to the number of set bits in the number integer. There is no penalty on using second type of operations. Find and output the program which minimizes the penalty for printing the given sequence of numbers.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains integers $ n $ and $ m $ ( $ 1<=n<=250 $ , $ 1<=m<=26 $ ). The second line contains the sequence to be printed. Each element of the sequence is an integer between $ 1 $ and $ 10^{9} $ , inclusive. The sequence has to be printed in the given order (from left to right).</div>
<h3>输出格式</h3>
<br />
<div>Output the number of lines in the optimal program and the optimal penalty. Next, output the program itself, one command per line. If there are several programs with minimal penalty, output any of them (you have only to minimize the penalty).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7 2
1 2 2 4 2 1 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>11 4
b=1
print(b)
a=2
print(a)
print(a)
b=4
print(b)
print(a)
b=1
print(b)
print(a)
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6 3
1 2 3 1 2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>9 4
c=1
print(c)
b=2
print(b)
a=3
print(a)
print(c)
print(b)
print(a)
</code></pre>
</article>
</div>
</div>
</body>
</html>
