<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>E-mail Addresses - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393838:Z50bxMKlRy0gui9rODdmsfrIeFpScC6jgxz8/tSJI00=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22One%20of%20the%20most%20important%20products%20of%20the%20R1%20company%20is%20a%20popular%20%40r1.com%20mail%20service.%20The%20R1%20mailboxes%20receive%20and%20send%20millions%20of%20emails%20every%20day.%5Cn%5CnToday%2C%20the%20online%20news%20thundered%20with%20terrible%20information.%20The%20R1%20database%20crashed%20and%20almost%20no%20data%20could%20be%20saved%20except%20for%20one%20big%20string.%20The%20developers%20assume%20that%20the%20string%20contains%20the%20letters%20of%20some%20users%20of%20the%20R1%20mail.%20Recovering%20letters%20is%20a%20tedious%20mostly%20manual%20work.%20So%20before%20you%20start%20this%20process%2C%20it%20was%20decided%20to%20estimate%20the%20difficulty%20of%20recovering.%20Namely%2C%20we%20need%20to%20calculate%20the%20number%20of%20different%20substrings%20of%20the%20saved%20string%20that%20form%20correct%20e-mail%20addresses.%5Cn%5CnWe%20assume%20that%20valid%20addresses%20are%20only%20the%20e-mail%20addresses%20which%20meet%20the%20following%20criteria%3A%5Cn%5Cn-%20the%20address%20should%20begin%20with%20a%20non-empty%20sequence%20of%20letters%2C%20numbers%2C%20characters%20%27%5C%5C_%27%2C%20starting%20with%20a%20letter%3B%5Cn-%20then%20must%20go%20character%20%27%40%27%3B%5Cn-%20then%20must%20go%20a%20non-empty%20sequence%20of%20letters%20or%20numbers%3B%5Cn-%20then%20must%20go%20character%20%27.%27%3B%5Cn-%20the%20address%20must%20end%20with%20a%20non-empty%20sequence%20of%20letters.%5Cn%5CnYou%20got%20lucky%20again%20and%20the%20job%20was%20entrusted%20to%20you%21%20Please%20note%20that%20the%20substring%20is%20several%20consecutive%20characters%20in%20a%20string.%20Two%20substrings%2C%20one%20consisting%20of%20the%20characters%20of%20the%20string%20with%20numbers%20%24%20l_%7B1%7D%2Cl_%7B1%7D%2B1%2Cl_%7B1%7D%2B2%2C...%2Cr_%7B1%7D%20%24%20and%20the%20other%20one%20consisting%20of%20the%20characters%20of%20the%20string%20with%20numbers%20%24%20l_%7B2%7D%2Cl_%7B2%7D%2B1%2Cl_%7B2%7D%2B2%2C...%2Cr_%7B2%7D%20%24%20%2C%20are%20considered%20distinct%20if%20%24%20l_%7B1%7D%5Cu2260l_%7B2%7D%20%24%20or%20%24%20r_%7B1%7D%5Cu2260r_%7B2%7D%20%24%20.%22%2C%22inputFormat%22%3A%22The%20first%20and%20the%20only%20line%20contains%20the%20sequence%20of%20characters%20%24%20s_%7B1%7Ds_%7B2%7D...%5C%5C%20s_%7Bn%7D%20%24%20%24%20%281%3C%3Dn%3C%3D10%5E%7B6%7D%29%20%24%20%5Cu2014%20the%20saved%20string.%20It%20is%20guaranteed%20that%20the%20given%20string%20contains%20only%20small%20English%20letters%2C%20digits%20and%20characters%20%27.%27%2C%20%27%5C%5C_%27%2C%20%27%40%27.%22%2C%22outputFormat%22%3A%22Print%20in%20a%20single%20line%20the%20number%20of%20substrings%20that%20are%20valid%20e-mail%20addresses.%22%2C%22samples%22%3A%5B%5B%22gerald.agapov1991%40gmail.com%5Cn%22%2C%2218%5Cn%22%5D%2C%5B%22x%40x.x%40x.x_e_%40r1.com%5Cn%22%2C%228%5Cn%22%5D%2C%5B%22a___%401.r%5Cn%22%2C%221%5Cn%22%5D%2C%5B%22.asd123__..%40%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20test%20case%20all%20the%20substrings%20that%20are%20correct%20e-mail%20addresses%20begin%20from%20one%20of%20the%20letters%20of%20the%20word%20agapov%20and%20end%20in%20one%20of%20the%20letters%20of%20the%20word%20com.%5Cn%5CnIn%20the%20second%20test%20case%20note%20that%20the%20e-mail%20x%40x.x%20is%20considered%20twice%20in%20the%20answer.%20Note%20that%20in%20this%20example%20the%20e-mail%20entries%20overlap%20inside%20the%20string.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F412%5C%2FE%22%2C%22id%22%3A%22412E%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A2%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF412E%22%2C%22title%22%3A%22E-mail%20Addresses%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22E-mail%20Addresses%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>E-mail Addresses</h1>
<h2>题目描述</h2>
<div>One of the most important products of the R1 company is a popular @r1.com mail service. The R1 mailboxes receive and send millions of emails every day.
Today, the online news thundered with terrible information. The R1 database crashed and almost no data could be saved except for one big string. The developers assume that the string contains the letters of some users of the R1 mail. Recovering letters is a tedious mostly manual work. So before you start this process, it was decided to estimate the difficulty of recovering. Namely, we need to calculate the number of different substrings of the saved string that form correct e-mail addresses.
We assume that valid addresses are only the e-mail addresses which meet the following criteria:
- the address should begin with a non-empty sequence of letters, numbers, characters '\_', starting with a letter;
- then must go character '@';
- then must go a non-empty sequence of letters or numbers;
- then must go character '.';
- the address must end with a non-empty sequence of letters.
You got lucky again and the job was entrusted to you! Please note that the substring is several consecutive characters in a string. Two substrings, one consisting of the characters of the string with numbers $ l_{1},l_{1}+1,l_{1}+2,...,r_{1} $ and the other one consisting of the characters of the string with numbers $ l_{2},l_{2}+1,l_{2}+2,...,r_{2} $ , are considered distinct if $ l_{1}≠l_{2} $ or $ r_{1}≠r_{2} $ .</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first and the only line contains the sequence of characters $ s_{1}s_{2}...\ s_{n} $ $ (1<=n<=10^{6}) $ — the saved string. It is guaranteed that the given string contains only small English letters, digits and characters '.', '\_', '@'.</div>
<h3>输出格式</h3>
<br />
<div>Print in a single line the number of substrings that are valid e-mail addresses.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>gerald.agapov1991@gmail.com
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>18
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>x@x.x@x.x_e_@r1.com
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>8
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>a___@1.r
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #4</h3>
<pre><code>.asd123__..@
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>0
</code></pre>
<h2>说明</h2>
<div>In the first test case all the substrings that are correct e-mail addresses begin from one of the letters of the word agapov and end in one of the letters of the word com.
In the second test case note that the e-mail x@x.x is considered twice in the answer. Note that in this example the e-mail entries overlap inside the string.</div>
</article>
</div>
</div>
</body>
</html>
