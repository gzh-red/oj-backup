<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Three Sons - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390940:An6HDNsfymmdjCMIAw39LNsWnXuTlD22KW7dqXyv8oE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Three%20sons%20inherited%20from%20their%20father%20a%20rectangular%20corn%20fiend%20divided%20into%20%24%20n%5Cu00d7m%20%24%20squares.%20For%20each%20square%20we%20know%20how%20many%20tons%20of%20corn%20grows%20on%20it.%20The%20father%2C%20an%20old%20farmer%20did%20not%20love%20all%20three%20sons%20equally%2C%20which%20is%20why%20he%20bequeathed%20to%20divide%20his%20field%20into%20three%20parts%20containing%20%24%20A%20%24%20%2C%20%24%20B%20%24%20and%20%24%20C%20%24%20tons%20of%20corn.%5Cn%5CnThe%20field%20should%20be%20divided%20by%20two%20parallel%20lines.%20The%20lines%20should%20be%20parallel%20to%20one%20side%20of%20the%20field%20and%20to%20each%20other.%20The%20lines%20should%20go%20strictly%20between%20the%20squares%20of%20the%20field.%20Each%20resulting%20part%20of%20the%20field%20should%20consist%20of%20at%20least%20one%20square.%5Cn%5CnYour%20task%20is%20to%20find%20the%20number%20of%20ways%20to%20divide%20the%20field%20as%20is%20described%20above%2C%20that%20is%2C%20to%20mark%20two%20lines%2C%20dividing%20the%20field%20in%20three%20parts%20so%20that%20on%20one%20of%20the%20resulting%20parts%20grew%20%24%20A%20%24%20tons%20of%20corn%2C%20%24%20B%20%24%20on%20another%20one%20and%20%24%20C%20%24%20on%20the%20remaining%20one.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20space-separated%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%5Cu2014%20the%20sizes%20of%20the%20original%20%28%20%24%201%3C%3Dn%2Cm%3C%3D50%2Cmax%28n%2Cm%29%3E%3D3%20%24%20%29.%20Then%20the%20field%27s%20description%20follows%3A%20%24%20n%20%24%20lines%2C%20each%20containing%20%24%20m%20%24%20space-separated%20integers%20%24%20c_%7Bij%7D%20%24%20%2C%20%28%20%24%200%3C%3Dc_%7Bij%7D%3C%3D100%20%24%20%29%20%5Cu2014%20the%20number%20of%20tons%20of%20corn%20each%20square%20contains.%20The%20last%20line%20contains%20space-separated%20integers%20%24%20A%2CB%2CC%20%24%20%28%20%24%200%3C%3DA%2CB%2CC%3C%3D10%5E%7B6%7D%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20the%20answer%20to%20the%20problem%3A%20the%20number%20of%20ways%20to%20divide%20the%20father%27s%20field%20so%20that%20one%20of%20the%20resulting%20parts%20contained%20%24%20A%20%24%20tons%20of%20corn%2C%20another%20one%20contained%20%24%20B%20%24%20tons%2C%20and%20the%20remaining%20one%20contained%20%24%20C%20%24%20tons.%20If%20no%20such%20way%20exists%2C%20print%200.%22%2C%22samples%22%3A%5B%5B%223%203%5Cn1%201%201%5Cn1%201%201%5Cn1%201%201%5Cn3%203%203%5Cn%22%2C%222%5Cn%22%5D%2C%5B%222%205%5Cn1%201%201%201%201%5Cn2%202%202%202%202%5Cn3%206%206%5Cn%22%2C%223%5Cn%22%5D%2C%5B%223%203%5Cn1%202%203%5Cn3%201%202%5Cn2%203%201%5Cn5%206%207%5Cn%22%2C%220%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20lines%20dividing%20the%20field%20can%20be%20horizontal%20or%20vertical%2C%20but%20they%20should%20be%20parallel%20to%20each%20other.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F120%5C%2FD%22%2C%22id%22%3A%22120D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A14%2C%22totalAccepted%22%3A2%2C%22pid%22%3A%22CF120D%22%2C%22title%22%3A%22Three%20Sons%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Three%20Sons%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Three Sons</h1>
<h2>题目描述</h2>
<div>Three sons inherited from their father a rectangular corn fiend divided into $ n×m $ squares. For each square we know how many tons of corn grows on it. The father, an old farmer did not love all three sons equally, which is why he bequeathed to divide his field into three parts containing $ A $ , $ B $ and $ C $ tons of corn.
The field should be divided by two parallel lines. The lines should be parallel to one side of the field and to each other. The lines should go strictly between the squares of the field. Each resulting part of the field should consist of at least one square.
Your task is to find the number of ways to divide the field as is described above, that is, to mark two lines, dividing the field in three parts so that on one of the resulting parts grew $ A $ tons of corn, $ B $ on another one and $ C $ on the remaining one.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains space-separated integers $ n $ and $ m $ — the sizes of the original ( $ 1<=n,m<=50,max(n,m)>=3 $ ). Then the field's description follows: $ n $ lines, each containing $ m $ space-separated integers $ c_{ij} $ , ( $ 0<=c_{ij}<=100 $ ) — the number of tons of corn each square contains. The last line contains space-separated integers $ A,B,C $ ( $ 0<=A,B,C<=10^{6} $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print the answer to the problem: the number of ways to divide the father's field so that one of the resulting parts contained $ A $ tons of corn, another one contained $ B $ tons, and the remaining one contained $ C $ tons. If no such way exists, print 0.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3
1 1 1
1 1 1
1 1 1
3 3 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2 5
1 1 1 1 1
2 2 2 2 2
3 6 6
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3 3
1 2 3
3 1 2
2 3 1
5 6 7
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>0
</code></pre>
<h2>说明</h2>
<div>The lines dividing the field can be horizontal or vertical, but they should be parallel to each other.</div>
</article>
</div>
</div>
</body>
</html>
