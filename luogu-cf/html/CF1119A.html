<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Ilya and a Colorful Walk - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401939:/ivkvqU7Rm399QB6BWx33VBhGeZWfNPBy19ey81hQa0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Ilya%20lives%20in%20a%20beautiful%20city%20of%20Chordalsk.%5Cn%5CnThere%20are%20%24%20n%20%24%20houses%20on%20the%20street%20Ilya%20lives%2C%20they%20are%20numerated%20from%20%24%201%20%24%20to%20%24%20n%20%24%20from%20left%20to%20right%3B%20the%20distance%20between%20every%20two%20neighboring%20houses%20is%20equal%20to%20%24%201%20%24%20unit.%20The%20neighboring%20houses%20are%20%24%201%20%24%20and%20%24%202%20%24%20%2C%20%24%202%20%24%20and%20%24%203%20%24%20%2C%20...%2C%20%24%20n-1%20%24%20and%20%24%20n%20%24%20.%20The%20houses%20%24%20n%20%24%20and%20%24%201%20%24%20are%20not%20neighboring.%5Cn%5CnThe%20houses%20are%20colored%20in%20colors%20%24%20c_1%2C%20c_2%2C%20%5C%5Cldots%2C%20c_n%20%24%20so%20that%20the%20%24%20i%20%24%20-th%20house%20is%20colored%20in%20the%20color%20%24%20c_i%20%24%20.%20Everyone%20knows%20that%20Chordalsk%20is%20not%20boring%2C%20so%20there%20are%20at%20least%20two%20houses%20colored%20in%20different%20colors.%5Cn%5CnIlya%20wants%20to%20select%20two%20houses%20%24%20i%20%24%20and%20%24%20j%20%24%20so%20that%20%24%201%20%5C%5Cleq%20i%20%3C%20j%20%5C%5Cleq%20n%20%24%20%2C%20and%20they%20have%20different%20colors%3A%20%24%20c_i%20%5C%5Cneq%20c_j%20%24%20.%20He%20will%20then%20walk%20from%20the%20house%20%24%20i%20%24%20to%20the%20house%20%24%20j%20%24%20the%20distance%20of%20%24%20%28j-i%29%20%24%20units.%5Cn%5CnIlya%20loves%20long%20walks%2C%20so%20he%20wants%20to%20choose%20the%20houses%20so%20that%20the%20distance%20between%20them%20is%20the%20maximum%20possible.%5Cn%5CnHelp%20Ilya%2C%20find%20this%20maximum%20possible%20distance.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%203%20%5C%5Cleq%20n%20%5C%5Cleq%20300%5C%5C%2C000%20%24%20%29%20%5Cu2014%20the%20number%20of%20cities%20on%20the%20street.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20c_1%2C%20c_2%2C%20%5C%5Cldots%2C%20c_n%20%24%20%28%20%24%201%20%5C%5Cleq%20c_i%20%5C%5Cleq%20n%20%24%20%29%20%5Cu2014%20the%20colors%20of%20the%20houses.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20is%20at%20least%20one%20pair%20of%20indices%20%24%20i%20%24%20and%20%24%20j%20%24%20so%20that%20%24%201%20%5C%5Cleq%20i%20%3C%20j%20%5C%5Cleq%20n%20%24%20and%20%24%20c_i%20%5C%5Cneq%20c_j%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20maximum%20possible%20distance%20Ilya%20can%20walk.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%202%203%202%203%5Cn%22%2C%224%5Cn%22%5D%2C%5B%223%5Cn1%202%201%5Cn%22%2C%221%5Cn%22%5D%2C%5B%227%5Cn1%201%203%201%201%201%201%5Cn%22%2C%224%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%20the%20optimal%20way%20is%20to%20walk%20from%20the%20first%20house%20to%20the%20last%20one%2C%20where%20Ilya%20can%20walk%20the%20distance%20of%20%24%205-1%20%3D%204%20%24%20units.%5Cn%5CnIn%20the%20second%20example%20the%20optimal%20way%20is%20to%20either%20walk%20from%20the%20first%20house%20to%20the%20second%20or%20from%20the%20second%20to%20the%20third.%20Both%20these%20ways%20have%20the%20distance%20of%20%24%201%20%24%20unit.%5Cn%5CnIn%20the%20third%20example%20the%20optimal%20way%20is%20to%20walk%20from%20the%20third%20house%20to%20the%20last%20one%2C%20where%20Ilya%20can%20walk%20the%20distance%20of%20%24%207-3%20%3D%204%20%24%20units.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1119%5C%2FA%22%2C%22id%22%3A%221119A%22%7D%2C%22translation%22%3A%22ilya%5Cu6709%5Cu5f88%5Cu591a%5Cu623f%5Cu5b50%2C%5Cu7f16%5Cu53f7%5Cu76f8%5Cu90bb%5Cu7684%5Cu623f%5Cu5b50%5Cu76f8%5Cu5dee%5Cu4e3a1%2C%5Cu6bcf%5Cu4e2a%5Cu623f%5Cu5b50%5Cu90fd%5Cu6709%5Cu4e00%5Cu4e2a%5Cu989c%5Cu8272%2C%5Cu56e0%5Cu4e3ailya%5Cu559c%5Cu6b22%5Cu6563%5Cu6b65%2C%5Cu6240%5Cu4ee5%5Cu60f3%5Cu8981%5Cu9009%5Cu6700%5Cu8fd1%5Cu7684%5Cu4e24%5Cu4e2a%5Cu4e0d%5Cu540c%5Cu989c%5Cu8272%5Cu7684%5Cu623f%5Cu5b50%2C%5Cu8f93%5Cu51fa%5Cu8fd9%5Cu4e2a%5Cu6700%5Cu8fd1%5Cu8ddd%5Cu79bb%5Cu3002%5Cn%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570n%2C%5Cu8868%5Cu793a%5Cu6709%5Cu591a%5Cu5c11%5Cu623f%5Cu5b50%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e8c%5Cu884cn%5Cu4e2a%5Cu6574%5Cu6570%2C%5Cu8868%5Cu793a%5Cu989c%5Cu8272%2C%5Cu76f8%5Cu540c%5Cu7684%5Cu6570%5Cu5b57%5Cu8868%5Cu793a%5Cu76f8%5Cu540c%5Cu7684%5Cu989c%5Cu8272%2C%5Cu4e0d%5Cu540c%5Cu7684%5Cu6570%5Cu5b57%5Cu8868%5Cu793a%5Cu4e0d%5Cu540c%5Cu7684%5Cu989c%5Cu8272%5Cu3002%5Cn%5Cn%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cu8f93%5Cu51fa%5Cu6700%5Cu5927%5Cu8ddd%5Cu79bb%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A118%2C%22totalAccepted%22%3A93%2C%22pid%22%3A%22CF1119A%22%2C%22title%22%3A%22Ilya%20and%20a%20Colorful%20Walk%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF1119E%22%2C%22title%22%3A%22Pavel%20and%20Triangles%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1119D%22%2C%22title%22%3A%22Frets%20On%20Fire%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1119C%22%2C%22title%22%3A%22Ramesses%20and%20Corner%20Inversion%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1119B%22%2C%22title%22%3A%22Alyona%20and%20a%20Narrow%20Fridge%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1154A%22%2C%22title%22%3A%22Restoring%20Three%20Numbers%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Ilya%20and%20a%20Colorful%20Walk%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Ilya and a Colorful Walk</h1>
<h2>题意翻译</h2>
<div>ilya有很多房子,编号相邻的房子相差为1,每个房子都有一个颜色,因为ilya喜欢散步,所以想要选最近的两个不同颜色的房子,输出这个最近距离。
## 输入格式
第一行一个整数n,表示有多少房子。
第二行n个整数,表示颜色,相同的数字表示相同的颜色,不同的数字表示不同的颜色。
## 输出格式
输出最大距离。</div>
<h2>题目描述</h2>
<div>Ilya lives in a beautiful city of Chordalsk.
There are $ n $ houses on the street Ilya lives, they are numerated from $ 1 $ to $ n $ from left to right; the distance between every two neighboring houses is equal to $ 1 $ unit. The neighboring houses are $ 1 $ and $ 2 $ , $ 2 $ and $ 3 $ , ..., $ n-1 $ and $ n $ . The houses $ n $ and $ 1 $ are not neighboring.
The houses are colored in colors $ c_1, c_2, \ldots, c_n $ so that the $ i $ -th house is colored in the color $ c_i $ . Everyone knows that Chordalsk is not boring, so there are at least two houses colored in different colors.
Ilya wants to select two houses $ i $ and $ j $ so that $ 1 \leq i < j \leq n $ , and they have different colors: $ c_i \neq c_j $ . He will then walk from the house $ i $ to the house $ j $ the distance of $ (j-i) $ units.
Ilya loves long walks, so he wants to choose the houses so that the distance between them is the maximum possible.
Help Ilya, find this maximum possible distance.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ ( $ 3 \leq n \leq 300\,000 $ ) — the number of cities on the street.
The second line contains $ n $ integers $ c_1, c_2, \ldots, c_n $ ( $ 1 \leq c_i \leq n $ ) — the colors of the houses.
It is guaranteed that there is at least one pair of indices $ i $ and $ j $ so that $ 1 \leq i < j \leq n $ and $ c_i \neq c_j $ .</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the maximum possible distance Ilya can walk.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
1 2 3 2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3
1 2 1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>7
1 1 3 1 1 1 1
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>4
</code></pre>
<h2>说明</h2>
<div>In the first example the optimal way is to walk from the first house to the last one, where Ilya can walk the distance of $ 5-1 = 4 $ units.
In the second example the optimal way is to either walk from the first house to the second or from the second to the third. Both these ways have the distance of $ 1 $ unit.
In the third example the optimal way is to walk from the third house to the last one, where Ilya can walk the distance of $ 7-3 = 4 $ units.</div>
</article>
</div>
</div>
</body>
</html>
