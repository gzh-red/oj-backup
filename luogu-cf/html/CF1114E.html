<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Arithmetic Progression - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401880:XU9qRqsr3hUiyk6PrKySc88mmiW+ULekvPPNCZ6xAKQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22This%20is%20an%20interactive%20problem%21%5Cn%5CnAn%20arithmetic%20progression%20or%20arithmetic%20sequence%20is%20a%20sequence%20of%20integers%20such%20that%20the%20subtraction%20of%20element%20with%20its%20previous%20element%20%28%20%24%20x_i%20-%20x_%7Bi%20-%201%7D%20%24%20%2C%20where%20%24%20i%20%5C%5Cge%202%20%24%20%29%20is%20constant%20%5Cu2014%20such%20difference%20is%20called%20a%20common%20difference%20of%20the%20sequence.%5Cn%5CnThat%20is%2C%20an%20arithmetic%20progression%20is%20a%20sequence%20of%20form%20%24%20x_i%20%3D%20x_1%20%2B%20%28i%20-%201%29%20d%20%24%20%2C%20where%20%24%20d%20%24%20is%20a%20common%20difference%20of%20the%20sequence.%5Cn%5CnThere%20is%20a%20secret%20list%20of%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cldots%2C%20a_n%20%24%20.%5Cn%5CnIt%20is%20guaranteed%20that%20all%20elements%20%24%20a_1%2C%20a_2%2C%20%5C%5Cldots%2C%20a_n%20%24%20are%20between%20%24%200%20%24%20and%20%24%2010%5E9%20%24%20%2C%20inclusive.%5Cn%5CnThis%20list%20is%20special%3A%20if%20sorted%20in%20increasing%20order%2C%20it%20will%20form%20an%20arithmetic%20progression%20with%20positive%20common%20difference%20%28%20%24%20d%20%3E%200%20%24%20%29.%20For%20example%2C%20the%20list%20%24%20%5B14%2C%2024%2C%209%2C%2019%5D%20%24%20satisfies%20this%20requirement%2C%20after%20sorting%20it%20makes%20a%20list%20%24%20%5B9%2C%2014%2C%2019%2C%2024%5D%20%24%20%2C%20which%20can%20be%20produced%20as%20%24%20x_n%20%3D%209%20%2B%205%20%5C%5Ccdot%20%28n%20-%201%29%20%24%20.%5Cn%5CnAlso%20you%20are%20also%20given%20a%20device%2C%20which%20has%20a%20quite%20discharged%20battery%2C%20thus%20you%20can%20only%20use%20it%20to%20perform%20at%20most%20%24%2060%20%24%20queries%20of%20following%20two%20types%3A%5Cn%5Cn-%20Given%20a%20value%20%24%20i%20%24%20%28%20%24%201%20%5C%5Cle%20i%20%5C%5Cle%20n%20%24%20%29%2C%20the%20device%20will%20show%20the%20value%20of%20the%20%24%20a_i%20%24%20.%5Cn-%20Given%20a%20value%20%24%20x%20%24%20%28%20%24%200%20%5C%5Cle%20x%20%5C%5Cle%2010%5E9%20%24%20%29%2C%20the%20device%20will%20return%20%24%201%20%24%20if%20an%20element%20with%20a%20value%20strictly%20greater%20than%20%24%20x%20%24%20exists%2C%20and%20it%20will%20return%20%24%200%20%24%20otherwise.%5Cn%5CnYour%20can%20use%20this%20special%20device%20for%20at%20most%20%24%2060%20%24%20queries.%20Could%20you%20please%20find%20out%20the%20smallest%20element%20and%20the%20common%20difference%20of%20the%20sequence%3F%20That%20is%2C%20values%20%24%20x_1%20%24%20and%20%24%20d%20%24%20in%20the%20definition%20of%20the%20arithmetic%20progression.%20Note%20that%20the%20array%20%24%20a%20%24%20is%20not%20sorted.%22%2C%22inputFormat%22%3A%22%22%2C%22outputFormat%22%3A%22The%20interaction%20starts%20with%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%2010%5E6%20%24%20%29%2C%20the%20size%20of%20the%20list%20of%20integers.%5Cn%5CnThen%20you%20can%20make%20queries%20of%20two%20types%3A%5Cn%5Cn-%20%5C%22%3F%20i%5C%22%20%28%20%24%201%20%5C%5Cle%20i%20%5C%5Cle%20n%20%24%20%29%20%5Cu2014%20to%20get%20the%20value%20of%20%24%20a_i%20%24%20.%5Cn-%20%5C%22%3E%20x%5C%22%20%28%20%24%200%20%5C%5Cle%20x%20%5C%5Cle%2010%5E9%20%24%20%29%20%5Cu2014%20to%20check%20whether%20there%20exists%20an%20element%20greater%20than%20%24%20x%20%24%5Cn%5CnAfter%20the%20query%20read%20its%20result%20%24%20r%20%24%20as%20an%20integer.%5Cn%5Cn-%20For%20the%20first%20query%20type%2C%20the%20%24%20r%20%24%20satisfies%20%24%200%20%5C%5Cle%20r%20%5C%5Cle%2010%5E9%20%24%20.%5Cn-%20For%20the%20second%20query%20type%2C%20the%20%24%20r%20%24%20is%20either%20%24%200%20%24%20or%20%24%201%20%24%20.%5Cn-%20In%20case%20you%20make%20more%20than%20%24%2060%20%24%20queries%20or%20violated%20the%20number%20range%20in%20the%20queries%2C%20you%20will%20get%20a%20%24%20r%20%3D%20-1%20%24%20.%5Cn-%20If%20you%20terminate%20after%20receiving%20the%20-1%2C%20you%20will%20get%20the%20%5C%22Wrong%20answer%5C%22%20verdict.%20Otherwise%20you%20can%20get%20an%20arbitrary%20verdict%20because%20your%20solution%20will%20continue%20to%20read%20from%20a%20closed%20stream.%5Cn%5CnWhen%20you%20find%20out%20what%20the%20smallest%20element%20%24%20x_1%20%24%20and%20common%20difference%20%24%20d%20%24%20%2C%20print%5Cn%5Cn-%20%5C%22%21%20%24%20x_1%20%24%20%24%20d%20%24%20%5C%22%5Cn%5CnAnd%20quit%20after%20that.%20This%20query%20is%20not%20counted%20towards%20the%20%24%2060%20%24%20queries%20limit.%5Cn%5CnAfter%20printing%20any%20query%20do%20not%20forget%20to%20output%20end%20of%20line%20and%20flush%20the%20output.%20Otherwise%20you%20will%20get%20Idleness%20limit%20exceeded.%20To%20do%20this%2C%20use%3A%5Cn%5Cn-%20fflush%28stdout%29%20or%20cout.flush%28%29%20in%20C%2B%2B%3B%5Cn-%20System.out.flush%28%29%20in%20Java%3B%5Cn-%20flush%28output%29%20in%20Pascal%3B%5Cn-%20stdout.flush%28%29%20in%20Python%3B%5Cn-%20see%20documentation%20for%20other%20languages.%5Cn%5CnHacks%5Cn%5CnFor%20hack%2C%20use%20the%20following%20format%3A%5Cn%5CnThe%20first%20line%20should%20contain%20an%20integer%20%24%20n%20%24%20%28%20%24%202%20%5C%5Cle%20n%20%5C%5Cle%2010%5E6%20%24%20%29%20%5Cu2014%20the%20list%27s%20size.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cldots%2C%20a_n%20%24%20%28%20%24%200%20%5C%5Cle%20a_i%20%5C%5Cle%2010%5E9%20%24%20%29%20%5Cu2014%20the%20elements%20of%20the%20list.%5Cn%5CnAlso%2C%20after%20the%20sorting%20the%20list%20must%20form%20an%20arithmetic%20progression%20with%20positive%20common%20difference.%22%2C%22samples%22%3A%5B%5B%22%5Cn4%5Cn%5Cn0%5Cn%5Cn1%5Cn%5Cn14%5Cn%5Cn24%5Cn%5Cn9%5Cn%5Cn19%5Cn%5Cn%22%2C%22%5Cn%5Cn%26gt%3B%2025%5Cn%5Cn%26gt%3B%2015%5Cn%5Cn%3F%201%5Cn%5Cn%3F%202%5Cn%5Cn%3F%203%5Cn%5Cn%3F%204%5Cn%5Cn%21%209%205%22%5D%5D%2C%22hint%22%3A%22Note%20that%20the%20example%20interaction%20contains%20extra%20empty%20lines%20so%20that%20it%27s%20easier%20to%20read.%20The%20real%20interaction%20doesn%27t%20contain%20any%20empty%20lines%20and%20you%20shouldn%27t%20print%20any%20extra%20empty%20lines%20as%20well.%5Cn%5CnThe%20list%20in%20the%20example%20test%20is%20%24%20%5B14%2C%2024%2C%209%2C%2019%5D%20%24%20.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1114%5C%2FE%22%2C%22id%22%3A%221114E%22%7D%2C%22translation%22%3A%22%5Cu4ea4%5Cu4e92%5Cu9898%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6709%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5e8f%5Cu5217%20%24a%24%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu5b83%5Cu4ece%5Cu5c0f%5Cu5230%5Cu5927%5Cu6392%5Cu5e8f%5Cu540e%5Cu662f%5Cu4e2a%5Cu7b49%5Cu5dee%5Cu6570%5Cu5217%5Cu3002%5Cu4f60%5Cu4e0d%5Cu77e5%5Cu9053%5Cu8fd9%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu957f%5Cu4ec0%5Cu4e48%5Cu6837%5Cuff0c%5Cu4f46%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu8be2%5Cu95ee%5Cuff1a%5Cr%5Cn%5Cr%5Cn-%20%24%3F%5C%5C%20i%24%20%5Cu8868%5Cu793a%5Cu8be2%5Cu95ee%20%24a_i%24%20%5Cu7684%5Cu503c%5Cuff1b%5Cr%5Cn-%20%24%3E%5C%5C%20x%24%20%5Cu8868%5Cu793a%5Cu8be2%5Cu95ee%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu662f%5Cu5426%5Cu5b58%5Cu5728%5Cu4e25%5Cu683c%5Cu5927%5Cu4e8e%20%24x%24%20%5Cu7684%5Cu6570%5Cu3002%5Cr%5Cn%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu95ee%5Cu4e0d%5Cu8d85%5Cu8fc7%20%2460%24%20%5Cu4e2a%5Cu8be2%5Cu95ee%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu73b0%5Cu5728%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu6c42%5Cu51fa%5Cu8fd9%5Cu4e2a%5Cu7b49%5Cu5dee%5Cu6570%5Cu5217%5Cu7684%5Cu9996%5Cu9879%5Cuff08%5Cu4e5f%5Cu5c31%5Cu662f%20%24a%24%20%5Cu4e2d%5Cu7684%5Cu6700%5Cu5c0f%5Cu503c%5Cuff09%5Cu548c%5Cu8fd9%5Cu4e2a%5Cu7b49%5Cu5dee%5Cu6570%5Cu5217%5Cu7684%5Cu516c%5Cu5dee%5Cuff08%5Cu4e5f%5Cu5c31%5Cu662f%5Cu7b49%5Cu5dee%5Cu6570%5Cu5217%5Cu4e2d%5Cu76f8%5Cu90bb%5Cu4e24%5Cu4e2a%5Cu6570%5Cu7684%5Cu5dee%5Cuff09%5Cu3002%5Cr%5Cn%5Cr%5Cn%242%5C%5Cle%20n%5C%5Cle%2010%5E6%2C0%5C%5Cle%20a_i%5C%5Cle%2010%5E9%24%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A119%2C%22totalAccepted%22%3A57%2C%22pid%22%3A%22CF1114E%22%2C%22title%22%3A%22Arithmetic%20Progression%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3804%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu540e%5Cu7f00%5Cu81ea%5Cu52a8%5Cu673a%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1117B%22%2C%22title%22%3A%22Emotes%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1114F%22%2C%22title%22%3A%22Please%2C%20another%20Queries%20on%20Array%3F%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1114D%22%2C%22title%22%3A%22Flood%20Fill%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1148E%22%2C%22title%22%3A%22Earth%20Wind%20and%20Fire%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Arithmetic%20Progression%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Arithmetic Progression</h1>
<h2>题意翻译</h2>
<div>交互题。
有一个长度为 $n$ 的序列 $a$，保证它从小到大排序后是个等差数列。你不知道这个序列长什么样，但你可以询问：
- $?\ i$ 表示询问 $a_i$ 的值；
- $>\ x$ 表示询问序列中是否存在严格大于 $x$ 的数。
你可以问不超过 $60$ 个询问。
现在，你需要求出这个等差数列的首项（也就是 $a$ 中的最小值）和这个等差数列的公差（也就是等差数列中相邻两个数的差）。
$2\le n\le 10^6,0\le a_i\le 10^9$。</div>
<h2>题目描述</h2>
<div>This is an interactive problem!
An arithmetic progression or arithmetic sequence is a sequence of integers such that the subtraction of element with its previous element ( $ x_i - x_{i - 1} $ , where $ i \ge 2 $ ) is constant — such difference is called a common difference of the sequence.
That is, an arithmetic progression is a sequence of form $ x_i = x_1 + (i - 1) d $ , where $ d $ is a common difference of the sequence.
There is a secret list of $ n $ integers $ a_1, a_2, \ldots, a_n $ .
It is guaranteed that all elements $ a_1, a_2, \ldots, a_n $ are between $ 0 $ and $ 10^9 $ , inclusive.
This list is special: if sorted in increasing order, it will form an arithmetic progression with positive common difference ( $ d > 0 $ ). For example, the list $ [14, 24, 9, 19] $ satisfies this requirement, after sorting it makes a list $ [9, 14, 19, 24] $ , which can be produced as $ x_n = 9 + 5 \cdot (n - 1) $ .
Also you are also given a device, which has a quite discharged battery, thus you can only use it to perform at most $ 60 $ queries of following two types:
- Given a value $ i $ ( $ 1 \le i \le n $ ), the device will show the value of the $ a_i $ .
- Given a value $ x $ ( $ 0 \le x \le 10^9 $ ), the device will return $ 1 $ if an element with a value strictly greater than $ x $ exists, and it will return $ 0 $ otherwise.
Your can use this special device for at most $ 60 $ queries. Could you please find out the smallest element and the common difference of the sequence? That is, values $ x_1 $ and $ d $ in the definition of the arithmetic progression. Note that the array $ a $ is not sorted.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div></div>
<h3>输出格式</h3>
<br />
<div>The interaction starts with a single integer $ n $ ( $ 2 \le n \le 10^6 $ ), the size of the list of integers.
Then you can make queries of two types:
- "? i" ( $ 1 \le i \le n $ ) — to get the value of $ a_i $ .
- "> x" ( $ 0 \le x \le 10^9 $ ) — to check whether there exists an element greater than $ x $
After the query read its result $ r $ as an integer.
- For the first query type, the $ r $ satisfies $ 0 \le r \le 10^9 $ .
- For the second query type, the $ r $ is either $ 0 $ or $ 1 $ .
- In case you make more than $ 60 $ queries or violated the number range in the queries, you will get a $ r = -1 $ .
- If you terminate after receiving the -1, you will get the "Wrong answer" verdict. Otherwise you can get an arbitrary verdict because your solution will continue to read from a closed stream.
When you find out what the smallest element $ x_1 $ and common difference $ d $ , print
- "! $ x_1 $ $ d $ "
And quit after that. This query is not counted towards the $ 60 $ queries limit.
After printing any query do not forget to output end of line and flush the output. Otherwise you will get Idleness limit exceeded. To do this, use:
- fflush(stdout) or cout.flush() in C++;
- System.out.flush() in Java;
- flush(output) in Pascal;
- stdout.flush() in Python;
- see documentation for other languages.
Hacks
For hack, use the following format:
The first line should contain an integer $ n $ ( $ 2 \le n \le 10^6 $ ) — the list's size.
The second line contains $ n $ integers $ a_1, a_2, \ldots, a_n $ ( $ 0 \le a_i \le 10^9 $ ) — the elements of the list.
Also, after the sorting the list must form an arithmetic progression with positive common difference.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
4

0

1

14

24

9

19

</code></pre>
<h3>输出样例 #1</h3>
<pre><code>

&amp;gt; 25

&amp;gt; 15

? 1

? 2

? 3

? 4

! 9 5</code></pre>
<h2>说明</h2>
<div>Note that the example interaction contains extra empty lines so that it's easier to read. The real interaction doesn't contain any empty lines and you shouldn't print any extra empty lines as well.
The list in the example test is $ [14, 24, 9, 19] $ .</div>
</article>
</div>
</div>
</body>
</html>
