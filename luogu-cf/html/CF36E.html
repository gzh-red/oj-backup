<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Two Paths - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390154:9RcT48p6Uiamd3YEPAffHxs9sGxqrvy9UpVnnxHmHV4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Once%20archaeologists%20found%20%24%20m%20%24%20mysterious%20papers%2C%20each%20of%20which%20had%20a%20pair%20of%20integers%20written%20on%20them.%20Ancient%20people%20were%20known%20to%20like%20writing%20down%20the%20indexes%20of%20the%20roads%20they%20walked%20along%2C%20as%20%5Cu00ab%20%24%20a%20%24%20%24%20b%20%24%20%5Cu00bb%20or%20%5Cu00ab%20%24%20b%20%24%20%24%20a%20%24%20%5Cu00bb%2C%20where%20%24%20a%2Cb%20%24%20are%20the%20indexes%20of%20two%20different%20cities%20joint%20by%20the%20road%20.%20It%20is%20also%20known%20that%20the%20mysterious%20papers%20are%20pages%20of%20two%20travel%20journals%20%28those%20days%20a%20new%20journal%20was%20written%20for%20every%20new%20journey%29.%5Cn%5CnDuring%20one%20journey%20the%20traveler%20could%20walk%20along%20one%20and%20the%20same%20road%20several%20times%20in%20one%20or%20several%20directions%20but%20in%20that%20case%20he%20wrote%20a%20new%20entry%20for%20each%20time%20in%20his%20journal.%20Besides%2C%20the%20archaeologists%20think%20that%20the%20direction%20the%20traveler%20took%20on%20a%20road%20had%20no%20effect%20upon%20the%20entry%3A%20the%20entry%20that%20looks%20like%20%5Cu00ab%20%24%20a%20%24%20%24%20b%20%24%20%5Cu00bb%20could%20refer%20to%20the%20road%20from%20%24%20a%20%24%20to%20%24%20b%20%24%20as%20well%20as%20to%20the%20road%20from%20%24%20b%20%24%20to%20%24%20a%20%24%20.%5Cn%5CnThe%20archaeologists%20want%20to%20put%20the%20pages%20in%20the%20right%20order%20and%20reconstruct%20the%20two%20travel%20paths%20but%20unfortunately%2C%20they%20are%20bad%20at%20programming.%20That%5Cu2019s%20where%20you%20come%20in.%20Go%20help%20them%21%22%2C%22inputFormat%22%3A%22The%20first%20input%20line%20contains%20integer%20%24%20m%20%24%20%28%20%24%201%3C%3Dm%3C%3D10000%20%24%20%29.%20Each%20of%20the%20following%20%24%20m%20%24%20lines%20describes%20one%20paper.%20Each%20description%20consists%20of%20two%20integers%20%24%20a%2Cb%20%24%20%28%20%24%201%3C%3Da%2Cb%3C%3D10000%20%24%20%2C%20%24%20a%5Cu2260b%20%24%20%29.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%20output%20the%20number%20%24%20L_%7B1%7D%20%24%20.%20That%20is%20the%20length%20of%20the%20first%20path%2C%20i.e.%20the%20amount%20of%20papers%20in%20its%20description.%20In%20the%20following%20line%20output%20%24%20L_%7B1%7D%20%24%20space-separated%20numbers%20%5Cu2014%20the%20indexes%20of%20the%20papers%20that%20describe%20the%20first%20path.%20In%20the%20third%20and%20fourth%20lines%20output%20similarly%20the%20length%20of%20the%20second%20path%20%24%20L_%7B2%7D%20%24%20and%20the%20path%20itself.%20Both%20paths%20must%20contain%20at%20least%20one%20road%2C%20i.e.%20condition%20%24%20L_%7B1%7D%26gt%3B0%20%24%20and%20%24%20L_%7B2%7D%26gt%3B0%20%24%20must%20be%20met.%20The%20papers%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20m%20%24%20according%20to%20the%20order%20of%20their%20appearance%20in%20the%20input%20file.%20The%20numbers%20should%20be%20output%20in%20the%20order%20in%20which%20the%20traveler%20passed%20the%20corresponding%20roads.%20If%20the%20answer%20is%20not%20unique%2C%20output%20any.%5Cn%5CnIf%20it%5Cu2019s%20impossible%20to%20find%20such%20two%20paths%2C%20output%20%5Cu00ab-1%5Cu00bb.%5Cn%5CnDon%5Cu2019t%20forget%20that%20each%20paper%20should%20be%20used%20exactly%20once%2C%20i.e%20%24%20L_%7B1%7D%2BL_%7B2%7D%3Dm%20%24%20.%22%2C%22samples%22%3A%5B%5B%222%5Cn4%205%5Cn4%203%5Cn%22%2C%221%5Cn2%20%5Cn1%5Cn1%5Cn%22%5D%2C%5B%221%5Cn1%202%5Cn%22%2C%22-1%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B64000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F36%5C%2FE%22%2C%22id%22%3A%2236E%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu5f20%5Cu53ef%5Cu80fd%5Cu6709%5Cu91cd%5Cu8fb9%5Cu7684%5Cu4e0d%5Cu4fdd%5Cu8bc1%5Cu8054%5Cu901a%5Cu7684%5Cu65e0%5Cu5411%5Cu56fe%5Cuff0c%5Cu73b0%5Cu5728%5Cu8981%5Cu5728%5Cu8fd9%5Cu4e2a%5Cu56fe%5Cu4e0a%5Cu627e%5Cu51fa%5Cu4e24%5Cu6761%5Cu8def%5Cu5f84%5Cuff0c%5Cu6070%5Cu597d%5Cu80fd%5Cu8986%5Cu76d6%5Cu6240%5Cu6709%5Cu8fb9%5Cu4e00%5Cu6b21%5Cuff0c%5Cu6839%5Cu636e%5Cu8fb9%5Cu7684%5Cu7f16%5Cu53f7%5Cu8f93%5Cu51fa%5Cu65b9%5Cu6848%5Cuff0c%5Cu65e0%5Cu89e3%5Cu8f93%5Cu51fa-1%22%2C%22tags%22%3A%5B6%2C175%2C182%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A128%2C%22totalAccepted%22%3A26%2C%22pid%22%3A%22CF36E%22%2C%22title%22%3A%22Two%20Paths%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A48046%2C%22title%22%3A%22%5Cu5fc5%5Cu987b%5Cu8981%5Cu770b%22%2C%22forum%22%3A%7B%22id%22%3A12539%2C%22name%22%3A%22CF36E%20Two%20Paths%22%2C%22slug%22%3A%22CF36E%22%7D%7D%2C%7B%22id%22%3A48038%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12539%2C%22name%22%3A%22CF36E%20Two%20Paths%22%2C%22slug%22%3A%22CF36E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF788B%22%2C%22title%22%3A%22Weird%20journey%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF39C%22%2C%22title%22%3A%22Moon%20Craters%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF19E%22%2C%22title%22%3A%22Fairy%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF10E%22%2C%22title%22%3A%22Greedy%20Change%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF949C%22%2C%22title%22%3A%22Data%20Center%20Maintenance%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Two%20Paths%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Two Paths</h1>
<h2>题意翻译</h2>
<div>给你一张可能有重边的不保证联通的无向图，现在要在这个图上找出两条路径，恰好能覆盖所有边一次，根据边的编号输出方案，无解输出-1</div>
<h2>题目描述</h2>
<div>Once archaeologists found $ m $ mysterious papers, each of which had a pair of integers written on them. Ancient people were known to like writing down the indexes of the roads they walked along, as « $ a $ $ b $ » or « $ b $ $ a $ », where $ a,b $ are the indexes of two different cities joint by the road . It is also known that the mysterious papers are pages of two travel journals (those days a new journal was written for every new journey).
During one journey the traveler could walk along one and the same road several times in one or several directions but in that case he wrote a new entry for each time in his journal. Besides, the archaeologists think that the direction the traveler took on a road had no effect upon the entry: the entry that looks like « $ a $ $ b $ » could refer to the road from $ a $ to $ b $ as well as to the road from $ b $ to $ a $ .
The archaeologists want to put the pages in the right order and reconstruct the two travel paths but unfortunately, they are bad at programming. That’s where you come in. Go help them!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input line contains integer $ m $ ( $ 1<=m<=10000 $ ). Each of the following $ m $ lines describes one paper. Each description consists of two integers $ a,b $ ( $ 1<=a,b<=10000 $ , $ a≠b $ ).</div>
<h3>输出格式</h3>
<br />
<div>In the first line output the number $ L_{1} $ . That is the length of the first path, i.e. the amount of papers in its description. In the following line output $ L_{1} $ space-separated numbers — the indexes of the papers that describe the first path. In the third and fourth lines output similarly the length of the second path $ L_{2} $ and the path itself. Both paths must contain at least one road, i.e. condition $ L_{1}&gt;0 $ and $ L_{2}&gt;0 $ must be met. The papers are numbered from $ 1 $ to $ m $ according to the order of their appearance in the input file. The numbers should be output in the order in which the traveler passed the corresponding roads. If the answer is not unique, output any.
If it’s impossible to find such two paths, output «-1».
Don’t forget that each paper should be used exactly once, i.e $ L_{1}+L_{2}=m $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2
4 5
4 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
2 
1
1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>1
1 2
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>-1
</code></pre>
</article>
</div>
</div>
</body>
</html>
