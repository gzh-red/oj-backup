<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Choosing Capital for Treeland - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573391812:pi1lhRF1Zkyr8Vw1FCckeXICq1cXSv+IvZtG+t9k+fs=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20country%20Treeland%20consists%20of%20%24%20n%20%24%20cities%2C%20some%20pairs%20of%20them%20are%20connected%20with%20unidirectional%20roads.%20Overall%20there%20are%20%24%20n-1%20%24%20roads%20in%20the%20country.%20We%20know%20that%20if%20we%20don%27t%20take%20the%20direction%20of%20the%20roads%20into%20consideration%2C%20we%20can%20get%20from%20any%20city%20to%20any%20other%20one.%5Cn%5CnThe%20council%20of%20the%20elders%20has%20recently%20decided%20to%20choose%20the%20capital%20of%20Treeland.%20Of%20course%20it%20should%20be%20a%20city%20of%20this%20country.%20The%20council%20is%20supposed%20to%20meet%20in%20the%20capital%20and%20regularly%20move%20from%20the%20capital%20to%20other%20cities%20%28at%20this%20stage%20nobody%20is%20thinking%20about%20getting%20back%20to%20the%20capital%20from%20these%20cities%29.%20For%20that%20reason%20if%20city%20%24%20a%20%24%20is%20chosen%20a%20capital%2C%20then%20all%20roads%20must%20be%20oriented%20so%20that%20if%20we%20move%20along%20them%2C%20we%20can%20get%20from%20city%20%24%20a%20%24%20to%20any%20other%20city.%20For%20that%20some%20roads%20may%20have%20to%20be%20inversed.%5Cn%5CnHelp%20the%20elders%20to%20choose%20the%20capital%20so%20that%20they%20have%20to%20inverse%20the%20minimum%20number%20of%20roads%20in%20the%20country.%22%2C%22inputFormat%22%3A%22The%20first%20input%20line%20contains%20integer%20%24%20n%20%24%20%28%20%24%202%3C%3Dn%3C%3D2%5Cu00b710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20cities%20in%20Treeland.%20Next%20%24%20n-1%20%24%20lines%20contain%20the%20descriptions%20of%20the%20roads%2C%20one%20road%20per%20line.%20A%20road%20is%20described%20by%20a%20pair%20of%20integers%20%24%20s_%7Bi%7D%2Ct_%7Bi%7D%20%24%20%28%20%24%201%3C%3Ds_%7Bi%7D%2Ct_%7Bi%7D%3C%3Dn%3B%5Cu00a0s_%7Bi%7D%5Cu2260t_%7Bi%7D%20%24%20%29%20%5Cu2014%20the%20numbers%20of%20cities%2C%20connected%20by%20that%20road.%20The%20%24%20i%20%24%20-th%20road%20is%20oriented%20from%20city%20%24%20s_%7Bi%7D%20%24%20to%20city%20%24%20t_%7Bi%7D%20%24%20.%20You%20can%20consider%20cities%20in%20Treeland%20indexed%20from%201%20to%20%24%20n%20%24%20.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%20print%20the%20minimum%20number%20of%20roads%20to%20be%20inversed%20if%20the%20capital%20is%20chosen%20optimally.%20In%20the%20second%20line%20print%20all%20possible%20ways%20to%20choose%20the%20capital%20%5Cu2014%20a%20sequence%20of%20indexes%20of%20cities%20in%20the%20increasing%20order.%22%2C%22samples%22%3A%5B%5B%223%5Cn2%201%5Cn2%203%5Cn%22%2C%220%5Cn2%20%5Cn%22%5D%2C%5B%224%5Cn1%204%5Cn2%204%5Cn3%204%5Cn%22%2C%222%5Cn1%202%203%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F219%5C%2FD%22%2C%22id%22%3A%22219D%22%7D%2C%22translation%22%3A%22%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5CnTreeland%5Cu56fd%5Cu6709n%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu8fd9n%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu8fde%5Cu6210%5Cu4e86%5Cu4e00%5Cu9897%5Cu6811%5Cuff0c%5Cu6709n-1%5Cu6761%5Cu9053%5Cu8def%5Cu8fde%5Cu63a5%5Cu4e86%5Cu6240%5Cu6709%5Cu57ce%5Cu5e02%5Cu3002%5Cu6bcf%5Cu6761%5Cu9053%5Cu8def%5Cu53ea%5Cu80fd%5Cu5355%5Cu5411%5Cu901a%5Cu884c%5Cu3002%5Cu73b0%5Cu5728%5Cu653f%5Cu5e9c%5Cu9700%5Cu8981%5Cu51b3%5Cu5b9a%5Cu9009%5Cu62e9%5Cu54ea%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu4e3a%5Cu9996%5Cu90fd%5Cu3002%5Cu5047%5Cu5982%5Cu57ce%5Cu5e02i%5Cu6210%5Cu4e3a%5Cu4e86%5Cu9996%5Cu90fd%5Cuff0c%5Cu90a3%5Cu4e48%5Cu4e3a%5Cu4e86%5Cu4f7f%5Cu9996%5Cu90fd%5Cu80fd%5Cu5230%5Cu8fbe%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu4e0d%5Cu5f97%5Cu4e0d%5Cu5c06%5Cu4e00%5Cu4e9b%5Cu9053%5Cu8def%5Cu7ffb%5Cu8f6c%5Cu65b9%5Cu5411%5Cuff0c%5Cu8bb0%5Cu7ffb%5Cu8f6c%5Cu9053%5Cu8def%5Cu7684%5Cu6761%5Cu6570%5Cu4e3ak%5Cu3002%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu627e%5Cu5230%5Cu6240%5Cu6709%5Cu6ee1%5Cu8db3k%5Cu6700%5Cu5c0f%5Cu7684%5Cu9996%5Cu90fd%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu5305%5Cu542b%5Cu591a%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cu3002%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570n%5Cuff082%3C%3Dn%3C%3D2e5%5Cuff09%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765n-1%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570ai%5Cuff0cbi%5Cuff0c%5Cu8868%5Cu793a%5Cu57ce%5Cu5e02a%5Cu5230%5Cu57ce%5Cu5e02b%5Cu6709%5Cu4e00%5Cu6761%5Cu5355%5Cu5411%5Cu901a%5Cu884c%5Cu7684%5Cu9053%5Cu8def%5Cu3002%5Cu8f93%5Cu5165%5Cu4ee5%5Cu7a7a%5Cu683c%5Cu5206%5Cu9694%5Cuff0c%5Cu4ee5EOF%5Cu7ed3%5Cu5c3e%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fak%5Cuff0c%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5347%5Cu5e8f%5Cu8f93%5Cu51fa%5Cu6240%5Cu6709%5Cu6ee1%5Cu8db3%5Cu6761%5Cu4ef6%5Cu7684%5Cu9996%5Cu90fd%5Cu7684%5Cu7f16%5Cu53f7%5Cu3002%22%2C%22tags%22%3A%5B111%2C266%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A324%2C%22totalAccepted%22%3A184%2C%22pid%22%3A%22CF219D%22%2C%22title%22%3A%22Choosing%20Capital%20for%20Treeland%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A32106%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A11736%2C%22name%22%3A%22CF219D%20Choosing%20Capital%20for%20Treeland%22%2C%22slug%22%3A%22CF219D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2607%22%2C%22title%22%3A%22%5BZJOI2008%5D%5Cu9a91%5Cu58eb%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF682C%22%2C%22title%22%3A%22Alyona%20and%20the%20Tree%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF161D%22%2C%22title%22%3A%22Distance%20in%20Tree%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF939F%22%2C%22title%22%3A%22Cutlet%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1083A%22%2C%22title%22%3A%22The%20Fair%20Nut%20and%20the%20Best%20Path%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Choosing%20Capital%20for%20Treeland%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Choosing Capital for Treeland</h1>
<h2>题意翻译</h2>
<div>题目描述
Treeland国有n个城市，这n个城市连成了一颗树，有n-1条道路连接了所有城市。每条道路只能单向通行。现在政府需要决定选择哪个城市为首都。假如城市i成为了首都，那么为了使首都能到达任意一个城市，不得不将一些道路翻转方向，记翻转道路的条数为k。你的任务是找到所有满足k最小的首都。
输入输出格式
输入格式
输入包含多个测试点。对于每个测试点，每个测试点的第一行为一个正整数n（2<=n<=2e5）。接下来n-1行，每行两个正整数ai，bi，表示城市a到城市b有一条单向通行的道路。输入以空格分隔，以EOF结尾。
输出格式
对于每个测试点，第一行输出k，第二行升序输出所有满足条件的首都的编号。</div>
<h2>题目描述</h2>
<div>The country Treeland consists of $ n $ cities, some pairs of them are connected with unidirectional roads. Overall there are $ n-1 $ roads in the country. We know that if we don't take the direction of the roads into consideration, we can get from any city to any other one.
The council of the elders has recently decided to choose the capital of Treeland. Of course it should be a city of this country. The council is supposed to meet in the capital and regularly move from the capital to other cities (at this stage nobody is thinking about getting back to the capital from these cities). For that reason if city $ a $ is chosen a capital, then all roads must be oriented so that if we move along them, we can get from city $ a $ to any other city. For that some roads may have to be inversed.
Help the elders to choose the capital so that they have to inverse the minimum number of roads in the country.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first input line contains integer $ n $ ( $ 2<=n<=2·10^{5} $ ) — the number of cities in Treeland. Next $ n-1 $ lines contain the descriptions of the roads, one road per line. A road is described by a pair of integers $ s_{i},t_{i} $ ( $ 1<=s_{i},t_{i}<=n; s_{i}≠t_{i} $ ) — the numbers of cities, connected by that road. The $ i $ -th road is oriented from city $ s_{i} $ to city $ t_{i} $ . You can consider cities in Treeland indexed from 1 to $ n $ .</div>
<h3>输出格式</h3>
<br />
<div>In the first line print the minimum number of roads to be inversed if the capital is chosen optimally. In the second line print all possible ways to choose the capital — a sequence of indexes of cities in the increasing order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 1
2 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0
2 
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
1 4
2 4
3 4
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
1 2 3 
</code></pre>
</article>
</div>
</div>
</body>
</html>
