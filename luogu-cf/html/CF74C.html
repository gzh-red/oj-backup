<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Chessboard Billiard - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390577:aG4psRZWzgqPRmtOG/t6xlddI4uGdLeTk1rcqduEANw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Let%27s%20imagine%3A%20there%20is%20a%20chess%20piece%20billiard%20ball.%20Its%20movements%20resemble%20the%20ones%20of%20a%20bishop%20chess%20piece.%20The%20only%20difference%20is%20that%20when%20a%20billiard%20ball%20hits%20the%20board%27s%20border%2C%20it%20can%20reflect%20from%20it%20and%20continue%20moving.%5Cn%5CnMore%20formally%2C%20first%20one%20of%20four%20diagonal%20directions%20is%20chosen%20and%20the%20billiard%20ball%20moves%20in%20that%20direction.%20When%20it%20reaches%20the%20square%20located%20on%20the%20board%27s%20edge%2C%20the%20billiard%20ball%20reflects%20from%20it%3B%20it%20changes%20the%20direction%20of%20its%20movement%20by%2090%20degrees%20and%20continues%20moving.%20Specifically%2C%20having%20reached%20a%20corner%20square%2C%20the%20billiard%20ball%20is%20reflected%20twice%20and%20starts%20to%20move%20the%20opposite%20way.%20While%20it%20moves%2C%20the%20billiard%20ball%20can%20make%20an%20infinite%20number%20of%20reflections.%20At%20any%20square%20of%20its%20trajectory%20the%20billiard%20ball%20can%20stop%20and%20on%20that%20the%20move%20is%20considered%20completed.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF74C%5C%2F2b32b43a6cf594e055f4f908960d44aaa5bece14.png%29It%20is%20considered%20that%20one%20billiard%20ball%20%24%20a%20%24%20beats%20another%20billiard%20ball%20%24%20b%20%24%20if%20%24%20a%20%24%20can%20reach%20a%20point%20where%20%24%20b%20%24%20is%20located.%5Cn%5CnYou%20are%20suggested%20to%20find%20the%20maximal%20number%20of%20billiard%20balls%2C%20that%20pairwise%20do%20not%20beat%20each%20other%20and%20that%20can%20be%20positioned%20on%20a%20chessboard%20%24%20n%5Cu00d7m%20%24%20in%20size.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%202%3C%3Dn%2Cm%3C%3D10%5E%7B6%7D%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20number%2C%20the%20maximum%20possible%20number%20of%20billiard%20balls%20that%20do%20not%20pairwise%20beat%20each%20other.%5Cn%5CnPlease%20do%20not%20use%20the%20%25lld%20specificator%20to%20read%20or%20write%2064-bit%20numbers%20in%20C%2B%2B.%20It%20is%20preferred%20to%20use%20cin%20%28also%20you%20may%20use%20the%20%25I64d%20specificator%29.%22%2C%22samples%22%3A%5B%5B%223%204%5Cn%22%2C%222%22%5D%2C%5B%223%203%5Cn%22%2C%223%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F74%5C%2FC%22%2C%22id%22%3A%2274C%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu5929%5Cuff0c%5Cu6709%5Cu4e00%5Cu4e2a%5Cu795e%5Cu7287%5Cu65e0%5Cu804a%5Cuff08%5Cu592a%5Cu65e0%5Cu804a%5Cu4e86%5Cu5427%3D%20%3D%5Cuff09%5Cuff0c%5Cu53d1%5Cu660e%5Cu4e86%5Cu4e00%5Cu79cd%5Cu65b0%5Cu73a9%5Cu5177%5Cuff1a%2A%2A%5Cu8c61%5Cu68cb%5Cu5f39%5Cu7403%2A%2A%5Cr%5Cn%5Cr%5Cn%5Cu8c61%5Cu68cb%5Cu5f39%5Cu7403%5Cu5728%5Cu4e00%5Cu4e2a%5Cu68cb%5Cu76d8%5Cu4e0a%5Cu6cbf%5Cu659c%5Cu7ebf%5Cu79fb%5Cu52a8%5Cuff08%5Cu7c7b%5Cu4f3c%5Cu8c61%5Cu68cb%5Cu4e2d%5Cu7684%5Cu8c61%5Cuff09%5Cuff0c%5Cu66f4%5Cu5389%5Cu5bb3%5Cu7684%5Cu662f%5Cuff0c%5Cu5f53%5Cu7403%5Cu5230%5Cu8fbe%5Cu68cb%5Cu76d8%5Cu8fb9%5Cu4e0a%5Cu7684%5Cu683c%5Cu5b50%5Cu65f6%5Cu4f1a%5Cu53cd%5Cu5f39%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu5c06%5Cu79fb%5Cu52a8%5Cu65b9%5Cu5411%5Cu6539%5Cu53d890%5Cu5ea6%5Cuff08%5Cu5982%5Cu56fe%5Cuff09%5Cu3002%5Cu5f53%5Cu7403%5Cu5230%5Cu8fbe%5Cu68cb%5Cu76d8%5Cu7684%5Cu4e00%5Cu89d2%5Cu65f6%5Cuff0c%5Cu5b83%5Cu4f1a%5Cu5c06%5Cu79fb%5Cu52a8%5Cu65b9%5Cu5411%5Cu6539%5Cu53d8180%5Cu5ea6%5Cuff08%5Cu5982%5Cu56fe%5Cuff09%5Cu3002%5Cu4e00%5Cu4e2a%5Cu5f39%5Cu7403%5Cu5728%5Cu79fb%5Cu52a8%5Cu65f6%5Cuff0c%5Cu4f1a%5Cu53cd%5Cu5f39%5Cu65e0%5Cu6570%5Cu6b21%5Cu3002%5Cu5f53%5Cu5b8c%5Cu6210%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu8fd0%5Cu52a8%5Cu5468%5Cu671f%5Cu540e%28%5Cu5373%5Cu5f39%5Cu7403%5Cu53c8%5Cu91cd%5Cu590d%5Cu4e86%5Cu540c%5Cu6837%5Cu7684%5Cu8def%29%5Cuff0c%5Cu5f39%5Cu7403%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu5728%5Cu4efb%5Cu610f%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu505c%5Cu6b62%5Cu8fd0%5Cu52a8%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu4e00%5Cu4e2a%5Cu68cb%5Cu76d8%5Cu4e0a%5Cu53ef%5Cu4ee5%5Cu653e%5Cu7f6e%5Cu8bb8%5Cu591a%5Cu4e2a%5Cu8c61%5Cu68cb%5Cu5f39%5Cu7403%5Cu3002%5Cu653e%5Cu7f6e%5Cu4e00%5Cu4e2a%5Cu5f39%5Cu7403%5Cu65f6%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu5b83%5Cu7684%5Cu521d%5Cu59cb%5Cu8fd0%5Cu52a8%5Cu65b9%5Cu5411%28%5Cu5de6%5Cu4e0a45%5Cu5ea6%5Cuff0c%5Cu5de6%5Cu4e0b45%5Cu5ea6%5Cuff0c%5Cu53f3%5Cu4e0a45%5Cu5ea6%5Cuff0c%5Cu53f3%5Cu4e0b45%5Cu5ea6%29%5Cu5f85%5Cu5b83%5Cu505c%5Cu6b62%5Cu8fd0%5Cu52a8%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu653e%5Cu7f6e%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu5f39%5Cu7403%5Cu3002%5Cu5f39%5Cu7403%5Cu8fd0%5Cu52a8%5Cu65f6%5Cuff0c%5Cu4e0d%5Cu80fd%5Cu78b0%5Cu5230%5Cu5148%5Cu524d%5Cu505c%5Cu6b62%5Cu8fd0%5Cu52a8%5Cu7684%5Cu5f39%5Cu7403%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu5b83%5Cu7684%5Cu8fd0%5Cu52a8%5Cu8f68%5Cu8ff9%5Cu4e0d%5Cu80fd%5Cu7ecf%5Cu8fc7%5Cu5148%5Cu524d%5Cu505c%5Cu6b62%5Cu8fd0%5Cu52a8%5Cu7684%5Cu5f39%5Cu7403%5Cu6240%5Cu5728%5Cu7684%5Cu683c%5Cu5b50%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu68cb%5Cu76d8%5Cu6709N%2AM%5Cu683c%5Cuff0c%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu627e%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu68cb%5Cu76d8%5Cu4e0a%5Cu6700%5Cu591a%5Cu53ef%5Cu4ee5%5Cu653e%5Cu51e0%5Cu4e2a%5Cu5f39%5Cu7403%5Cu3002%5Cr%5Cn%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A66%2C%22totalAccepted%22%3A35%2C%22pid%22%3A%22CF74C%22%2C%22title%22%3A%22Chessboard%20Billiard%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1439%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu6700%5Cu957f%5Cu516c%5Cu5171%5Cu5b50%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3143%22%2C%22title%22%3A%22%5BUSACO16OPEN%5D%5Cu94bb%5Cu77f3%5Cu6536%5Cu85cf%5Cu5bb6Diamond%20Collector%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF142C%22%2C%22title%22%3A%22Help%20Caretaker%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF2B%22%2C%22title%22%3A%22The%20least%20round%20way%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P5018%22%2C%22title%22%3A%22%5Cu5bf9%5Cu79f0%5Cu4e8c%5Cu53c9%5Cu6811%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Chessboard%20Billiard%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Chessboard Billiard</h1>
<h2>题意翻译</h2>
<div>一天，有一个神犇无聊（太无聊了吧= =），发明了一种新玩具：**象棋弹球**
象棋弹球在一个棋盘上沿斜线移动（类似象棋中的象），更厉害的是，当球到达棋盘边上的格子时会反弹，也就是将移动方向改变90度（如图）。当球到达棋盘的一角时，它会将移动方向改变180度（如图）。一个弹球在移动时，会反弹无数次。当完成了一个运动周期后(即弹球又重复了同样的路)，弹球可以选择在任意的位置停止运动。
一个棋盘上可以放置许多个象棋弹球。放置一个弹球时，你可以选择它的初始运动方向(左上45度，左下45度，右上45度，右下45度)待它停止运动，你可以放置下一个弹球。弹球运动时，不能碰到先前停止运动的弹球，也就是它的运动轨迹不能经过先前停止运动的弹球所在的格子。
棋盘有N*M格，你的任务是找出一个棋盘上最多可以放几个弹球。
</div>
<h2>题目描述</h2>
<div>Let's imagine: there is a chess piece billiard ball. Its movements resemble the ones of a bishop chess piece. The only difference is that when a billiard ball hits the board's border, it can reflect from it and continue moving.
More formally, first one of four diagonal directions is chosen and the billiard ball moves in that direction. When it reaches the square located on the board's edge, the billiard ball reflects from it; it changes the direction of its movement by 90 degrees and continues moving. Specifically, having reached a corner square, the billiard ball is reflected twice and starts to move the opposite way. While it moves, the billiard ball can make an infinite number of reflections. At any square of its trajectory the billiard ball can stop and on that the move is considered completed.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF74C/2b32b43a6cf594e055f4f908960d44aaa5bece14.png)It is considered that one billiard ball $ a $ beats another billiard ball $ b $ if $ a $ can reach a point where $ b $ is located.
You are suggested to find the maximal number of billiard balls, that pairwise do not beat each other and that can be positioned on a chessboard $ n×m $ in size.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ m $ ( $ 2<=n,m<=10^{6} $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print a single number, the maximum possible number of billiard balls that do not pairwise beat each other.
Please do not use the %lld specificator to read or write 64-bit numbers in C++. It is preferred to use cin (also you may use the %I64d specificator).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
<h3>输入样例 #2</h3>
<pre><code>3 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3</code></pre>
</article>
</div>
</div>
</body>
</html>
