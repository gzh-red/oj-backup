<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Arthur and Walls - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395088:f0UqbBHUMeWMaRYr0jUFmul5XTaeBSFqOZeNP4HykXc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Finally%20it%20is%20a%20day%20when%20Arthur%20has%20enough%20money%20for%20buying%20an%20apartment.%20He%20found%20a%20great%20option%20close%20to%20the%20center%20of%20the%20city%20with%20a%20nice%20price.%5Cn%5CnPlan%20of%20the%20apartment%20found%20by%20Arthur%20looks%20like%20a%20rectangle%20%24%20n%5Cu00d7m%20%24%20consisting%20of%20squares%20of%20size%20%24%201%5Cu00d71%20%24%20.%20Each%20of%20those%20squares%20contains%20either%20a%20wall%20%28such%20square%20is%20denoted%20by%20a%20symbol%20%5C%22%5C%5C%2A%5C%22%20on%20the%20plan%29%20or%20a%20free%20space%20%28such%20square%20is%20denoted%20on%20the%20plan%20by%20a%20symbol%20%5C%22.%5C%22%29.%5Cn%5CnRoom%20in%20an%20apartment%20is%20a%20maximal%20connected%20area%20consisting%20of%20free%20squares.%20Squares%20are%20considered%20adjacent%20if%20they%20share%20a%20common%20side.%5Cn%5CnThe%20old%20Arthur%20dream%20is%20to%20live%20in%20an%20apartment%20where%20all%20rooms%20are%20rectangles.%20He%20asks%20you%20to%20calculate%20minimum%20number%20of%20walls%20you%20need%20to%20remove%20in%20order%20to%20achieve%20this%20goal.%20After%20removing%20a%20wall%20from%20a%20square%20it%20becomes%20a%20free%20square.%20While%20removing%20the%20walls%20it%20is%20possible%20that%20some%20rooms%20unite%20into%20a%20single%20one.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%20%24%20n%2Cm%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D2000%20%24%20%29%20denoting%20the%20size%20of%20the%20Arthur%20apartments.%5Cn%5CnFollowing%20%24%20n%20%24%20lines%20each%20contain%20%24%20m%20%24%20symbols%20%5Cu2014%20the%20plan%20of%20the%20apartment.%5Cn%5CnIf%20the%20cell%20is%20denoted%20by%20a%20symbol%20%5C%22%5C%5C%2A%5C%22%20then%20it%20contains%20a%20wall.%5Cn%5CnIf%20the%20cell%20is%20denoted%20by%20a%20symbol%20%5C%22.%5C%22%20then%20it%20this%20cell%20is%20free%20from%20walls%20and%20also%20this%20cell%20is%20contained%20in%20some%20of%20the%20rooms.%22%2C%22outputFormat%22%3A%22Output%20%24%20n%20%24%20rows%20each%20consisting%20of%20%24%20m%20%24%20symbols%20that%20show%20how%20the%20Arthur%20apartment%20plan%20should%20look%20like%20after%20deleting%20the%20minimum%20number%20of%20walls%20in%20order%20to%20make%20each%20room%20%28maximum%20connected%20area%20free%20from%20walls%29%20be%20a%20rectangle.%5Cn%5CnIf%20there%20are%20several%20possible%20answers%2C%20output%20any%20of%20them.%22%2C%22samples%22%3A%5B%5B%225%205%5Cn.%2A.%2A.%5Cn%2A%2A%2A%2A%2A%5Cn.%2A.%2A.%5Cn%2A%2A%2A%2A%2A%5Cn.%2A.%2A.%5Cn%22%2C%22.%2A.%2A.%5Cn%2A%2A%2A%2A%2A%5Cn.%2A.%2A.%5Cn%2A%2A%2A%2A%2A%5Cn.%2A.%2A.%5Cn%22%5D%2C%5B%226%207%5Cn%2A%2A%2A.%2A.%2A%5Cn..%2A.%2A.%2A%5Cn%2A.%2A.%2A.%2A%5Cn%2A.%2A.%2A.%2A%5Cn..%2A...%2A%5Cn%2A%2A%2A%2A%2A%2A%2A%5Cn%22%2C%22%2A%2A%2A...%2A%5Cn..%2A...%2A%5Cn..%2A...%2A%5Cn..%2A...%2A%5Cn..%2A...%2A%5Cn%2A%2A%2A%2A%2A%2A%2A%5Cn%22%5D%2C%5B%224%205%5Cn.....%5Cn.....%5Cn..%2A%2A%2A%5Cn..%2A..%5Cn%22%2C%22.....%5Cn.....%5Cn.....%5Cn.....%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F525%5C%2FD%22%2C%22id%22%3A%22525D%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2an%5C%5C%2Am%5Cu7684%5Cu77e9%5Cu9635%5Cuff0c%5Cu91cc%5Cu9762%5Cu6709%5Cu201c%5C%5C%2A%5Cu201d%5Cu548c%5Cu201c.%5Cu201d%5Cu4e24%5Cu79cd%5Cu7b26%5Cu53f7%5Cuff0c%5Cu8981%5Cu6c42%5Cu628a%5Cu6700%5Cu5c11%5Cu7684%5Cu201c%5C%5C%2A%5Cu201d%5Cu53d8%5Cu6210%5Cu201c.%5Cu201d%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu201c.%5Cu201d%5Cu7684%5Cu8054%5Cu901a%5Cu5757%5Cu6784%5Cu6210%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu3002%5Cu6c42%5Cu6700%5Cu5c11%5Cu9700%5Cu8981%5Cu53d8%5Cu51e0%5Cu4e2a%5Cu201c%5C%5C%2A%5Cu201d%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A179%2C%22totalAccepted%22%3A50%2C%22pid%22%3A%22CF525D%22%2C%22title%22%3A%22Arthur%20and%20Walls%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22CF704B%22%2C%22title%22%3A%22Ant%20Man%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF442C%22%2C%22title%22%3A%22Artem%20and%20Array%20%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF332C%22%2C%22title%22%3A%22Students%27%20Revenge%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22AT2557%22%2C%22title%22%3A%22Ball%20Coloring%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22AT%22%7D%2C%7B%22pid%22%3A%22P4317%22%2C%22title%22%3A%22%5Cu82b1%5Cu795e%5Cu7684%5Cu6570%5Cu8bba%5Cu9898%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Arthur%20and%20Walls%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Arthur and Walls</h1>
<h2>题意翻译</h2>
<div>给出一个n\*m的矩阵，里面有“\*”和“.”两种符号，要求把最少的“\*”变成“.”，使得“.”的联通块构成一个矩形。求最少需要变几个“\*”。</div>
<h2>题目描述</h2>
<div>Finally it is a day when Arthur has enough money for buying an apartment. He found a great option close to the center of the city with a nice price.
Plan of the apartment found by Arthur looks like a rectangle $ n×m $ consisting of squares of size $ 1×1 $ . Each of those squares contains either a wall (such square is denoted by a symbol "\*" on the plan) or a free space (such square is denoted on the plan by a symbol ".").
Room in an apartment is a maximal connected area consisting of free squares. Squares are considered adjacent if they share a common side.
The old Arthur dream is to live in an apartment where all rooms are rectangles. He asks you to calculate minimum number of walls you need to remove in order to achieve this goal. After removing a wall from a square it becomes a free square. While removing the walls it is possible that some rooms unite into a single one.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers $ n,m $ ( $ 1<=n,m<=2000 $ ) denoting the size of the Arthur apartments.
Following $ n $ lines each contain $ m $ symbols — the plan of the apartment.
If the cell is denoted by a symbol "\*" then it contains a wall.
If the cell is denoted by a symbol "." then it this cell is free from walls and also this cell is contained in some of the rooms.</div>
<h3>输出格式</h3>
<br />
<div>Output $ n $ rows each consisting of $ m $ symbols that show how the Arthur apartment plan should look like after deleting the minimum number of walls in order to make each room (maximum connected area free from walls) be a rectangle.
If there are several possible answers, output any of them.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 5
.*.*.
*****
.*.*.
*****
.*.*.
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>.*.*.
*****
.*.*.
*****
.*.*.
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6 7
***.*.*
..*.*.*
*.*.*.*
*.*.*.*
..*...*
*******
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>***...*
..*...*
..*...*
..*...*
..*...*
*******
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>4 5
.....
.....
..***
..*..
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>.....
.....
.....
.....
</code></pre>
</article>
</div>
</div>
</body>
</html>
