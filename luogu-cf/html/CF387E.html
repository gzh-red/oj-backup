<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>George and Cards - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393568:Xj6Mw0NsL6ta1hWHpwfZL+pdaPGSDjMdK+WETnUfyio=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22George%20is%20a%20cat%2C%20so%20he%20loves%20playing%20very%20much.%5Cn%5CnVitaly%20put%20%24%20n%20%24%20cards%20in%20a%20row%20in%20front%20of%20George.%20Each%20card%20has%20one%20integer%20written%20on%20it.%20All%20cards%20had%20distinct%20numbers%20written%20on%20them.%20Let%27s%20number%20the%20cards%20from%20the%20left%20to%20the%20right%20with%20integers%20from%20%24%201%20%24%20to%20%24%20n%20%24%20.%20Then%20the%20%24%20i%20%24%20-th%20card%20from%20the%20left%20contains%20number%20%24%20p_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dp_%7Bi%7D%3C%3Dn%20%24%20%29.%5Cn%5CnVitaly%20wants%20the%20row%20to%20have%20exactly%20%24%20k%20%24%20cards%20left.%20He%20also%20wants%20the%20%24%20i%20%24%20-th%20card%20from%20left%20to%20have%20number%20%24%20b_%7Bi%7D%20%24%20written%20on%20it.%20Vitaly%20gave%20a%20task%20to%20George%2C%20to%20get%20the%20required%20sequence%20of%20cards%20using%20the%20remove%20operation%20%24%20n-k%20%24%20times.%5Cn%5CnIn%20one%20remove%20operation%20George%20can%20choose%20%24%20w%20%24%20%28%20%24%201%3C%3Dw%20%24%20%3B%20%24%20w%20%24%20is%20not%20greater%20than%20the%20current%20number%20of%20cards%20in%20the%20row%29%20contiguous%20cards%20%28contiguous%20subsegment%20of%20cards%29.%20Let%27s%20denote%20the%20numbers%20written%20on%20these%20card%20as%20%24%20x_%7B1%7D%2Cx_%7B2%7D%2C...%2Cx_%7Bw%7D%20%24%20%28from%20the%20left%20to%20the%20right%29.%20After%20that%2C%20George%20can%20remove%20the%20card%20%24%20x_%7Bi%7D%20%24%20%2C%20such%20that%20%24%20x_%7Bi%7D%3C%3Dx_%7Bj%7D%20%24%20for%20each%20%24%20j%20%24%20%24%20%281%3C%3Dj%3C%3Dw%29%20%24%20.%20After%20the%20described%20operation%20George%20gets%20%24%20w%20%24%20pieces%20of%20sausage.%5Cn%5CnGeorge%20wondered%3A%20what%20maximum%20number%20of%20pieces%20of%20sausage%20will%20he%20get%20in%20total%20if%20he%20reaches%20his%20goal%20and%20acts%20optimally%20well%3F%20Help%20George%2C%20find%20an%20answer%20to%20his%20question%21%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integers%20%24%20n%20%24%20and%20%24%20k%20%24%20%28%20%24%201%3C%3Dk%3C%3Dn%3C%3D10%5E%7B6%7D%20%24%20%29%20%5Cu2014%20the%20initial%20and%20the%20final%20number%20of%20cards.%5Cn%5CnThe%20second%20line%20contains%20%24%20n%20%24%20distinct%20space-separated%20integers%20%24%20p_%7B1%7D%2Cp_%7B2%7D%2C...%2Cp_%7Bn%7D%20%24%20%28%20%24%201%3C%3Dp_%7Bi%7D%3C%3Dn%20%24%20%29%20%5Cu2014%20the%20initial%20row%20of%20cards.%5Cn%5CnThe%20third%20line%20contains%20%24%20k%20%24%20space-separated%20integers%20%24%20b_%7B1%7D%2Cb_%7B2%7D%2C...%2Cb_%7Bk%7D%20%24%20%5Cu2014%20the%20row%20of%20cards%20that%20you%20need%20to%20get.%20It%20is%20guaranteed%20that%20it%27s%20possible%20to%20obtain%20the%20given%20row%20by%20using%20the%20remove%20operation%20for%20%24%20n-k%20%24%20times.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20maximum%20number%20of%20pieces%20of%20sausage%20that%20George%20can%20get%20if%20he%20acts%20optimally%20well.%22%2C%22samples%22%3A%5B%5B%223%202%5Cn2%201%203%5Cn1%203%5Cn%22%2C%221%5Cn%22%5D%2C%5B%2210%205%5Cn1%202%203%204%205%206%207%208%209%2010%5Cn2%204%206%208%2010%5Cn%22%2C%2230%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F387%5C%2FE%22%2C%22id%22%3A%22387E%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%20%241%24%20%5Cu5230%20%24n%24%20%5Cu7684%5Cu6392%5Cu5217%5Cuff08%5Cu8f93%5Cu5165%5Cu4e2d%5Cu7684%5Cu6570%5Cu7ec4%20%24p%24%20%5Cuff09%5Cuff0c%5Cu5e76%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu957f%5Cu4e3a%20%24k%24%20%5Cu7684%5Cu6570%5Cu7ec4%20%24b%24%20%5Cuff0c%5Cu8981%5Cu6c42%5Cu4ece%20%24p%24%20%5Cu4e2d%5Cu5220%5Cu53bb%20%24n%20-%20k%24%20%5Cu4e2a%5Cu5143%5Cu7d20%5Cu540e%5Cu5f97%5Cu5230%5Cu6570%5Cu7ec4%20%24b%24%20%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu5220%5Cu9664%5Cu64cd%5Cu4f5c%5Cu7684%5Cu5b9a%5Cu4e49%5Cuff1a%5Cu9009%5Cu53d6%5Cu4e00%5Cu4e2a%5Cu533a%5Cu95f4%20%24%5Bl%2C%20r%5D%24%20%5Cuff0c%5Cu5220%5Cu53bb%5Cu5176%5Cu4e2d%5Cu6700%5Cu5c0f%5Cu7684%5Cu5143%5Cu7d20%5Cuff0c%5Cu5e76%5Cu83b7%5Cu5f97%20%24r%20-%20l%20%2B%201%24%20%5Cu7684%5Cu5206%5Cu6570%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8bf7%5Cu4f60%5Cu8f93%5Cu51fa%5Cu6700%5Cu7ec8%5Cu5f97%5Cu5206%5Cu7684%5Cu6700%5Cu5927%5Cu503c%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu6709%5Cu89e3%5Cu3002%5Cr%5Cn%5Cr%5Cn%241%20%5C%5Cleq%20k%20%5C%5Cleq%20n%20%5C%5Cleq%2010%5E%7B6%7D%24%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A13%2C%22totalAccepted%22%3A5%2C%22pid%22%3A%22CF387E%22%2C%22title%22%3A%22George%20and%20Cards%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A114836%2C%22title%22%3A%22%5Cu6240%5Cu4ee5%5Cu5c31%5Cu2026%5Cu2026n%5Cu65b9%5Cu8fc7%5Cu767e%5Cu4e07%5Cu4e86%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A11083%2C%22name%22%3A%22CF387E%20George%20and%20Cards%22%2C%22slug%22%3A%22CF387E%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22George%20and%20Cards%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>George and Cards</h1>
<h2>题意翻译</h2>
<div>给出一个 $1$ 到 $n$ 的排列（输入中的数组 $p$ ），并给出一个长为 $k$ 的数组 $b$ ，要求从 $p$ 中删去 $n - k$ 个元素后得到数组 $b$ 。
删除操作的定义：选取一个区间 $[l, r]$ ，删去其中最小的元素，并获得 $r - l + 1$ 的分数。
请你输出最终得分的最大值，保证有解。
$1 \leq k \leq n \leq 10^{6}$</div>
<h2>题目描述</h2>
<div>George is a cat, so he loves playing very much.
Vitaly put $ n $ cards in a row in front of George. Each card has one integer written on it. All cards had distinct numbers written on them. Let's number the cards from the left to the right with integers from $ 1 $ to $ n $ . Then the $ i $ -th card from the left contains number $ p_{i} $ ( $ 1<=p_{i}<=n $ ).
Vitaly wants the row to have exactly $ k $ cards left. He also wants the $ i $ -th card from left to have number $ b_{i} $ written on it. Vitaly gave a task to George, to get the required sequence of cards using the remove operation $ n-k $ times.
In one remove operation George can choose $ w $ ( $ 1<=w $ ; $ w $ is not greater than the current number of cards in the row) contiguous cards (contiguous subsegment of cards). Let's denote the numbers written on these card as $ x_{1},x_{2},...,x_{w} $ (from the left to the right). After that, George can remove the card $ x_{i} $ , such that $ x_{i}<=x_{j} $ for each $ j $ $ (1<=j<=w) $ . After the described operation George gets $ w $ pieces of sausage.
George wondered: what maximum number of pieces of sausage will he get in total if he reaches his goal and acts optimally well? Help George, find an answer to his question!</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integers $ n $ and $ k $ ( $ 1<=k<=n<=10^{6} $ ) — the initial and the final number of cards.
The second line contains $ n $ distinct space-separated integers $ p_{1},p_{2},...,p_{n} $ ( $ 1<=p_{i}<=n $ ) — the initial row of cards.
The third line contains $ k $ space-separated integers $ b_{1},b_{2},...,b_{k} $ — the row of cards that you need to get. It is guaranteed that it's possible to obtain the given row by using the remove operation for $ n-k $ times.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the maximum number of pieces of sausage that George can get if he acts optimally well.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 2
2 1 3
1 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>10 5
1 2 3 4 5 6 7 8 9 10
2 4 6 8 10
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>30
</code></pre>
</article>
</div>
</div>
</body>
</html>
