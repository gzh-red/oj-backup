<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Robots protection - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395552:Gh1ww9oDI5BFAagewBBkRbQ4XhUQ2s3GFl+ivQwdrIQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Company%20%5C%22Robots%20industries%5C%22%20produces%20robots%20for%20territory%20protection.%20Robots%20protect%20triangle%20territories%20%5Cu2014%20right%20isosceles%20triangles%20with%20catheti%20parallel%20to%20North-South%20and%20East-West%20directions.%5Cn%5CnOwner%20of%20some%20land%20buys%20and%20sets%20robots%20on%20his%20territory%20to%20protect%20it.%20From%20time%20to%20time%2C%20businessmen%20want%20to%20build%20offices%20on%20that%20land%20and%20want%20to%20know%20how%20many%20robots%20will%20guard%20it.%20You%20are%20to%20handle%20these%20queries.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20integer%20%24%20N%20%24%20%5Cu2014%20width%20and%20height%20of%20the%20land%2C%20and%20integer%20%24%20Q%20%24%20%5Cu2014%20number%20of%20queries%20to%20handle.%5Cn%5CnNext%20%24%20Q%20%24%20lines%20contain%20queries%20you%20need%20to%20process.%5Cn%5CnTwo%20types%20of%20queries%3A%5Cn%5Cn1.%20%24%201%20%24%20%24%20dir%20%24%20%24%20x%20%24%20%24%20y%20%24%20%24%20len%20%24%20%5Cu2014%20add%20a%20robot%20to%20protect%20a%20triangle.%20Depending%20on%20the%20value%20of%20%24%20dir%20%24%20%2C%20the%20values%20of%20%24%20x%20%24%20%2C%20%24%20y%20%24%20and%20%24%20len%20%24%20represent%20a%20different%20triangle%3A%20%5Cn%20%20-%20%24%20dir%3D1%20%24%20%3A%20Triangle%20is%20defined%20by%20the%20points%20%24%20%28x%2Cy%29%20%24%20%2C%20%24%20%28x%2Blen%2Cy%29%20%24%20%2C%20%24%20%28x%2Cy%2Blen%29%20%24%5Cn%20%20-%20%24%20dir%3D2%20%24%20%3A%20Triangle%20is%20defined%20by%20the%20points%20%24%20%28x%2Cy%29%20%24%20%2C%20%24%20%28x%2Blen%2Cy%29%20%24%20%2C%20%24%20%28x%2Cy-len%29%20%24%5Cn%20%20-%20%24%20dir%3D3%20%24%20%3A%20Triangle%20is%20defined%20by%20the%20points%20%24%20%28x%2Cy%29%20%24%20%2C%20%24%20%28x-len%2Cy%29%20%24%20%2C%20%24%20%28x%2Cy%2Blen%29%20%24%5Cn%20%20-%20%24%20dir%3D4%20%24%20%3A%20Triangle%20is%20defined%20by%20the%20points%20%24%20%28x%2Cy%29%20%24%20%2C%20%24%20%28x-len%2Cy%29%20%24%20%2C%20%24%20%28x%2Cy-len%29%20%24%5Cn2.%20%24%202%20%24%20%24%20x%20%24%20%24%20y%20%24%20%5Cu2014%20output%20how%20many%20robots%20guard%20this%20point%20%28robot%20guards%20a%20point%20if%20the%20point%20is%20inside%20or%20on%20the%20border%20of%20its%20triangle%29%5Cn%5Cn-%20%24%201%3C%3DN%3C%3D5000%20%24%5Cn-%20%24%201%3C%3DQ%3C%3D10%5E%7B5%7D%20%24%5Cn-%20%24%201%3C%3Ddir%3C%3D4%20%24%5Cn-%20All%20points%20of%20triangles%20are%20within%20range%20%24%20%5B1%2CN%5D%20%24%5Cn-%20All%20numbers%20are%20positive%20integers%22%2C%22outputFormat%22%3A%22For%20each%20second%20type%20query%20output%20how%20many%20robots%20guard%20this%20point.%20Each%20answer%20should%20be%20in%20a%20separate%20line.%22%2C%22samples%22%3A%5B%5B%2217%2010%5Cn1%201%203%202%204%5Cn1%203%2010%203%207%5Cn1%202%206%208%202%5Cn1%203%209%204%202%5Cn2%204%204%5Cn1%204%2015%2010%206%5Cn2%207%207%5Cn2%209%204%5Cn2%2012%202%5Cn2%2013%208%5Cn%22%2C%222%5Cn2%5Cn2%5Cn0%5Cn1%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1500%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F575%5C%2FI%22%2C%22id%22%3A%22575I%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A9%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF575I%22%2C%22title%22%3A%22Robots%20protection%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Robots%20protection%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Robots protection</h1>
<h2>题目描述</h2>
<div>Company "Robots industries" produces robots for territory protection. Robots protect triangle territories — right isosceles triangles with catheti parallel to North-South and East-West directions.
Owner of some land buys and sets robots on his territory to protect it. From time to time, businessmen want to build offices on that land and want to know how many robots will guard it. You are to handle these queries.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains integer $ N $ — width and height of the land, and integer $ Q $ — number of queries to handle.
Next $ Q $ lines contain queries you need to process.
Two types of queries:
1. $ 1 $ $ dir $ $ x $ $ y $ $ len $ — add a robot to protect a triangle. Depending on the value of $ dir $ , the values of $ x $ , $ y $ and $ len $ represent a different triangle:
- $ dir=1 $ : Triangle is defined by the points $ (x,y) $ , $ (x+len,y) $ , $ (x,y+len) $
- $ dir=2 $ : Triangle is defined by the points $ (x,y) $ , $ (x+len,y) $ , $ (x,y-len) $
- $ dir=3 $ : Triangle is defined by the points $ (x,y) $ , $ (x-len,y) $ , $ (x,y+len) $
- $ dir=4 $ : Triangle is defined by the points $ (x,y) $ , $ (x-len,y) $ , $ (x,y-len) $
2. $ 2 $ $ x $ $ y $ — output how many robots guard this point (robot guards a point if the point is inside or on the border of its triangle)
- $ 1<=N<=5000 $
- $ 1<=Q<=10^{5} $
- $ 1<=dir<=4 $
- All points of triangles are within range $ [1,N] $
- All numbers are positive integers</div>
<h3>输出格式</h3>
<br />
<div>For each second type query output how many robots guard this point. Each answer should be in a separate line.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>17 10
1 1 3 2 4
1 3 10 3 7
1 2 6 8 2
1 3 9 4 2
2 4 4
1 4 15 10 6
2 7 7
2 9 4
2 12 2
2 13 8
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
2
2
0
1
</code></pre>
</article>
</div>
</div>
</body>
</html>
