<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Maximum Weight Subset - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403746:8BAZKUFBzDNqQEiMFyYIQvR5m/vXCk2/O4Nno5mVcGI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20a%20tree%2C%20which%20consists%20of%20%24%20n%20%24%20vertices.%20Recall%20that%20a%20tree%20is%20a%20connected%20undirected%20graph%20without%20cycles.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF1249F%5C%2F0b019d9da08990633b2a6779b2699db8afb883d7.png%29Example%20of%20a%20tree.Vertices%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20.%20All%20vertices%20have%20weights%2C%20the%20weight%20of%20the%20vertex%20%24%20v%20%24%20is%20%24%20a_v%20%24%20.%5Cn%5CnRecall%20that%20the%20distance%20between%20two%20vertices%20in%20the%20tree%20is%20the%20number%20of%20edges%20on%20a%20simple%20path%20between%20them.%5Cn%5CnYour%20task%20is%20to%20find%20the%20subset%20of%20vertices%20with%20the%20maximum%20total%20weight%20%28the%20weight%20of%20the%20subset%20is%20the%20sum%20of%20weights%20of%20all%20vertices%20in%20it%29%20such%20that%20there%20is%20no%20pair%20of%20vertices%20with%20the%20distance%20%24%20k%20%24%20or%20less%20between%20them%20in%20this%20subset.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20k%20%24%20%28%20%24%201%20%5C%5Cle%20n%2C%20k%20%5C%5Cle%20200%20%24%20%29%20%5Cu2014%20the%20number%20of%20vertices%20in%20the%20tree%20and%20the%20distance%20restriction%2C%20respectively.%5Cn%5CnThe%20second%20line%20of%20the%20input%20contains%20%24%20n%20%24%20integers%20%24%20a_1%2C%20a_2%2C%20%5C%5Cdots%2C%20a_n%20%24%20%28%20%24%201%20%5C%5Cle%20a_i%20%5C%5Cle%2010%5E5%20%24%20%29%2C%20where%20%24%20a_i%20%24%20is%20the%20weight%20of%20the%20vertex%20%24%20i%20%24%20.%5Cn%5CnThe%20next%20%24%20n%20-%201%20%24%20lines%20contain%20edges%20of%20the%20tree.%20Edge%20%24%20i%20%24%20is%20denoted%20by%20two%20integers%20%24%20u_i%20%24%20and%20%24%20v_i%20%24%20%5Cu2014%20the%20labels%20of%20vertices%20it%20connects%20%28%20%24%201%20%5C%5Cle%20u_i%2C%20v_i%20%5C%5Cle%20n%20%24%20%2C%20%24%20u_i%20%5C%5Cne%20v_i%20%24%20%29.%5Cn%5CnIt%20is%20guaranteed%20that%20the%20given%20edges%20form%20a%20tree.%22%2C%22outputFormat%22%3A%22Print%20one%20integer%20%5Cu2014%20the%20maximum%20total%20weight%20of%20the%20subset%20in%20which%20all%20pairs%20of%20vertices%20have%20distance%20more%20than%20%24%20k%20%24%20.%22%2C%22samples%22%3A%5B%5B%22%5Cn5%201%5Cn1%202%203%204%205%5Cn1%202%5Cn2%203%5Cn3%204%5Cn3%205%5Cn%22%2C%22%5Cn11%5Cn%22%5D%2C%5B%22%5Cn7%202%5Cn2%201%202%201%202%201%201%5Cn6%204%5Cn1%205%5Cn3%201%5Cn2%203%5Cn7%205%5Cn7%204%5Cn%22%2C%22%5Cn4%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1249%5C%2FF%22%2C%22id%22%3A%221249F%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu68f5%5Cu542b%24n%24%5Cu4e2a%5Cu8282%5Cu70b9%5Cu7684%5Cu6811%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu8282%5Cu70b9%5Cu542b%5Cu4e00%5Cu4e2a%5Cu70b9%5Cu6743%24a%5Bi%5D%24%5Cu3002%5Cu73b0%5Cu5728%5Cu8bf7%5Cu4f60%5Cu9009%5Cu51fa%5Cu4e00%5Cu4e9b%5Cu8282%5Cu70b9%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu8fd9%5Cu4e9b%5Cu8282%5Cu70b9%5Cu7684%5Cu6743%5Cu503c%5Cu548c%5Cu6700%5Cu5927%5Cu5e76%5Cu4e14%5Cu8fd9%5Cu4e9b%5Cu8282%5Cu70b9%5Cu4e2d%5Cu4efb%5Cu610f%5Cu4e24%5Cu4e2a%5Cu8282%5Cu70b9%5Cu7684%5Cu8ddd%5Cu79bb%5Cu90fd%24%3Ek%24%5Cu3002%5Cu5e76%5Cu8f93%5Cu51fa%5Cu8fd9%5Cu4e2a%5Cu6700%5Cu5927%5Cu7684%5Cu6743%5Cu503c%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu8f93%5Cu5165%5Cu7b2c%5Cu4e00%5Cu884c%5Cu542b%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%24n%2Ck%24%5Cuff0c%5Cu4e4b%5Cu540e%5Cu662f%24n%24%5Cu4e2a%5Cu6574%5Cu6570%24a%5Bi%5D%24%5Cuff0c%5Cu4e4b%5Cu540e%5Cu662f%24n-1%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu63cf%5Cu8ff0%5Cu6811%5Cu7684%5Cu6bcf%5Cu6761%5Cu8fb9%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A93%2C%22totalAccepted%22%3A58%2C%22pid%22%3A%22CF1249F%22%2C%22title%22%3A%22Maximum%20Weight%20Subset%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P5613%22%2C%22title%22%3A%22%5BMtOI2019%5D%5Cu9ed1%5Cu868a%5Cu5b50%5Cu591a%22%2C%22difficulty%22%3A1%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1249E%22%2C%22title%22%3A%22By%20Elevator%20or%20Stairs%3F%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1249D2%22%2C%22title%22%3A%22Too%20Many%20Segments%20%28hard%20version%29%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1249A%22%2C%22title%22%3A%22Yet%20Another%20Dividing%20into%20Teams%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1251A%22%2C%22title%22%3A%22Broken%20Keyboard%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Maximum%20Weight%20Subset%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Maximum Weight Subset</h1>
<h2>题意翻译</h2>
<div>给定一棵含$n$个节点的树，每个节点含一个点权$a[i]$。现在请你选出一些节点，使得这些节点的权值和最大并且这些节点中任意两个节点的距离都$>k$。并输出这个最大的权值。
输入第一行含两个整数$n,k$，之后是$n$个整数$a[i]$，之后是$n-1$行，每行两个整数，描述树的每条边。</div>
<h2>题目描述</h2>
<div>You are given a tree, which consists of $ n $ vertices. Recall that a tree is a connected undirected graph without cycles.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF1249F/0b019d9da08990633b2a6779b2699db8afb883d7.png)Example of a tree.Vertices are numbered from $ 1 $ to $ n $ . All vertices have weights, the weight of the vertex $ v $ is $ a_v $ .
Recall that the distance between two vertices in the tree is the number of edges on a simple path between them.
Your task is to find the subset of vertices with the maximum total weight (the weight of the subset is the sum of weights of all vertices in it) such that there is no pair of vertices with the distance $ k $ or less between them in this subset.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input contains two integers $ n $ and $ k $ ( $ 1 \le n, k \le 200 $ ) — the number of vertices in the tree and the distance restriction, respectively.
The second line of the input contains $ n $ integers $ a_1, a_2, \dots, a_n $ ( $ 1 \le a_i \le 10^5 $ ), where $ a_i $ is the weight of the vertex $ i $ .
The next $ n - 1 $ lines contain edges of the tree. Edge $ i $ is denoted by two integers $ u_i $ and $ v_i $ — the labels of vertices it connects ( $ 1 \le u_i, v_i \le n $ , $ u_i \ne v_i $ ).
It is guaranteed that the given edges form a tree.</div>
<h3>输出格式</h3>
<br />
<div>Print one integer — the maximum total weight of the subset in which all pairs of vertices have distance more than $ k $ .</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
5 1
1 2 3 4 5
1 2
2 3
3 4
3 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
11
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
7 2
2 1 2 1 2 1 1
6 4
1 5
3 1
2 3
7 5
7 4
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
4
</code></pre>
</article>
</div>
</div>
</body>
</html>
