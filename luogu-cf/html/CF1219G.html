<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Harvester - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573403408:LSoTy7Nf6J0awPgowE/YbMQMafOinWeH1pojyGYWFdI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22It%20is%20Bubble%20Cup%20finals%20season%20and%20farmer%20Johnny%20Bubbles%20must%20harvest%20his%20bubbles.%20The%20bubbles%20are%20in%20a%20rectangular%20bubblefield%20formed%20of%20%24%20N%20%24%20x%20%24%20M%20%24%20square%20parcels%20divided%20into%20%24%20N%20%24%20rows%20and%20%24%20M%20%24%20columns.%20The%20parcel%20in%20%24%20i%5E%7Bth%7D%20%24%20row%20and%20%24%20j%5E%7Bth%7D%20%24%20column%20yields%20%24%20A_%7Bi%2Cj%7D%20%24%20bubbles.%5Cn%5CnJohnny%20Bubbles%20has%20available%20a%20very%20special%20self-driving%20bubble%20harvester%20that%2C%20once%20manually%20positioned%20at%20the%20beginning%20of%20a%20row%20or%20column%2C%20automatically%20harvests%20all%20the%20bubbles%20in%20that%20row%20or%20column.%20Once%20the%20harvester%20reaches%20the%20end%20of%20the%20row%20or%20column%20it%20stops%20and%20must%20be%20repositioned.%20The%20harvester%20can%20pass%20through%20any%20parcel%20any%20number%20of%20times%2C%20but%20it%20can%20collect%20bubbles%20from%20the%20parcel%20only%20once.%5Cn%5CnJohnny%20is%20very%20busy%20farmer%2C%20so%20he%20is%20available%20to%20manually%20position%20the%20harvester%20at%20most%20four%20times%20per%20day.%20Johnny%20is%20also%20impatient%2C%20so%20he%20wants%20to%20harvest%20as%20many%20bubbles%20as%20possible%20on%20the%20first%20day.%5Cn%5CnPlease%20help%20Johnny%20to%20calculate%20what%20is%20the%20maximum%20number%20of%20bubbles%20he%20can%20collect%20on%20the%20first%20day.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20N%20%24%20and%20%24%20M%20%24%20%28%20%24%201%20%24%20%24%20%5C%5Cleq%20%24%20%24%20N%20%24%20%2C%20%24%20M%20%24%20%24%20%5C%5Cleq%20%24%20%24%20N%20%24%20%5C%5C%2A%20%24%20M%20%24%20%24%20%5C%5Cleq%20%24%20%24%2010%5E%7B5%7D%20%24%20%29%20-%20the%20bubblefield%20size.%5Cn%5CnEach%20of%20the%20next%20%24%20N%20%24%20lines%20contains%20%24%20M%20%24%20integers.%20The%20%24%20j%5E%7Bth%7D%20%24%20element%20in%20the%20%24%20i%5E%7Bth%7D%20%24%20line%20is%20%24%20A_%7Bi%2Cj%7D%20%24%20%28%20%24%200%20%24%20%24%20%5C%5Cleq%20%24%20%24%20a_%7Bi%2Cj%7D%20%24%20%24%20%5C%5Cleq%20%24%20%24%2010%5E%7B9%7D%20%24%20%29%20%5Cu2014%20the%20yield%20of%20the%20parcel%20located%20in%20the%20%24%20i%5E%7Bth%7D%20%24%20row%20and%20the%20%24%20j%5E%7Bth%7D%20%24%20column.%22%2C%22outputFormat%22%3A%22Output%20contains%20one%20integer%20number%20-%20maximum%20number%20of%20the%20bubbles%20Johnny%20can%20harvest%20on%20the%20first%20day.%22%2C%22samples%22%3A%5B%5B%22%5Cn2%202%5Cn1%202%5Cn3%204%5Cn%22%2C%22%5Cn10%5Cn%22%5D%2C%5B%22%5Cn5%205%5Cn0%209%202%207%200%5Cn9%200%203%200%205%5Cn0%208%200%203%201%5Cn6%207%204%203%209%5Cn3%206%204%201%200%5Cn%22%2C%22%5Cn80%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20farmer%20Johnny%20can%20harvest%20all%20the%20bubbles%20by%20positioning%20the%20harvester%20on%20the%20first%20and%20the%20second%20row.%5Cn%5CnIn%20the%20second%20example%2C%20one%20way%20Johnny%20can%20harvest%20maximum%20number%20of%20bubbles%20is%20to%20position%20the%20harvester%20in%20the%20second%20row%2C%20the%20fourth%20row%2C%20the%20second%20column%20and%20the%20fourth%20column.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B500%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1219%5C%2FG%22%2C%22id%22%3A%221219G%22%7D%2C%22translation%22%3A%22n%20%2A%20m%5Cu7684%5Cu7f51%5Cu683c%5Cu4e2d%5Cuff0c%5Cu5728%5Cu7b2ci%5Cu884cj%5Cu5217%5Cu6709a%5Bi%5D%5Bj%5D%5Cu4e2a%5Cu6ce1%5Cu6ce1%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu6536%5Cu5272%5Cu4e00%5Cu884c%5Cu6216%5Cu4e00%5Cu5217%5Cu7684%5Cu6ce1%5Cu6ce1%5Cuff0c%5Cu6700%5Cu591a%5Cu6536%5Cu52724%5Cu6b21%5Cuff0c%5Cu95ee%5Cu6700%5Cu591a%5Cu53ef%5Cu4ee5%5Cu6536%5Cu5272%5Cu5230%5Cu591a%5Cu5c11%5Cu6ce1%5Cu6ce1%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A8%2C%22totalAccepted%22%3A5%2C%22pid%22%3A%22CF1219G%22%2C%22title%22%3A%22Harvester%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Harvester%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Harvester</h1>
<h2>题意翻译</h2>
<div>n * m的网格中，在第i行j列有a[i][j]个泡泡，每次可以收割一行或一列的泡泡，最多收割4次，问最多可以收割到多少泡泡。</div>
<h2>题目描述</h2>
<div>It is Bubble Cup finals season and farmer Johnny Bubbles must harvest his bubbles. The bubbles are in a rectangular bubblefield formed of $ N $ x $ M $ square parcels divided into $ N $ rows and $ M $ columns. The parcel in $ i^{th} $ row and $ j^{th} $ column yields $ A_{i,j} $ bubbles.
Johnny Bubbles has available a very special self-driving bubble harvester that, once manually positioned at the beginning of a row or column, automatically harvests all the bubbles in that row or column. Once the harvester reaches the end of the row or column it stops and must be repositioned. The harvester can pass through any parcel any number of times, but it can collect bubbles from the parcel only once.
Johnny is very busy farmer, so he is available to manually position the harvester at most four times per day. Johnny is also impatient, so he wants to harvest as many bubbles as possible on the first day.
Please help Johnny to calculate what is the maximum number of bubbles he can collect on the first day.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ N $ and $ M $ ( $ 1 $ $ \leq $ $ N $ , $ M $ $ \leq $ $ N $ \* $ M $ $ \leq $ $ 10^{5} $ ) - the bubblefield size.
Each of the next $ N $ lines contains $ M $ integers. The $ j^{th} $ element in the $ i^{th} $ line is $ A_{i,j} $ ( $ 0 $ $ \leq $ $ a_{i,j} $ $ \leq $ $ 10^{9} $ ) — the yield of the parcel located in the $ i^{th} $ row and the $ j^{th} $ column.</div>
<h3>输出格式</h3>
<br />
<div>Output contains one integer number - maximum number of the bubbles Johnny can harvest on the first day.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
2 2
1 2
3 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
10
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
5 5
0 9 2 7 0
9 0 3 0 5
0 8 0 3 1
6 7 4 3 9
3 6 4 1 0
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
80
</code></pre>
<h2>说明</h2>
<div>In the first example, farmer Johnny can harvest all the bubbles by positioning the harvester on the first and the second row.
In the second example, one way Johnny can harvest maximum number of bubbles is to position the harvester in the second row, the fourth row, the second column and the fourth column.</div>
</article>
</div>
</div>
</body>
</html>
