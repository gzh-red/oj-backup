<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Big Problems for Organizers - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573393893:ni/XYVC4r4C9PKuN62MGIVntPrKIzqVb+u7tqPyqOg0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22The%20Finals%20of%20the%20%5C%22Russian%20Code%20Cup%5C%22%202214%20will%20be%20held%20in%20%24%20n%20%24%20hotels.%20Two%20hotels%20%28let%27s%20assume%20that%20they%20are%20the%20main%20hotels%29%2C%20will%20host%20all%20sorts%20of%20events%2C%20and%20the%20remaining%20hotels%20will%20accommodate%20the%20participants.%20The%20hotels%20are%20connected%20by%20%24%20n-1%20%24%20roads%2C%20you%20can%20get%20from%20any%20hotel%20to%20any%20other%20one.%5Cn%5CnThe%20organizers%20wonder%20what%20is%20the%20minimum%20time%20all%20the%20participants%20need%20to%20get%20to%20the%20main%20hotels%2C%20if%20each%20participant%20goes%20to%20the%20main%20hotel%20that%20is%20nearest%20to%20him%20and%20moving%20between%20two%20hotels%20connected%20by%20a%20road%20takes%20one%20unit%20of%20time.%5Cn%5CnThe%20hosts%20consider%20various%20options%20for%20the%20location%20of%20the%20main%20hotels.%20For%20each%20option%20help%20the%20organizers%20to%20find%20minimal%20time.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20integer%20%24%20n%20%24%20%28%20%24%202%3C%3Dn%3C%3D100000%20%24%20%29%20%5Cu2014%20the%20number%20of%20hotels.%20The%20next%20%24%20n-1%20%24%20lines%20contain%20two%20integers%20each%20%5Cu2014%20the%20numbers%20of%20the%20hotels%20that%20have%20a%20road%20between%20them.%20Consider%20hotels%20are%20numbered%20from%20%24%201%20%24%20to%20%24%20n%20%24%20.%5Cn%5CnThe%20next%20line%20contains%20an%20integer%20%24%20m%20%24%20%28%20%24%201%3C%3Dm%3C%3D100000%20%24%20%29%20%5Cu2014%20the%20number%20of%20queries.%20The%20following%20%24%20m%20%24%20lines%20contains%20two%20distinct%20integers%20each%20%5Cu2014%20the%20numbers%20of%20the%20hotels%20we%20assume%20to%20be%20the%20main.%22%2C%22outputFormat%22%3A%22For%20each%20request%20of%20the%20organizers%20print%20a%20single%20integer%20%5Cu2014%20the%20time%20that%20all%20participants%20need%20to%20reach%20the%20main%20hotels.%22%2C%22samples%22%3A%5B%5B%223%5Cn2%203%5Cn3%201%5Cn3%5Cn2%201%5Cn2%203%5Cn3%201%5Cn%22%2C%221%5Cn1%5Cn1%5Cn%22%5D%2C%5B%224%5Cn1%204%5Cn1%202%5Cn2%203%5Cn3%5Cn1%204%5Cn1%203%5Cn2%203%5Cn%22%2C%222%5Cn1%5Cn2%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F418%5C%2FD%22%2C%22id%22%3A%22418D%22%7D%2C%22translation%22%3A%22%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cu201c%5Cu4fc4%5Cu7f57%5Cu65af%5Cu7f16%5Cu7a0b%5Cu676f2214%5Cu201d%5Cu7684%5Cu603b%5Cu51b3%5Cu8d5b%5Cu5c06%5Cu5728%24n%24%5Cu4e2a%5Cu9152%5Cu5e97%5Cuff0c%242%24%5Cu4e2a%5Cu9152%5Cu5e97%5Cuff08%5Cu6211%5Cu4eec%5Cu5047%5Cu8bbe%5Cu8fd9%5Cu4e24%5Cu4e2a%5Cu9152%5Cu5e97%5Cu662f%5Cu4e3b%5Cu9152%5Cu5e97%5Cuff09%5Cu5c06%5Cu4e3b%5Cu6301%5Cu5404%5Cu79cd%5Cu6d3b%5Cu52a8%5Cuff0c%5Cu800c%5Cu5176%5Cu4ed6%24n-2%24%5Cu4e2a%5Cu9152%5Cu5e97%5Cu5c06%5Cu5bb9%5Cu7eb3%5Cu6240%5Cu6709%5Cu53c2%5Cu8d5b%5Cu8005%5Cu3002%5Cu8fd9%5Cu4e9b%5Cu9152%5Cu5e97%5Cu88ab%24n-1%24%5Cu6761%5Cu8def%5Cu8fde%5Cu63a5%5Cu7740%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu4ece%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu9152%5Cu5e97%5Cu53bb%5Cu5f80%5Cu4efb%5Cu610f%5Cu53e6%5Cu5916%5Cu4e00%5Cu4e2a%5Cu9152%5Cu5e97%5Cu3002%5Cn%5Cn%5Cu7ec4%5Cu7ec7%5Cu8005%5Cu4eec%5Cu60f3%5Cu77e5%5Cu9053%5Cuff0c%5Cu6700%5Cu5c11%5Cu9700%5Cu8981%5Cu591a%5Cu5c11%5Cu65f6%5Cu95f4%5Cuff0c%5Cu80fd%5Cu591f%5Cu8ba9%5Cu6240%5Cu6709%5Cu53c2%5Cu8d5b%5Cu8005%5Cu4ece%5Cu4ed6%5Cu4eec%5Cu7684%5Cu9152%5Cu5e97%5Cu53bb%5Cu5f80%5Cu4e3b%5Cu9152%5Cu5e97%5Cuff08%5Cu6bcf%5Cu4e2a%5Cu53c2%5Cu4e0e%5Cu8005%5Cu90fd%5Cu53bb%5Cu79bb%5Cu4ed6%5Cu6700%5Cu8fd1%5Cu7684%5Cu4e3b%5Cu9152%5Cu5e97%5Cuff09%5Cuff0c%5Cu5047%5Cu8bbe%5Cu5728%5Cu4e24%5Cu5bb6%5Cu7531%5Cu9053%5Cu8def%5Cu8fde%5Cu63a5%5Cu7684%5Cu65c5%5Cu9986%5Cu4e4b%5Cu95f4%5Cu8d70%5Cu52a8%5Cu9700%5Cu8981%241%24%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cn%5Cn%5Cu4e3b%5Cu6301%5Cu4eba%5Cu77e5%5Cu9053%5Cu6bcf%5Cu4e2a%5Cu9152%5Cu5e97%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu8be2%5Cu95ee%5Cuff0c%5Cu5e2e%5Cu52a9%5Cu4e3b%5Cu6301%5Cu4eba%5Cu627e%5Cu5230%5Cu6700%5Cu77ed%5Cu8ddd%5Cu79bb%5Cu3002%5Cn%5Cn%23%20%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%23%23%20%5Cu8f93%5Cu5165%5Cn%5Cu8f93%5Cu5165%5Cu5171%24n%2Bm%2B1%24%5Cu884c%5Cu3002%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165%5Cu9152%5Cu5e97%5Cu7684%5Cu4e2a%5Cu6570%24n%282%3C%3Dn%3C%3D10%5E5%29%24%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765%24n-1%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cu2014%5Cu2014%5Cu4e24%5Cu4e2a%5Cu9152%5Cu5e97%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff08%5Cu4fdd%5Cu8bc1%5Cu5728%5Cu5b83%5Cu4eec%5Cu4e4b%5Cu95f4%5Cu6709%5Cu4e00%5Cu6761%5Cu8def%5Cuff09%5Cuff0c%5Cu9152%5Cu5e97%5Cu4ece%241%24%5Cu5230%24n%24%5Cu6807%5Cu4e86%5Cu53f7%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165%5Cu8be2%5Cu95ee%5Cu7684%5Cu6b21%5Cu6570%24m%281%3C%3Dn%3C%3D10%5E5%29%24%5Cuff0c%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684%24m%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu884c%5Cu4ee3%5Cu8868%5Cu7740%5Cu4e24%5Cu4e2a%5Cu4e3b%5Cu9152%5Cu5e97%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%23%23%20%5Cu8f93%5Cu51fa%5Cn%5Cu8f93%5Cu51fa%5Cu5171%24m%24%5Cu884c%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu884c%5Cu8f93%5Cu51fa%5Cu5bf9%5Cu5e94%5Cu7684%5Cu7ed3%5Cu679c%5Cuff0c%5Cu8868%5Cu793a%5Cu4ece%5Cu5176%5Cu4ed6%5Cu65c5%5Cu9986%5Cu8fdb%5Cu5230%5Cu4e3b%5Cu65c5%5Cu9986%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cn%5Cn%40%5Bchen_zhe%5D%28%5C%2Fspace%5C%2Fshow%3Fuid%3D8457%29%20%40%5Byjjr%5D%28%5C%2Fspace%5C%2Fshow%3Fuid%3D5088%29%20%40%5B%5Cu9f9f%5Cu9f9f%5Cu53f7%5Cu6253%5Cu635e%5Cu8239%5D%28%5C%2Fspace%5C%2Fshow%3Fuid%3D36482%29%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A72%2C%22totalAccepted%22%3A36%2C%22pid%22%3A%22CF418D%22%2C%22title%22%3A%22Big%20Problems%20for%20Organizers%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A65224%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%20CF418D%22%2C%22forum%22%3A%7B%22id%22%3A10968%2C%22name%22%3A%22CF418D%20Big%20Problems%20for%20Organizers%22%2C%22slug%22%3A%22CF418D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2384%22%2C%22title%22%3A%22%5Cu6700%5Cu77ed%5Cu8def%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF293B%22%2C%22title%22%3A%22Distinct%20Paths%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4307%22%2C%22title%22%3A%22%5BJSOI2009%5D%5Cu7403%5Cu961f%5Cu6536%5Cu76ca%20%5C%2F%20%5Cu7403%5Cu961f%5Cu9884%5Cu7b97%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4841%22%2C%22title%22%3A%22%5Cu57ce%5Cu5e02%5Cu89c4%5Cu5212%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5264%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu591a%5Cu9879%5Cu5f0f%5Cu4e09%5Cu89d2%5Cu51fd%5Cu6570%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Big%20Problems%20for%20Organizers%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Big Problems for Organizers</h1>
<h2>题意翻译</h2>
<div># 题目描述
“俄罗斯编程杯2214”的总决赛将在$n$个酒店，$2$个酒店（我们假设这两个酒店是主酒店）将主持各种活动，而其他$n-2$个酒店将容纳所有参赛者。这些酒店被$n-1$条路连接着，你可以从任意一个酒店去往任意另外一个酒店。
组织者们想知道，最少需要多少时间，能够让所有参赛者从他们的酒店去往主酒店（每个参与者都去离他最近的主酒店），假设在两家由道路连接的旅馆之间走动需要$1$个单位的时间。
主持人知道每个酒店的位置，对于每个询问，帮助主持人找到最短距离。
# 输入输出格式
## 输入
输入共$n+m+1$行。第一行输入酒店的个数$n(2<=n<=10^5)$。接下来$n-1$行，每一行输入两个整数——两个酒店的位置（保证在它们之间有一条路），酒店从$1$到$n$标了号。
接下来一行输入询问的次数$m(1<=n<=10^5)$，接下来的$m$行，每一行代表着两个主酒店的位置。
## 输出
输出共$m$行，每一行输出对应的结果，表示从其他旅馆进到主旅馆的时间。
@[chen_zhe](/space/show?uid=8457) @[yjjr](/space/show?uid=5088) @[龟龟号打捞船](/space/show?uid=36482)</div>
<h2>题目描述</h2>
<div>The Finals of the "Russian Code Cup" 2214 will be held in $ n $ hotels. Two hotels (let's assume that they are the main hotels), will host all sorts of events, and the remaining hotels will accommodate the participants. The hotels are connected by $ n-1 $ roads, you can get from any hotel to any other one.
The organizers wonder what is the minimum time all the participants need to get to the main hotels, if each participant goes to the main hotel that is nearest to him and moving between two hotels connected by a road takes one unit of time.
The hosts consider various options for the location of the main hotels. For each option help the organizers to find minimal time.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an integer $ n $ ( $ 2<=n<=100000 $ ) — the number of hotels. The next $ n-1 $ lines contain two integers each — the numbers of the hotels that have a road between them. Consider hotels are numbered from $ 1 $ to $ n $ .
The next line contains an integer $ m $ ( $ 1<=m<=100000 $ ) — the number of queries. The following $ m $ lines contains two distinct integers each — the numbers of the hotels we assume to be the main.</div>
<h3>输出格式</h3>
<br />
<div>For each request of the organizers print a single integer — the time that all participants need to reach the main hotels.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 3
3 1
3
2 1
2 3
3 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1
1
1
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
1 4
1 2
2 3
3
1 4
1 3
2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>2
1
2
</code></pre>
</article>
</div>
</div>
</body>
</html>
