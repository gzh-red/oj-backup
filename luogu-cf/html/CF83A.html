<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Magical Array - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390660:Z/a07Sw7stWkPFodL31NmSgTeDeej5nV4ox1hAg7XuI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Valery%20is%20very%20interested%20in%20magic.%20Magic%20attracts%20him%20so%20much%20that%20he%20sees%20it%20everywhere.%20He%20explains%20any%20strange%20and%20weird%20phenomenon%20through%20intervention%20of%20supernatural%20forces.%20But%20who%20would%20have%20thought%20that%20even%20in%20a%20regular%20array%20of%20numbers%20Valera%20manages%20to%20see%20something%20beautiful%20and%20magical.%5Cn%5CnValera%20absolutely%20accidentally%20got%20a%20piece%20of%20ancient%20parchment%20on%20which%20an%20array%20of%20numbers%20was%20written.%20He%20immediately%20thought%20that%20the%20numbers%20in%20this%20array%20were%20not%20random.%20As%20a%20result%20of%20extensive%20research%20Valera%20worked%20out%20a%20wonderful%20property%20that%20a%20magical%20array%20should%20have%3A%20an%20array%20is%20defined%20as%20magic%20if%20its%20minimum%20and%20maximum%20coincide.%5Cn%5CnHe%20decided%20to%20share%20this%20outstanding%20discovery%20with%20you%2C%20but%20he%20asks%20you%20for%20help%20in%20return.%20Despite%20the%20tremendous%20intelligence%20and%20wit%2C%20Valera%20counts%20very%20badly%20and%20so%20you%20will%20have%20to%20complete%20his%20work.%20All%20you%20have%20to%20do%20is%20count%20the%20number%20of%20magical%20subarrays%20of%20the%20original%20array%20of%20numbers%2C%20written%20on%20the%20parchment.%20Subarray%20is%20defined%20as%20non-empty%20sequence%20of%20consecutive%20elements.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20input%20data%20contains%20an%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D10%5E%7B5%7D%20%24%20%29.%20The%20second%20line%20contains%20an%20array%20of%20original%20integers%20%24%20a_%7B1%7D%2Ca_%7B2%7D%2C...%2Ca_%7Bn%7D%20%24%20%28%20%24%20-10%5E%7B9%7D%3C%3Da_%7Bi%7D%3C%3D10%5E%7B9%7D%20%24%20%29.%22%2C%22outputFormat%22%3A%22Print%20on%20the%20single%20line%20the%20answer%20to%20the%20problem%3A%20the%20amount%20of%20subarrays%2C%20which%20are%20magical.%5Cn%5CnPlease%20do%20not%20use%20the%20%25lld%20specificator%20to%20read%20or%20write%2064-bit%20numbers%20in%20C%2B%2B.%20It%20is%20recommended%20to%20use%20cin%2C%20cout%20streams%20%28you%20can%20also%20use%20the%20%25I64d%20specificator%29.%22%2C%22samples%22%3A%5B%5B%224%5Cn2%201%201%204%5Cn%22%2C%225%5Cn%22%5D%2C%5B%225%5Cn-2%20-2%20-2%200%201%5Cn%22%2C%228%5Cn%22%5D%5D%2C%22hint%22%3A%22Notes%20to%20sample%20tests%3A%5Cn%5CnMagical%20subarrays%20are%20shown%20with%20pairs%20of%20indices%20%5C%5C%5Ba%3Bb%5C%5C%5D%20of%20the%20beginning%20and%20the%20end.%5Cn%5CnIn%20the%20first%20sample%3A%20%5C%5C%5B1%3B1%5C%5C%5D%2C%20%5C%5C%5B2%3B2%5C%5C%5D%2C%20%5C%5C%5B3%3B3%5C%5C%5D%2C%20%5C%5C%5B4%3B4%5C%5C%5D%2C%20%5C%5C%5B2%3B3%5C%5C%5D.%5Cn%5CnIn%20the%20second%20sample%3A%20%5C%5C%5B1%3B1%5C%5C%5D%2C%20%5C%5C%5B2%3B2%5C%5C%5D%2C%20%5C%5C%5B3%3B3%5C%5C%5D%2C%20%5C%5C%5B4%3B4%5C%5C%5D%2C%20%5C%5C%5B5%3B5%5C%5C%5D%2C%20%5C%5C%5B1%3B2%5C%5C%5D%2C%20%5C%5C%5B2%3B3%5C%5C%5D%2C%20%5C%5C%5B1%3B3%5C%5C%5D.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F83%5C%2FA%22%2C%22id%22%3A%2283A%22%7D%2C%22translation%22%3A%22%5Cu5982%5Cu679c%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7ec4%5Cu7684%5Cu6700%5Cu5c0f%5Cu503c%5Cu548c%5Cu6700%5Cu5927%5Cu503c%5Cu76f8%5Cu540c%5Cuff0c%5Cu5219%5Cu79f0%5Cu8fd9%5Cu4e2a%5Cu6570%5Cu7ec4%5Cu662fMagical%5Cu7684%5Cu3002%5Cu5b9a%5Cu4e49%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7ec4%5Cu7684%5Cu5b50%5Cu6570%5Cu7ec4%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7ec4%5Cu4e2d%5Cu7684%5Cu8fde%5Cu7eed%5Cu7684%5Cu6570%5Cu7ec4%5Cu6210%5Cu7684%5Cu5e8f%5Cu5217%5Cu3002%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu6570%5Cu7ec4%5Cuff0c%5Cu6c42%5Cu8fd9%5Cu4e2a%5Cu6570%5Cu7ec4%5Cu4e2dMagical%5Cu7684%5Cu5b50%5Cu6570%5Cu7ec4%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A28%2C%22totalAccepted%22%3A11%2C%22pid%22%3A%22CF83A%22%2C%22title%22%3A%22Magical%20Array%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Magical%20Array%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Magical Array</h1>
<h2>题意翻译</h2>
<div>如果一个数组的最小值和最大值相同，则称这个数组是Magical的。定义一个数组的子数组为一个数组中的连续的数组成的序列。给你一个数组，求这个数组中Magical的子数组有多少个。</div>
<h2>题目描述</h2>
<div>Valery is very interested in magic. Magic attracts him so much that he sees it everywhere. He explains any strange and weird phenomenon through intervention of supernatural forces. But who would have thought that even in a regular array of numbers Valera manages to see something beautiful and magical.
Valera absolutely accidentally got a piece of ancient parchment on which an array of numbers was written. He immediately thought that the numbers in this array were not random. As a result of extensive research Valera worked out a wonderful property that a magical array should have: an array is defined as magic if its minimum and maximum coincide.
He decided to share this outstanding discovery with you, but he asks you for help in return. Despite the tremendous intelligence and wit, Valera counts very badly and so you will have to complete his work. All you have to do is count the number of magical subarrays of the original array of numbers, written on the parchment. Subarray is defined as non-empty sequence of consecutive elements.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the input data contains an integer $ n $ ( $ 1<=n<=10^{5} $ ). The second line contains an array of original integers $ a_{1},a_{2},...,a_{n} $ ( $ -10^{9}<=a_{i}<=10^{9} $ ).</div>
<h3>输出格式</h3>
<br />
<div>Print on the single line the answer to the problem: the amount of subarrays, which are magical.
Please do not use the %lld specificator to read or write 64-bit numbers in C++. It is recommended to use cin, cout streams (you can also use the %I64d specificator).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
2 1 1 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>5
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>5
-2 -2 -2 0 1
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>8
</code></pre>
<h2>说明</h2>
<div>Notes to sample tests:
Magical subarrays are shown with pairs of indices \[a;b\] of the beginning and the end.
In the first sample: \[1;1\], \[2;2\], \[3;3\], \[4;4\], \[2;3\].
In the second sample: \[1;1\], \[2;2\], \[3;3\], \[4;4\], \[5;5\], \[1;2\], \[2;3\], \[1;3\].</div>
</article>
</div>
</div>
</body>
</html>
