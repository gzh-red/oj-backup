<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Hidden Word - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573397121:CeI7UUESn0nQRtvk3ExXH0Fgon0lsF9SYY4VytSPEs0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Let%5Cu2019s%20define%20a%20grid%20to%20be%20a%20set%20of%20tiles%20with%20%24%202%20%24%20rows%20and%20%24%2013%20%24%20columns.%20Each%20tile%20has%20an%20English%20letter%20written%20in%20it.%20The%20letters%20don%27t%20have%20to%20be%20unique%3A%20there%20might%20be%20two%20or%20more%20tiles%20with%20the%20same%20letter%20written%20on%20them.%20Here%20is%20an%20example%20of%20a%20grid%3A%5Cn%5Cn%20%60ABCDEFGHIJKLM%3Cbr%3E%3C%5C%2Fbr%3ENOPQRSTUVWXYZ%60We%20say%20that%20two%20tiles%20are%20adjacent%20if%20they%20share%20a%20side%20or%20a%20corner.%20In%20the%20example%20grid%20above%2C%20the%20tile%20with%20the%20letter%20%27A%27%20is%20adjacent%20only%20to%20the%20tiles%20with%20letters%20%27B%27%2C%20%27N%27%2C%20and%20%27O%27.%20A%20tile%20is%20not%20adjacent%20to%20itself.%5Cn%5CnA%20sequence%20of%20tiles%20is%20called%20a%20path%20if%20each%20tile%20in%20the%20sequence%20is%20adjacent%20to%20the%20tile%20which%20follows%20it%20%28except%20for%20the%20last%20tile%20in%20the%20sequence%2C%20which%20of%20course%20has%20no%20successor%29.%20In%20this%20example%2C%20%5C%22ABC%5C%22%20is%20a%20path%2C%20and%20so%20is%20%5C%22KXWIHIJK%5C%22.%20%5C%22MAB%5C%22%20is%20not%20a%20path%20because%20%27M%27%20is%20not%20adjacent%20to%20%27A%27.%20A%20single%20tile%20can%20be%20used%20more%20than%20once%20by%20a%20path%20%28though%20the%20tile%20cannot%20occupy%20two%20consecutive%20places%20in%20the%20path%20because%20no%20tile%20is%20adjacent%20to%20itself%29.%5Cn%5CnYou%5Cu2019re%20given%20a%20string%20%24%20s%20%24%20which%20consists%20of%20%24%2027%20%24%20upper-case%20English%20letters.%20Each%20English%20letter%20occurs%20at%20least%20once%20in%20%24%20s%20%24%20.%20Find%20a%20grid%20that%20contains%20a%20path%20whose%20tiles%2C%20viewed%20in%20the%20order%20that%20the%20path%20visits%20them%2C%20form%20the%20string%20%24%20s%20%24%20.%20If%20there%5Cu2019s%20no%20solution%2C%20print%20%5C%22Impossible%5C%22%20%28without%20the%20quotes%29.%22%2C%22inputFormat%22%3A%22The%20only%20line%20of%20the%20input%20contains%20the%20string%20%24%20s%20%24%20%2C%20consisting%20of%20%24%2027%20%24%20upper-case%20English%20letters.%20Each%20English%20letter%20occurs%20at%20least%20once%20in%20%24%20s%20%24%20.%22%2C%22outputFormat%22%3A%22Output%20two%20lines%2C%20each%20consisting%20of%20%24%2013%20%24%20upper-case%20English%20characters%2C%20representing%20the%20rows%20of%20the%20grid.%20If%20there%20are%20multiple%20solutions%2C%20print%20any%20of%20them.%20If%20there%20is%20no%20solution%20print%20%5C%22Impossible%5C%22.%22%2C%22samples%22%3A%5B%5B%22ABCDEFGHIJKLMNOPQRSGTUVWXYZ%5Cn%22%2C%22YXWVUTGHIJKLM%5CnZABCDEFSRQPON%5Cn%22%5D%2C%5B%22BUVTYZFQSNRIWOXXGJLKACPEMDH%5Cn%22%2C%22Impossible%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F725%5C%2FC%22%2C%22id%22%3A%22725C%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF725C%22%2C%22title%22%3A%22Hidden%20Word%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Hidden%20Word%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Hidden Word</h1>
<h2>题目描述</h2>
<div>Let’s define a grid to be a set of tiles with $ 2 $ rows and $ 13 $ columns. Each tile has an English letter written in it. The letters don't have to be unique: there might be two or more tiles with the same letter written on them. Here is an example of a grid:
`ABCDEFGHIJKLM<br></br>NOPQRSTUVWXYZ`We say that two tiles are adjacent if they share a side or a corner. In the example grid above, the tile with the letter 'A' is adjacent only to the tiles with letters 'B', 'N', and 'O'. A tile is not adjacent to itself.
A sequence of tiles is called a path if each tile in the sequence is adjacent to the tile which follows it (except for the last tile in the sequence, which of course has no successor). In this example, "ABC" is a path, and so is "KXWIHIJK". "MAB" is not a path because 'M' is not adjacent to 'A'. A single tile can be used more than once by a path (though the tile cannot occupy two consecutive places in the path because no tile is adjacent to itself).
You’re given a string $ s $ which consists of $ 27 $ upper-case English letters. Each English letter occurs at least once in $ s $ . Find a grid that contains a path whose tiles, viewed in the order that the path visits them, form the string $ s $ . If there’s no solution, print "Impossible" (without the quotes).</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The only line of the input contains the string $ s $ , consisting of $ 27 $ upper-case English letters. Each English letter occurs at least once in $ s $ .</div>
<h3>输出格式</h3>
<br />
<div>Output two lines, each consisting of $ 13 $ upper-case English characters, representing the rows of the grid. If there are multiple solutions, print any of them. If there is no solution print "Impossible".</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>ABCDEFGHIJKLMNOPQRSGTUVWXYZ
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>YXWVUTGHIJKLM
ZABCDEFSRQPON
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>BUVTYZFQSNRIWOXXGJLKACPEMDH
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>Impossible
</code></pre>
</article>
</div>
</div>
</body>
</html>
