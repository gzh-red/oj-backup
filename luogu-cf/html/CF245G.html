<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Suggested Friends - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392039:uf2yl9Xpj5hLbgudNpyYOxV9wXUWm6hEayhx3Jo5hRg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Polycarpus%20works%20as%20a%20programmer%20in%20a%20start-up%20social%20network.%20His%20boss%20gave%20his%20a%20task%20to%20develop%20a%20mechanism%20for%20determining%20suggested%20friends.%20Polycarpus%20thought%20much%20about%20the%20task%20and%20came%20to%20the%20folowing%20conclusion.%5Cn%5CnLet%27s%20say%20that%20all%20friendship%20relationships%20in%20a%20social%20network%20are%20given%20as%20%24%20m%20%24%20username%20pairs%20%24%20a_%7Bi%7D%2Cb_%7Bi%7D%20%24%20%24%20%28a_%7Bi%7D%5Cu2260b_%7Bi%7D%29%20%24%20.%20Each%20pair%20%24%20a_%7Bi%7D%2Cb_%7Bi%7D%20%24%20means%20that%20users%20%24%20a_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20are%20friends.%20Friendship%20is%20symmetric%2C%20that%20is%2C%20if%20%24%20a_%7Bi%7D%20%24%20is%20friends%20with%20%24%20b_%7Bi%7D%20%24%20%2C%20then%20%24%20b_%7Bi%7D%20%24%20is%20also%20friends%20with%20%24%20a_%7Bi%7D%20%24%20.%20User%20%24%20y%20%24%20is%20a%20suggested%20friend%20for%20user%20%24%20x%20%24%20%2C%20if%20the%20following%20conditions%20are%20met%3A%5Cn%5Cn1.%20%24%20x%5Cu2260y%20%24%20%3B%5Cn2.%20%24%20x%20%24%20and%20%24%20y%20%24%20aren%27t%20friends%3B%5Cn3.%20among%20all%20network%20users%20who%20meet%20the%20first%20two%20conditions%2C%20user%20%24%20y%20%24%20has%20most%20of%20all%20common%20friends%20with%20user%20%24%20x%20%24%20.%20User%20%24%20z%20%24%20is%20a%20common%20friend%20of%20user%20%24%20x%20%24%20and%20user%20%24%20y%20%24%20%24%20%28z%5Cu2260x%2Cz%5Cu2260y%29%20%24%20%2C%20if%20%24%20x%20%24%20and%20%24%20z%20%24%20are%20friends%2C%20and%20%24%20y%20%24%20and%20%24%20z%20%24%20are%20also%20friends.%5Cn%5CnYour%20task%20is%20to%20help%20Polycarpus%20to%20implement%20a%20mechanism%20for%20determining%20suggested%20friends.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20m%20%24%20%24%20%281%3C%3Dm%3C%3D5000%29%20%24%20%5Cu2014%20the%20number%20of%20pairs%20of%20friends%20in%20the%20social%20network.%20Next%20%24%20m%20%24%20lines%20contain%20pairs%20of%20names%20of%20the%20users%20who%20are%20friends%20with%20each%20other.%20The%20%24%20i%20%24%20-th%20line%20contains%20two%20space-separated%20names%20%24%20a_%7Bi%7D%20%24%20and%20%24%20b_%7Bi%7D%20%24%20%24%20%28a_%7Bi%7D%5Cu2260b_%7Bi%7D%29%20%24%20.%20The%20users%27%20names%20are%20non-empty%20and%20consist%20of%20at%20most%2020%20uppercase%20and%20lowercase%20English%20letters.%5Cn%5CnIt%20is%20guaranteed%20that%20each%20pair%20of%20friends%20occurs%20only%20once%20in%20the%20input.%20For%20example%2C%20the%20input%20can%27t%20contain%20%24%20x%20%24%20%2C%20%24%20y%20%24%20and%20%24%20y%20%24%20%2C%20%24%20x%20%24%20at%20the%20same%20time.%20It%20is%20guaranteed%20that%20distinct%20users%20have%20distinct%20names.%20It%20is%20guaranteed%20that%20each%20social%20network%20user%20has%20at%20least%20one%20friend.%20The%20last%20thing%20guarantees%20that%20each%20username%20occurs%20at%20least%20once%20in%20the%20input.%22%2C%22outputFormat%22%3A%22In%20the%20first%20line%20print%20a%20single%20integer%20%24%20n%20%24%20%5Cu2014%20the%20number%20of%20network%20users.%20In%20next%20%24%20n%20%24%20lines%20print%20the%20number%20of%20suggested%20friends%20for%20each%20user.%20In%20the%20%24%20i%20%24%20-th%20line%20print%20the%20name%20of%20the%20user%20%24%20c_%7Bi%7D%20%24%20and%20the%20number%20of%20his%20suggested%20friends%20%24%20d_%7Bi%7D%20%24%20after%20a%20space.%5Cn%5CnYou%20can%20print%20information%20about%20the%20users%20in%20any%20order.%22%2C%22samples%22%3A%5B%5B%225%5CnMike%20Gerald%5CnKate%20Mike%5CnKate%20Tank%5CnGerald%20Tank%5CnGerald%20David%5Cn%22%2C%225%5CnMike%201%5CnGerald%201%5CnKate%201%5CnTank%201%5CnDavid%202%5Cn%22%5D%2C%5B%224%5Cnvalera%20vanya%5Cnvalera%20edik%5Cnpasha%20valera%5Cnigor%20valera%5Cn%22%2C%225%5Cnvalera%200%5Cnvanya%203%5Cnedik%203%5Cnpasha%203%5Cnigor%203%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20test%20case%20consider%20user%20David.%20Users%20Mike%20and%20Tank%20have%20one%20common%20friend%20%28Gerald%29%20with%20David.%20User%20Kate%20has%20no%20common%20friends%20with%20David.%20That%27s%20why%20David%27s%20suggested%20friends%20are%20users%20Mike%20and%20Tank.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F245%5C%2FG%22%2C%22id%22%3A%22245G%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF245G%22%2C%22title%22%3A%22Suggested%20Friends%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Suggested%20Friends%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Suggested Friends</h1>
<h2>题目描述</h2>
<div>Polycarpus works as a programmer in a start-up social network. His boss gave his a task to develop a mechanism for determining suggested friends. Polycarpus thought much about the task and came to the folowing conclusion.
Let's say that all friendship relationships in a social network are given as $ m $ username pairs $ a_{i},b_{i} $ $ (a_{i}≠b_{i}) $ . Each pair $ a_{i},b_{i} $ means that users $ a_{i} $ and $ b_{i} $ are friends. Friendship is symmetric, that is, if $ a_{i} $ is friends with $ b_{i} $ , then $ b_{i} $ is also friends with $ a_{i} $ . User $ y $ is a suggested friend for user $ x $ , if the following conditions are met:
1. $ x≠y $ ;
2. $ x $ and $ y $ aren't friends;
3. among all network users who meet the first two conditions, user $ y $ has most of all common friends with user $ x $ . User $ z $ is a common friend of user $ x $ and user $ y $ $ (z≠x,z≠y) $ , if $ x $ and $ z $ are friends, and $ y $ and $ z $ are also friends.
Your task is to help Polycarpus to implement a mechanism for determining suggested friends.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ m $ $ (1<=m<=5000) $ — the number of pairs of friends in the social network. Next $ m $ lines contain pairs of names of the users who are friends with each other. The $ i $ -th line contains two space-separated names $ a_{i} $ and $ b_{i} $ $ (a_{i}≠b_{i}) $ . The users' names are non-empty and consist of at most 20 uppercase and lowercase English letters.
It is guaranteed that each pair of friends occurs only once in the input. For example, the input can't contain $ x $ , $ y $ and $ y $ , $ x $ at the same time. It is guaranteed that distinct users have distinct names. It is guaranteed that each social network user has at least one friend. The last thing guarantees that each username occurs at least once in the input.</div>
<h3>输出格式</h3>
<br />
<div>In the first line print a single integer $ n $ — the number of network users. In next $ n $ lines print the number of suggested friends for each user. In the $ i $ -th line print the name of the user $ c_{i} $ and the number of his suggested friends $ d_{i} $ after a space.
You can print information about the users in any order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
Mike Gerald
Kate Mike
Kate Tank
Gerald Tank
Gerald David
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>5
Mike 1
Gerald 1
Kate 1
Tank 1
David 2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
valera vanya
valera edik
pasha valera
igor valera
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>5
valera 0
vanya 3
edik 3
pasha 3
igor 3
</code></pre>
<h2>说明</h2>
<div>In the first test case consider user David. Users Mike and Tank have one common friend (Gerald) with David. User Kate has no common friends with David. That's why David's suggested friends are users Mike and Tank.</div>
</article>
</div>
</div>
</body>
</html>
