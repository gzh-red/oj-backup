<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Ehab and another another xor problem - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401428:7Gtt62WdH1tQiuQynwK41JWpG/lPQg54ftCxrAQAMI4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22This%20is%20an%20interactive%20problem%21%5Cn%5CnEhab%20plays%20a%20game%20with%20Laggy.%20Ehab%20has%202%20hidden%20integers%20%24%20%28a%2Cb%29%20%24%20.%20Laggy%20can%20ask%20a%20pair%20of%20integers%20%24%20%28c%2Cd%29%20%24%20and%20Ehab%20will%20reply%20with%3A%5Cn%5Cn-%201%20if%20%24%20a%20%5C%5Coplus%20c%3Eb%20%5C%5Coplus%20d%20%24%20.%5Cn-%200%20if%20%24%20a%20%5C%5Coplus%20c%3Db%20%5C%5Coplus%20d%20%24%20.%5Cn-%20-1%20if%20%24%20a%20%5C%5Coplus%20c%3Cb%20%5C%5Coplus%20d%20%24%20.%5Cn%5CnOperation%20%24%20a%20%5C%5Coplus%20b%20%24%20is%20the%20%5Bbitwise-xor%20operation%5D%28https%3A%5C%2F%5C%2Fen.wikipedia.org%5C%2Fwiki%5C%2FBitwise_operation%23XOR%29%20of%20two%20numbers%20%24%20a%20%24%20and%20%24%20b%20%24%20.%5Cn%5CnLaggy%20should%20guess%20%24%20%28a%2Cb%29%20%24%20with%20at%20most%2062%20questions.%20You%27ll%20play%20this%20game.%20You%27re%20Laggy%20and%20the%20interactor%20is%20Ehab.%5Cn%5CnIt%27s%20guaranteed%20that%20%24%200%20%5C%5Cle%20a%2Cb%3C2%5E%7B30%7D%20%24%20.%22%2C%22inputFormat%22%3A%22See%20the%20interaction%20section.%22%2C%22outputFormat%22%3A%22To%20print%20the%20answer%2C%20print%20%5C%22%21%20a%20b%5C%22%20%28without%20quotes%29.%20Don%27t%20forget%20to%20flush%20the%20output%20after%20printing%20the%20answer.%5Cn%5CnInteraction%5Cn%5CnTo%20ask%20a%20question%2C%20print%20%5C%22%3F%20c%20d%5C%22%20%28without%20quotes%29.%20Both%20%24%20c%20%24%20and%20%24%20d%20%24%20must%20be%20non-negative%20integers%20less%20than%20%24%202%5E%7B30%7D%20%24%20.%20Don%27t%20forget%20to%20flush%20the%20output%20after%20printing%20any%20question.%5Cn%5CnAfter%20each%20question%2C%20you%20should%20read%20the%20answer%20as%20mentioned%20in%20the%20legend.%20If%20the%20interactor%20replies%20with%20-2%2C%20that%20means%20you%20asked%20more%20than%2062%20queries%20and%20your%20program%20should%20terminate.%5Cn%5CnTo%20flush%20the%20output%2C%20you%20can%20use%3A-%5Cn%5Cn-%20fflush%28stdout%29%20in%20C%2B%2B.%5Cn-%20System.out.flush%28%29%20in%20Java.%5Cn-%20stdout.flush%28%29%20in%20Python.%5Cn-%20flush%28output%29%20in%20Pascal.%5Cn-%20See%20the%20documentation%20for%20other%20languages.%5Cn%5CnHacking%3A%5Cn%5CnTo%20hack%20someone%2C%20print%20the%202%20space-separated%20integers%20%24%20a%20%24%20and%20%24%20b%20%24%20%24%20%280%20%5C%5Cle%20a%2Cb%3C2%5E%7B30%7D%29%20%24%20.%22%2C%22samples%22%3A%5B%5B%221%5Cn-1%5Cn0%22%2C%22%3F%202%201%5Cn%3F%201%202%5Cn%3F%202%200%5Cn%21%203%201%22%5D%5D%2C%22hint%22%3A%22In%20the%20sample%3A%5Cn%5CnThe%20hidden%20numbers%20are%20%24%20a%3D3%20%24%20and%20%24%20b%3D1%20%24%20.%5Cn%5CnIn%20the%20first%20query%3A%20%24%203%20%5C%5Coplus%202%20%3D%201%20%24%20and%20%24%201%20%5C%5Coplus%201%20%3D%200%20%24%20%2C%20so%20the%20answer%20is%201.%5Cn%5CnIn%20the%20second%20query%3A%20%24%203%20%5C%5Coplus%201%20%3D%202%20%24%20and%20%24%201%20%5C%5Coplus%202%20%3D%203%20%24%20%2C%20so%20the%20answer%20is%20-1.%5Cn%5CnIn%20the%20third%20query%3A%20%24%203%20%5C%5Coplus%202%20%3D%201%20%24%20and%20%24%201%20%5C%5Coplus%200%20%3D%201%20%24%20%2C%20so%20the%20answer%20is%200.%5Cn%5CnThen%2C%20we%20printed%20the%20answer.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1088%5C%2FD%22%2C%22id%22%3A%221088D%22%7D%2C%22translation%22%3A%22%5Cu4ea4%5Cu4e92%5Cu9898%5Cuff0c%5Cu7cfb%5Cu7edf%5Cu6709%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%24%28a%2Cb%29%24%5Cuff0c%5Cu4f60%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu8be2%5Cu95ee%5Cu4e00%5Cu7ec4%5Cu6574%5Cu6570%24%28c%2Cd%29%24%5Cuff0c%5Cu7cfb%5Cu7edf%5Cu4f1a%5Cu56de%5Cu7b54%5Cuff1a%5Cn-%201%20%5Cu5982%5Cu679c%24a%5C%5Coplus%20c%3Eb%5C%5Coplus%20d%24%5Cn-%200%20%5Cu5982%5Cu679c%24a%5C%5Coplus%20c%3Db%5C%5Coplus%20d%24%5Cn-%20-1%20%5Cu5982%5Cu679c%24a%5C%5Coplus%20c%3Cb%5C%5Coplus%20d%24%5Cn%5Cn%5Cu5176%5Cu4e2d%5Cu64cd%5Cu4f5c%24a%5C%5Coplus%20b%24%5Cu8868%5Cu793a%24a%24%5Cu548c%24b%24%5B%5Cu6309%5Cu4f4d%5Cu5f02%5Cu6216%5D%28https%3A%5C%2F%5C%2Fen.wikipedia.org%5C%2Fwiki%5C%2FBitwise_operation%23XOR%29%5Cn%5Cn%5Cu4f60%5Cu9700%5Cu8981%5Cu5728%5Cu8be2%5Cu95ee%5Cu4e0d%5Cu8d85%5Cu8fc762%5Cu6b21%5Cu4e4b%5Cu540e%5Cu8f93%5Cu51fa%24%28a%2Cb%29%24%5Cu7684%5Cu503c%5Cuff0c%5Cu4fdd%5Cu8bc1%240%5C%5Cle%20a%2C%20b%5C%5Cle2%5E%7B30%7D%24%5Cn%5Cn%23%23%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8bf7%5Cu89c1%5Cu201c%5Cu4ea4%5Cu4e92%5Cu201d%5Cn%5Cn%23%23%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu51fa%60%21%20a%20b%60%5Cu4ee5%5Cu8f93%5Cu51fa%5Cu7b54%5Cu6848%5Cuff0c%5Cu4e0d%5Cu8981%5Cu5fd8%5Cu4e86%5Cu5728%5Cu8f93%5Cu51fa%5Cu7b54%5Cu6848%5Cu540e%5Cu6e05%5Cu9664%5Cu7f13%5Cu51b2%5Cu533a%5Cn%5Cn%23%23%23%20%5Cu4ea4%5Cu4e92%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu51fa%60%3F%20c%20d%60%5Cu4ee5%5Cu8be2%5Cu95ee%5Cuff0c%24c%24%5Cu548c%24d%24%5Cu90fd%5Cu5e94%5Cu8be5%5Cu662f%5Cu5c0f%5Cu4e8e%242%5E%7B30%7D%24%5Cu7684%5Cu975e%5Cu8d1f%5Cu6574%5Cu6570%5Cuff0c%5Cu4e0d%5Cu8981%5Cu5fd8%5Cu4e86%5Cu5728%5Cu8f93%5Cu51fa%5Cu6bcf%5Cu4e00%5Cu6b21%5Cu8be2%5Cu95ee%5Cu540e%5Cu6e05%5Cu9664%5Cu7f13%5Cu51b2%5Cu533a%5Cn%5Cn%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu7528%5Cu4e0b%5Cu5217%5Cu64cd%5Cu4f5c%5Cu6765%5Cu6e05%5Cu9664%5Cu7f13%5Cu51b2%5Cu533a%5Cuff1a%5Cn%5Cn-%20C%2B%2B%5Cuff1a%60fflush%28stdout%29%60%5Cn-%20Java%5Cuff1a%60System.out.flush%28%29%60%5Cn-%20Python%5Cuff1a%60stdout.flush%28%29%60%5Cn-%20Pascal%5Cuff1a%60fflush%28stdout%29%60%5Cn-%20%5Cu5bf9%5Cu4e8e%5Cu5176%5Cu5b83%5Cu8bed%5Cu8a00%5Cu8bf7%5Cu53c2%5Cu8003%5Cu6587%5Cu6863%5Cn%5Cn~~Hacking%3A~~%5Cn%5Cn~~%5Cu8f93%5Cu51fa%5Cu4e24%5Cu4e2a%5Cu7528%5Cu7a7a%5Cu683c%5Cu9694%5Cu5f00%5Cu7684%5Cu6574%5Cu6570%24a%24%5Cu548c%24b%24%5Cu6765hack%5Cu522b%5Cu4eba%24%280%5C%5Cle%20a%2Cb%3C2%5E%7B30%7D%29%24~~%22%2C%22tags%22%3A%5B103%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A46%2C%22totalAccepted%22%3A24%2C%22pid%22%3A%22CF1088D%22%2C%22title%22%3A%22Ehab%20and%20another%20another%20xor%20problem%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Ehab%20and%20another%20another%20xor%20problem%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Ehab and another another xor problem</h1>
<h2>题意翻译</h2>
<div>交互题，系统有两个整数$(a,b)$，你每次可以询问一组整数$(c,d)$，系统会回答：
- 1 如果$a\oplus c>b\oplus d$
- 0 如果$a\oplus c=b\oplus d$
- -1 如果$a\oplus c<b\oplus d$ 其中操作$a\oplus b$表示$a$和$b$[按位异或](https://en.wikipedia.org/wiki/Bitwise_operation#XOR) 你需要在询问不超过62次之后输出$(a,b)$的值，保证$0\le a, b\le2^{30}$ ### 输入格式： 请见“交互” ### 输出格式： 输出`! a b`以输出答案，不要忘了在输出答案后清除缓冲区 ### 交互： 输出`? c d`以询问，$c$和$d$都应该是小于$2^{30}$的非负整数，不要忘了在输出每一次询问后清除缓冲区 你可以用下列操作来清除缓冲区： - C++：`fflush(stdout)` - Java：`System.out.flush()` - Python：`stdout.flush()` - Pascal：`fflush(stdout)` - 对于其它语言请参考文档 ~~Hacking:~~ ~~输出两个用空格隔开的整数$a$和$b$来hack别人$(0\le a,b<2^{30})$~~</div>
<h2>题目描述</h2>
<div>This is an interactive problem!
Ehab plays a game with Laggy. Ehab has 2 hidden integers $ (a,b) $ . Laggy can ask a pair of integers $ (c,d) $ and Ehab will reply with:
- 1 if $ a \oplus c>b \oplus d $ .
- 0 if $ a \oplus c=b \oplus d $ .
- -1 if $ a \oplus c<b \oplus d $ . Operation $ a \oplus b $ is the [bitwise-xor operation](https://en.wikipedia.org/wiki/Bitwise_operation#XOR) of two numbers $ a $ and $ b $ . Laggy should guess $ (a,b) $ with at most 62 questions. You'll play this game. You're Laggy and the interactor is Ehab. It's guaranteed that $ 0 \le a,b<2^{30} $ .</div>

    <h2>输入输出格式</h2>
    <h3>输入格式</h3>
    <br />
    <div>See the interaction section.</div>
    <h3>输出格式</h3>
    <br />
    <div>To print the answer, print "! a b" (without quotes). Don't forget to flush the output after printing the answer. Interaction To ask a question, print "? c d" (without quotes). Both $ c $ and $ d $ must be non-negative integers less than $ 2^{30} $ . Don't forget to flush the output after printing any question.

After each question, you should read the answer as mentioned in the legend. If the interactor replies with -2, that means you asked more than 62 queries and your program should terminate.

To flush the output, you can use:-

- fflush(stdout) in C++.
- System.out.flush() in Java.
- stdout.flush() in Python.
- flush(output) in Pascal.
- See the documentation for other languages.

Hacking:

To hack someone, print the 2 space-separated integers $ a $ and $ b $ $ (0 \le a,b<2^{30}) $ .</div>

    <h2>输入输出样例</h2>
                        <h3>输入样例 #1</h3>
            <pre><code>1
-1
0</code></pre>
            <h3>输出样例 #1</h3>
            <pre><code>? 2 1
? 1 2
? 2 0
! 3 1</code></pre>
            
            <h2>说明</h2>
        <div>In the sample:

The hidden numbers are $ a=3 $ and $ b=1 $ .

In the first query: $ 3 \oplus 2 = 1 $ and $ 1 \oplus 1 = 0 $ , so the answer is 1.

In the second query: $ 3 \oplus 1 = 2 $ and $ 1 \oplus 2 = 3 $ , so the answer is -1.

In the third query: $ 3 \oplus 2 = 1 $ and $ 1 \oplus 0 = 1 $ , so the answer is 0.

Then, we printed the answer.</div>
    </article>
    </div>
</div>
<!-- <script src="//www.recaptcha.net/recaptcha/api.js?hl=zh-CN&render=explicit&onload=renderCaptcha" async defer></script> -->
</body>
</html>
