<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Connected Components - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392392:u+QXlIYlqDfkX9w2Tihosr7ds8izvQQlMO+2UEEkxqw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22We%20already%20know%20of%20the%20large%20corporation%20where%20Polycarpus%20works%20as%20a%20system%20administrator.%20The%20computer%20network%20there%20consists%20of%20%24%20n%20%24%20computers%20and%20%24%20m%20%24%20cables%20that%20connect%20some%20pairs%20of%20computers.%20In%20other%20words%2C%20the%20computer%20network%20can%20be%20represented%20as%20some%20non-directed%20graph%20with%20%24%20n%20%24%20nodes%20and%20%24%20m%20%24%20edges.%20Let%27s%20index%20the%20computers%20with%20integers%20from%201%20to%20%24%20n%20%24%20%2C%20let%27s%20index%20the%20cables%20with%20integers%20from%201%20to%20%24%20m%20%24%20.%5Cn%5CnPolycarpus%20was%20given%20an%20important%20task%20%5Cu2014%20check%20the%20reliability%20of%20his%20company%27s%20network.%20For%20that%20Polycarpus%20decided%20to%20carry%20out%20a%20series%20of%20%24%20k%20%24%20experiments%20on%20the%20computer%20network%2C%20where%20the%20%24%20i%20%24%20-th%20experiment%20goes%20as%20follows%3A%5Cn%5Cn1.%20Temporarily%20disconnect%20the%20cables%20with%20indexes%20from%20%24%20l_%7Bi%7D%20%24%20to%20%24%20r_%7Bi%7D%20%24%20%2C%20inclusive%20%28the%20other%20cables%20remain%20connected%29.%5Cn2.%20Count%20the%20number%20of%20connected%20components%20in%20the%20graph%20that%20is%20defining%20the%20computer%20network%20at%20that%20moment.%5Cn3.%20Re-connect%20the%20disconnected%20cables%20with%20indexes%20from%20%24%20l_%7Bi%7D%20%24%20to%20%24%20r_%7Bi%7D%20%24%20%28that%20is%2C%20restore%20the%20initial%20network%29.%5Cn%5CnHelp%20Polycarpus%20carry%20out%20all%20experiments%20and%20for%20each%20print%20the%20number%20of%20connected%20components%20in%20the%20graph%20that%20defines%20the%20computer%20network%20through%20the%20given%20experiment.%20Isolated%20vertex%20should%20be%20counted%20as%20single%20component.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20space-separated%20integers%20%24%20n%20%24%20%2C%20%24%20m%20%24%20%24%20%282%3C%3Dn%3C%3D500%3B%5Cu00a01%3C%3Dm%3C%3D10%5E%7B4%7D%29%20%24%20%5Cu2014%20the%20number%20of%20computers%20and%20the%20number%20of%20cables%2C%20correspondingly.%5Cn%5CnThe%20following%20%24%20m%20%24%20lines%20contain%20the%20cables%27%20description.%20The%20%24%20i%20%24%20-th%20line%20contains%20space-separated%20pair%20of%20integers%20%24%20x_%7Bi%7D%20%24%20%2C%20%24%20y_%7Bi%7D%20%24%20%24%20%281%3C%3Dx_%7Bi%7D%2Cy_%7Bi%7D%3C%3Dn%3B%5Cu00a0x_%7Bi%7D%5Cu2260y_%7Bi%7D%29%20%24%20%5Cu2014%20the%20numbers%20of%20the%20computers%20that%20are%20connected%20by%20the%20%24%20i%20%24%20-th%20cable.%20Note%20that%20a%20pair%20of%20computers%20can%20be%20connected%20by%20multiple%20cables.%5Cn%5CnThe%20next%20line%20contains%20integer%20%24%20k%20%24%20%24%20%281%3C%3Dk%3C%3D2%5Cu00b710%5E%7B4%7D%29%20%24%20%5Cu2014%20the%20number%20of%20experiments.%20Next%20%24%20k%20%24%20lines%20contain%20the%20experiments%27%20descriptions.%20The%20%24%20i%20%24%20-th%20line%20contains%20space-separated%20integers%20%24%20l_%7Bi%7D%20%24%20%2C%20%24%20r_%7Bi%7D%20%24%20%24%20%281%3C%3Dl_%7Bi%7D%3C%3Dr_%7Bi%7D%3C%3Dm%29%20%24%20%5Cu2014%20the%20numbers%20of%20the%20cables%20that%20Polycarpus%20disconnects%20during%20the%20%24%20i%20%24%20-th%20experiment.%22%2C%22outputFormat%22%3A%22Print%20%24%20k%20%24%20numbers%2C%20the%20%24%20i%20%24%20-th%20number%20represents%20the%20number%20of%20connected%20components%20of%20the%20graph%20that%20defines%20the%20computer%20network%20during%20the%20%24%20i%20%24%20-th%20experiment.%22%2C%22samples%22%3A%5B%5B%226%205%5Cn1%202%5Cn5%204%5Cn2%203%5Cn3%201%5Cn3%206%5Cn6%5Cn1%203%5Cn2%205%5Cn1%205%5Cn5%205%5Cn2%204%5Cn3%203%5Cn%22%2C%224%5Cn5%5Cn6%5Cn3%5Cn4%5Cn2%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F292%5C%2FD%22%2C%22id%22%3A%22292D%22%7D%2C%22translation%22%3A%22%5Cu4e00%5Cu4e2a%5Cu65e0%5Cu5411%5Cu56fe%5Cuff0c%5Cu7ed9%5Cu51fam%5Cu6761%5Cu8fb9%5Cuff0c%5Cu6709k%5Cu6b21%5Cu8be2%5Cu95ee%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu8be2%5Cu95ee%5Cu5c06%5Cu7b2cli%5Cu5230ri%5Cu6761%5Cu8fb9%5Cu6682%5Cu65f6%5Cu5220%5Cu53bb%5Cuff0c%5Cu6c42%5Cu8fd9%5Cu65f6%5Cu5019%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu8fde%5Cu901a%5Cu5206%5Cu91cf.%20N%3C%3D500%5Cuff0c1%3C%3DM%2CK%3C%3D10000%22%2C%22tags%22%3A%5B47%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A287%2C%22totalAccepted%22%3A100%2C%22pid%22%3A%22CF292D%22%2C%22title%22%3A%22Connected%20Components%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A91386%2C%22title%22%3A%22TLE16%5Cu2026%5Cu2026%22%2C%22forum%22%3A%7B%22id%22%3A11438%2C%22name%22%3A%22CF292D%20Connected%20Components%22%2C%22slug%22%3A%22CF292D%22%7D%7D%2C%7B%22id%22%3A72966%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1QVQ%22%2C%22forum%22%3A%7B%22id%22%3A11438%2C%22name%22%3A%22CF292D%20Connected%20Components%22%2C%22slug%22%3A%22CF292D%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1196%22%2C%22title%22%3A%22%5BNOI2002%5D%5Cu94f6%5Cu6cb3%5Cu82f1%5Cu96c4%5Cu4f20%5Cu8bf4%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1552%22%2C%22title%22%3A%22%5BAPIO2012%5D%5Cu6d3e%5Cu9063%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3377%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu5de6%5Cu504f%5Cu6811%5Cuff08%5Cu53ef%5Cu5e76%5Cu5806%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3273%22%2C%22title%22%3A%22%5BSCOI2011%5D%5Cu68d8%5Cu624b%5Cu7684%5Cu64cd%5Cu4f5c%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22AT3596%22%2C%22title%22%3A%22Bridge%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22AT%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Connected%20Components%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Connected Components</h1>
<h2>题意翻译</h2>
<div>一个无向图，给出m条边，有k次询问，每次询问将第li到ri条边暂时删去，求这时候有多少个连通分量. N<=500，1<=M,K<=10000</div>
<h2>题目描述</h2>
<div>We already know of the large corporation where Polycarpus works as a system administrator. The computer network there consists of $ n $ computers and $ m $ cables that connect some pairs of computers. In other words, the computer network can be represented as some non-directed graph with $ n $ nodes and $ m $ edges. Let's index the computers with integers from 1 to $ n $ , let's index the cables with integers from 1 to $ m $ .
Polycarpus was given an important task — check the reliability of his company's network. For that Polycarpus decided to carry out a series of $ k $ experiments on the computer network, where the $ i $ -th experiment goes as follows:
1. Temporarily disconnect the cables with indexes from $ l_{i} $ to $ r_{i} $ , inclusive (the other cables remain connected).
2. Count the number of connected components in the graph that is defining the computer network at that moment.
3. Re-connect the disconnected cables with indexes from $ l_{i} $ to $ r_{i} $ (that is, restore the initial network).
Help Polycarpus carry out all experiments and for each print the number of connected components in the graph that defines the computer network through the given experiment. Isolated vertex should be counted as single component.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two space-separated integers $ n $ , $ m $ $ (2<=n<=500; 1<=m<=10^{4}) $ — the number of computers and the number of cables, correspondingly.
The following $ m $ lines contain the cables' description. The $ i $ -th line contains space-separated pair of integers $ x_{i} $ , $ y_{i} $ $ (1<=x_{i},y_{i}<=n; x_{i}≠y_{i}) $ — the numbers of the computers that are connected by the $ i $ -th cable. Note that a pair of computers can be connected by multiple cables.
The next line contains integer $ k $ $ (1<=k<=2·10^{4}) $ — the number of experiments. Next $ k $ lines contain the experiments' descriptions. The $ i $ -th line contains space-separated integers $ l_{i} $ , $ r_{i} $ $ (1<=l_{i}<=r_{i}<=m) $ — the numbers of the cables that Polycarpus disconnects during the $ i $ -th experiment.</div>
<h3>输出格式</h3>
<br />
<div>Print $ k $ numbers, the $ i $ -th number represents the number of connected components of the graph that defines the computer network during the $ i $ -th experiment.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6 5
1 2
5 4
2 3
3 1
3 6
6
1 3
2 5
1 5
5 5
2 4
3 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4
5
6
3
4
2
</code></pre>
</article>
</div>
</div>
</body>
</html>
