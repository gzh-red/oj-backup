<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Convex Countour - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573398460:cvVWISjNgVv+NVN3OUpCfqna4ozLm05WxYpoC567qzg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20an%20strictly%20convex%20polygon%20with%20%24%20n%20%24%20vertices.%20It%20is%20guaranteed%20that%20no%20three%20points%20are%20collinear.%20You%20would%20like%20to%20take%20a%20maximum%20non%20intersecting%20path%20on%20the%20polygon%20vertices%20that%20visits%20each%20point%20at%20most%20once.%5Cn%5CnMore%20specifically%20your%20path%20can%20be%20represented%20as%20some%20sequence%20of%20distinct%20polygon%20vertices.%20Your%20path%20is%20the%20straight%20line%20segments%20between%20adjacent%20vertices%20in%20order.%20These%20segments%20are%20not%20allowed%20to%20touch%20or%20intersect%20each%20other%20except%20at%20the%20vertices%20in%20your%20sequence.%5Cn%5CnGiven%20the%20polygon%2C%20print%20the%20maximum%20length%20non-intersecting%20path%20that%20visits%20each%20point%20at%20most%20once.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20will%20contain%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%202%3C%3Dn%3C%3D2500%20%24%20%29%2C%20the%20number%20of%20points.%5Cn%5CnThe%20next%20%24%20n%20%24%20lines%20will%20contain%20two%20integers%20%24%20x_%7Bi%7D%2Cy_%7Bi%7D%20%24%20%28%20%24%20%7Cx_%7Bi%7D%7C%2C%7Cy_%7Bi%7D%7C%3C%3D10%5E%7B9%7D%20%24%20%29%2C%20denoting%20the%20coordinates%20of%20the%20%24%20i%20%24%20-th%20vertex.%5Cn%5CnIt%20is%20guaranteed%20that%20these%20points%20are%20listed%20in%20clockwise%20order.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20floating%20point%20number%2C%20representing%20the%20longest%20non-intersecting%20path%20that%20visits%20the%20vertices%20at%20most%20once.%5Cn%5CnYour%20answer%20will%20be%20accepted%20if%20it%20has%20absolute%20or%20relative%20error%20at%20most%20%24%2010%5E%7B-9%7D%20%24%20.%20More%20specifically%2C%20if%20your%20answer%20is%20%24%20a%20%24%20and%20the%20jury%20answer%20is%20%24%20b%20%24%20%2C%20your%20answer%20will%20be%20accepted%20if%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF838E%5C%2Fd8d110e69d298146d951837cc2710d1c4cc74a7d.png%29.%22%2C%22samples%22%3A%5B%5B%224%5Cn0%200%5Cn0%201%5Cn1%201%5Cn1%200%5Cn%22%2C%223.4142135624%5Cn%22%5D%5D%2C%22hint%22%3A%22One%20optimal%20path%20is%20to%20visit%20points%200%2C1%2C3%2C2%20in%20order.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F838%5C%2FE%22%2C%22id%22%3A%22838E%22%7D%2C%22translation%22%3A%22%5Cu6309%5Cu987a%5Cu65f6%5Cu9488%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu51f8%5Cu591a%5Cu8fb9%5Cu5f62%5Cuff0c%5Cu4efb%5Cu610f%5Cu4e24%5Cu70b9%5Cu95f4%5Cu6709%5Cu4e00%5Cu6761%5Cu76f4%5Cu7ebf%5Cu8fb9%5Cuff0c%5Cu6c42%5Cu6bcf%5Cu4e2a%5Cu70b9%5Cu6070%5Cu597d%5Cu4e00%5Cu6b21%5Cu7684%5Cu6700%5Cu957f%5Cu4e0d%5Cu81ea%5Cu4ea4%5Cuff08%5Cu548c%5Cu4e4b%5Cu524d%5Cu7ebf%5Cu6bb5%5Cu76f8%5Cu4ea4%5Cuff09%5Cu8def%5Cu5f84%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A12%2C%22totalAccepted%22%3A4%2C%22pid%22%3A%22CF838E%22%2C%22title%22%3A%22Convex%20Countour%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Convex%20Countour%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Convex Countour</h1>
<h2>题意翻译</h2>
<div>按顺时针给出一个凸多边形，任意两点间有一条直线边，求每个点恰好一次的最长不自交（和之前线段相交）路径</div>
<h2>题目描述</h2>
<div>You are given an strictly convex polygon with $ n $ vertices. It is guaranteed that no three points are collinear. You would like to take a maximum non intersecting path on the polygon vertices that visits each point at most once.
More specifically your path can be represented as some sequence of distinct polygon vertices. Your path is the straight line segments between adjacent vertices in order. These segments are not allowed to touch or intersect each other except at the vertices in your sequence.
Given the polygon, print the maximum length non-intersecting path that visits each point at most once.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input will contain a single integer $ n $ ( $ 2<=n<=2500 $ ), the number of points.
The next $ n $ lines will contain two integers $ x_{i},y_{i} $ ( $ |x_{i}|,|y_{i}|<=10^{9} $ ), denoting the coordinates of the $ i $ -th vertex.
It is guaranteed that these points are listed in clockwise order.</div>
<h3>输出格式</h3>
<br />
<div>Print a single floating point number, representing the longest non-intersecting path that visits the vertices at most once.
Your answer will be accepted if it has absolute or relative error at most $ 10^{-9} $ . More specifically, if your answer is $ a $ and the jury answer is $ b $ , your answer will be accepted if ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF838E/d8d110e69d298146d951837cc2710d1c4cc74a7d.png).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
0 0
0 1
1 1
1 0
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3.4142135624
</code></pre>
<h2>说明</h2>
<div>One optimal path is to visit points 0,1,3,2 in order.</div>
</article>
</div>
</div>
</body>
</html>
