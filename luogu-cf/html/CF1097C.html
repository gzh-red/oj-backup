<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Yuhao and a Parenthesis - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573401604:/VaIZykpW6ZBLg+Tt3tiNjGozwD7+CCSzno+K8JW/e4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22One%20day%2C%20Yuhao%20came%20across%20a%20problem%20about%20checking%20if%20some%20bracket%20sequences%20are%20correct%20bracket%20sequences.%5Cn%5CnA%20bracket%20sequence%20is%20any%20non-empty%20sequence%20of%20opening%20and%20closing%20parentheses.%20A%20bracket%20sequence%20is%20called%20a%20correct%20bracket%20sequence%20if%20it%27s%20possible%20to%20obtain%20a%20correct%20arithmetic%20expression%20by%20inserting%20characters%20%5C%22%2B%5C%22%20and%20%5C%221%5C%22%20into%20this%20sequence.%20For%20example%2C%20the%20sequences%20%5C%22%28%28%29%29%28%29%5C%22%2C%20%5C%22%28%29%5C%22%20and%20%5C%22%28%28%29%28%28%29%29%29%5C%22%20are%20correct%2C%20while%20the%20bracket%20sequences%20%5C%22%29%28%5C%22%2C%20%5C%22%28%28%29%5C%22%20and%20%5C%22%28%28%29%29%29%28%5C%22%20are%20not%20correct.%5Cn%5CnYuhao%20found%20this%20problem%20too%20simple%20for%20him%20so%20he%20decided%20to%20make%20the%20problem%20harder.%20You%20are%20given%20many%20%28not%20necessarily%20correct%29%20bracket%20sequences.%20The%20task%20is%20to%20connect%20some%20of%20them%20into%20ordered%20pairs%20so%20that%20each%20bracket%20sequence%20occurs%20in%20at%20most%20one%20pair%20and%20the%20concatenation%20of%20the%20bracket%20sequences%20in%20each%20pair%20is%20a%20correct%20bracket%20sequence.%20The%20goal%20is%20to%20create%20as%20many%20pairs%20as%20possible.%5Cn%5CnThis%20problem%20unfortunately%20turned%20out%20to%20be%20too%20difficult%20for%20Yuhao.%20Can%20you%20help%20him%20and%20solve%20it%3F%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20one%20integer%20%24%20n%20%24%20%28%20%24%201%20%5C%5Cleq%20n%20%5C%5Cleq%2010%5E5%20%24%20%29%20%5Cu2014%20the%20number%20of%20bracket%20sequences.%5Cn%5CnEach%20of%20the%20following%20%24%20n%20%24%20lines%20contains%20one%20bracket%20sequence%20%5Cu2014%20a%20non-empty%20string%20which%20consists%20only%20of%20characters%20%5C%22%28%5C%22%20and%20%5C%22%29%5C%22.%5Cn%5CnThe%20sum%20of%20lengths%20of%20all%20bracket%20sequences%20in%20the%20input%20is%20at%20most%20%24%205%20%5C%5Ccdot%2010%5E5%20%24%20.%5Cn%5CnNote%20that%20a%20bracket%20sequence%20may%20appear%20in%20the%20input%20multiple%20times.%20In%20this%20case%2C%20you%20can%20use%20each%20copy%20of%20the%20sequence%20separately.%20Also%20note%20that%20the%20order%20in%20which%20strings%20appear%20in%20the%20input%20doesn%27t%20matter.%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%20%5Cu2014%20the%20maximum%20number%20of%20pairs%20which%20can%20be%20made%2C%20adhering%20to%20the%20conditions%20in%20the%20statement.%22%2C%22samples%22%3A%5B%5B%22%5Cn7%5Cn%29%28%29%29%5Cn%29%5Cn%28%28%5Cn%28%28%5Cn%28%5Cn%29%5Cn%29%5Cn%22%2C%22%5Cn2%5Cn%22%5D%2C%5B%22%5Cn4%5Cn%28%5Cn%28%28%5Cn%28%28%28%5Cn%28%28%29%29%5Cn%22%2C%22%5Cn0%5Cn%22%5D%2C%5B%22%5Cn2%5Cn%28%28%29%29%5Cn%28%29%5Cn%22%2C%22%5Cn1%5Cn%22%5D%5D%2C%22hint%22%3A%22In%20the%20first%20example%2C%20it%27s%20optimal%20to%20construct%20two%20pairs%3A%20%5C%22%28%28%20%29%28%29%29%5C%22%20and%20%5C%22%28%20%29%5C%22.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F1097%5C%2FC%22%2C%22id%22%3A%221097C%22%7D%2C%22translation%22%3A%22%5Cu6709%24n%24%5Cu7ec4%5Cu4e0d%5Cu4e00%5Cu5b9a%5Cu5408%5Cu6cd5%5Cu7684%5Cu62ec%5Cu53f7%5Cu5e8f%5Cu5217%5Cuff0c%5Cu8981%5Cu4f7f%5Cu8fd9%24n%24%5Cu5bf9%5Cu62ec%5Cu53f7%5Cu4e24%5Cu4e24%5Cu914d%5Cu5bf9%5Cuff0c%5Cu6210%5Cu4e3a%5Cu5408%5Cu6cd5%5Cu62ec%5Cu53f7%5Cu5e8f%5Cu5217%5Cu3002%5Cu6c42%5Cu6700%5Cu591a%5Cu80fd%5Cu914d%5Cu5bf9%5Cu51fa%5Cu591a%5Cu5c11%5Cu5bf9%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A84%2C%22totalAccepted%22%3A52%2C%22pid%22%3A%22CF1097C%22%2C%22title%22%3A%22Yuhao%20and%20a%20Parenthesis%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A93302%2C%22title%22%3A%22Translation%22%2C%22forum%22%3A%7B%22id%22%3A33550%2C%22name%22%3A%22CF1097C%20Yuhao%20and%20a%20Parenthesis%22%2C%22slug%22%3A%22CF1097C%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2114%22%2C%22title%22%3A%22%5BNOI2014%5D%5Cu8d77%5Cu5e8a%5Cu56f0%5Cu96be%5Cu7efc%5Cu5408%5Cu75c7%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3809%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu540e%5Cu7f00%5Cu6392%5Cu5e8f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1093D%22%2C%22title%22%3A%22Beautiful%20Graph%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1097D%22%2C%22title%22%3A%22Makoto%20and%20a%20Blackboard%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1169A%22%2C%22title%22%3A%22Circle%20Metro%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Yuhao%20and%20a%20Parenthesis%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Yuhao and a Parenthesis</h1>
<h2>题意翻译</h2>
<div>有$n$组不一定合法的括号序列，要使这$n$对括号两两配对，成为合法括号序列。求最多能配对出多少对。</div>
<h2>题目描述</h2>
<div>One day, Yuhao came across a problem about checking if some bracket sequences are correct bracket sequences.
A bracket sequence is any non-empty sequence of opening and closing parentheses. A bracket sequence is called a correct bracket sequence if it's possible to obtain a correct arithmetic expression by inserting characters "+" and "1" into this sequence. For example, the sequences "(())()", "()" and "(()(()))" are correct, while the bracket sequences ")(", "(()" and "(()))(" are not correct.
Yuhao found this problem too simple for him so he decided to make the problem harder. You are given many (not necessarily correct) bracket sequences. The task is to connect some of them into ordered pairs so that each bracket sequence occurs in at most one pair and the concatenation of the bracket sequences in each pair is a correct bracket sequence. The goal is to create as many pairs as possible.
This problem unfortunately turned out to be too difficult for Yuhao. Can you help him and solve it?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains one integer $ n $ ( $ 1 \leq n \leq 10^5 $ ) — the number of bracket sequences.
Each of the following $ n $ lines contains one bracket sequence — a non-empty string which consists only of characters "(" and ")".
The sum of lengths of all bracket sequences in the input is at most $ 5 \cdot 10^5 $ .
Note that a bracket sequence may appear in the input multiple times. In this case, you can use each copy of the sequence separately. Also note that the order in which strings appear in the input doesn't matter.</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer — the maximum number of pairs which can be made, adhering to the conditions in the statement.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>
7
)())
)
((
((
(
)
)
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>
2
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>
4
(
((
(((
(())
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>
0
</code></pre>
<h3>输入样例 #3</h3>
<pre><code>
2
(())
()
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>
1
</code></pre>
<h2>说明</h2>
<div>In the first example, it's optimal to construct two pairs: "(( )())" and "( )".</div>
</article>
</div>
</div>
</body>
</html>
