<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>The Hero with Bombs【卡语言已隐藏】 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573396653:BTrFmQMFPtXnSx8ZynN6whcNqph+CeWrYlYZxuqgdVc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22In%20a%20new%20computer%20game%20you%20need%20to%20help%20the%20hero%20to%20get%20out%20of%20the%20maze%2C%20which%20is%20a%20rectangular%20field%20of%20size%20%24%20n%5Cu00d7m%20%24%20.%20The%20hero%20is%20located%20in%20one%20of%20the%20cells%20of%20this%20field.%20He%20knows%20where%20the%20exit%20of%20the%20maze%20is%2C%20and%20he%20wants%20to%20reach%20it.%5Cn%5CnIn%20one%20move%2C%20the%20hero%20can%20either%20move%20to%20the%20next%20cell%20%28i.e.%20the%20cell%20which%20has%20a%20common%20side%20with%20the%20current%20cell%29%20if%20it%20is%20free%2C%20or%20plant%20a%20bomb%20on%20the%20cell%20where%20he%20is%2C%20or%20skip%20the%20move%20and%20do%20nothing.%20A%20planted%20bomb%20explodes%20after%20three%20moves%2C%20that%20is%2C%20after%20the%20hero%20makes%203%20more%20actions%20but%20does%20not%20have%20time%20to%20make%20the%20fourth%20%28all%20three%20types%20of%20moves%20described%20above%20are%20considered%20as%20actions%29.%5Cn%5CnThe%20explosion%20destroys%20the%20obstacles%20in%20all%20the%20cells%20which%20have%20at%20least%20one%20common%20point%20with%20this%20cell%20%28i.e.%20in%20all%20the%20cells%20sharing%20with%20the%20bomb%20cell%20a%20corner%20or%20a%20side%29.%20The%20explosion%20must%20not%20hurt%20the%20cell%20with%20the%20exit%20or%20the%20cell%20with%20the%20hero.%20The%20hero%20can%20not%20go%20beyond%20the%20boundaries%20of%20the%20maze.%5Cn%5CnYour%20task%20is%20to%20determine%20the%20sequence%20of%20hero%27s%20actions%20to%20reach%20the%20exit.%20Note%20that%20you%20haven%27t%20to%20minimize%20the%20length%20of%20the%20sequence.%20The%20only%20restriction%20%5Cu2014%20the%20length%20of%20the%20resulting%20sequence%20should%20not%20exceed%20100%2C000%20symbols.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20m%20%24%20%28%20%24%201%3C%3Dn%2Cm%3C%3D100%20%24%20%2C%20%24%20n%5Cu00b7m%26gt%3B1%20%24%20%29%20%5Cu2014%20sizes%20of%20the%20maze.%5Cn%5CnEach%20of%20the%20following%20%24%20n%20%24%20lines%20contains%20%24%20m%20%24%20characters%20%5Cu2014%20description%20of%20the%20maze.%20The%20character%20%5C%22.%5C%22%20means%20a%20free%20cell%2C%20%5C%22E%5C%22%20%5Cu2014%20the%20hero%2C%20%5C%22T%5C%22%20%5Cu2014%20the%20exit%2C%20%5C%22X%5C%22%20%5Cu2014%20the%20obstacle.%5Cn%5CnIt%20is%20guaranteed%20that%20there%20is%20exactly%20one%20hero%20and%20exactly%20one%20exit%20in%20the%20maze.%22%2C%22outputFormat%22%3A%22Print%20the%20hero%27s%20actions%20which%20will%20help%20him%20get%20out%20of%20the%20maze%20%28%5C%22M%5C%22%20%5Cu2014%20to%20plant%20a%20bomb%2C%20%5C%22T%5C%22%20%5Cu2014%20to%20skip%20the%20move%2C%20%5C%22S%5C%22%20%5Cu2014%20to%20go%20down%2C%20%5C%22W%5C%22%20%5Cu2014%20to%20go%20left%2C%20%5C%22N%5C%22%20%5Cu2014%20to%20go%20up%2C%20%5C%22E%5C%22%20%5Cu2014%20to%20go%20right%29.%20If%20the%20hero%20can%20not%20reach%20the%20exit%2C%20print%20%5C%22No%20solution%5C%22%20%28without%20quotes%29.%5Cn%5CnThe%20length%20of%20the%20resulting%20sequence%20should%20not%20exceed%20100%2C000%20symbols.%20If%20there%20are%20several%20solutions%20it%20is%20allowed%20to%20print%20any%20of%20them.%22%2C%22samples%22%3A%5B%5B%223%205%5CnXEX.X%5CnX.XXT%5CnX.X.X%5Cn%22%2C%22SSMNNTSSNEMWWTEEEE%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F683%5C%2FJ%22%2C%22id%22%3A%22683J%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF683J%22%2C%22title%22%3A%22The%20Hero%20with%20Bombs%5Cu3010%5Cu5361%5Cu8bed%5Cu8a00%5Cu5df2%5Cu9690%5Cu85cf%5Cu3011%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22The%20Hero%20with%20Bombs%5Cu3010%5Cu5361%5Cu8bed%5Cu8a00%5Cu5df2%5Cu9690%5Cu85cf%5Cu3011%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>The Hero with Bombs【卡语言已隐藏】</h1>
<h2>题目描述</h2>
<div>In a new computer game you need to help the hero to get out of the maze, which is a rectangular field of size $ n×m $ . The hero is located in one of the cells of this field. He knows where the exit of the maze is, and he wants to reach it.
In one move, the hero can either move to the next cell (i.e. the cell which has a common side with the current cell) if it is free, or plant a bomb on the cell where he is, or skip the move and do nothing. A planted bomb explodes after three moves, that is, after the hero makes 3 more actions but does not have time to make the fourth (all three types of moves described above are considered as actions).
The explosion destroys the obstacles in all the cells which have at least one common point with this cell (i.e. in all the cells sharing with the bomb cell a corner or a side). The explosion must not hurt the cell with the exit or the cell with the hero. The hero can not go beyond the boundaries of the maze.
Your task is to determine the sequence of hero's actions to reach the exit. Note that you haven't to minimize the length of the sequence. The only restriction — the length of the resulting sequence should not exceed 100,000 symbols.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ n $ and $ m $ ( $ 1<=n,m<=100 $ , $ n·m&gt;1 $ ) — sizes of the maze.
Each of the following $ n $ lines contains $ m $ characters — description of the maze. The character "." means a free cell, "E" — the hero, "T" — the exit, "X" — the obstacle.
It is guaranteed that there is exactly one hero and exactly one exit in the maze.</div>
<h3>输出格式</h3>
<br />
<div>Print the hero's actions which will help him get out of the maze ("M" — to plant a bomb, "T" — to skip the move, "S" — to go down, "W" — to go left, "N" — to go up, "E" — to go right). If the hero can not reach the exit, print "No solution" (without quotes).
The length of the resulting sequence should not exceed 100,000 symbols. If there are several solutions it is allowed to print any of them.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 5
XEX.X
X.XXT
X.X.X
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>SSMNNTSSNEMWWTEEEE
</code></pre>
</article>
</div>
</div>
</body>
</html>
