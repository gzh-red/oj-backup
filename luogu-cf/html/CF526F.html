<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Pudding Monsters - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573395107:zpYD7EvpS2Wb6+IGSOOG0Jh8U5LpJLDZ+LCaJ1pKLt4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22In%20this%20problem%20you%20will%20meet%20the%20simplified%20model%20of%20game%20Pudding%20Monsters.%5Cn%5CnAn%20important%20process%20in%20developing%20any%20game%20is%20creating%20levels.%20A%20game%20field%20in%20Pudding%20Monsters%20is%20an%20%24%20n%5Cu00d7n%20%24%20rectangular%20grid%2C%20%24%20n%20%24%20of%20its%20cells%20contain%20monsters%20and%20some%20other%20cells%20contain%20game%20objects.%20The%20gameplay%20is%20about%20moving%20the%20monsters%20around%20the%20field.%20When%20two%20monsters%20are%20touching%20each%20other%2C%20they%20glue%20together%20into%20a%20single%20big%20one%20%28as%20they%20are%20from%20pudding%2C%20remember%3F%29.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF526F%5C%2F20aa5815ee72cc21be376a3c3bc47e609a6b5dc1.png%29Statistics%20showed%20that%20the%20most%20interesting%20maps%20appear%20if%20initially%20each%20row%20and%20each%20column%20contains%20exactly%20one%20monster%20and%20the%20rest%20of%20map%20specifics%20is%20set%20up%20by%20the%20correct%20positioning%20of%20the%20other%20game%20objects.%5Cn%5CnA%20technique%20that%27s%20widely%20used%20to%20make%20the%20development%20process%20more%20efficient%20is%20reusing%20the%20available%20resources.%20For%20example%2C%20if%20there%20is%20a%20large%20%24%20n%5Cu00d7n%20%24%20map%2C%20you%20can%20choose%20in%20it%20a%20smaller%20%24%20k%5Cu00d7k%20%24%20square%20part%2C%20containing%20exactly%20%24%20k%20%24%20monsters%20and%20suggest%20it%20as%20a%20simplified%20version%20of%20the%20original%20map.%5Cn%5CnYou%20wonder%20how%20many%20ways%20there%20are%20to%20choose%20in%20the%20initial%20map%20a%20%24%20k%5Cu00d7k%20%24%20%28%20%24%201%3C%3Dk%3C%3Dn%20%24%20%29%20square%20fragment%2C%20containing%20exactly%20%24%20k%20%24%20pudding%20monsters.%20Calculate%20this%20number.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D3%5Cu00d710%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20size%20of%20the%20initial%20field.%5Cn%5CnNext%20%24%20n%20%24%20lines%20contain%20the%20coordinates%20of%20the%20cells%20initially%20containing%20monsters.%20The%20%24%20i%20%24%20-th%20of%20the%20next%20lines%20contains%20two%20numbers%20%24%20r_%7Bi%7D%2Cc_%7Bi%7D%20%24%20%28%20%24%201%3C%3Dr_%7Bi%7D%2Cc_%7Bi%7D%3C%3Dn%20%24%20%29%20%5Cu2014%20the%20row%20number%20and%20the%20column%20number%20of%20the%20cell%20that%20initially%20contains%20the%20%24%20i%20%24%20-th%20monster.%5Cn%5CnIt%20is%20guaranteed%20that%20all%20%24%20r_%7Bi%7D%20%24%20are%20distinct%20numbers%20and%20all%20%24%20c_%7Bi%7D%20%24%20are%20distinct%20numbers.%22%2C%22outputFormat%22%3A%22Print%20the%20number%20of%20distinct%20square%20fragments%20of%20the%20original%20field%20that%20can%20form%20a%20new%20map.%22%2C%22samples%22%3A%5B%5B%225%5Cn1%201%5Cn4%203%5Cn3%202%5Cn2%204%5Cn5%205%5Cn%22%2C%2210%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F526%5C%2FF%22%2C%22id%22%3A%22526F%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%24n%5C%5Ctimes%20n%24%5Cu7684%5Cu68cb%5Cu76d8%5Cuff0c%5Cu5176%5Cu4e2d%5Cu6709%24n%24%5Cu4e2a%5Cu683c%5Cu5b50%5Cu5305%5Cu542b%5Cu68cb%5Cu5b50%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6bcf%5Cu884c%5Cu6bcf%5Cu5217%5Cu6070%5Cu6709%5Cu4e00%5Cu4e2a%5Cu68cb%5Cu5b50%5Cu3002%5Cr%5Cn%5Cr%5Cn%5Cu6c42%24k%5C%5Ctimes%20k%24%5Cu7684%5Cu6070%5Cu597d%5Cu5305%5Cu542b%24k%24%5Cu679a%5Cu68cb%5Cu5b50%5Cu7684%5Cu5b50%5Cu77e9%5Cu5f62%5Cu4e2a%5Cu6570%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A120%2C%22totalAccepted%22%3A43%2C%22pid%22%3A%22CF526F%22%2C%22title%22%3A%22Pudding%20Monsters%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3157%22%2C%22title%22%3A%22%5BCQOI2011%5D%5Cu52a8%5Cu6001%5Cu9006%5Cu5e8f%5Cu5bf9%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3712%22%2C%22title%22%3A%22%5Cu5c11%5Cu5973%5Cu4e0e%5Cu6218%5Cu8f66%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF375C%22%2C%22title%22%3A%22Circling%20Round%20Treasures%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22SP9070%22%2C%22title%22%3A%22LIGHTIN%20-%20Lightning%20Conductor%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22SP%22%7D%2C%7B%22pid%22%3A%22P4725%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu591a%5Cu9879%5Cu5f0f%5Cu5bf9%5Cu6570%5Cu51fd%5Cu6570%5Cuff08%5Cu591a%5Cu9879%5Cu5f0f%20ln%5Cuff09%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Pudding%20Monsters%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Pudding Monsters</h1>
<h2>题意翻译</h2>
<div>给出一个$n\times n$的棋盘，其中有$n$个格子包含棋子。
每行每列恰有一个棋子。
求$k\times k$的恰好包含$k$枚棋子的子矩形个数。</div>
<h2>题目描述</h2>
<div>In this problem you will meet the simplified model of game Pudding Monsters.
An important process in developing any game is creating levels. A game field in Pudding Monsters is an $ n×n $ rectangular grid, $ n $ of its cells contain monsters and some other cells contain game objects. The gameplay is about moving the monsters around the field. When two monsters are touching each other, they glue together into a single big one (as they are from pudding, remember?).
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF526F/20aa5815ee72cc21be376a3c3bc47e609a6b5dc1.png)Statistics showed that the most interesting maps appear if initially each row and each column contains exactly one monster and the rest of map specifics is set up by the correct positioning of the other game objects.
A technique that's widely used to make the development process more efficient is reusing the available resources. For example, if there is a large $ n×n $ map, you can choose in it a smaller $ k×k $ square part, containing exactly $ k $ monsters and suggest it as a simplified version of the original map.
You wonder how many ways there are to choose in the initial map a $ k×k $ ( $ 1<=k<=n $ ) square fragment, containing exactly $ k $ pudding monsters. Calculate this number.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains a single integer $ n $ ( $ 1<=n<=3×10^{5} $ ) — the size of the initial field.
Next $ n $ lines contain the coordinates of the cells initially containing monsters. The $ i $ -th of the next lines contains two numbers $ r_{i},c_{i} $ ( $ 1<=r_{i},c_{i}<=n $ ) — the row number and the column number of the cell that initially contains the $ i $ -th monster.
It is guaranteed that all $ r_{i} $ are distinct numbers and all $ c_{i} $ are distinct numbers.</div>
<h3>输出格式</h3>
<br />
<div>Print the number of distinct square fragments of the original field that can form a new map.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
1 1
4 3
3 2
2 4
5 5
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>10
</code></pre>
</article>
</div>
</div>
</body>
</html>
