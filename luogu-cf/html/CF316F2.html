<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Suns and Rays - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392612:3f8r5N7d4G2mhNXApR3buWt3YzIjM/2fGXxpXzXVGKQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Smart%20Beaver%20became%20interested%20in%20drawing.%20He%20draws%20suns.%20However%2C%20at%20some%20point%2C%20Smart%20Beaver%20realized%20that%20simply%20drawing%20suns%20is%20boring.%20So%20he%20decided%20to%20design%20a%20program%20that%20will%20process%20his%20drawings.%20You%20are%20given%20a%20picture%20drawn%20by%20the%20beaver.%20It%20will%20have%20two%20colors%3A%20one%20for%20the%20background%20and%20one%20for%20the%20suns%20in%20the%20image.%20Your%20task%20will%20be%20to%20count%20the%20number%20of%20suns%20in%20the%20image%20and%20for%20each%20of%20them%20to%20count%20the%20number%20of%20rays.%5Cn%5CnSun%20is%20arbitrarily%20rotated%20ellipse%20with%20rays.%20Ray%20is%20a%20segment%20which%20connects%20point%20on%20boundary%20of%20the%20ellipse%20with%20some%20point%20outside%20ellipse.%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF316F2%5C%2F8ef6efd54b49cd419c0fbfa7509d8e57e90b4992.png%29%20An%20image%20where%20all%20suns%20are%20circles.%20%20%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF316F2%5C%2F05cd1ccc0c65679002e399651f00f7f18dd13325.png%29%20An%20image%20where%20all%20suns%20are%20ellipses%2C%20their%20axes%20are%20parallel%20to%20the%20coordinate%20axes.%20%20%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF316F2%5C%2F0f0edab021211a24cea86225fbd5f9e361b8882d.png%29%20An%20image%20where%20all%20suns%20are%20rotated%20ellipses.%20It%20is%20guaranteed%20that%3A%5Cn%5Cn-%20No%20two%20suns%20have%20common%20points.%5Cn-%20The%20rays%5Cu2019%20width%20is%20%24%203%20%24%20pixels.%5Cn-%20The%20lengths%20of%20the%20ellipsis%20suns%5Cu2019%20axes%20will%20lie%20between%20%24%2040%20%24%20and%20%24%20200%20%24%20pixels.%5Cn-%20No%20two%20rays%20intersect.%5Cn-%20The%20lengths%20of%20all%20rays%20will%20lie%20between%20%24%2010%20%24%20and%20%24%2030%20%24%20pixels.%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20two%20integers%20%24%20h%20%24%20and%20%24%20w%20%24%20%5Cu2014%20the%20height%20and%20width%20of%20the%20image%20%28%20%24%201%3C%3Dh%2Cw%3C%3D1600%20%24%20%29.%20Next%20%24%20h%20%24%20lines%20will%20contain%20%24%20w%20%24%20space-separated%20integers%20each.%20They%20describe%20Smart%20Beaver%5Cu2019s%20picture.%20Each%20number%20equals%20either%20a%20%24%200%20%24%20%28the%20image%20background%29%2C%20or%20a%20%24%201%20%24%20%28the%20sun%20color%29.%5Cn%5CnThe%20input%20limits%20for%20scoring%2030%20points%20are%20%28subproblem%20F1%29%3A%5Cn%5Cn-%20All%20suns%20on%20the%20image%20are%20circles.%5Cn%5CnThe%20input%20limits%20for%20scoring%2070%20points%20are%20%28subproblems%20F1%2BF2%29%3A%5Cn%5Cn-%20All%20suns%20on%20the%20image%20are%20ellipses%20with%20axes%20parallel%20to%20the%20coordinate%20axes.%5Cn%5CnThe%20input%20limits%20for%20scoring%20100%20points%20are%20%28subproblems%20F1%2BF2%2BF3%29%3A%5Cn%5Cn-%20All%20suns%20on%20the%20image%20are%20ellipses%2C%20they%20can%20be%20arbitrarily%20rotated.%22%2C%22outputFormat%22%3A%22The%20first%20line%20must%20contain%20a%20single%20number%20%24%20k%20%24%20%5Cu2014%20the%20number%20of%20suns%20on%20the%20beaver%5Cu2019s%20image.%20The%20second%20line%20must%20contain%20exactly%20%24%20k%20%24%20space-separated%20integers%2C%20corresponding%20to%20the%20number%20of%20rays%20on%20each%20sun.%20The%20numbers%20of%20the%20second%20line%20must%20be%20sorted%20in%20the%20increasing%20order.%22%2C%22samples%22%3A%5B%5D%2C%22hint%22%3A%22For%20each%20complexity%20level%20you%20are%20suggested%20a%20sample%20in%20the%20initial%20data.%20You%20can%20download%20the%20samples%20at%20http%3A%5C%2F%5C%2Fwww.abbyy.ru%5C%2Fsun.zip.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F316%5C%2FF2%22%2C%22id%22%3A%22316F2%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF316F2%22%2C%22title%22%3A%22Suns%20and%20Rays%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Suns%20and%20Rays%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Suns and Rays</h1>
<h2>题目描述</h2>
<div>Smart Beaver became interested in drawing. He draws suns. However, at some point, Smart Beaver realized that simply drawing suns is boring. So he decided to design a program that will process his drawings. You are given a picture drawn by the beaver. It will have two colors: one for the background and one for the suns in the image. Your task will be to count the number of suns in the image and for each of them to count the number of rays.
Sun is arbitrarily rotated ellipse with rays. Ray is a segment which connects point on boundary of the ellipse with some point outside ellipse.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF316F2/8ef6efd54b49cd419c0fbfa7509d8e57e90b4992.png) An image where all suns are circles. ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF316F2/05cd1ccc0c65679002e399651f00f7f18dd13325.png) An image where all suns are ellipses, their axes are parallel to the coordinate axes. ![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF316F2/0f0edab021211a24cea86225fbd5f9e361b8882d.png) An image where all suns are rotated ellipses. It is guaranteed that:
- No two suns have common points.
- The rays’ width is $ 3 $ pixels.
- The lengths of the ellipsis suns’ axes will lie between $ 40 $ and $ 200 $ pixels.
- No two rays intersect.
- The lengths of all rays will lie between $ 10 $ and $ 30 $ pixels.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains two integers $ h $ and $ w $ — the height and width of the image ( $ 1<=h,w<=1600 $ ). Next $ h $ lines will contain $ w $ space-separated integers each. They describe Smart Beaver’s picture. Each number equals either a $ 0 $ (the image background), or a $ 1 $ (the sun color).
The input limits for scoring 30 points are (subproblem F1):
- All suns on the image are circles.
The input limits for scoring 70 points are (subproblems F1+F2):
- All suns on the image are ellipses with axes parallel to the coordinate axes.
The input limits for scoring 100 points are (subproblems F1+F2+F3):
- All suns on the image are ellipses, they can be arbitrarily rotated.</div>
<h3>输出格式</h3>
<br />
<div>The first line must contain a single number $ k $ — the number of suns on the beaver’s image. The second line must contain exactly $ k $ space-separated integers, corresponding to the number of rays on each sun. The numbers of the second line must be sorted in the increasing order.</div>
<h2>输入输出样例</h2>
<i>暂无测试点</i>
<h2>说明</h2>
<div>For each complexity level you are suggested a sample in the initial data. You can download the samples at http://www.abbyy.ru/sun.zip.</div>
</article>
</div>
</div>
</body>
</html>
