<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Subarray Cuts - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573394939:zse0pfDIDjbSau8YMKOMi+t/pRcqZOkb3NK6B02wQmI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20an%20array%20of%20length%20%24%20n%20%24%20and%20a%20number%20%24%20k%20%24%20.%20Let%27s%20pick%20%24%20k%20%24%20non-overlapping%20non-empty%20subarrays%20of%20the%20initial%20array.%20Let%20%24%20s_%7Bi%7D%20%24%20be%20the%20sum%20of%20the%20%24%20i%20%24%20-th%20subarray%20in%20order%20from%20left%20to%20right.%20Compute%20the%20maximum%20value%20of%20the%20following%20expression%3A%5Cn%5Cn%20%24%20%7Cs_%7B1%7D-s_%7B2%7D%7C%2B%7Cs_%7B2%7D-s_%7B3%7D%7C%2B...%2B%7Cs_%7Bk-1%7D-s_%7Bk%7D%7C%20%24%20Here%20subarray%20is%20a%20contiguous%20part%20of%20an%20array.%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20two%20integers%20%24%20n%20%24%20and%20%24%20k%20%24%20.%20The%20second%20line%20contains%20%24%20n%20%24%20integers%20%5Cu2014%20the%20elements%20of%20the%20array.%20The%20absolute%20values%20of%20elements%20do%20not%20exceed%20%24%2010%5E%7B4%7D%20%24%20.%5Cn%5CnThe%20problem%20consists%20of%20two%20subproblems.%20The%20subproblems%20have%20different%20constraints%20on%20the%20input.%20You%20will%20get%20some%20score%20for%20the%20correct%20submission%20of%20the%20subproblem.%20The%20description%20of%20the%20subproblems%20follows.%5Cn%5Cn-%20In%20subproblem%20E1%20%28%20%24%209%20%24%20points%29%2C%20constraints%20%24%202%3C%3Dn%3C%3D400%20%24%20%2C%20%24%202%3C%3Dk%3C%3Dmin%28n%2C50%29%20%24%20will%20hold.%5Cn-%20In%20subproblem%20E2%20%28%20%24%2012%20%24%20points%29%2C%20constraints%20%24%202%3C%3Dn%3C%3D30000%20%24%20%2C%20%24%202%3C%3Dk%3C%3Dmin%28n%2C200%29%20%24%20will%20hold.%22%2C%22outputFormat%22%3A%22Output%20a%20single%20integer%20%5Cu2014%20the%20maximum%20possible%20value.%22%2C%22samples%22%3A%5B%5B%225%203%5Cn5%202%204%203%201%5Cn%22%2C%2212%5Cn%22%5D%2C%5B%224%202%5Cn7%204%203%207%5Cn%22%2C%228%5Cn%22%5D%5D%2C%22hint%22%3A%22Consider%20the%20first%20sample%20test.%20The%20optimal%20solution%20is%20obtained%20if%20the%20first%20subarray%20contains%20the%20first%20element%20only%2C%20the%20second%20subarray%20spans%20the%20next%20three%20elements%20and%20the%20last%20subarray%20contains%20the%20last%20element%20only.%20The%20sums%20of%20these%20subarrays%20are%20%24%205%20%24%20%2C%20%24%209%20%24%20and%20%24%201%20%24%20%2C%20correspondingly.%5Cn%5CnConsider%20the%20second%20sample%20test.%20In%20the%20optimal%20solution%2C%20the%20first%20subarray%20consists%20of%20the%20first%20two%20elements%20and%20the%20second%20subarray%20consists%20of%20the%20third%20element%20only.%20Note%20that%20the%20last%20element%20does%20not%20belong%20to%20any%20subarray%20in%20this%20solution.%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F513%5C%2FE2%22%2C%22id%22%3A%22513E2%22%7D%2C%22translation%22%3A%22%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e32%5Cu6570%5Cuff0c%5Cu5728%5Cu5176%5Cu4e2d%5Cu9009%5Cu51fak%5Cu4e2a%5Cu4e0d%5Cu91cd%5Cu53e0%5Cuff0c%5Cu4e0d%5Cu76f8%5Cu4ea4%5Cu7684%5Cu5b50%5Cu4e32%5Cuff0c%5Cr%5Cn%5Cu6309%5Cu987a%5Cu5e8f%5Cu5c06%5Cu5b50%5Cu4e32%5Cu7684%5Cu548c%5Cu6807%5Cu4e3as1%5Cuff0cs2%5Cuff0cs3%5Cu2026..sk%5Cuff0c%5Cr%5Cn%5Cu6c42%7Cs1-s2%7C%2B%7Cs2-s3%7C%2B%5Cu2026%2B%7Csk-1-sk%7C%5Cu7684%5Cu6700%5Cu5927%5Cu503c%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A1%2C%22pid%22%3A%22CF513E2%22%2C%22title%22%3A%22Subarray%20Cuts%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Subarray%20Cuts%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Subarray Cuts</h1>
<h2>题意翻译</h2>
<div>给出一串数，在其中选出k个不重叠，不相交的子串，
按顺序将子串的和标为s1，s2，s3…..sk，
求|s1-s2|+|s2-s3|+…+|sk-1-sk|的最大值。</div>
<h2>题目描述</h2>
<div>You are given an array of length $ n $ and a number $ k $ . Let's pick $ k $ non-overlapping non-empty subarrays of the initial array. Let $ s_{i} $ be the sum of the $ i $ -th subarray in order from left to right. Compute the maximum value of the following expression:
$ |s_{1}-s_{2}|+|s_{2}-s_{3}|+...+|s_{k-1}-s_{k}| $ Here subarray is a contiguous part of an array.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains two integers $ n $ and $ k $ . The second line contains $ n $ integers — the elements of the array. The absolute values of elements do not exceed $ 10^{4} $ .
The problem consists of two subproblems. The subproblems have different constraints on the input. You will get some score for the correct submission of the subproblem. The description of the subproblems follows.
- In subproblem E1 ( $ 9 $ points), constraints $ 2<=n<=400 $ , $ 2<=k<=min(n,50) $ will hold.
- In subproblem E2 ( $ 12 $ points), constraints $ 2<=n<=30000 $ , $ 2<=k<=min(n,200) $ will hold.</div>
<h3>输出格式</h3>
<br />
<div>Output a single integer — the maximum possible value.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 3
5 2 4 3 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>12
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4 2
7 4 3 7
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>8
</code></pre>
<h2>说明</h2>
<div>Consider the first sample test. The optimal solution is obtained if the first subarray contains the first element only, the second subarray spans the next three elements and the last subarray contains the last element only. The sums of these subarrays are $ 5 $ , $ 9 $ and $ 1 $ , correspondingly.
Consider the second sample test. In the optimal solution, the first subarray consists of the first two elements and the second subarray consists of the third element only. Note that the last element does not belong to any subarray in this solution.</div>
</article>
</div>
</div>
</body>
</html>
