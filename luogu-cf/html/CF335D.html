<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Rectangles and Square - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573392916:beqqEoOs+vY/tDxurIZdOarkUYBD7bnolMjZkn1wEoM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22You%20are%20given%20%24%20n%20%24%20rectangles%2C%20labeled%201%20through%20%24%20n%20%24%20.%20The%20corners%20of%20rectangles%20have%20integer%20coordinates%20and%20their%20edges%20are%20parallel%20to%20the%20%24%20Ox%20%24%20and%20%24%20Oy%20%24%20axes.%20The%20rectangles%20may%20touch%20each%20other%2C%20but%20they%20do%20not%20overlap%20%28that%20is%2C%20there%20are%20no%20points%20that%20belong%20to%20the%20interior%20of%20more%20than%20one%20rectangle%29.%5Cn%5CnYour%20task%20is%20to%20determine%20if%20there%27s%20a%20non-empty%20subset%20of%20the%20rectangles%20that%20forms%20a%20square.%20That%20is%2C%20determine%20if%20there%20exists%20a%20subset%20of%20the%20rectangles%20and%20some%20square%20for%20which%20every%20point%20that%20belongs%20to%20the%20interior%20or%20the%20border%20of%20that%20square%20belongs%20to%20the%20interior%20or%20the%20border%20of%20at%20least%20one%20of%20the%20rectangles%20in%20the%20subset%2C%20and%20every%20point%20that%20belongs%20to%20the%20interior%20or%20the%20border%20of%20at%20least%20one%20rectangle%20in%20the%20subset%20belongs%20to%20the%20interior%20or%20the%20border%20of%20that%20square.%22%2C%22inputFormat%22%3A%22First%20line%20contains%20a%20single%20integer%20%24%20n%20%24%20%28%20%24%201%3C%3Dn%3C%3D10%5E%7B5%7D%20%24%20%29%20%5Cu2014%20the%20number%20of%20rectangles.%20Each%20of%20the%20next%20%24%20n%20%24%20lines%20contains%20a%20description%20of%20a%20rectangle%2C%20with%20the%20%24%20i%20%24%20-th%20such%20line%20describing%20the%20rectangle%20labeled%20%24%20i%20%24%20.%20Each%20rectangle%20description%20consists%20of%20four%20integers%3A%20%24%20x_%7B1%7D%20%24%20%2C%20%24%20y_%7B1%7D%20%24%20%2C%20%24%20x_%7B2%7D%20%24%20%2C%20%24%20y_%7B2%7D%20%24%20%5Cu2014%20coordinates%20of%20the%20bottom%20left%20and%20the%20top%20right%20corners%20%28%20%24%200%3C%3Dx_%7B1%7D%26lt%3Bx_%7B2%7D%3C%3D3000%20%24%20%2C%20%24%200%3C%3Dy_%7B1%7D%26lt%3By_%7B2%7D%3C%3D3000%20%24%20%29.%5Cn%5CnNo%20two%20rectangles%20overlap%20%28that%20is%2C%20there%20are%20no%20points%20that%20belong%20to%20the%20interior%20of%20more%20than%20one%20rectangle%29.%22%2C%22outputFormat%22%3A%22If%20such%20a%20subset%20exists%2C%20print%20%5C%22YES%5C%22%20%28without%20quotes%29%20on%20the%20first%20line%20of%20the%20output%20file%2C%20followed%20by%20%24%20k%20%24%20%2C%20the%20number%20of%20rectangles%20in%20the%20subset.%20On%20the%20second%20line%20print%20%24%20k%20%24%20numbers%20%5Cu2014%20the%20labels%20of%20rectangles%20in%20the%20subset%20in%20any%20order.%20If%20more%20than%20one%20such%20subset%20exists%2C%20print%20any%20one.%20If%20no%20such%20subset%20exists%2C%20print%20%5C%22NO%5C%22%20%28without%20quotes%29.%22%2C%22samples%22%3A%5B%5B%229%5Cn0%200%201%209%5Cn1%200%209%201%5Cn1%208%209%209%5Cn8%201%209%208%5Cn2%202%203%206%5Cn3%202%207%203%5Cn2%206%207%207%5Cn5%203%207%206%5Cn3%203%205%206%5Cn%22%2C%22YES%205%5Cn5%206%207%208%209%5Cn%22%5D%2C%5B%224%5Cn0%200%201%209%5Cn1%200%209%201%5Cn1%208%209%209%5Cn8%201%209%208%5Cn%22%2C%22NO%5Cn%22%5D%5D%2C%22hint%22%3A%22The%20first%20test%20case%20looks%20as%20follows%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF335D%5C%2Fb555a1b2f0fa9850a908273e7c5806edefd08e25.png%29Note%20that%20rectangles%206%2C%208%2C%20and%209%20form%20a%20square%20as%20well%2C%20and%20would%20be%20an%20acceptable%20answer.%5Cn%5CnThe%20second%20test%20case%20looks%20as%20follows%3A%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF335D%5C%2F50fe7d9330ec3e3fa026a900ee9c84c7d3b58755.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%5D%2C%22memory%22%3A%5B512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F335%5C%2FD%22%2C%22id%22%3A%22335D%22%7D%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Atrue%2C%22totalSubmit%22%3A0%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22CF335D%22%2C%22title%22%3A%22Rectangles%20and%20Square%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Rectangles%20and%20Square%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Rectangles and Square</h1>
<h2>题目描述</h2>
<div>You are given $ n $ rectangles, labeled 1 through $ n $ . The corners of rectangles have integer coordinates and their edges are parallel to the $ Ox $ and $ Oy $ axes. The rectangles may touch each other, but they do not overlap (that is, there are no points that belong to the interior of more than one rectangle).
Your task is to determine if there's a non-empty subset of the rectangles that forms a square. That is, determine if there exists a subset of the rectangles and some square for which every point that belongs to the interior or the border of that square belongs to the interior or the border of at least one of the rectangles in the subset, and every point that belongs to the interior or the border of at least one rectangle in the subset belongs to the interior or the border of that square.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>First line contains a single integer $ n $ ( $ 1<=n<=10^{5} $ ) — the number of rectangles. Each of the next $ n $ lines contains a description of a rectangle, with the $ i $ -th such line describing the rectangle labeled $ i $ . Each rectangle description consists of four integers: $ x_{1} $ , $ y_{1} $ , $ x_{2} $ , $ y_{2} $ — coordinates of the bottom left and the top right corners ( $ 0<=x_{1}&lt;x_{2}<=3000 $ , $ 0<=y_{1}&lt;y_{2}<=3000 $ ).
No two rectangles overlap (that is, there are no points that belong to the interior of more than one rectangle).</div>
<h3>输出格式</h3>
<br />
<div>If such a subset exists, print "YES" (without quotes) on the first line of the output file, followed by $ k $ , the number of rectangles in the subset. On the second line print $ k $ numbers — the labels of rectangles in the subset in any order. If more than one such subset exists, print any one. If no such subset exists, print "NO" (without quotes).</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>9
0 0 1 9
1 0 9 1
1 8 9 9
8 1 9 8
2 2 3 6
3 2 7 3
2 6 7 7
5 3 7 6
3 3 5 6
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>YES 5
5 6 7 8 9
</code></pre>
<h3>输入样例 #2</h3>
<pre><code>4
0 0 1 9
1 0 9 1
1 8 9 9
8 1 9 8
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>NO
</code></pre>
<h2>说明</h2>
<div>The first test case looks as follows:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF335D/b555a1b2f0fa9850a908273e7c5806edefd08e25.png)Note that rectangles 6, 8, and 9 form a square as well, and would be an acceptable answer.
The second test case looks as follows:
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF335D/50fe7d9330ec3e3fa026a900ee9c84c7d3b58755.png)</div>
</article>
</div>
</div>
</body>
</html>
