<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Guess Your Way Out! - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573394848:aAuFcMY/gQiKo4WJvQBO066OqU1QS3iud4vdTu8NkEY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22Amr%20bought%20a%20new%20video%20game%20%5C%22Guess%20Your%20Way%20Out%21%5C%22.%20The%20goal%20of%20the%20game%20is%20to%20find%20an%20exit%20from%20the%20maze%20that%20looks%20like%20a%20perfect%20binary%20tree%20of%20height%20%24%20h%20%24%20.%20The%20player%20is%20initially%20standing%20at%20the%20root%20of%20the%20tree%20and%20the%20exit%20from%20the%20tree%20is%20located%20at%20some%20leaf%20node.%5Cn%5CnLet%27s%20index%20all%20the%20leaf%20nodes%20from%20the%20left%20to%20the%20right%20from%201%20to%20%24%202%5E%7Bh%7D%20%24%20.%20The%20exit%20is%20located%20at%20some%20node%20%24%20n%20%24%20where%20%24%201%3C%3Dn%3C%3D2%5E%7Bh%7D%20%24%20%2C%20the%20player%20doesn%27t%20know%20where%20the%20exit%20is%20so%20he%20has%20to%20guess%20his%20way%20out%21%5Cn%5CnAmr%20follows%20simple%20algorithm%20to%20choose%20the%20path.%20Let%27s%20consider%20infinite%20command%20string%20%5C%22LRLRLRLRL...%5C%22%20%28consisting%20of%20alternating%20characters%20%27L%27%20and%20%27R%27%29.%20Amr%20sequentially%20executes%20the%20characters%20of%20the%20string%20using%20following%20rules%3A%5Cn%5Cn-%20Character%20%27L%27%20means%20%5C%22go%20to%20the%20left%20child%20of%20the%20current%20node%5C%22%3B%5Cn-%20Character%20%27R%27%20means%20%5C%22go%20to%20the%20right%20child%20of%20the%20current%20node%5C%22%3B%5Cn-%20If%20the%20destination%20node%20is%20already%20visited%2C%20Amr%20skips%20current%20command%2C%20otherwise%20he%20moves%20to%20the%20destination%20node%3B%5Cn-%20If%20Amr%20skipped%20two%20consecutive%20commands%2C%20he%20goes%20back%20to%20the%20parent%20of%20the%20current%20node%20before%20executing%20next%20command%3B%5Cn-%20If%20he%20reached%20a%20leaf%20node%20that%20is%20not%20the%20exit%2C%20he%20returns%20to%20the%20parent%20of%20the%20current%20node%3B%5Cn-%20If%20he%20reaches%20an%20exit%2C%20the%20game%20is%20finished.%5Cn%5CnNow%20Amr%20wonders%2C%20if%20he%20follows%20this%20algorithm%2C%20how%20many%20nodes%20he%20is%20going%20to%20visit%20before%20reaching%20the%20exit%3F%22%2C%22inputFormat%22%3A%22Input%20consists%20of%20two%20integers%20%24%20h%2Cn%20%24%20%28%20%24%201%3C%3Dh%3C%3D50%20%24%20%2C%20%24%201%3C%3Dn%3C%3D2%5E%7Bh%7D%20%24%20%29.%22%2C%22outputFormat%22%3A%22Output%20a%20single%20integer%20representing%20the%20number%20of%20nodes%20%28excluding%20the%20exit%20node%29%20Amr%20is%20going%20to%20visit%20before%20reaching%20the%20exit%20by%20following%20this%20algorithm.%22%2C%22samples%22%3A%5B%5B%221%202%5Cn%22%2C%222%22%5D%2C%5B%222%203%5Cn%22%2C%225%22%5D%2C%5B%223%206%5Cn%22%2C%2210%22%5D%2C%5B%2210%201024%5Cn%22%2C%222046%22%5D%5D%2C%22hint%22%3A%22A%20perfect%20binary%20tree%20of%20height%20%24%20h%20%24%20is%20a%20binary%20tree%20consisting%20of%20%24%20h%2B1%20%24%20levels.%20Level%20%24%200%20%24%20consists%20of%20a%20single%20node%20called%20root%2C%20level%20%24%20h%20%24%20consists%20of%20%24%202%5E%7Bh%7D%20%24%20nodes%20called%20leaves.%20Each%20node%20that%20is%20not%20a%20leaf%20has%20exactly%20two%20children%2C%20left%20and%20right%20one.%5Cn%5CnFollowing%20picture%20illustrates%20the%20sample%20test%20number%20%24%203%20%24%20.%20Nodes%20are%20labeled%20according%20to%20the%20order%20of%20visit.%5Cn%5Cn%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fvjudge_pic%5C%2FCF507C%5C%2F1071268d93324fbfe90557eb5569861c59d6d7a2.png%29%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F507%5C%2FC%22%2C%22id%22%3A%22507C%22%7D%2C%22translation%22%3A%22%5Cu6709%5Cu4e00%5Cu4e2a%5Cu9ad8%5Cu5ea6%5Cu4e3ah%5Cu7684%5Cu6ee1%5Cu4e8c%5Cu53c9%5Cu6811%5Cuff0c%5Cu4ece%5Cu6839%5Cu8282%5Cu70b9%5Cu51fa%5Cu53d1%5Cuff0c%5Cu6309%5Cu7167%5C%22LRLRLRLR....%5C%22%5Cu7684%5Cu65b9%5Cu5f0f%5Cu5f80%5Cu4e0b%5Cu8d70%5Cuff0c%5Cu8d70%5Cu5230%5Cu7b2cn%5Cu4e2a%5Cu53f6%5Cu5b50%5Cu7ed3%5Cu70b9%5Cu7ed3%5Cu675f%5Cu3002%5Cu5982%5Cu679c%5Cu8d70%5Cu5230%5Cu4e86%5Cu975en%5Cu7684%5Cu53f6%5Cu5b50%5Cu7ed3%5Cu70b9%5Cuff0c%5Cu90a3%5Cu4e48%5Cu5c31%5Cu8df3%5Cu8fc7%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu6307%5Cu4ee4%5Cuff0c%5Cu56de%5Cu6eaf%5Cu7136%5Cu540e%5Cu6309%5Cu7167%5Cu6307%5Cu4ee4%5Cu7ee7%5Cu7eed%5Cu8d70%5Cu6ca1%5Cu6709%5Cu8d70%5Cu8fc7%5Cu7684%5Cu7ed3%5Cu70b9%5Cu3002%5Cu95ee%5Cu5230%5Cu8fbe%5Cu7b2cn%5Cu4e2a%5Cu53f6%5Cu5b50%5Cu7ed3%5Cu70b9%5Cu4e4b%5Cu524d%5Cuff0c%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu7ed3%5Cu70b9%5Cu88ab%5Cu8d70%5Cu8fc7%5Cu3002%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A15%2C%22totalAccepted%22%3A9%2C%22pid%22%3A%22CF507C%22%2C%22title%22%3A%22Guess%20Your%20Way%20Out%21%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Guess%20Your%20Way%20Out%21%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573306449;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Guess Your Way Out!</h1>
<h2>题意翻译</h2>
<div>有一个高度为h的满二叉树，从根节点出发，按照"LRLRLRLR...."的方式往下走，走到第n个叶子结点结束。如果走到了非n的叶子结点，那么就跳过下一个指令，回溯然后按照指令继续走没有走过的结点。问到达第n个叶子结点之前，有多少个结点被走过。</div>
<h2>题目描述</h2>
<div>Amr bought a new video game "Guess Your Way Out!". The goal of the game is to find an exit from the maze that looks like a perfect binary tree of height $ h $ . The player is initially standing at the root of the tree and the exit from the tree is located at some leaf node.
Let's index all the leaf nodes from the left to the right from 1 to $ 2^{h} $ . The exit is located at some node $ n $ where $ 1<=n<=2^{h} $ , the player doesn't know where the exit is so he has to guess his way out!
Amr follows simple algorithm to choose the path. Let's consider infinite command string "LRLRLRLRL..." (consisting of alternating characters 'L' and 'R'). Amr sequentially executes the characters of the string using following rules:
- Character 'L' means "go to the left child of the current node";
- Character 'R' means "go to the right child of the current node";
- If the destination node is already visited, Amr skips current command, otherwise he moves to the destination node;
- If Amr skipped two consecutive commands, he goes back to the parent of the current node before executing next command;
- If he reached a leaf node that is not the exit, he returns to the parent of the current node;
- If he reaches an exit, the game is finished.
Now Amr wonders, if he follows this algorithm, how many nodes he is going to visit before reaching the exit?</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Input consists of two integers $ h,n $ ( $ 1<=h<=50 $ , $ 1<=n<=2^{h} $ ).</div>
<h3>输出格式</h3>
<br />
<div>Output a single integer representing the number of nodes (excluding the exit node) Amr is going to visit before reaching the exit by following this algorithm.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2 3
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>5</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3 6
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>10</code></pre>
<h3>输入样例 #4</h3>
<pre><code>10 1024
</code></pre>
<h3>输出样例 #4</h3>
<pre><code>2046</code></pre>
<h2>说明</h2>
<div>A perfect binary tree of height $ h $ is a binary tree consisting of $ h+1 $ levels. Level $ 0 $ consists of a single node called root, level $ h $ consists of $ 2^{h} $ nodes called leaves. Each node that is not a leaf has exactly two children, left and right one.
Following picture illustrates the sample test number $ 3 $ . Nodes are labeled according to the order of visit.
![](https://cdn.luogu.com.cn/upload/vjudge_pic/CF507C/1071268d93324fbfe90557eb5569861c59d6d7a2.png)</div>
</article>
</div>
</div>
</body>
</html>
