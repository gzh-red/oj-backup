<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>bHTML Tables Analisys - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573390331:LsvfM850+Num4HsNUbPwsBahHX65Z5MJ4FqC8ZU4kGo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22In%20this%20problem%20is%20used%20an%20extremely%20simplified%20version%20of%20HTML%20table%20markup.%20Please%20use%20the%20statement%20as%20a%20formal%20document%20and%20read%20it%20carefully.%5Cn%5CnA%20string%20is%20a%20bHTML%20table%2C%20if%20it%20satisfies%20the%20grammar%3A%5Cn%5Cn%60%3Cbr%3E%3C%5C%2Fbr%3ETABLE%20%3A%3A%3D%20%3Ctable%3EROWS%3C%5C%2Ftable%3E%3Cbr%3E%3C%5C%2Fbr%3EROWS%20%3A%3A%3D%20ROW%20%7C%20ROW%20ROWS%3Cbr%3E%3C%5C%2Fbr%3EROW%20%3A%3A%3D%20%3Ctr%3ECELLS%3C%5C%2Ftr%3E%3Cbr%3E%3C%5C%2Fbr%3ECELLS%20%3A%3A%3D%20CELL%20%7C%20CELL%20CELLS%3Cbr%3E%3C%5C%2Fbr%3ECELL%20%3A%3A%3D%20%3Ctd%3E%3C%5C%2Ftd%3E%20%7C%20%3Ctd%3ETABLE%3C%5C%2Ftd%3E%3Cbr%3E%3C%5C%2Fbr%3E%60Blanks%20in%20the%20grammar%20are%20only%20for%20purposes%20of%20illustration%2C%20in%20the%20given%20data%20there%20will%20be%20no%20spaces.%20The%20bHTML%20table%20is%20very%20similar%20to%20a%20simple%20regular%20HTML%20table%20in%20which%20meet%20only%20the%20following%20tags%20%3A%20%5C%22table%5C%22%2C%20%5C%22tr%5C%22%2C%20%5C%22td%5C%22%2C%20all%20the%20tags%20are%20paired%20and%20the%20table%20contains%20at%20least%20one%20row%20and%20at%20least%20one%20cell%20in%20each%20row.%20Have%20a%20look%20at%20the%20sample%20tests%20as%20examples%20of%20tables.%5Cn%5CnAs%20can%20be%20seen%2C%20the%20tables%20may%20be%20nested.%20You%20are%20given%20a%20table%20%28which%20may%20contain%20other%28s%29%29.%20You%20need%20to%20write%20a%20program%20that%20analyzes%20all%20the%20tables%20and%20finds%20the%20number%20of%20cells%20in%20each%20of%20them.%20The%20tables%20are%20not%20required%20to%20be%20rectangular.%22%2C%22inputFormat%22%3A%22For%20convenience%2C%20input%20data%20can%20be%20separated%20into%20non-empty%20lines%20in%20an%20arbitrary%20manner.%20The%20input%20data%20consist%20of%20no%20more%20than%2010%20lines.%20Combine%20%28concatenate%29%20all%20the%20input%20lines%20into%20one%2C%20to%20get%20a%20text%20representation%20%24%20s%20%24%20of%20the%20specified%20table.%20String%20%24%20s%20%24%20corresponds%20to%20the%20given%20grammar%20%28the%20root%20element%20of%20grammar%20is%20TABLE%29%2C%20its%20length%20does%20not%20exceed%205000.%20Only%20lower%20case%20letters%20are%20used%20to%20write%20tags.%20There%20are%20no%20spaces%20in%20the%20given%20string%20%24%20s%20%24%20.%22%2C%22outputFormat%22%3A%22Print%20the%20sizes%20of%20all%20the%20tables%20in%20the%20non-decreasing%20order.%22%2C%22samples%22%3A%5B%5B%22%3Ctable%3E%3Ctr%3E%3Ctd%3E%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%22%2C%221%20%22%5D%2C%5B%22%3Ctable%3E%5Cn%3Ctr%3E%5Cn%3Ctd%3E%5Cn%3Ctable%3E%3Ctr%3E%3Ctd%3E%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3Ctr%3E%3Ctd%3E%3C%5C%2F%5Cntd%5Cn%3E%3C%5C%2Ftr%3E%3Ctr%5Cn%3E%3Ctd%3E%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3Ctr%3E%3Ctd%3E%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%3C%5C%2Ftd%3E%5Cn%3C%5C%2Ftr%3E%5Cn%3C%5C%2Ftable%3E%5Cn%22%2C%221%204%20%22%5D%2C%5B%22%3Ctable%3E%3Ctr%3E%3Ctd%3E%5Cn%3Ctable%3E%3Ctr%3E%3Ctd%3E%5Cn%3Ctable%3E%3Ctr%3E%3Ctd%3E%5Cn%3Ctable%3E%3Ctr%3E%3Ctd%3E%3C%5C%2Ftd%3E%3Ctd%3E%3C%5C%2Ftd%3E%5Cn%3C%5C%2Ftr%3E%3Ctr%3E%3Ctd%3E%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%3C%5C%2Ftd%3E%3C%5C%2Ftr%3E%3C%5C%2Ftable%3E%5Cn%22%2C%221%201%201%203%20%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%5D%2C%22memory%22%3A%5B256000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22vjudge%22%3A%7B%22origin%22%3A%22CodeForces%22%2C%22link%22%3A%22http%3A%5C%2F%5C%2Fcodeforces.com%5C%2Fproblemset%5C%2Fproblem%5C%2F51%5C%2FB%22%2C%22id%22%3A%2251B%22%7D%2C%22translation%22%3A%22%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cn%5Cu5728%5Cu8fd9%5Cu4e2a%5Cu95ee%5Cu9898%5Cu4e2d%5Cuff0c%5Cu4f7f%5Cu7528%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu975e%5Cu5e38%5Cu7b80%5Cu5355%5Cu7684HTML%5Cu8868%5Cu683c%5Cu6807%5Cu8bb0%5Cu7248%5Cu672c%28bHTML%29%5Cu3002%20%5Cu8bf7%5Cu628a%5Cu8fd9%5Cu4e2a%5Cu9648%5Cu8ff0%5Cu4f5c%5Cu4e3a%5Cu9898%5Cu76ee%5Cu7684%5Cu4e00%5Cu90e8%5Cu5206%5Cuff0c%5Cu5e76%5Cu4ed4%5Cu7ec6%5Cu9605%5Cu8bfb%5Cu3002%5Cn%5Cn%5Cu5982%5Cu679c%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cu7b26%5Cu5408%5Cu8bed%5Cu6cd5%5Cuff0c%5Cu5b83%5Cu5c31%5Cu662f%5Cu4e00%5Cu4e2abHTML%5Cu8868%5Cn%5Cn%5Cu8bed%5Cu6cd5%3A%20%3Cbr%3E%3C%5C%2Fbr%3ETABLE%20%3A%3A%3D%20%3Ctable%3EROWS%3C%5C%2Ftable%3E%3Cbr%3E%3C%5C%2Fbr%3EROWS%20%3A%3A%3D%20ROW%20%7C%20ROW%20ROWS%3Cbr%3E%3C%5C%2Fbr%3EROW%20%3A%3A%3D%20%3Ctr%3ECELLS%3C%5C%2Ftr%3E%3Cbr%3E%3C%5C%2Fbr%3ECELLS%20%3A%3A%3D%20CELL%20%7C%20CELL%20CELLS%3Cbr%3E%3C%5C%2Fbr%3ECELL%20%3A%3A%3D%20%3Ctd%3E%3C%5C%2Ftd%3E%20%7C%20%3Ctd%3ETABLE%3C%5C%2Ftd%3E%3Cbr%3E%3C%5C%2Fbr%3E%20%5Cu89e3%5Cu91ca%3A%20%5Cu5728%5Cu8bed%5Cu6cd5%5Cu4e2d%5Cuff0c%5Cu53ea%5Cu662f%5Cu4e3a%5Cu4e86%5Cu8bf4%5Cu660e%5Cu7684%5Cu76ee%5Cu7684%5Cuff0c%5Cu5728%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu6570%5Cu636e%5Cu4e2d%5Cu4e0d%5Cu4f1a%5Cu6709%5Cu7a7a%5Cu683c%5Cu3002%20bHTML%5Cu8868%5Cu683c%5Cu975e%5Cu5e38%5Cu7c7b%5Cu4f3c%5Cu4e8e%5Cu4e00%5Cu4e2a%5Cu7b80%5Cu5355%5Cu7684%5Cu666e%5Cu901aHTML%5Cu8868%5Cu683c%5Cuff0c%5Cu5176%5Cu4e2d%5Cu53ea%5Cu7b26%5Cu5408%5Cu4e0b%5Cu5217%5Cu6807%5Cu7b7e%5Cuff1a%5Cu201ctable%5Cu201d%5Cuff0c%5Cu201ctr%5Cu201d%5Cuff0c%5Cu201ctd%5Cu201d%5Cuff0c%5Cu6240%5Cu6709%5Cu6807%5Cu7b7e%5Cu90fd%5Cu914d%5Cu5bf9%5Cuff0c%5Cu8868%5Cu683c%5Cu81f3%5Cu5c11%5Cu5305%5Cu542b%5Cu4e00%5Cu884c%5Cu548c%5Cu81f3%5Cu5c11%5Cu4e00%5Cu4e2a%5Cu5355%5Cu5143%5Cu683c%5Cu3002%5Cu5728%5Cu6bcf%5Cu4e00%5Cu884c%5Cu4e2d%5Cu3002%5Cu4e3a%5Cu4e86%5Cu66f4%5Cu6df1%5Cu5165%5Cu4e86%5Cu89e3%5Cu9898%5Cu610f%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu770b%5Cu770b%5Cu6837%5Cu672c%5Cu6d4b%5Cu8bd5%5Cuff0c%5Cu5c06%5Cu5176%5Cu4f5c%5Cu4e3a%5Cu8868%5Cu683c%5Cu7684%5Cu4f8b%5Cu5b50%5Cu3002%5Cn%5Cn%5Cu53ef%5Cu4ee5%5Cu770b%5Cu51fa%5Cuff0c%5Cu8868%5Cu683c%5Cu53ef%5Cu4ee5%5Cu5d4c%5Cu5957%5Cu3002%20%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu8868%5Cuff08%5Cu53ef%5Cu80fd%5Cu5305%5Cu542b%5Cu591a%5Cu7ec4%5Cu6570%5Cu636e%5Cuff09%5Cu3002%20%5Cu4f60%5Cu9700%5Cu8981%5Cu7f16%5Cu5199%5Cu4e00%5Cu4e2a%5Cu5206%5Cu6790%5Cu6240%5Cu6709%5Cu8868%5Cu683c%5Cu7684%5Cu7a0b%5Cu5e8f%5Cuff0c%5Cu5e76%5Cu627e%5Cu51fa%5Cu6bcf%5Cu4e2a%5Cu8868%5Cu683c%5Cu4e2d%5Cu7684%5Cu5355%5Cu5143%5Cu683c%5Cu6570%5Cu91cf%5Cu3002%20%5Cu8fd9%5Cu4e9b%5Cu8868%5Cu683c%5Cu4e0d%5Cu9700%5Cu8981%5Cu662f%5Cu77e9%5Cu5f62%5Cu7684%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu4e3a%5Cu4e86%5Cu65b9%5Cu4fbf%5Cu8d77%5Cu89c1%5Cuff0c%5Cu8f93%5Cu5165%5Cu6570%5Cu636e%5Cu53ef%5Cu4ee5%5Cu4ee5%5Cu4efb%5Cu610f%5Cu65b9%5Cu5f0f%5Cu5206%5Cu6210%5Cu975e%5Cu7a7a%5Cu884c%5Cu3002%20%5Cu8f93%5Cu5165%5Cu6570%5Cu636e%5Cu4e0d%5Cu8d85%5Cu8fc710%5Cu884c%5Cu3002%20%5Cu5c06%5Cu6240%5Cu6709%5Cu8f93%5Cu5165%5Cu884c%5Cu7ec4%5Cu5408%5Cuff08%5Cu8fde%5Cu63a5%5Cuff09%5Cu6210%5Cu4e00%5Cu4e2a%5Cuff0c%5Cu4ee5%5Cu83b7%5Cu5f97%5Cu6307%5Cu5b9a%5Cu8868%5Cu7684%5Cu6587%5Cu672c%5Cu8868%5Cu793a%5Cu3002%20%5Cu5b57%5Cu7b26%5Cu4e32s%5Cu5bf9%5Cu5e94%5Cu4e8e%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu8bed%5Cu6cd5%5Cuff08%5Cu8bed%5Cu6cd5%5Cu7684%5Cu6839%5Cu5143%5Cu7d20%5Cu662fTABLE%5Cuff09%5Cuff0c%5Cu5176%5Cu957f%5Cu5ea6%5Cu4e0d%5Cu8d85%5Cu8fc75000.%5Cu53ea%5Cu6709%5Cu5c0f%5Cu5199%5Cu5b57%5Cu6bcd%5Cu7528%5Cu4e8e%5Cu5199%5Cu5165%5Cu6807%5Cu8bb0%5Cu3002%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cu4e2d%5Cu6ca1%5Cu6709%5Cu7a7a%5Cu683c%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu4ee5%5Cu975e%5Cu9012%5Cu51cf%5Cu7684%5Cu987a%5Cu5e8f%5Cu8f93%5Cu51fa%5Cu6240%5Cu6709%5Cu8868%5Cu683c%5Cu7684%5Cu5927%5Cu5c0f%5Cu3002%5Cn%5CnTranslated%20by%20%40Franco%20%22%2C%22tags%22%3A%5B%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A12%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22CF51B%22%2C%22title%22%3A%22bHTML%20Tables%20Analisys%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A32863%2C%22title%22%3A%22%5Cu5927%5Cu6982%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A12443%2C%22name%22%3A%22CF51B%20bHTML%20Tables%20Analisys%22%2C%22slug%22%3A%22CF51B%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22bHTML%20Tables%20Analisys%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>bHTML Tables Analisys</h1>
<h2>题意翻译</h2>
<div>题目描述
在这个问题中，使用了一个非常简单的HTML表格标记版本(bHTML)。 请把这个陈述作为题目的一部分，并仔细阅读。
如果一个字符串符合语法，它就是一个bHTML表
语法: <br></br>TABLE ::= <table>ROWS</table><br></br>ROWS ::= ROW | ROW ROWS<br></br>ROW ::= <tr>CELLS</tr><br></br>CELLS ::= CELL | CELL CELLS<br></br>CELL ::= <td></td> | <td>TABLE</td><br></br> 解释: 在语法中，只是为了说明的目的，在给定的数据中不会有空格。 bHTML表格非常类似于一个简单的普通HTML表格，其中只符合下列标签：“table”，“tr”，“td”，所有标签都配对，表格至少包含一行和至少一个单元格。在每一行中。为了更深入了解题意，请你看看样本测试，将其作为表格的例子。
可以看出，表格可以嵌套。 给你一个表（可能包含多组数据）。 你需要编写一个分析所有表格的程序，并找出每个表格中的单元格数量。 这些表格不需要是矩形的。
输入输出格式
输入格式：
为了方便起见，输入数据可以以任意方式分成非空行。 输入数据不超过10行。 将所有输入行组合（连接）成一个，以获得指定表的文本表示。 字符串s对应于给定的语法（语法的根元素是TABLE），其长度不超过5000.只有小写字母用于写入标记。给定的字符串中没有空格。
输出格式：
以非递减的顺序输出所有表格的大小。
Translated by @Franco </div>
<h2>题目描述</h2>
<div>In this problem is used an extremely simplified version of HTML table markup. Please use the statement as a formal document and read it carefully.
A string is a bHTML table, if it satisfies the grammar:
`<br></br>TABLE ::= <table>ROWS</table><br></br>ROWS ::= ROW | ROW ROWS<br></br>ROW ::= <tr>CELLS</tr><br></br>CELLS ::= CELL | CELL CELLS<br></br>CELL ::= <td></td> | <td>TABLE</td><br></br>`Blanks in the grammar are only for purposes of illustration, in the given data there will be no spaces. The bHTML table is very similar to a simple regular HTML table in which meet only the following tags : "table", "tr", "td", all the tags are paired and the table contains at least one row and at least one cell in each row. Have a look at the sample tests as examples of tables.
As can be seen, the tables may be nested. You are given a table (which may contain other(s)). You need to write a program that analyzes all the tables and finds the number of cells in each of them. The tables are not required to be rectangular.</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>For convenience, input data can be separated into non-empty lines in an arbitrary manner. The input data consist of no more than 10 lines. Combine (concatenate) all the input lines into one, to get a text representation $ s $ of the specified table. String $ s $ corresponds to the given grammar (the root element of grammar is TABLE), its length does not exceed 5000. Only lower case letters are used to write tags. There are no spaces in the given string $ s $ .</div>
<h3>输出格式</h3>
<br />
<div>Print the sizes of all the tables in the non-decreasing order.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 </code></pre>
<h3>输入样例 #2</h3>
<pre><code>&lt;table&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/
td
&gt;&lt;/tr&gt;&lt;tr
&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<h3>输出样例 #2</h3>
<pre><code>1 4 </code></pre>
<h3>输入样例 #3</h3>
<pre><code>&lt;table&gt;&lt;tr&gt;&lt;td&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;
&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1 1 1 3 </code></pre>
</article>
</div>
</div>
</body>
</html>
