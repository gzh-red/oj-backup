<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO17DEC]The Bovine Shuffle - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573381016:7gEutlc7vAD/nl7DKI7bMvEiWpBarDmZyRkEPFqzsew=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%5Cu5f81%5Cu6c42%5Cu7ffb%5Cu8bd1%5Cu3002%5Cu8bf7%5Cu76f4%5Cu63a5%5Cu5728%5Cu8ba8%5Cu8bba%5Cu533a%5Cu53d1%5Cu5e16%5Cu3002%5Cu611f%5Cu8c22%5Cu4f60%5Cu7684%5Cu8d21%5Cu732e%5Cu3002%5Cn%22%2C%22description%22%3A%22Convinced%20that%20happy%20cows%20generate%20more%20milk%2C%20Farmer%20John%20has%20installed%20a%20giant%20disco%20ball%20in%20his%20barn%20and%20plans%20to%20teach%20his%20cows%20to%20dance%21%5Cn%5CnLooking%20up%20popular%20cow%20dances%2C%20Farmer%20John%20decides%20to%20teach%20his%20cows%20the%20%5C%22Bovine%20Shuffle%5C%22.%20The%20Bovine%20Shuffle%20consists%20of%20his%20%24N%24%20cows%20%28%241%20%5C%5Cleq%20N%20%5C%5Cleq%20100%2C000%24%29%20lining%20up%20in%20a%20row%20in%20some%20order%2C%20then%20performing%20successive%20%5C%22shuffles%5C%22%2C%20each%20of%20which%20potentially%20re-orders%20the%20cows.%20To%20make%20it%20easier%20for%20his%20cows%20to%20locate%20themselves%2C%20Farmer%20John%20marks%20the%20locations%20for%20his%20line%20of%20cows%20with%20positions%20%241%20%5C%5Cldots%20N%24%2C%20so%20the%20first%20cow%20in%20the%20lineup%20will%20be%20in%20position%201%2C%20the%20next%20in%20position%202%2C%20and%20so%20on%2C%20up%20to%20position%20%24N%24.%5Cn%5Cn%5CnA%20shuffle%20is%20described%20with%20%24N%24%20numbers%2C%20%24a_1%20%5C%5Cldots%20a_N%24%2C%20where%20a%20cow%20in%20position%20%24i%24%20moves%20to%20position%20%24a_i%24%20during%20the%20shuffle%20%28and%20so%2C%20each%20%24a_i%24%20is%20in%20the%20range%20%241%20%5C%5Cldots%20N%24%29.%20Every%20cow%20moves%20to%20its%20new%20location%20during%20the%20shuffle.%20Unfortunately%2C%20all%20the%20%24a_i%24%27s%20are%20not%20necessarily%20distinct%2C%20so%20multiple%20cows%20might%20try%20to%20move%20to%20the%20same%20position%20during%20a%20shuffle%2C%20after%20which%20they%20will%20move%20together%20for%20all%20remaining%20shuffles.%5Cn%5Cn%5CnFarmer%20John%20notices%20that%20some%20positions%20in%20his%20lineup%20contain%20cows%20in%20them%20no%20matter%20how%20many%20shuffles%20take%20place.%20Please%20help%20him%20count%20the%20number%20of%20such%20positions.%5Cn%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24%2C%20the%20number%20of%20cows.%20The%20next%20line%20contains%20the%20%24N%24%20integers%20%24a_1%20%5C%5Cldots%20a_N%24.%5Cn%22%2C%22outputFormat%22%3A%22Please%20output%20the%20number%20of%20positions%20that%20will%20always%20contain%20cows%2C%20no%20matter%20how%20many%20shuffles%20take%20place.%5Cn%22%2C%22samples%22%3A%5B%5B%224%5Cn3%202%201%203%22%2C%223%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22translation%22%3A%22%5Cu80cc%5Cu666f%5Cn%5CnFJ%5Cu575a%5Cu4fe1%5Cu5feb%5Cu4e50%5Cu7684%5Cu725b%5Cu53ef%5Cu4ee5%5Cu4ea7%5Cu51fa%5Cu66f4%5Cu591a%5Cu7684%5Cu725b%5Cu5976%5Cuff0c%5Cu56e0%5Cu6b64FJ%5Cu5728%5Cu725b%5Cu68da%5Cu91cc%5Cu5b89%5Cu88c5%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu5de8%5Cu5927%5Cu7684%5Cu8fea%5Cu65af%5Cu79d1%5Cu7403%5Cu5e76%5Cu4e14%5Cu6253%5Cu7b97%5Cu8ba9%5Cu5976%5Cu725b%5Cu4eec%5Cu5b66%5Cu4f1a~~%5Cu5c2c~~%5Cu8df3%5Cu821e%5Cu3002%5Cn%5CnFJ%5Cu5728%5Cu8bb8%5Cu591a%5Cu51fa%5Cu540d%5Cu7684%5Cu5976%5Cu725b%5Cu821e%5Cu4e2d%5Cu9009%5Cu62e9%5Cu4e86%5Cu4e00%5Cu79cd%5Cu53eb%5Cu505a%5C%22Bovine%20Shuffle%5C%22%5Cu7684%5Cu821e%5Cu8e48%5Cu3002%5Cu8fd9%5Cu79cd%5Cu821e%5Cu8e48%5Cu7531FJ%5Cu7684%24N%24%20%5Cu5934%5Cu5976%5Cu725b%5Cu7ec4%5Cu6210%5Cu3002N%5Cu5934%5Cu5976%5Cu725b%5Cu4ee5%5Cu4e00%5Cu79cd%5Cu987a%5Cu5e8f%5Cu6392%5Cu6210%5Cu4e00%5Cu884c%5Cuff0c%5Cu63a5%5Cu7740%5Cu8868%5Cu6f14%5Cu6570%5Cu6b21%5C%22shuffle%5C%22%5Cu3002%5Cu6bcf%5Cu6b21%5Cu7684%5C%22shuffle%5C%22%5Cu4f1a%5Cu5c06%5Cu5976%5Cu725b%5Cu91cd%5Cu65b0%5Cu6392%5Cu5217%5Cu3002FJ%5Cu4e3a%5Cu4e86%5Cu8ba9%5Cu5976%5Cu725b%5Cu4eec%5Cu66f4%5Cu52a0happy%5Cuff0c%5Cu8ba9%5Cu5976%5Cu725b%5Cu4eec%5Cu66f4%5Cu5bb9%5Cu6613%5Cu627e%5Cu5230%5Cu91cd%5Cu65b0%5Cu6392%5Cu5217%5Cu540e%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu4ed6%5Cu6807%5Cu8bb0%5Cu4e86%24N%24%20%5Cu5934%5Cu5976%5Cu725b%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cu5728%5Cu6700%5Cu5f00%5Cu59cb%5Cuff0c%5Cu6240%5Cu6709%5Cu5976%5Cu725b%5Cu6392%5Cu6210%5Cu4e00%5Cu6392%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu5934%5Cu5976%5Cu725b%5Cu4f1a%5Cu5728%5Cu4f4d%5Cu7f6e%241%24%20%28%5Cu5750%5Cu6807%3F%29%5Cu4e0a%5Cuff0c%5Cu7b2c%5Cu4e8c%5Cu53ea%5Cu5728%242%24%20%5Cu4e0a%5Cuff0c%5Cu4ee5%5Cu6b64%5Cu7c7b%5Cu63a8%5Cu3002%5Cn%5Cn%5Cu6211%5Cu4eec%5Cu7528%24N%24%20%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%24a_1%2Ca_2...a_n%24%20%5Cu6765%5Cu63cf%5Cu8ff0%5Cu6bcf%5Cu6b21%5Cu7684%5C%22shuffle%5C%22%5Cu3002%24a_i%24%20%5Cu8bf4%5Cu660e%5Cu4e86%5Cu5728%5Cu4f4d%5Cu7f6e%24i%24%20%5Cu4e0a%5Cu7684%5Cu5976%5Cu725b%5Cu5728%5Cu7ecf%5Cu8fc7%5Cu8fd9%5Cu56de%5Cu5408%5Cu7684%5C%22shuffle%5C%22%5Cu4e4b%5Cu540e%5Cuff0c%5Cu4f1a%5Cu8dd1%5Cu5230%5Cu4f4d%5Cu7f6e%24a_i%24%20%5Cu4e0a%5Cu3002%5Cu4ee4FJ%5Cu500d%5Cu611f%5Cu975e%5Cu6d32%5Cu7684%5Cu662f%5Cuff0c%5Cu5373%5Cu4f7f%24i%24%20%5Cu4e0e%24j%24%20%5Cu4e0d%5Cu540c%5Cuff0c%24a_i%24%20%5Cu4e5f%5Cu53ef%5Cu80fd%5Cu4f1a%5Cu7b49%5Cu4e8e%24a_j%24%20%5Cuff01%5Cu6240%5Cu4ee5%5Cu53ef%5Cu80fd%5Cu5728%5Cu4e00%5Cu6b21%5C%22shuffle%5C%22%5Cu540e%5Cuff0c%5Cu6709%5Cu591a%5Cu5934%5Cu5976%5Cu725b%5Cu4f1a%5Cu8dd1%5Cu5230%5Cu540c%5Cu4e00%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cuff0c%5Cu5728%5Cu8fd9%5Cu4e4b%5Cu540e%5Cu8fd9%5Cu7fa4%5Cu5976%5Cu725b%5Cu4e5f%5Cu4f1a%5Cu4e00%5Cu540c%5Cu884c%5Cu52a8%5Cu3002%5Cn%5Cn%5Cu4f5c%5Cu4e3a%5Cu4e00%5Cu540d%5Cu8d44%5Cu6df1%5Cu7684%5Cu517b%5Cu725b%5Cu5927%5Cu6237%26%5Cu5751%5Cu725b%5Cu4e13%5Cu5bb6%5Cu7684FJ%5Cu731b%5Cu7136%5Cu53d1%5Cu73b0%5Cuff0c%5Cu65e0%5Cu8bba%5Cu7ecf%5Cu8fc7%5Cu591a%5Cu5c11%5Cu6b21%5Cu7684%5C%22shuffle%5C%22%5Cuff0c%5Cu4e00%5Cu76f4%5Cu90fd%5Cu6709%24k%24%20%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu6709%5Cu5976%5Cu725b%5Cu3002FJ%5Cu73b0%5Cu5728%5Cu8981%5Cu4f60%5Cu5728%241s%24%20%5Cu5185%5Cu5e2e%5Cu4ed6%5Cu5f97%5Cu51fa%24k%24%20%5Cu7684%5Cu503c%5Cuff0c%5Cu5426%5Cu5219%5Cu5c31%5Cu8d4f%5Cu4f60%241e18mod10%24%20%5Cu5927%5Cu677f%5Cuff01%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%24N%24%20%5Cn%5Cn%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5305%5Cu542b%24N%24%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu63cf%5Cu8ff0%5Cu9898%5Cu76ee%5Cu4e2d%5Cu7684%24a_1%2Ca_2...a_n%24%20%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%5Cn%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu4ee3%5Cu8868%24k%24%20%22%2C%22tags%22%3A%5B34%2C46%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A518%2C%22totalAccepted%22%3A197%2C%22pid%22%3A%22P4089%22%2C%22title%22%3A%22%5BUSACO17DEC%5DThe%20Bovine%20Shuffle%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A33340%2C%22title%22%3A%22%5Cu3010%5Cu7ffb%5Cu8bd1%5Cu3011P4089%22%2C%22forum%22%3A%7B%22id%22%3A8573%2C%22name%22%3A%22P4089%20%5BUSACO17DEC%5DThe%20Bovine%20Shuffle%22%2C%22slug%22%3A%22P4089%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3668%22%2C%22title%22%3A%22%5BUSACO17OPEN%5DModern%20Art%202%20%5Cu73b0%5Cu4ee3%5Cu827a%5Cu672f2%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2158%22%2C%22title%22%3A%22%5BSDOI2008%5D%5Cu4eea%5Cu4ed7%5Cu961f%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4083%22%2C%22title%22%3A%22%5BUSACO17DEC%5DA%20Pie%20for%20a%20Pie%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4086%22%2C%22title%22%3A%22%5BUSACO17DEC%5DMy%20Cow%20Ate%20My%20Homework%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4087%22%2C%22title%22%3A%22%5BUSACO17DEC%5DMilk%20Measurement%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO17DEC%5DThe%20Bovine%20Shuffle%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO17DEC]The Bovine Shuffle</h1>
<h2>题意翻译</h2>
<div>背景
FJ坚信快乐的牛可以产出更多的牛奶，因此FJ在牛棚里安装了一个巨大的迪斯科球并且打算让奶牛们学会~~尬~~跳舞。
FJ在许多出名的奶牛舞中选择了一种叫做"Bovine Shuffle"的舞蹈。这种舞蹈由FJ的$N$ 头奶牛组成。N头奶牛以一种顺序排成一行，接着表演数次"shuffle"。每次的"shuffle"会将奶牛重新排列。FJ为了让奶牛们更加happy，让奶牛们更容易找到重新排列后的位置，他标记了$N$ 头奶牛的位置。在最开始，所有奶牛排成一排，第一头奶牛会在位置$1$ (坐标?)上，第二只在$2$ 上，以此类推。
我们用$N$ 个正整数$a_1,a_2...a_n$ 来描述每次的"shuffle"。$a_i$ 说明了在位置$i$ 上的奶牛在经过这回合的"shuffle"之后，会跑到位置$a_i$ 上。令FJ倍感非洲的是，即使$i$ 与$j$ 不同，$a_i$ 也可能会等于$a_j$ ！所以可能在一次"shuffle"后，有多头奶牛会跑到同一位置上，在这之后这群奶牛也会一同行动。
作为一名资深的养牛大户&坑牛专家的FJ猛然发现，无论经过多少次的"shuffle"，一直都有$k$ 个位置上有奶牛。FJ现在要你在$1s$ 内帮他得出$k$ 的值，否则就赏你$1e18mod10$ 大板！
输入格式
第一行包含一个整数，$N$
第二行包含$N$ 个整数，描述题目中的$a_1,a_2...a_n$
输出格式
一个整数，代表$k$ </div>
<h2>题目背景</h2>
<div>征求翻译。请直接在讨论区发帖。感谢你的贡献。
</div>
<h2>题目描述</h2>
<div>Convinced that happy cows generate more milk, Farmer John has installed a giant disco ball in his barn and plans to teach his cows to dance!
Looking up popular cow dances, Farmer John decides to teach his cows the "Bovine Shuffle". The Bovine Shuffle consists of his $N$ cows ($1 \leq N \leq 100,000$) lining up in a row in some order, then performing successive "shuffles", each of which potentially re-orders the cows. To make it easier for his cows to locate themselves, Farmer John marks the locations for his line of cows with positions $1 \ldots N$, so the first cow in the lineup will be in position 1, the next in position 2, and so on, up to position $N$.
A shuffle is described with $N$ numbers, $a_1 \ldots a_N$, where a cow in position $i$ moves to position $a_i$ during the shuffle (and so, each $a_i$ is in the range $1 \ldots N$). Every cow moves to its new location during the shuffle. Unfortunately, all the $a_i$'s are not necessarily distinct, so multiple cows might try to move to the same position during a shuffle, after which they will move together for all remaining shuffles.
Farmer John notices that some positions in his lineup contain cows in them no matter how many shuffles take place. Please help him count the number of such positions.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$, the number of cows. The next line contains the $N$ integers $a_1 \ldots a_N$.
</div>
<h3>输出格式</h3>
<br />
<div>Please output the number of positions that will always contain cows, no matter how many shuffles take place.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
3 2 1 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
</article>
</div>
</div>
</body>
</html>
