<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO15JAN]电影移动Moovie Mooving - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376428:5MXmV9b0rNzqvmzUTAHWnxjGec4q3yLGoDB6f9abmxw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20is%20out%20at%20the%20movies.%20%20Being%20mischievous%20as%20always%2C%20she%20has%20decided%20to%20hide%20from%20Farmer%20John%20for%20L%20%281%20%3C%3D%20L%20%3C%3D%20100%2C000%2C000%29%20minutes%2C%20during%20which%20time%20she%20wants%20to%20watch%20movies%20continuously.%20She%20has%20N%20%281%20%3C%3D%20N%20%3C%3D%2020%29%20movies%20to%20choose%20from%2C%20each%20of%20which%20has%20a%20certain%20duration%20and%20a%20set%20of%20showtimes%20during%20the%20day.%20%20Bessie%20may%20enter%20and%20exit%20a%20movie%20at%20any%20time%20during%20one%20if%20its%20showtimes%2C%20but%20she%20does%20not%20want%20to%20ever%20visit%20the%20same%20movie%20twice%2C%20and%20she%20cannot%20switch%20to%20another%20showtime%20of%20the%20same%20movie%20that%20overlaps%20the%20current%20showtime.%5Cn%5CnHelp%20Bessie%20by%20determining%20if%20it%20is%20possible%20for%20her%20to%20achieve%20her%20goal%20of%20watching%20movies%20continuously%20from%20time%200%20through%20time%20L.%20%20If%20it%20is%2C%20determine%20the%20minimum%20number%20of%20movies%20she%20needs%20to%20see%20to%20achieve%20this%20goal%20%28Bessie%20gets%20confused%20with%20plot%20lines%20if%20she%20watches%20too%20many%20movies%29.%5Cn%5Cn%5Cu5976%5Cu725b%5Cu8d1d%5Cu897f%5Cu60f3%5Cu8fde%5Cu7eed%5Cu770bL%20%281%20%3C%3D%20L%20%3C%3D%20100%2C000%2C000%29%5Cu5206%5Cu949f%5Cu7684%5Cu7535%5Cu5f71%5Cuff0c%5Cu6709%20N%20%281%20%3C%3D%20N%20%3C%3D%2020%29%5Cu90e8%5Cu7535%5Cu5f71%5Cu53ef%5Cu4f9b%5Cu9009%5Cu62e9%5Cuff0c%5Cu6bcf%5Cu90e8%5Cu7535%5Cu5f71%5Cu4f1a%5Cu5728%5Cu4e00%5Cu5929%5Cu7684%5Cu4e0d%5Cu540c%5Cu65f6%5Cu6bb5%5Cu653e%5Cu6620%5Cu3002%5Cn%5Cn%5Cn%5Cu8d1d%5Cu897f%5Cu53ef%5Cu4ee5%5Cu5728%5Cu4e00%5Cu90e8%5Cu7535%5Cu5f71%5Cu64ad%5Cu653e%5Cu8fc7%5Cu7a0b%5Cu4e2d%5Cu7684%5Cu4efb%5Cu4f55%5Cu65f6%5Cu95f4%5Cu8fdb%5Cu5165%5Cu6216%5Cu9000%5Cu51fa%5Cu653e%5Cu6620%5Cu5385%5Cu3002%5Cu4f46%5Cu5979%5Cu4e0d%5Cu613f%5Cu610f%5Cu91cd%5Cu590d%5Cu770b%5Cu5230%5Cu4e00%5Cu90e8%5Cu7535%5Cu5f71%5Cuff0c%5Cu6240%5Cu4ee5%5Cu6bcf%5Cu90e8%5Cu7535%5Cu5f71%5Cu5979%5Cu6700%5Cu591a%5Cu770b%5Cu5230%5Cu4e00%5Cu6b21%5Cu3002%5Cu5979%5Cu4e5f%5Cu4e0d%5Cu80fd%5Cu5728%5Cu770b%5Cu4e00%5Cu90e8%5Cu7535%5Cu5f71%5Cu7684%5Cu8fc7%5Cu7a0b%5Cu4e2d%5Cuff0c%5Cu6362%5Cu5230%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu5728%5Cu64ad%5Cu653e%5Cu76f8%5Cu540c%5Cu7535%5Cu5f71%5Cu7684%5Cu653e%5Cu6620%5Cu5385%5Cu3002%5Cn%5Cn%5Cn%5Cu8bf7%5Cu5e2e%5Cu8d1d%5Cu897f%5Cu8ba1%5Cu7b97%5Cu5979%5Cu80fd%5Cu591f%5Cu505a%5Cu5230%5Cu4ece0%5Cu5230L%5Cu5206%5Cu949f%5Cu8fde%5Cu7eed%5Cu4e0d%5Cu65ad%5Cu5730%5Cu89c2%5Cu770b%5Cu7535%5Cu5f71%5Cuff0c%5Cu5982%5Cu679c%5Cu80fd%5Cuff0c%5Cu8bf7%5Cu8ba1%5Cu7b97%5Cu5979%5Cu6700%5Cu5c11%5Cu770b%5Cu51e0%5Cu90e8%5Cu7535%5Cu5f71%5Cu5c31%5Cu884c%5Cu4e86%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22INPUT%3A%20%28file%20movie.in%29%20%5Cn%5CnThe%20first%20line%20of%20input%20contains%20N%20and%20L.%5Cn%5CnThe%20next%20N%20lines%20each%20describe%20a%20movie.%20%20They%20begin%20with%20its%20integer%20duration%2C%20D%20%281%20%3C%3D%20D%20%3C%3D%20L%29%20and%20the%20number%20of%20showtimes%2C%20C%20%281%20%3C%3D%20C%20%3C%3D%201000%29.%20%20The%20remaining%20C%20integers%20on%20the%20same%20line%20are%20each%20in%20the%20range%200..L%2C%20and%20give%20the%20starting%20time%20of%20one%20of%20the%20showings%20of%20the%20movie.%20%20Showtimes%20are%20distinct%2C%20in%20the%20range%200..L%2C%20and%20given%20in%20increasing%20order.%5Cn%22%2C%22outputFormat%22%3A%22UTPUT%3A%20%28file%20movie.out%29%20%5Cn%5CnA%20single%20integer%20indicating%20the%20minimum%20number%20of%20movies%20that%20Bessie%5Cn%5Cnneeds%20to%20see%20to%20achieve%20her%20goal.%20%20If%20this%20is%20impossible%20output%20-1%5Cn%5Cninstead.%5Cn%22%2C%22samples%22%3A%5B%5B%224%20100%20%5Cn50%203%2015%2030%2055%20%5Cn40%202%200%2065%20%5Cn30%202%2020%2090%20%5Cn20%201%200%20%5Cn%22%2C%223%20%5Cn%22%5D%5D%2C%22hint%22%3A%22SOLUTION%20NOTES%3A%5Cn%5CnBessie%20should%20attend%20the%20first%20showing%20of%20the%20fourth%20movie%20from%20time%200%5Cn%5Cnto%20time%2020.%20%20Then%20she%20watches%20the%20first%20showing%20of%20the%20first%20movie%5Cn%5Cnfrom%20time%2020%20to%20time%2065.%20%20Finally%20she%20watches%20the%20last%20showing%20of%20the%5Cn%5Cnsecond%20movie%20from%20time%2065%20to%20time%20100.%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C32%2C46%2C56%2C151%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1001%2C%22totalAccepted%22%3A288%2C%22pid%22%3A%22P3118%22%2C%22title%22%3A%22%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A41019%2C%22title%22%3A%22%231%5Cu6570%5Cu636e%5Cu6709%5Cu8bef%22%2C%22forum%22%3A%7B%22id%22%3A2234%2C%22name%22%3A%22P3118%20%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22slug%22%3A%22P3118%22%7D%7D%2C%7B%22id%22%3A16161%2C%22title%22%3A%22%5Cu96be%5Cu9053%5Cu6570%5Cu636e%5Cu6539%5Cu5f3a%5Cu4e86%5Cuff1f%5Cuff1f%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2234%2C%22name%22%3A%22P3118%20%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22slug%22%3A%22P3118%22%7D%7D%2C%7B%22id%22%3A13460%2C%22title%22%3A%22%5Cu6837%5Cu4f8b%5Cu6709%5Cu95ee%5Cu9898%22%2C%22forum%22%3A%7B%22id%22%3A2234%2C%22name%22%3A%22P3118%20%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22slug%22%3A%22P3118%22%7D%7D%2C%7B%22id%22%3A6217%2C%22title%22%3A%22%5Cu5149%5Cu8363%5Cu5361%5Cu5e38%22%2C%22forum%22%3A%7B%22id%22%3A2234%2C%22name%22%3A%22P3118%20%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22slug%22%3A%22P3118%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1879%22%2C%22title%22%3A%22%5BUSACO06NOV%5D%5Cu7389%5Cu7c73%5Cu7530Corn%20Fields%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2051%22%2C%22title%22%3A%22%5BAHOI2009%5D%5Cu4e2d%5Cu56fd%5Cu8c61%5Cu68cb%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2470%22%2C%22title%22%3A%22%5BSCOI2007%5D%5Cu538b%5Cu7f29%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2704%22%2C%22title%22%3A%22%5BNOI2001%5D%5Cu70ae%5Cu5175%5Cu9635%5Cu5730%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3119%22%2C%22title%22%3A%22%5BUSACO15JAN%5D%5Cu8349%5Cu9274%5Cu5b9aGrass%20Cownoisseur%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO15JAN%5D%5Cu7535%5Cu5f71%5Cu79fb%5Cu52a8Moovie%20Mooving%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO15JAN]电影移动Moovie Mooving</h1>
<h2>题目描述</h2>
<div>Bessie is out at the movies. Being mischievous as always, she has decided to hide from Farmer John for L (1 <= L <= 100,000,000) minutes, during which time she wants to watch movies continuously. She has N (1 <= N <= 20) movies to choose from, each of which has a certain duration and a set of showtimes during the day. Bessie may enter and exit a movie at any time during one if its showtimes, but she does not want to ever visit the same movie twice, and she cannot switch to another showtime of the same movie that overlaps the current showtime.
Help Bessie by determining if it is possible for her to achieve her goal of watching movies continuously from time 0 through time L. If it is, determine the minimum number of movies she needs to see to achieve this goal (Bessie gets confused with plot lines if she watches too many movies).
奶牛贝西想连续看L (1 <= L <= 100,000,000)分钟的电影，有 N (1 <= N <= 20)部电影可供选择，每部电影会在一天的不同时段放映。
贝西可以在一部电影播放过程中的任何时间进入或退出放映厅。但她不愿意重复看到一部电影，所以每部电影她最多看到一次。她也不能在看一部电影的过程中，换到另一个正在播放相同电影的放映厅。
请帮贝西计算她能够做到从0到L分钟连续不断地观看电影，如果能，请计算她最少看几部电影就行了。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>INPUT: (file movie.in)
The first line of input contains N and L.
The next N lines each describe a movie. They begin with its integer duration, D (1 <= D <= L) and the number of showtimes, C (1 <= C <= 1000). The remaining C integers on the same line are each in the range 0..L, and give the starting time of one of the showings of the movie. Showtimes are distinct, in the range 0..L, and given in increasing order.
</div>
<h3>输出格式</h3>
<br />
<div>UTPUT: (file movie.out)
A single integer indicating the minimum number of movies that Bessie
needs to see to achieve her goal. If this is impossible output -1
instead.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 100 
50 3 15 30 55 
40 2 0 65 
30 2 20 90 
20 1 0 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3 
</code></pre>
<h2>说明</h2>
<div>SOLUTION NOTES:
Bessie should attend the first showing of the fourth movie from time 0
to time 20. Then she watches the first showing of the first movie
from time 20 to time 65. Finally she watches the last showing of the
second movie from time 65 to time 100.
</div>
</article>
</div>
</div>
</body>
</html>
