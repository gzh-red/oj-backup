<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO17FEB]Why Did the Cow Cross the Road III P - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377164:NPLJ3LgJnVBem5gUXz5QBU4LuqUvcPXwLloR7DfJjl8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Farmer%20John%20is%20continuing%20to%20ponder%20the%20issue%20of%20cows%20crossing%20the%20road%20through%20his%20farm%2C%20introduced%20in%20the%20preceding%20two%20problems.%20He%20realizes%20now%20that%20the%20threshold%20for%20friendliness%20is%20a%20bit%20more%20subtle%20than%20he%20previously%20considered%20--%20breeds%20%24a%24%20and%20%24b%24%20are%20now%20friendly%20if%20%24%7Ca%20-%20b%7C%20%5C%5Cleq%20K%24%2C%20and%20unfriendly%20otherwise.%5CnGiven%20the%20orderings%20of%20fields%20on%20either%20side%20of%20the%20road%20through%20FJ%27s%20farm%2C%20please%20count%20the%20number%20of%20unfriendly%20crossing%20pairs%20of%20breeds%2C%20where%20a%20crossing%20pair%20of%20breeds%20is%20defined%20as%20in%20the%20preceding%20problems.%5Cn%5Cn%5Cu601d%5Cu8003%5Cu8fc7%5Cu524d%5Cu4e24%5Cu4e2a%5Cu95ee%5Cu9898%5Cu540e%5Cuff0c%5Cu519c%5Cu6c11%5Cu7ea6%5Cu7ff0%5Cu6b63%5Cu5728%5Cu7ee7%5Cu7eed%5Cu601d%5Cu8003%5Cu5982%5Cu4f55%5Cu5bf9%5Cu4ed8%5Cu7a7f%5Cu8fc7%5Cu519c%5Cu573a%5Cu7684%5Cu725b%5Cu7684%5Cu95ee%5Cu9898%5Cu3002%20%5Cu4ed6%5Cu73b0%5Cu5728%5Cu610f%5Cu8bc6%5Cu5230%5Cuff0c%5Cu53cb%5Cu597d%5Cu7684%5Cu54c1%5Cu79cd%5Cu7684%5Cu6807%5Cu51c6%5Cu6bd4%5Cu4ed6%5Cu4ee5%5Cu524d%5Cu60f3%5Cu7684%5Cu7a0d%5Cu5fae%5Cu5fae%5Cu5999%5Cu4e00%5Cu4e9b%20-%5Cu5bf9%5Cu4e8e%5Cu54c1%5Cu79cd%24a%2Cb%24%20%5Cu5982%5Cu679c%24%7Ca%20-%20b%7C%20%5C%5Cleq%20K%24%5Cuff0c%5Cu73b0%5Cu5728%5Cu662f%5Cu53cb%5Cu597d%5Cu7684%5Cu3002%20%5Cu5426%5Cu5219%5Cu662f%5Cu4e0d%5Cu53cb%5Cu597d%5Cu7684%5Cu3002%5Cu7ed9%5Cu5b9a%5Cu8fd9%5Cu6761%5Cu8def%5Cu4e24%5Cu8fb9%5Cu7684%5Cu7530%5Cu5730%5Cu7684%5Cu987a%5Cu5e8f%5Cuff0c%5Cu8bf7%5Cu8ba1%5Cu7b97%5Cu6709%5Cu591a%5Cu5c11%5Cu4ea4%5Cu53c9%5Cu7684%5Cu4e0d%5Cu826f%5Cu54c1%5Cu79cd%5Cu5bf9%5Cuff0c%5Cu5176%5Cu4e2d%5Cu4e00%5Cu5bf9%5Cu54c1%5Cu79cd%5Cu5728%5Cu524d%5Cu95ee%5Cu9898%5Cu88ab%5Cu5b9a%5Cu4e49%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24%20%28%241%20%5C%5Cleq%20N%20%5C%5Cleq%20100%2C000%24%29%20and%20%24K%24%20%28%240%20%5C%5Cleq%20K%20%3C%20N%24%29.%20The%20next%20%24N%24%20lines%20describe%20the%20order%2C%20by%20breed%20ID%2C%20of%20fields%20on%20one%20side%20of%20the%20road%3B%20each%20breed%20ID%20is%20an%20integer%20in%20the%20range%20%241%20%5C%5Cldots%20N%24.%20The%20last%20%24N%24%20lines%20describe%20the%20order%2C%20by%20breed%20ID%2C%20of%20the%20fields%20on%20the%20other%20side%20of%20the%20road.%20Each%20breed%20ID%20appears%20exactly%20once%20in%20each%20ordering.%5Cn%5Cn%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%24N%24%20%28%241%20%5C%5Cleq%20N%20%5C%5Cleq%20100%2C000%24%29%5Cu4e0e%24K%24%20%28%240%20%5C%5Cleq%20K%20%3C%20N%24%29%2C%5Cu63a5%5Cu4e0b%5Cu6765%24N%24%5Cu884c%5Cu6309%5Cu987a%5Cu5e8f%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu5c0f%5Cu8def%5Cu4e00%5Cu65c1%5Cu7530%5Cu5730%5Cu7684%5Cu54c1%5Cu79cd%5Cu7684ID%5Cu53f7%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu4e2aID%5Cu53f7%5Cu662f%5Cu4e00%5Cu4e2a%5Cu5728%241...N%24%5Cu4e4b%5Cu95f4%5Cu7684%5Cu6574%5Cu6570%5Cu3002%5Cu5012%5Cu6570%24N%24%5Cu884c%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu5c0f%5Cu8def%5Cu53e6%5Cu4e00%5Cu65c1%5Cu7530%5Cu5730%5Cu7684%5Cu54c1%5Cu79cd%5Cu7684ID%5Cu53f7%5Cu3002%5Cu6bcf%5Cu4e2aID%5Cu53ea%5Cu5728%5Cu4e00%5Cu4e2a%5Cu987a%5Cu5e8f%5Cu4e2d%5Cu51fa%5Cu73b0%5Cu4e00%5Cu6b21%5Cn%22%2C%22outputFormat%22%3A%22Please%20output%20the%20number%20of%20unfriendly%20crossing%20pairs%20of%20breeds.%5Cn%5Cn%5Cu8bf7%5Cu8f93%5Cu51fa%5Cu4e0d%5Cu53cb%5Cu597d%5Cu7684%5Cu54c1%5Cu79cd%5Cu5bf9%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%224%201%5Cn4%5Cn3%5Cn2%5Cn1%5Cn1%5Cn4%5Cn2%5Cn3%22%2C%222%22%5D%5D%2C%22hint%22%3A%22In%20this%20example%2C%20breeds%201%20and%204%20are%20unfriendly%20and%20crossing%2C%20as%20are%20breeds%201%20and%203.%5Cn%5Cn%5Cn%5Cu611f%5Cu8c22%40Adscn%5Cu63d0%5Cu4f9b%5Cu7ffb%5Cu8bd1%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B34%2C46%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A502%2C%22totalAccepted%22%3A142%2C%22pid%22%3A%22P3658%22%2C%22title%22%3A%22%5BUSACO17FEB%5DWhy%20Did%20the%20Cow%20Cross%20the%20Road%20III%20P%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A108349%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu5bf9%5Cu6811%5Cu5957%5Cu6811%5Cu5f88%5Cu4e0d%5Cu53cb%5Cu597d%5Cu554a%5Cu2026%5Cu2026%22%2C%22forum%22%3A%7B%22id%22%3A3695%2C%22name%22%3A%22P3658%20%5BUSACO17FEB%5DWhy%20Did%20the%20Cow%20Cross%20the%20Road%20III%20P%22%2C%22slug%22%3A%22P3658%22%7D%7D%2C%7B%22id%22%3A12915%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A3695%2C%22name%22%3A%22P3658%20%5BUSACO17FEB%5DWhy%20Did%20the%20Cow%20Cross%20the%20Road%20III%20P%22%2C%22slug%22%3A%22P3658%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2048%22%2C%22title%22%3A%22%5BNOI2010%5D%5Cu8d85%5Cu7ea7%5Cu94a2%5Cu7434%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2178%22%2C%22title%22%3A%22%5BNOI2015%5D%5Cu54c1%5Cu9152%5Cu5927%5Cu4f1a%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3157%22%2C%22title%22%3A%22%5BCQOI2011%5D%5Cu52a8%5Cu6001%5Cu9006%5Cu5e8f%5Cu5bf9%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2664%22%2C%22title%22%3A%22%5Cu6811%5Cu4e0a%5Cu6e38%5Cu620f%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4390%22%2C%22title%22%3A%22%5BBOI2007%5DMokia%20%5Cu6469%5Cu57fa%5Cu4e9a%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO17FEB%5DWhy%20Did%20the%20Cow%20Cross%20the%20Road%20III%20P%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO17FEB]Why Did the Cow Cross the Road III P</h1>
<h2>题目描述</h2>
<div>Farmer John is continuing to ponder the issue of cows crossing the road through his farm, introduced in the preceding two problems. He realizes now that the threshold for friendliness is a bit more subtle than he previously considered -- breeds $a$ and $b$ are now friendly if $|a - b| \leq K$, and unfriendly otherwise.
Given the orderings of fields on either side of the road through FJ's farm, please count the number of unfriendly crossing pairs of breeds, where a crossing pair of breeds is defined as in the preceding problems.
思考过前两个问题后，农民约翰正在继续思考如何对付穿过农场的牛的问题。 他现在意识到，友好的品种的标准比他以前想的稍微微妙一些 -对于品种$a,b$ 如果$|a - b| \leq K$，现在是友好的。 否则是不友好的。给定这条路两边的田地的顺序，请计算有多少交叉的不良品种对，其中一对品种在前问题被定义。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$ ($1 \leq N \leq 100,000$) and $K$ ($0 \leq K < N$). The next $N$ lines describe the order, by breed ID, of fields on one side of the road; each breed ID is an integer in the range $1 \ldots N$. The last $N$ lines describe the order, by breed ID, of the fields on the other side of the road. Each breed ID appears exactly once in each ordering.
一行包含$N$ ($1 \leq N \leq 100,000$)与$K$ ($0 \leq K < N$),接下来$N$行按顺序描述了小路一旁田地的品种的ID号，每一个ID号是一个在$1...N$之间的整数。倒数$N$行描述了小路另一旁田地的品种的ID号。每个ID只在一个顺序中出现一次
</div>
<h3>输出格式</h3>
<br />
<div>Please output the number of unfriendly crossing pairs of breeds.
请输出不友好的品种对的数量。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 1
4
3
2
1
1
4
2
3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
<h2>说明</h2>
<div>In this example, breeds 1 and 4 are unfriendly and crossing, as are breeds 1 and 3.
感谢@Adscn提供翻译
</div>
</article>
</div>
</div>
</body>
</html>
