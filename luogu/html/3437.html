<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2006]TET-Tetris 3D - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376893:5IY1OVXOPTLsKdP7puLh819ZGzSLWE3OLG/bor1kz2c=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20authors%20of%20the%20game%20%5C%22Tetris%5C%22%20have%20decided%20to%20make%20a%20new%2C%20three-dimensional%20version%2C%20in%20which%20cuboids%20would%20fall%20down%20on%20a%20rectangular%20platform.%20The%20blocks%20fall%20down%20separately%20in%20a%20certain%20order%2C%20just%20like%20in%20the%20two-dimensional%20game.%20A%20block%20falls%20down%20until%20it%20reaches%20an%20obstacle%3A%20the%20platform%20or%20another%20block%2C%20that%20has%20already%20stopped%20-%20then%20it%20stops%20and%20remains%20in%20this%20exact%20position%20till%20the%20game%20is%20over.%5Cn%5CnHowever%2C%20the%20authors%20wanted%20to%20change%20the%20spirit%20of%20the%20game%2C%20turning%20it%20from%20a%20simple%20arcade-game%20into%20a%20play%20far%20more%20puzzling.%20Knowing%20the%20order%20of%20the%20falling%20blocks%20and%20their%20flight%20path%20the%20player%27s%20task%20is%20to%20tell%20the%20height%20of%20the%20highest%20point%20of%20the%20arrangement%20after%20all%20blocks%20have%20fallen%20down%20%28and%20stopped%29.%20All%20the%20blocks%20are%20falling%20down%20vertically%20and%20do%20not%20rotate%20while%20falling.%20For%20convenience%20we%27ll%20introduce%20a%20cartesian%20coordinate%20system%20on%20the%20platform%2C%20with%20the%20center%20in%20one%20of%20the%20platform%27s%20corners%20and%20the%20axes%20parallel%20to%20the%20platform%27s%20edges.%5Cn%5CnWrite%20a%20programme%20that%20automates%20verification%20of%20the%20player%27s%20answer.%5Cn%5CnTaskWrite%20a%20programme%20that%3A%5Cn%5Cnreads%20the%20descriptions%20of%20subsequent%20falling%20blocks%20from%20the%20standard%20input%2Cdetermines%20the%20height%20of%20the%20highest%20point%20of%20the%20arrangement%20of%20blocks%20after%20all%20have%20fallen%20down%20and%20stopped%2Cwrites%20the%20result%20to%20the%20standard%20output.%5Cn%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu9635%5Cuff0c%5Cu521d%5Cu59cb%5Cu6bcf%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu7684%5Cu5143%5Cu7d20%5Cu90fd%5Cu662f0%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu9009%5Cu62e9%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu77e9%5Cu5f62%5Cuff0c%5Cu5c06%5Cu8fd9%5Cu4e2a%5Cu5b50%5Cu77e9%5Cu5f62%5Cu5185%5Cu7684%5Cu503c%5Cu4fee%5Cu6539%5Cu4e3a%5Cu8fd9%5Cu4e2a%5Cu5b50%5Cu77e9%5Cu5f62%5Cu5185%5Cu7684%5Cu6700%5Cu5927%5Cu503c%2Bh%5Cuff0c%5Cu6c42%5Cu6700%5Cu7ec8%5Cu6240%5Cu6709%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu7684%5Cu6700%5Cu5927%5Cu503c%5Cn%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20of%20the%20input%20there%20are%20three%20integers%20%24D%24%2C%20%24S%24%20and%20%24N%24%20%28%241%5C%5Cle%20N%5C%5Cle%2020%5C%5C%20000%24%2C%20%241%5C%5Cle%20D%2CS%5C%5Cle%201%5C%5C%20000%24%29%2C%20separated%20by%20single%20spaces%20and%20denoting%20respectively%3A%20the%20length%20and%20the%20depth%20of%20the%20platform%20and%20the%20number%20of%20blocks%20that%20are%20going%20to%20fall%20down%20on%20it.%20In%20the%20following%20%24N%24%20lines%20the%20descriptions%20of%20subsequent%20blocks%20are%20given%2C%20one%20in%20each%20line.%5Cn%5CnEach%20description%20of%20a%20block%20consists%20of%20five%20integers%3A%20%24d%24%2C%24s%24%2C%24w%24%2C%24x%24%20and%20%24y%24%20%28%241%5C%5Cle%20d%24%2C%20%240%5C%5Cle%20x%24%2C%20%24d%2Bx%5C%5Cle%20D%24%2C%20%241%5C%5Cle%20s%24%2C%20%240%5C%5Cle%20y%24%2C%20%24s%2By%5C%5Cle%20S%24%2C%20%241%5C%5Cle%20w%5C%5Cle%20100%5C%5C%20000%24%29%2C%20representing%20a%20block%20of%20length%20%24d%24%20depth%20%24s%24%20and%20height%20%24w%24.%20This%20very%20block%20will%20be%20be%20falling%20down%20on%20the%20platform%20with%20its%20%24d%5C%5Ctimes%20s%24%20face%20as%20the%20bottom%2C%20where%20the%20length%20and%20depth%20of%20the%20block%20are%20parallel%20to%20those%20of%20the%20platform.%20The%20coordinates%20of%20the%20vertices%20of%20the%20projection%20of%20the%20block%20on%20the%20platform%20are%3A%20%24%28x%2Cy%29%24%2C%20%24%28x%2Bd%2Cy%29%24%2C%20%24%28x%2Cy%2Bs%29%24%20and%20%24%28x%2Bd%2Cy%2Bs%29%24.%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165D%2CS%2CN%2C%5Cu5c31%5Cu662f%5Cu957f%5Cu5bbd%5Cu548c%5Cu64cd%5Cu4f5c%5Cu6570%5Cn%5Cn%5Cu540e%5Cu9762%5Cu6bcf%5Cu884c%5Cu8bfb%5Cu51655%5Cu4e2a%5Cu6570%5Cuff0cd%2Cs%2Ch%2Cx%2Cy%5Cuff0c%5Cu8868%5Cu793a%5Cu628a%5Cn%5Cn%28x%2Cy%29%2C%28x%2Bd-1%2Cy%29%2C%28x%2Cy%2Bs-1%29%2C%28x%2Bd-1%2Cy%2Bs-1%29%5Cu4e3a%5Cu56db%5Cu9876%5Cu70b9%5Cu7684%5Cu5b50%5Cu77e9%5Cu9635%5Cu8fdb%5Cu884c%5Cu64cd%5Cu4f5c%5Cn%5Cnh%5Cu5c31%5Cu662f%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cu91cc%5Cu7684h%5Cn%5Cn%5Cu6ce8%5Cu610f%5Cu884c%5Cu5217%5Cu662f%5Cu4ece0%5Cu5f00%5Cu59cb%5Cu6570%5Cu7684%5Cn%22%2C%22outputFormat%22%3A%22The%20first%20and%20only%20line%20of%20the%20standard%20output%20should%20contain%20exactly%20one%20integer%2C%20the%20height%20of%20the%20highest%20point%20of%20the%20arrangement%20of%20blocks%20after%20all%20have%20fallen%20down%20and%20stopped.%5Cn%22%2C%22samples%22%3A%5B%5B%227%205%204%5Cn4%203%202%200%200%5Cn3%203%201%203%200%5Cn7%201%202%200%203%5Cn2%203%203%202%202%22%2C%226%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%2C1500%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B23%2C42%2C57%2C224%2C226%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1524%2C%22totalAccepted%22%3A437%2C%22pid%22%3A%22P3437%22%2C%22title%22%3A%22%5BPOI2006%5DTET-Tetris%203D%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A162322%2C%22title%22%3A%22%5Cu636e%5Cu53ef%5Cu9760%5Cu8d44%5Cu6599%5Cu663e%5Cu793a82.4%25%5Cu8fdb%5Cu6765%5Cu7684%5Cu4eba%5Cu90fd%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%2C%7B%22id%22%3A125638%2C%22title%22%3A%22%5Cu53cc%5Cu500d%5Cu7ecf%5Cu9a8c%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%2C%7B%22id%22%3A97636%2C%22title%22%3A%22%5Cu540c%5Cu6837%5Cu7684%5Cu95ee%5Cu9898%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%2C%7B%22id%22%3A86663%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu597d%5Cu641e%5Cu7b11%5Cu554a%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%2C%7B%22id%22%3A44914%2C%22title%22%3A%22%5Cu672c%5Cu849f%5Cu84bb%20%5Cu4e8c%5Cu7ef4%5Cu7ebf%5Cu6bb5%5Cu6811%5Cu9047%5Cu74f6%5Cu9888%5Cuff0c%5Cu6c42%5Cu5e2e%5Cu52a9QAQ%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%2C%7B%22id%22%3A40668%2C%22title%22%3A%22%5Cu6211%5Cu6709%5Cu4e2a%5Cu95ee%5Cu9898%22%2C%22forum%22%3A%7B%22id%22%3A2691%2C%22name%22%3A%22P3437%20%5BPOI2006%5DTET-Tetris%203D%22%2C%22slug%22%3A%22P3437%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1502%22%2C%22title%22%3A%22%5Cu7a97%5Cu53e3%5Cu7684%5Cu661f%5Cu661f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2042%22%2C%22title%22%3A%22%5BNOI2005%5D%5Cu7ef4%5Cu62a4%5Cu6570%5Cu5217%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2471%22%2C%22title%22%3A%22%5BSCOI2007%5D%5Cu964d%5Cu96e8%5Cu91cf%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3380%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu4e8c%5Cu903c%5Cu5e73%5Cu8861%5Cu6811%5Cuff08%5Cu6811%5Cu5957%5Cu6811%5Cuff09%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3899%22%2C%22title%22%3A%22%5B%5Cu6e56%5Cu5357%5Cu96c6%5Cu8bad%5D%5Cu8c08%5Cu7b11%5Cu98ce%5Cu751f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2006%5DTET-Tetris%203D%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2006]TET-Tetris 3D</h1>
<h2>题目描述</h2>
<div>The authors of the game "Tetris" have decided to make a new, three-dimensional version, in which cuboids would fall down on a rectangular platform. The blocks fall down separately in a certain order, just like in the two-dimensional game. A block falls down until it reaches an obstacle: the platform or another block, that has already stopped - then it stops and remains in this exact position till the game is over.
However, the authors wanted to change the spirit of the game, turning it from a simple arcade-game into a play far more puzzling. Knowing the order of the falling blocks and their flight path the player's task is to tell the height of the highest point of the arrangement after all blocks have fallen down (and stopped). All the blocks are falling down vertically and do not rotate while falling. For convenience we'll introduce a cartesian coordinate system on the platform, with the center in one of the platform's corners and the axes parallel to the platform's edges.
Write a programme that automates verification of the player's answer.
TaskWrite a programme that:
reads the descriptions of subsequent falling blocks from the standard input,determines the height of the highest point of the arrangement of blocks after all have fallen down and stopped,writes the result to the standard output.
给定一个矩阵，初始每个位置上的元素都是0，每次选择一个子矩形，将这个子矩形内的值修改为这个子矩形内的最大值+h，求最终所有位置上的最大值
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line of the input there are three integers $D$, $S$ and $N$ ($1\le N\le 20\ 000$, $1\le D,S\le 1\ 000$), separated by single spaces and denoting respectively: the length and the depth of the platform and the number of blocks that are going to fall down on it. In the following $N$ lines the descriptions of subsequent blocks are given, one in each line.
Each description of a block consists of five integers: $d$,$s$,$w$,$x$ and $y$ ($1\le d$, $0\le x$, $d+x\le D$, $1\le s$, $0\le y$, $s+y\le S$, $1\le w\le 100\ 000$), representing a block of length $d$ depth $s$ and height $w$. This very block will be be falling down on the platform with its $d\times s$ face as the bottom, where the length and depth of the block are parallel to those of the platform. The coordinates of the vertices of the projection of the block on the platform are: $(x,y)$, $(x+d,y)$, $(x,y+s)$ and $(x+d,y+s)$.
第一行输入D,S,N,就是长宽和操作数
后面每行读入5个数，d,s,h,x,y，表示把
(x,y),(x+d-1,y),(x,y+s-1),(x+d-1,y+s-1)为四顶点的子矩阵进行操作
h就是题目描述里的h
注意行列是从0开始数的
</div>
<h3>输出格式</h3>
<br />
<div>The first and only line of the standard output should contain exactly one integer, the height of the highest point of the arrangement of blocks after all have fallen down and stopped.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7 5 4
4 3 2 0 0
3 3 1 3 0
7 1 2 0 3
2 3 3 2 2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6</code></pre>
</article>
</div>
</div>
</body>
</html>
