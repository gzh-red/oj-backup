<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO11NOV]牛的障碍Cow Steeplechase - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376309:npfQqcjoYz5sjWAm++cyL0NKkVmlF6tNGB90kr4Oj3k=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Farmer%20John%20has%20a%20brilliant%20idea%20for%20the%20next%20great%20spectator%20sport%3A%20Cow%20Steeplechase%21%20As%20everyone%20knows%2C%20regular%20steeplechase%20involves%20a%20group%20of%20horses%20that%20race%20around%20a%20course%20filled%20with%20obstacles%20they%20must%20jump%20over.%20FJ%20figures%20the%20same%20contest%20should%20work%20with%20highly-trained%20cows%2C%20as%20long%20as%20the%20obstacles%20are%20made%20short%20enough.%5Cn%5CnIn%20order%20to%20design%20his%20course%2C%20FJ%20makes%20a%20diagram%20of%20all%20the%20N%20%281%20%3C%3D%20N%20%3C%3D%20250%29%20possible%20obstacles%20he%20could%20potentially%20build.%20Each%20one%20is%20represented%20by%20a%20line%20segment%20in%20the%202D%20plane%20that%20is%20parallel%20to%20the%20horizontal%20or%20vertical%20axis.%20Obstacle%20i%20has%20distinct%20endpoints%20%28X1%5C%5C_i%2C%20Y1%5C%5C_i%29%20and%20%28X2%5C%5C_i%2C%20Y2%5C%5C_i%29%20%281%20%3C%3D%20X1%5C%5C_i%2C%20Y1%5C%5C_i%2C%20X2%5C%5C_i%2C%20Y2%5C%5C_i%20%3C%3D%201%2C000%2C000%2C000%29.%20An%20example%20is%20as%20follows%3A%5Cn%5Cn%60%60%60cpp%5Cn%5Cn%20%20%20--%2B-------%20%20%20%5Cn-----%2B-----%5Cn%20%20---%2B---%20%20%20%20%20%7C%5Cn%20%20%20%20%20%7C%20%20%20%20%20%7C%20%20%7C%5Cn%20%20%20--%2B-----%2B--%2B-%20%20%20%7C%5Cn%20%20%20%20%20%7C%20%20%20%20%20%7C%20%20%7C%20%20%7C%20%7C%5Cn%20%20%20%20%20%7C%20%20%20--%2B--%2B--%2B-%2B-%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%20%20%7C%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%5Cn%60%60%60%5CnFJ%20would%20like%20to%20build%20as%20many%20of%20these%20obstacles%20as%20possible%2C%20subject%20to%20the%20constraint%20that%20no%20two%20of%20them%20intersect.%20Starting%20with%20the%20diagram%20above%2C%20FJ%20can%20build%207%20obstacles%3A%5Cn%5Cn%60%60%60cpp%5Cn%5Cn%20%20%20----------%20%20%20%5Cn-----------%5Cn%20%20-------%20%20%20%20%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%20%20%20%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%20%20%7C%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%20%20%7C%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%7C%20%20%7C%20%20%7C%20%7C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7C%5Cn%5Cn%60%60%60%5CnTwo%20segments%20are%20said%20to%20intersect%20if%20they%20share%20any%20point%20in%20common%2C%20even%20an%20endpoint%20of%20one%20or%20both%20of%20the%20segments.%20%20FJ%20is%20certain%20that%20no%20two%20horizontal%20segments%20in%20the%20original%20input%20diagram%20will%20intersect%2C%20and%20that%20similarly%20no%20two%20vertical%20segments%20in%20the%20input%20diagram%20will%20intersect.%5Cn%5CnPlease%20help%20FJ%20determine%20the%20maximum%20number%20of%20obstacles%20he%20can%20build.%5Cn%5Cn%5Cu7ed9%5Cu51faN%5Cu5e73%5Cu884c%5Cu4e8e%5Cu5750%5Cu6807%5Cu8f74%5Cu7684%5Cu7ebf%5Cu6bb5%5Cuff0c%5Cu8981%5Cu4f60%5Cu9009%5Cu51fa%5Cu5c3d%5Cu91cf%5Cu591a%5Cu7684%5Cu7ebf%5Cu6bb5%5Cu4f7f%5Cu5f97%5Cu8fd9%5Cu4e9b%5Cu7ebf%5Cu6bb5%5Cu4e24%5Cu4e24%5Cu6ca1%5Cu6709%5Cu4ea4%5Cu70b9%5Cuff08%5Cu9876%5Cu70b9%5Cu4e5f%5Cu7b97%5Cuff09%5Cuff0c%5Cu6a2a%5Cu7684%5Cu4e0e%5Cu6a2a%5Cu7684%5Cuff0c%5Cu7ad6%5Cu7684%5Cu4e0e%5Cu7ad6%5Cu7684%5Cu7ebf%5Cu6bb5%5Cu4e4b%5Cu95f4%5Cu4fdd%5Cu8bc1%5Cu6ca1%5Cu6709%5Cu4ea4%5Cu70b9%5Cuff0c%5Cu8f93%5Cu51fa%5Cu6700%5Cu591a%5Cu80fd%5Cu9009%5Cu51fa%5Cu591a%5Cu5c11%5Cu6761%5Cu7ebf%5Cu6bb5%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20integer%3A%20N.%5Cn%5Cn%5C%5C%2A%20Lines%202..N%2B1%3A%20Line%20i%2B1%20contains%20four%20space-separated%20integers%20representing%20an%20obstacle%3A%20X1%5C%5C_i%2C%20Y1%5C%5C_i%2C%20X2%5C%5C_i%2C%20and%20Y2%5C%5C_i.%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20The%20maximum%20number%20of%20non-crossing%20segments%20FJ%20can%20choose.%5Cn%22%2C%22samples%22%3A%5B%5B%223%20%5Cn4%205%2010%205%20%5Cn6%202%206%2012%20%5Cn8%203%208%205%20%5Cn%22%2C%222%20%5Cn%22%5D%5D%2C%22hint%22%3A%22There%20are%20three%20potential%20obstacles.%20The%20first%20is%20a%20horizontal%20segment%20connecting%20%284%2C%205%29%20to%20%2810%2C%205%29%3B%20the%20second%20and%20third%20are%20vertical%20segments%20connecting%20%286%2C%202%29%20to%20%286%2C%2012%29%20and%20%288%2C%203%29%20to%20%288%2C%205%29.%5Cn%5Cn%5CnThe%20optimal%20solution%20is%20to%20choose%20both%20vertical%20segments.%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B28%2C46%2C55%2C187%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A490%2C%22totalAccepted%22%3A183%2C%22pid%22%3A%22P3033%22%2C%22title%22%3A%22%5BUSACO11NOV%5D%5Cu725b%5Cu7684%5Cu969c%5Cu788dCow%20Steeplechase%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A82386%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%2040%5Cu5206%5Cu4ee3%5Cu7801%20%5Cu5308%5Cu7259%5Cu5229%5Cu6700%5Cu5927%5Cu72ec%5Cu7acb%5Cu96c6%22%2C%22forum%22%3A%7B%22id%22%3A1954%2C%22name%22%3A%22P3033%20%5BUSACO11NOV%5D%5Cu725b%5Cu7684%5Cu969c%5Cu788dCow%20Steeplechase%22%2C%22slug%22%3A%22P3033%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1963%22%2C%22title%22%3A%22%5BNOI2009%5D%5Cu53d8%5Cu6362%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2469%22%2C%22title%22%3A%22%5BSDOI2010%5D%5Cu661f%5Cu9645%5Cu7ade%5Cu901f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2825%22%2C%22title%22%3A%22%5BHEOI2016%5C%2FTJOI2016%5D%5Cu6e38%5Cu620f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4014%22%2C%22title%22%3A%22%5Cu5206%5Cu914d%5Cu95ee%5Cu9898%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4304%22%2C%22title%22%3A%22%5BTJOI2013%5D%5Cu653b%5Cu51fb%5Cu88c5%5Cu7f6e%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO11NOV%5D%5Cu725b%5Cu7684%5Cu969c%5Cu788dCow%20Steeplechase%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO11NOV]牛的障碍Cow Steeplechase</h1>
<h2>题目描述</h2>
<div>Farmer John has a brilliant idea for the next great spectator sport: Cow Steeplechase! As everyone knows, regular steeplechase involves a group of horses that race around a course filled with obstacles they must jump over. FJ figures the same contest should work with highly-trained cows, as long as the obstacles are made short enough.
In order to design his course, FJ makes a diagram of all the N (1 <= N <= 250) possible obstacles he could potentially build. Each one is represented by a line segment in the 2D plane that is parallel to the horizontal or vertical axis. Obstacle i has distinct endpoints (X1\_i, Y1\_i) and (X2\_i, Y2\_i) (1 <= X1\_i, Y1\_i, X2\_i, Y2\_i <= 1,000,000,000). An example is as follows:
```cpp
--+-------
-----+-----
---+--- |
| | |
--+-----+--+- |
| | | | |
| --+--+--+-+-
| | | |
|
```
FJ would like to build as many of these obstacles as possible, subject to the constraint that no two of them intersect. Starting with the diagram above, FJ can build 7 obstacles:
```cpp
----------
-----------
------- |
| |
| | |
| | | |
| | | |
| | | |
|
```
Two segments are said to intersect if they share any point in common, even an endpoint of one or both of the segments. FJ is certain that no two horizontal segments in the original input diagram will intersect, and that similarly no two vertical segments in the input diagram will intersect.
Please help FJ determine the maximum number of obstacles he can build.
给出N平行于坐标轴的线段，要你选出尽量多的线段使得这些线段两两没有交点（顶点也算），横的与横的，竖的与竖的线段之间保证没有交点，输出最多能选出多少条线段。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: A single integer: N.
\* Lines 2..N+1: Line i+1 contains four space-separated integers representing an obstacle: X1\_i, Y1\_i, X2\_i, and Y2\_i.
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: The maximum number of non-crossing segments FJ can choose.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 
4 5 10 5 
6 2 6 12 
8 3 8 5 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2 
</code></pre>
<h2>说明</h2>
<div>There are three potential obstacles. The first is a horizontal segment connecting (4, 5) to (10, 5); the second and third are vertical segments connecting (6, 2) to (6, 12) and (8, 3) to (8, 5).
The optimal solution is to choose both vertical segments.
</div>
</article>
</div>
</div>
</body>
</html>
