<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO09FEB]股票市场Stock Market - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376168:7cVieCXQhbEnjX9kSIuqLT33GAJSOSvz7Rs+hitI7pw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Despite%20their%20innate%20prudence%2C%20the%20cows%20took%20a%20beating%20in%20the%20home%20mortgage%20market%20and%20now%20are%20trying%20their%20hand%20at%20stocks.%20Happily%2C%20Bessie%20is%20prescient%20and%20knows%20not%20only%20today%27s%20S%20%282%20%3C%3D%20S%20%3C%3D%2050%29%20stock%20prices%20but%20also%20the%20future%20stock%20prices%20for%20a%20total%20of%20D%20days%20%282%20%3C%3D%20D%20%3C%3D%2010%29.%5Cn%5CnGiven%20the%20matrix%20of%20current%20and%20future%20stock%20prices%20on%20various%20days%20%281%20%3C%3D%20PR%5C%5C_sd%20%3C%3D%201%2C000%29%20and%20an%20initial%20M%20%281%20%3C%3D%20M%20%3C%3D%20200%2C000%29%20units%20of%20money%2C%20determine%20an%20optimal%20buying%20and%20selling%20strategy%20in%20order%20to%20maximize%20the%20gain%20realized%20by%20selling%20stock%20on%20the%20final%20day.%20Shares%20must%20be%20purchased%20in%20integer%20multiples%2C%20and%20you%20need%20not%20spend%20all%20the%20money%20%28or%20any%20money%29.%20It%20is%20guaranteed%20that%20you%20will%20not%20be%20able%20to%20earn%20a%20profit%20of%20more%20than%20500%2C000%20units%20of%20money.%5Cn%5CnConsider%20the%20example%20below%20of%20a%20bull%20%28i.e.%2C%20improving%29%20market%2C%20the%20kind%20Bessie%20likes%20most.%20In%20this%20case%2C%20S%3D2%20stocks%20and%20D%3D3%20days.%20The%20cows%20have%2010%20units%20of%20money%20to%20invest.%5Cn%5Cn%7CStock%7CToday%27s%20price%7C%20%20%20Tomorrow%27s%20price%7C%20%20%20%7C%20%20Two%20days%20hence%20Stock%20%7C%20%20%20%7C%20%5Cn%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%5Cn%7C%20%24A%24%20%7C%2010%20%7C%2015%20%7C%2015%20%7C%5Cn%7C%24B%24%20%20%7C%2013%7C%20%2011%7C20%20%20%7C%5Cn%5CnIf%20money%20is%20to%20be%20made%2C%20the%20cows%20must%20purchase%20stock%201%20on%20day%201.%20Selling%20stock%201%20on%20day%202%20and%20quickly%20buying%20stock%202%20yields%204%20money%20in%20the%20bank%20and%20one%20share%20of%202.%20Selling%20stock%202%20on%20the%20final%20day%20brings%20in%2020%20money%20for%20a%20total%20of%2024%20money%20when%20the%2020%20is%20added%20to%20the%20bank.%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Three%20space-separated%20integers%3A%20S%2C%20D%2C%20and%20M%5Cn%5Cn%5C%5C%2A%20Lines%202..S%2B1%3A%20Line%20s%2B1%20contains%20the%20D%20prices%20for%20stock%20s%20on%20days%201..D%3A%20PR%5C%5C_sd%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20The%20maximum%20amount%20of%20money%20possible%20to%20have%20after%20selling%20on%20day%20D.%5Cn%22%2C%22samples%22%3A%5B%5B%222%203%2010%20%5Cn10%2015%2015%20%5Cn13%2011%2020%20%5Cn%22%2C%2224%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%2C2000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22translation%22%3A%22%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cu5c3d%5Cu7ba1%5Cu5976%5Cu725b%5Cu5929%5Cu751f%5Cu8c28%5Cu614e%5Cuff0c%5Cu5b83%5Cu4eec%5Cu4ecd%5Cu7136%5Cu5728%5Cu4f4f%5Cu623f%5Cu62b5%5Cu62bc%5Cu4fe1%5Cu8d37%5Cu5e02%5Cu573a%5Cu4e2d%5Cu5927%5Cu53d7%5Cu6253%5Cu51fb%5Cuff0c%5Cu73b0%5Cu5728%5Cu5b83%5Cu4eec%5Cu51c6%5Cu5907%5Cu5728%5Cu80a1%5Cu5e02%5Cu4e0a%5Cu78b0%5Cu78b0%5Cu8fd0%5Cu6c14%5Cu3002%5Cu8d1d%5Cu897f%5Cu6709%5Cu5185%5Cu90e8%5Cu6d88%5Cu606f%5Cuff0c%5Cu5979%5Cu77e5%5Cu9053%20%24S%24%20%5Cu53ea%5Cu80a1%5Cu7968%5Cu5728%5Cu4eca%5Cu540e%20%24D%24%20%5Cu5929%5Cu5185%5Cu7684%5Cu4ef7%5Cu683c%5Cu3002%5Cn%5Cn%5Cu5047%5Cu8bbe%5Cu5728%5Cu4e00%5Cu5f00%5Cu59cb%5Cuff0c%5Cu5979%5Cu7b79%5Cu96c6%5Cu4e86%20%24M%24%20%5Cu5143%5Cu94b1%5Cuff0c%5Cu90a3%5Cu4e48%5Cu5979%5Cu8be5%5Cu600e%5Cu6837%5Cu64cd%5Cu4f5c%5Cu624d%5Cu80fd%5Cu8d5a%5Cu5230%5Cu6700%5Cu591a%5Cu7684%5Cu94b1%5Cu5462%5Cuff1f%5Cu8d1d%5Cu897f%5Cu5728%5Cu6bcf%5Cu5929%5Cu53ef%5Cu4ee5%5Cu4e70%5Cu5356%5Cu591a%5Cu53ea%5Cu80a1%5Cu7968%5Cuff0c%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu591a%5Cu6b21%5Cu4e70%5Cu5356%5Cu540c%5Cu4e00%5Cu53ea%5Cu80a1%5Cu7968%5Cuff0c%5Cu4ea4%5Cu6613%5Cu5355%5Cu4f4d%5Cu5fc5%5Cu987b%5Cu662f%5Cu6574%5Cu6570%5Cuff0c%5Cu6570%5Cu91cf%5Cu4e0d%5Cu9650%5Cu3002%5Cu4e3e%5Cu4e00%5Cu4e2a%5Cu725b%5Cu5e02%5Cu7684%5Cu4f8b%5Cu5b50%5Cuff1a%5Cn%5Cn%5Cu5047%5Cu8bbe%5Cu8d1d%5Cu897f%5Cu6709%2010%20%5Cu5143%5Cu672c%5Cu91d1%5Cuff0c%5Cu80a1%5Cu7968%5Cu4ef7%5Cu683c%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5Cn%7C%20%5Cu80a1%5Cu7968%20%7C%20%20%5Cu4eca%5Cu5929%5Cu7684%5Cu4ef7%5Cu683c%20%7C%20%20%5Cu660e%5Cu5929%5Cu7684%5Cu4ef7%5Cu683c%20%7C%20%5Cu540e%5Cu5929%5Cu7684%5Cu4ef7%5Cu683c%20%20%7C%5Cn%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%20%3A-----------%3A%20%7C%5Cn%7C%20%24A%24%20%7C%2010%20%7C%2015%20%7C%2015%20%7C%5Cn%7C%24B%24%20%20%7C%2013%7C%20%2011%7C20%20%20%7C%5Cn%5Cn%5Cn%5Cu6700%5Cu8d5a%5Cu94b1%5Cu7684%5Cu505a%5Cu6cd5%5Cu662f%5Cuff1a%5Cu4eca%5Cu5929%5Cu4e70%5Cu5165%20%24A%24%20%5Cu80a1%201%20%5Cu5f20%5Cuff0c%5Cu5230%5Cu660e%5Cu5929%5Cu628a%5Cu5b83%5Cu5356%5Cu6389%5Cu5e76%5Cu4e14%5Cu4e70%5Cu5165%20B%20%5Cu80a1%201%20%5Cu5f20%5Cuff0c%5Cu5728%5Cu540e%5Cu5929%5Cu5356%5Cu6389%20B%5Cu80a1%5Cuff0c%5Cu8fd9%5Cu6837%5Cu8d1d%5Cu897f%5Cu5c31%5Cu6709%2024%20%5Cu5143%5Cu4e86%5Cu3002%5Cn%5Cn%23%20%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%20%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cuff1a%5Cu4e09%5Cu4e2a%5Cu6574%5Cu6570%20S%5Cuff0c%20D%20%5Cu548c%20M%5Cuff0c%24%202%20%5Cu2264%20S%20%5Cu2264%2050%24%20%3B%20%24%202%20%5Cu2264%20D%20%5Cu2264%2010%24%20%3B%20%24%201%20%5Cu2264%20M%20%5Cu2264%20200000%24%5Cn%5Cn%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu5230%5Cu7b2c%20S%20%2B%201%20%5Cu884c%5Cuff1a%5Cu7b2c%20i%20%2B%201%20%5Cu884c%5Cu6709%20D%20%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1a%20%24P_%7Bi%3B1%7D%24%20%5Cu5230%20%24P_%7Bi%3BD%7D%24%5Cuff0c%5Cu8868%5Cu793a%5Cu7b2c%20%24i%24%20%5Cu79cd%5Cu80a1%5Cu7968%5Cu5728%5Cu7b2c%5Cu4e00%5Cu5929%5Cu5230%5Cu6700%5Cu540e%5Cu4e00%5Cu5929%5Cu7684%5Cu552e%5Cu4ef7%5Cuff0c%5Cu5bf9%5Cu6240%5Cu6709%24%201%20%5Cu2264%20j%20%5Cu2264%20D%24%5Cuff0c%24%201%20%5Cu2264%20Pi%24%3B%24j%20%5Cu2264%201000%24%5Cn%23%20%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cn%20%5Cu5355%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1a%5Cu8868%5Cu793a%5Cu5976%5Cu725b%5Cu53ef%5Cu4ee5%5Cu83b7%5Cu5f97%5Cu7684%5Cu6700%5Cu5927%5Cu94b1%5Cu6570%5Cuff0c%5Cu4fdd%5Cu8bc1%5Cu8fd9%5Cu4e2a%5Cu6570%5Cu4e0d%5Cu4f1a%5Cu8d85%5Cu8fc7%20%24500000%24%22%2C%22tags%22%3A%5B26%2C46%2C139%2C160%2C253%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1850%2C%22totalAccepted%22%3A471%2C%22pid%22%3A%22P2938%22%2C%22title%22%3A%22%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A139046%2C%22title%22%3A%22%5Cu5efa%5Cu8bae%5Cu5f00%5Cu5927%5Cu65f6%5Cu9650%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%2C%7B%22id%22%3A116513%2C%22title%22%3A%22%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu4f1aTLE%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%2C%7B%22id%22%3A89271%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu6539%5Cu8fdb%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%2C%7B%22id%22%3A71057%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu6539%5Cu8fdb%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%2C%7B%22id%22%3A19096%2C%22title%22%3A%2223%5Cu5206%5Cuff0c%5Cu5f88%5Cu591a%5Cu70b9RE%5Cu4e86%5Cuff0c%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%2C%7B%22id%22%3A10386%2C%22title%22%3A%22%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu70b9%5Cu8fc7%5Cu4e0d%5Cu4e86%5Cuff0c%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2067%2C%22name%22%3A%22P2938%20%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22slug%22%3A%22P2938%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1282%22%2C%22title%22%3A%22%5Cu591a%5Cu7c73%5Cu8bfa%5Cu9aa8%5Cu724c%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1776%22%2C%22title%22%3A%22%5Cu5b9d%5Cu7269%5Cu7b5b%5Cu9009_NOI%5Cu5bfc%5Cu520a2010%5Cu63d0%5Cu9ad8%5Cuff0802%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2851%22%2C%22title%22%3A%22%5BUSACO06DEC%5D%5Cu6700%5Cu5c11%5Cu7684%5Cu786c%5Cu5e01The%20Fewest%20Coins%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2889%22%2C%22title%22%3A%22%5BUSACO07NOV%5D%5Cu6324%5Cu5976%5Cu7684%5Cu65f6%5Cu95f4Milking%20Time%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4141%22%2C%22title%22%3A%22%5Cu6d88%5Cu5931%5Cu4e4b%5Cu7269%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO09FEB%5D%5Cu80a1%5Cu7968%5Cu5e02%5Cu573aStock%20Market%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO09FEB]股票市场Stock Market</h1>
<h2>题意翻译</h2>
<div># 题目描述
尽管奶牛天生谨慎，它们仍然在住房抵押信贷市场中大受打击，现在它们准备在股市上碰碰运气。贝西有内部消息，她知道 $S$ 只股票在今后 $D$ 天内的价格。
假设在一开始，她筹集了 $M$ 元钱，那么她该怎样操作才能赚到最多的钱呢？贝西在每天可以买卖多只股票，也可以多次买卖同一只股票，交易单位必须是整数，数量不限。举一个牛市的例子：
假设贝西有 10 元本金，股票价格如下：
| 股票 | 今天的价格 | 明天的价格 | 后天的价格 |
| :-----------: | :-----------: | :-----------: | :-----------: |
| $A$ | 10 | 15 | 15 |
|$B$ | 13| 11|20 |
最赚钱的做法是：今天买入 $A$ 股 1 张，到明天把它卖掉并且买入 B 股 1 张，在后天卖掉 B股，这样贝西就有 24 元了。
# 输入格式
第一行：三个整数 S， D 和 M，$ 2 ≤ S ≤ 50$ ; $ 2 ≤ D ≤ 10$ ; $ 1 ≤ M ≤ 200000$
第二行到第 S + 1 行：第 i + 1 行有 D 个整数： $P_{i;1}$ 到 $P_{i;D}$，表示第 $i$ 种股票在第一天到最后一天的售价，对所有$ 1 ≤ j ≤ D$，$ 1 ≤ Pi$;$j ≤ 1000$
# 输出格式
单个整数：表示奶牛可以获得的最大钱数，保证这个数不会超过 $500000$</div>
<h2>题目描述</h2>
<div>Despite their innate prudence, the cows took a beating in the home mortgage market and now are trying their hand at stocks. Happily, Bessie is prescient and knows not only today's S (2 <= S <= 50) stock prices but also the future stock prices for a total of D days (2 <= D <= 10).
Given the matrix of current and future stock prices on various days (1 <= PR\_sd <= 1,000) and an initial M (1 <= M <= 200,000) units of money, determine an optimal buying and selling strategy in order to maximize the gain realized by selling stock on the final day. Shares must be purchased in integer multiples, and you need not spend all the money (or any money). It is guaranteed that you will not be able to earn a profit of more than 500,000 units of money.
Consider the example below of a bull (i.e., improving) market, the kind Bessie likes most. In this case, S=2 stocks and D=3 days. The cows have 10 units of money to invest.
|Stock|Today's price| Tomorrow's price| | Two days hence Stock | |
| :-----------: | :-----------: | :-----------: | :-----------: |
| $A$ | 10 | 15 | 15 |
|$B$ | 13| 11|20 |
If money is to be made, the cows must purchase stock 1 on day 1. Selling stock 1 on day 2 and quickly buying stock 2 yields 4 money in the bank and one share of 2. Selling stock 2 on the final day brings in 20 money for a total of 24 money when the 20 is added to the bank.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Three space-separated integers: S, D, and M
\* Lines 2..S+1: Line s+1 contains the D prices for stock s on days 1..D: PR\_sd
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: The maximum amount of money possible to have after selling on day D.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 3 10 
10 15 15 
13 11 20 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>24 
</code></pre>
</article>
</div>
</div>
</body>
</html>
