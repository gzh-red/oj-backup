<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO17JAN]Balanced Photo平衡的照片 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377097:NNAJqyHwl7xIWowkjSVaRQErpBvq8v3vM/KLO7Wfb8I=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Farmer%20John%20is%20arranging%20his%20%24N%24%20cows%20in%20a%20line%20to%20take%20a%20photo%20%28%241%20%5C%5Cleq%20N%20%5C%5Cleq%20100%2C000%24%29.%20The%20height%20of%20the%20%24i%24th%20cow%20in%20sequence%20is%20%24h_i%24%2C%20and%20the%20heights%20of%20all%20cows%20are%20distinct.%5Cn%5CnAs%20with%20all%20photographs%20of%20his%20cows%2C%20FJ%20wants%20this%20one%20to%20come%20out%20looking%20as%20nice%20as%20possible.%20He%20decides%20that%20cow%20%24i%24%20looks%20%5C%22unbalanced%5C%22%20if%20%24L_i%24%20and%20%24R_i%24%20differ%20by%20more%20than%20factor%20of%202%2C%20where%20%24L_i%24%20and%20%24R_i%24%20are%20the%20number%20of%20cows%20taller%20than%20%24i%24%20on%20her%20left%20and%20right%2C%20respectively.%20That%20is%2C%20%24i%24%20is%20unbalanced%20if%20the%20larger%20of%20%24L_i%24%20and%20%24R_i%24%20is%20strictly%20more%20than%20twice%20the%20smaller%20of%20these%20two%20numbers.%20FJ%20is%20hoping%20that%20not%20too%20many%20of%20his%20cows%20are%20unbalanced.%5Cn%5CnPlease%20help%20FJ%20compute%20the%20total%20number%20of%20unbalanced%20cows.%5Cn%5Cn%5CnFJ%5Cu6b63%5Cu5728%5Cu5b89%5Cu6392%5Cu4ed6%5Cu7684N%5Cu5934%5Cu5976%5Cu725b%5Cu7ad9%5Cu6210%5Cu4e00%5Cu6392%5Cu6765%5Cu62cd%5Cu7167%5Cu3002%5Cuff081%3C%3DN%3C%3D100%2C000%29%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu7684%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu662fh%5Bi%5D%5Cuff0c%5Cu4e14%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu6240%5Cu6709%5Cu7684%5Cu5976%5Cu725b%5Cu7684%5Cu8eab%5Cu9ad8%5Cu90fd%5Cu4e0d%5Cu540c%5Cu3002%5Cn%5Cn%5Cn%5Cu5c31%5Cu50cf%5Cu4ed6%5Cu7684%5Cu6240%5Cu6709%5Cu725b%5Cu7684%5Cu7167%5Cu7247%5Cu4e00%5Cu6837%5Cuff0cFJ%5Cu5e0c%5Cu671b%5Cu8fd9%5Cu5f20%5Cu7167%5Cu7247%5Cu770b%5Cu4e0a%5Cu53bb%5Cu5c3d%5Cu53ef%5Cu80fd%5Cu597d%5Cu3002%5Cu4ed6%5Cu8ba4%5Cu4e3a%5Cuff0c%5Cu5982%5Cu679cL%5Bi%5D%5Cu548cR%5Bi%5D%5Cu7684%5Cu6570%5Cu76ee%5Cu76f8%5Cu5dee2%5Cu500d%5Cu4ee5%5Cu4e0a%5Cu7684%5Cu8bdd%5Cuff0c%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu5c31%5Cu662f%5Cu4e0d%5Cu5e73%5Cu8861%5Cu7684%5Cu3002%5Cuff08L%5Bi%5D%5Cu548cR%5Bi%5D%5Cu5206%5Cu522b%5Cu4ee3%5Cu8868%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu5de6%5Cu53f3%5Cu4e24%5Cu8fb9%5Cu6bd4%5Cu5979%5Cu9ad8%5Cu7684%5Cu6570%5Cu91cf%5Cuff09%5Cu3002%5Cu5982%5Cu679cL%5Bi%5D%5Cu548cR%5Bi%5D%5Cu4e2d%5Cu8f83%5Cu5927%5Cu8005%5Cu6bd4%5Cu8f83%5Cu5c0f%5Cu8005%5Cu7684%5Cu6570%5Cu91cf%5Cu4e25%5Cu683c%5Cu591a%5Cu4e24%5Cu500d%5Cu7684%5Cu8bdd%5Cuff0c%5Cu8fd9%5Cu5934%5Cu5976%5Cu725b%5Cu4e5f%5Cu662f%5Cu4e0d%5Cu5e73%5Cu8861%5Cu7684%5Cu3002FJ%5Cu4e0d%5Cu5e0c%5Cu671b%5Cu4ed6%5Cu6709%5Cu592a%5Cu591a%5Cu7684%5Cu5976%5Cu725b%5Cu4e0d%5Cu5e73%5Cu8861%5Cu3002%5Cn%5Cn%5Cn%5Cu8bf7%5Cu5e2e%5Cu52a9FJ%5Cu8ba1%5Cu7b97%5Cu4e0d%5Cu5e73%5Cu8861%5Cu7684%5Cu5976%5Cu725b%5Cu6570%5Cu91cf%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24.%20%20The%20next%20%24N%24%20lines%20contain%20%24h_1%20%5C%5Cldots%20h_N%24%2C%20each%20a%20nonnegative%20integer%20at%20most%201%2C000%2C000%2C000.%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570N%5Cu3002%5Cu63a5%5Cu4e0bN%5Cu884c%5Cu5305%5Cu62ecH%5B1%5D%5Cu5230H%5Bn%5D%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e00%5Cu4e2a%5Cu975e%5Cu8d1f%5Cu6574%5Cu6570%5Cuff08%5Cu4e0d%5Cu5927%5Cu4e8e1%2C000%5Cuff0c000%5Cuff0c000%29%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22Please%20output%20a%20count%20of%20the%20number%20of%20cows%20that%20are%20unbalanced.%5Cn%5Cn%5Cu8bf7%5Cu8f93%5Cu51fa%5Cu4e0d%5Cu5e73%5Cu8861%5Cu7684%5Cu5976%5Cu725b%5Cu6570%5Cu91cf%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%227%5Cn34%5Cn6%5Cn23%5Cn0%5Cn5%5Cn99%5Cn2%22%2C%223%22%5D%5D%2C%22hint%22%3A%22%5Cu611f%5Cu8c22%20%40XY%5Cu661f%5Cu7cfb%5Cu8d28%5Cu91cfPK%20%20%5Cu7684%5Cu7ffb%5Cu8bd1%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B34%2C46%2C53%2C111%2C254%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A984%2C%22totalAccepted%22%3A597%2C%22pid%22%3A%22P3608%22%2C%22title%22%3A%22%5BUSACO17JAN%5DBalanced%20Photo%5Cu5e73%5Cu8861%5Cu7684%5Cu7167%5Cu7247%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A8207%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%5Cu6709%5Cu8bef%22%2C%22forum%22%3A%7B%22id%22%3A2683%2C%22name%22%3A%22P3608%20%5BUSACO17JAN%5DBalanced%20Photo%5Cu5e73%5Cu8861%5Cu7684%5Cu7167%5Cu7247%22%2C%22slug%22%3A%22P3608%22%7D%7D%2C%7B%22id%22%3A7986%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2683%2C%22name%22%3A%22P3608%20%5BUSACO17JAN%5DBalanced%20Photo%5Cu5e73%5Cu8861%5Cu7684%5Cu7167%5Cu7247%22%2C%22slug%22%3A%22P3608%22%7D%7D%2C%7B%22id%22%3A7982%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%5Cuff08%5Cu6bd4%5Cu8f83%5Cu96be%5Cu7ffb%5Cu8bd1%5Cuff0c%5Cu6b63%5Cu786e%5Cu6027%5Cu6709%5Cu5f85%5Cu8003%5Cu8bc1%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A2683%2C%22name%22%3A%22P3608%20%5BUSACO17JAN%5DBalanced%20Photo%5Cu5e73%5Cu8861%5Cu7684%5Cu7167%5Cu7247%22%2C%22slug%22%3A%22P3608%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1637%22%2C%22title%22%3A%22%5Cu4e09%5Cu5143%5Cu4e0a%5Cu5347%5Cu5b50%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3664%22%2C%22title%22%3A%22%5BUSACO17OPEN%5DModern%20Art%20%5Cu73b0%5Cu4ee3%5Cu827a%5Cu672f%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2345%22%2C%22title%22%3A%22%5Cu5976%5Cu725b%5Cu96c6%5Cu4f1a%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3605%22%2C%22title%22%3A%22%5BUSACO17JAN%5DPromotion%20Counting%5Cu664b%5Cu5347%5Cu8005%5Cu8ba1%5Cu6570%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3609%22%2C%22title%22%3A%22%5BUSACO17JAN%5DHoof%2C%20Paper%2C%20Scissor%5Cu8e44%5Cu5b50%5Cu526a%5Cu5200%5Cu2026%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO17JAN%5DBalanced%20Photo%5Cu5e73%5Cu8861%5Cu7684%5Cu7167%5Cu7247%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO17JAN]Balanced Photo平衡的照片</h1>
<h2>题目描述</h2>
<div>Farmer John is arranging his $N$ cows in a line to take a photo ($1 \leq N \leq 100,000$). The height of the $i$th cow in sequence is $h_i$, and the heights of all cows are distinct.
As with all photographs of his cows, FJ wants this one to come out looking as nice as possible. He decides that cow $i$ looks "unbalanced" if $L_i$ and $R_i$ differ by more than factor of 2, where $L_i$ and $R_i$ are the number of cows taller than $i$ on her left and right, respectively. That is, $i$ is unbalanced if the larger of $L_i$ and $R_i$ is strictly more than twice the smaller of these two numbers. FJ is hoping that not too many of his cows are unbalanced.
Please help FJ compute the total number of unbalanced cows.
FJ正在安排他的N头奶牛站成一排来拍照。（1<=N<=100,000)序列中的第i头奶牛的高度是h[i]，且序列中所有的奶牛的身高都不同。
就像他的所有牛的照片一样，FJ希望这张照片看上去尽可能好。他认为，如果L[i]和R[i]的数目相差2倍以上的话，第i头奶牛就是不平衡的。（L[i]和R[i]分别代表第i头奶牛左右两边比她高的数量）。如果L[i]和R[i]中较大者比较小者的数量严格多两倍的话，这头奶牛也是不平衡的。FJ不希望他有太多的奶牛不平衡。
请帮助FJ计算不平衡的奶牛数量。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$. The next $N$ lines contain $h_1 \ldots h_N$, each a nonnegative integer at most 1,000,000,000.
第一行一个整数N。接下N行包括H[1]到H[n]，每行一个非负整数（不大于1,000，000，000)。
</div>
<h3>输出格式</h3>
<br />
<div>Please output a count of the number of cows that are unbalanced.
请输出不平衡的奶牛数量。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7
34
6
23
0
5
99
2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3</code></pre>
<h2>说明</h2>
<div>感谢 @XY星系质量PK 的翻译
</div>
</article>
</div>
</div>
</body>
</html>
