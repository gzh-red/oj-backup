<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[THUPC2019]鸭棋 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573382542:sgEH9j6RPZp9Nj/pUXeZTaRsd1RjBbWX/ErKyxS6OBc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22%23%23%23%23%20%5Cu9898%5Cu76ee%5Cu80cc%5Cu666f%5Cn%5Cn%5Cu9e2d%5Cu68cb%5Cu662f%5Cu4e00%5Cu79cd%5Cu98ce%5Cu9761%5Cu9e2d%5Cu5b50%5Cu754c%5Cu7684%5Cu68cb%5Cu7c7b%5Cu6e38%5Cu620f%5Cu3002%5Cu4e8b%5Cu5b9e%5Cu4e0a%5Cuff0c%5Cu5b83%5Cu4e0e%5Cu4e2d%5Cu56fd%5Cu8c61%5Cu68cb%5Cu6709%5Cu4e00%5Cu4e9b%5Cu76f8%5Cu4f3c%5Cu4e4b%5Cu5904%5Cuff0c%5Cu4f46%5Cu89c4%5Cu5219%5Cu4e0d%5Cu5c3d%5Cu76f8%5Cu540c%5Cu3002%5Cu5728%5Cu8fd9%5Cu91cc%5Cuff0c%5Cu6211%5Cu4eec%5Cu5c06%5Cu4e3a%5Cu4f60%5Cu4ecb%5Cu7ecd%5Cu9e2d%5Cu68cb%5Cu7684%5Cu89c4%5Cu5219%5Cu3002%5Cn%5Cn%2A%2A%5Cu540c%5Cu65f6%5Cuff0c%5Cu6211%5Cu4eec%5Cu4e0b%5Cu53d1%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu6a21%5Cu62df%5Cu9e2d%5Cu68cb%5Cu89c4%5Cu5219%5Cu7684%5Cu73a9%5Cu5177%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu7ed3%5Cu5408%5Cu8fd9%5Cu4e2a%5Cu73a9%5Cu5177%5Cu7406%5Cu89e3%5Cu9898%5Cu76ee%2A%2A%5Cuff08%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu5728%20AK%20%5Cu540e%5Cu4e0e%5Cu4f60%5Cu7684%5Cu961f%5Cu53cb%5Cu8fdb%5Cu884c%5Cu5bf9%5Cu5f08%5Cuff09%5Cu3002%5Cu8be6%5Cu60c5%5Cu8bf7%5Cu89c1%5Cu300c%5Cu73a9%5Cu5177%5Cu4f7f%5Cu7528%5Cu8bf4%5Cu660e%5Cu300d%5Cu3002%5Cn%5Cn%5Cu9e2d%5Cu68cb%5Cu5728%5Cu4e00%5Cu4e2a%20%2410%5C%5Ctimes%209%24%5Cuff08%2410%24%20%5Cu884c%20%249%24%20%5Cu5217%5Cuff09%5Cu7684%5Cu7f51%5Cu683c%5Cu68cb%5Cu76d8%5Cu4e0a%5Cu8fdb%5Cu884c%5Cuff0c%5Cu7f51%5Cu683c%5Cu4e0a%5Cu7684%5Cu6bcf%5Cu4e2a%5Cu683c%5Cu70b9%5Cu90fd%5Cu53ef%5Cu4ee5%5Cu6709%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cu3002%5Cu5bf9%5Cu5f08%5Cu53cc%5Cu65b9%5Cu4e00%5Cu65b9%5Cu6267%5Cu7ea2%5Cuff08%60red%60%5Cuff09%5Cu68cb%5Cu3001%5Cu53e6%5Cu4e00%5Cu65b9%5Cu6267%5Cu84dd%5Cuff08%60blue%60%5Cuff09%5Cu68cb%5Cuff0c%5Cu53cc%5Cu65b9%5Cu8f6e%5Cu6d41%5Cu6267%5Cu884c%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu8f6e%5Cu5230%5Cu4e00%5Cu4f4d%5Cu73a9%5Cu5bb6%5Cu64cd%5Cu4f5c%5Cu65f6%5Cuff0c%5Cu4ed6%5Cu5fc5%5Cu987b%5Cu9009%5Cu62e9%5Cu4e00%5Cu679a%5Cu81ea%5Cu5df1%5Cu7684%5Cu68cb%5Cu5b50%5Cuff0c%5Cu5e76%5Cu6309%5Cu7167%5Cu89c4%5Cu5219%5Cu8fdb%5Cu884c%5Cu4e00%5Cu6b65%5Cu79fb%5Cu52a8%5Cu3002%5Cn%5Cn%5Cu9e2d%5Cu68cb%5Cu53d1%5Cu660e%5Cu8005%5Cu9e2d%5Cu5b50%5Cu5fb7%5Cu89c4%5Cu5b9a%5Cu4e00%5Cu5c40%5Cu9e2d%5Cu68cb%5Cu7531%5Cu7ea2%5Cu65b9%5Cu6267%5Cu5148%5Cu624b%5Cuff0c%5Cu5e76%5Cu8bbe%5Cu8ba1%5Cu4e86%5Cu521d%5Cu59cb%5Cu68cb%5Cu76d8%5Cu5e03%5Cu5c40%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5Cn%21%5Binitial_board.png%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fpic%5C%2F58700.png%29%5Cn%5Cn%23%23%23%23%23%20%5Cu68cb%5Cu5b50%5Cu7c7b%5Cu578b%5Cu4e0e%5Cu8d70%5Cu5b50%5Cu89c4%5Cu5219%5Cn%5Cn%5Cu68cb%5Cu5b50%5Cu5206%5Cu4e3a%20%247%24%20%5Cu7c7b%5Cuff0c%5Cu4e0b%5Cu9762%5Cu4ecb%5Cu7ecd%5Cu4e86%5Cu5b83%5Cu4eec%5Cu7684%5Cu540d%5Cu5b57%5Cu4ee5%5Cu53ca%5Cu5b83%5Cu4eec%5Cu7684%5Cu79fb%5Cu52a8%5Cu89c4%5Cu5219%5Cu3002%5Cu4ecb%5Cu7ecd%5Cu79fb%5Cu52a8%5Cu89c4%5Cu5219%5Cu65f6%5Cuff0c%5Cu6211%5Cu4eec%5Cu9ed8%5Cu8ba4%5Cu68cb%5Cu5b50%5Cu6240%5Cu5904%5Cu4f4d%5Cu7f6e%5Cu4e3a%20%24%5C%5Cleft%28%20x%2Cy%5C%5Cright%29%24%5Cuff08%5Cu8868%5Cu793a%5Cu7b2c%20%24x%24%20%5Cu884c%5Cu7684%5Cu7b2c%20%24y%24%20%5Cu5217%5Cuff0c%5Cu4e0b%5Cu540c%5Cuff09%5Cuff0c%5Cu5e76%5Cu5217%5Cu51fa%5Cu5b83%5Cu53ef%5Cu4ee5%5Cu5230%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff1a%5Cn%5Cn%2A%20%2A%2A%5Cu738b%2A%2A%5Cuff08%60captain%60%29%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5171%20%244%24%20%5Cu4e2a%5Cuff0c%5Cu5305%5Cu62ec%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cright%29%24%20%5Cu53ca%20%24%5C%5Cleft%28x%2Cy%5C%5Cpm%201%5C%5Cright%29%24%5Cu3002%5Cn%2A%20%2A%2A%5Cu58eb%2A%2A%5Cuff08%60guard%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5171%20%244%24%20%5Cu4e2a%5Cuff0c%5Cu5305%5Cu62ec%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cpm%201%5C%5Cright%29%24%20%5Cu53ca%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cmp%201%5C%5Cright%29%24%5Cu3002%5Cn%2A%20%2A%2A%5Cu8c61%2A%2A%5Cuff08%60elephant%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu81f3%5Cu591a%20%244%24%20%5Cu4e2a%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu610f%20%24s_x%2Cs_y%5C%5Cin%20%5C%5Cleft%5C%5C%7B%201%2C-1%5C%5Cright%5C%5C%7D%24%5Cuff0c%5Cu5206%5Cu522b%5Cu6709%5Cuff1a%5Cn%20%20%20%20%2A%20%5Cu5982%5Cu679c%5Cu4f4d%5Cu7f6e%20%24%5C%5Cleft%28x%2Bs_x%5C%5Ctimes%201%20%2Cy%2B%20s_y%5C%5Ctimes%201%5C%5Cright%29%24%20%5Cu4e0a%2A%2A%5Cu65e0%5Cu4efb%5Cu610f%5Cu4e00%5Cu65b9%2A%2A%5Cu7684%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu5219%20%24%5C%5Cleft%28%20x%2Bs_x%20%5C%5Ctimes%202%2Cy%2Bs_y%20%5C%5Ctimes%202%5C%5Cright%29%24%20%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%2A%2A%5Cu9a6c%2A%2A%5Cuff08%60horse%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu81f3%5Cu591a%20%248%24%20%5Cu4e2a%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu610f%20%24s_x%2Cs_y%5C%5Cin%20%5C%5Cleft%5C%5C%7B%201%2C-1%5C%5Cright%5C%5C%7D%24%5Cuff0c%5Cu5206%5Cu522b%5Cu6709%5Cuff1a%5Cn%20%20%20%20%2A%20%5Cu5982%5Cu679c%5Cu4f4d%5Cu7f6e%20%24%5C%5Cleft%28x%2Bs_x%5C%5Ctimes%201%20%2Cy%5C%5Cright%29%24%20%5Cu4e0a%2A%2A%5Cu65e0%5Cu4efb%5Cu610f%5Cu4e00%5Cu65b9%2A%2A%5Cu7684%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu5219%20%24%5C%5Cleft%28%20x%2Bs_x%20%5C%5Ctimes%202%2Cy%2Bs_y%20%5C%5Ctimes%201%5C%5Cright%29%24%20%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu5982%5Cu679c%5Cu4f4d%5Cu7f6e%20%24%5C%5Cleft%28x%20%2Cy%2B%20s_y%20%5C%5Ctimes%201%20%5C%5Cright%29%24%20%5Cu4e0a%2A%2A%5Cu65e0%5Cu4efb%5Cu610f%5Cu4e00%5Cu65b9%2A%2A%5Cu7684%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu5219%20%24%5C%5Cleft%28%20x%2Bs_x%20%5C%5Ctimes%201%2Cy%2Bs_y%20%5C%5Ctimes%202%5C%5Cright%29%24%20%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%2A%2A%5Cu8f66%2A%2A%5Cuff08%60car%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu5728%2A%2A%5Cu4e0d%5Cu8de8%5Cu8d8a%5Cu5176%5Cu4ed6%5Cu68cb%5Cu5b50%2A%2A%5Cu7684%5Cu524d%5Cu63d0%5Cu4e0b%5Cuff0c%5Cu5230%5Cu8fbe%5Cu540c%5Cu884c%5Cu6216%5Cu540c%5Cu5217%5Cu7684%5Cu6240%5Cu6709%5Cu5176%5Cu4ed6%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%2A%2A%5Cu9e2d%2A%2A%5Cuff08%60duck%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu81f3%5Cu591a%20%248%24%20%5Cu4e2a%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu610f%20%24s_x%2Cs_y%5C%5Cin%20%5C%5Cleft%5C%5C%7B%201%2C-1%5C%5Cright%5C%5C%7D%24%5Cuff0c%5Cu5206%5Cu522b%5Cu6709%5Cuff1a%5Cn%20%20%20%20%2A%20%5Cu5982%5Cu679c%5Cu4f4d%5Cu7f6e%20%24%5C%5Cleft%28x%2Bs_x%5C%5Ctimes%202%20%2Cy%2Bs_y%20%5C%5Ctimes%201%5C%5Cright%29%2C%5C%5Cleft%28x%2Bs_x%5C%5Ctimes%201%20%2Cy%5C%5Cright%29%24%20%5Cu4e0a%5Cu5747%2A%2A%5Cu65e0%5Cu4efb%5Cu610f%5Cu4e00%5Cu65b9%2A%2A%5Cu7684%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu5219%20%24%5C%5Cleft%28%20x%2Bs_x%20%5C%5Ctimes%203%2Cy%2Bs_y%20%5C%5Ctimes%202%5C%5Cright%29%24%20%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu5982%5Cu679c%5Cu4f4d%5Cu7f6e%20%24%5C%5Cleft%28x%2Bs_x%20%5C%5Ctimes%201%20%2Cy%2B%20s_y%20%5C%5Ctimes%202%20%5C%5Cright%29%2C%5C%5Cleft%28x%20%2Cy%2B%20s_y%20%5C%5Ctimes%201%20%5C%5Cright%29%24%20%5Cu4e0a%5Cu5747%2A%2A%5Cu65e0%5Cu4efb%5Cu610f%5Cu4e00%5Cu65b9%2A%2A%5Cu7684%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu5219%20%24%5C%5Cleft%28%20x%2Bs_x%20%5C%5Ctimes%202%2Cy%2Bs_y%20%5C%5Ctimes%203%5C%5Cright%29%24%20%5Cu4e3a%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%2A%2A%5Cu5175%2A%2A%5Cuff08%60soldier%60%5Cuff09%5Cuff1a%5Cu53ef%5Cu8fbe%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5171%20%248%24%20%5Cu4e2a%5Cuff0c%5Cu5305%5Cu62ec%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cright%29%24%20%5Cu53ca%20%24%5C%5Cleft%28x%2Cy%5C%5Cpm%201%5C%5Cright%29%24%20%5Cu53ca%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cpm%201%5C%5Cright%29%24%20%5Cu53ca%20%24%5C%5Cleft%28x%5C%5Cpm%201%2Cy%5C%5Cmp%201%5C%5Cright%29%24%5Cu3002%5Cn%5Cn%2A%2A%5Cu9664%5Cu4e0a%5Cu9762%5Cu63cf%5Cu8ff0%5Cu7684%5Cu89c4%5Cu5219%5Cu4e4b%5Cu5916%5Cuff0c%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu8fd8%5Cu6709%5Cu5982%5Cu4e0b%5Cu989d%5Cu5916%5Cu89c4%5Cu5219%5Cuff1a%2A%2A%5Cn%5Cn%2A%20%5Cu4e0d%5Cu80fd%5Cu5c06%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu5230%5Cu68cb%5Cu76d8%5Cu5916%5Cu7684%5Cu67d0%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%5Cu73a9%5Cu5bb6%5Cu4e0d%5Cu80fd%5Cu5c06%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu5230%2A%2A%5Cu5df2%5Cu7ecf%5Cu505c%5Cu7559%5Cu4e86%5Cu5df1%5Cu65b9%5Cu68cb%5Cu5b50%2A%2A%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%2A%20%5Cu5982%5Cu679c%5Cu73a9%5Cu5bb6%5Cu5c06%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu5230%5Cu4e86%5Cu4e00%5Cu4e2a%2A%2A%5Cu5df2%5Cu7ecf%5Cu505c%5Cu7559%5Cu4e86%5Cu5bf9%5Cu65b9%5Cu68cb%5Cu5b50%2A%2A%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu90a3%5Cu4e48%5Cu539f%5Cu672c%5Cu505c%5Cu7559%5Cu5728%5Cu8be5%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu7684%5Cu8fd9%5Cu4e2a%2A%2A%5Cu5bf9%5Cu65b9%5Cu68cb%5Cu5b50%2A%2A%5Cu5c06%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cu3002%5Cn%5Cn%23%23%23%23%23%20%5Cu80dc%5Cu5229%5Cu6761%5Cu4ef6%5Cu4e0e%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cn%5Cn%5Cu73a9%5Cu5bb6%5Cu5728%5Cu8fd9%5Cu4e2a%5Cu6e38%5Cu620f%5Cu4e2d%5Cu7684%5Cu76ee%5Cu6807%5Cu662f%5Cu5c06%5Cu5bf9%5Cu65b9%5Cu7684%2A%2A%5Cu738b%2A%2A%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cu3002%5Cu4e00%5Cu65e6%5Cu4e00%5Cu65b9%5Cu7684%2A%2A%5Cu738b%2A%2A%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cuff0c%5Cu5219%5Cu53e6%5Cu4e00%5Cu65b9%5Cu7acb%5Cu5373%5Cu5ba3%5Cu544a%5Cu80dc%5Cu5229%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu4e2a%5Cu68cb%5Cu76d8%5Cu7684%5Cu72b6%5Cu6001%5Cuff0c%5Cu5982%5Cu679c%5Cu5b58%5Cu5728%5Cu4e00%5Cu65b9%5Cu6709%5Cu4e00%5Cu6b65%5Cu5408%5Cu6cd5%5Cu7684%5Cu64cd%5Cu4f5c%5Cu80fd%5Cu591f%5Cu5c06%5Cu53e6%5Cu4e00%5Cu65b9%5Cu7684%2A%2A%5Cu738b%2A%2A%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cuff0c%5Cu5219%5Cu6211%5Cu4eec%5Cu8bf4%5Cu5f53%5Cu524d%5Cu5c40%5Cu9762%5Cu662f%5Cu4e00%5Cu4e2a%2A%2A%5Cu5c06%5Cu519b%2A%2A%5Cu7684%5Cu5c40%5Cu9762%5Cu3002%5Cu9700%5Cu8981%5Cu53cb%5Cu60c5%5Cu63d0%5Cu793a%5Cu7684%5Cu662f%5Cuff0c%5Cu6839%5Cu636e%5Cu5b9a%5Cu4e49%5Cuff0c%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cu7684%5Cu5f62%5Cu6210%5Cu5305%5Cu62ec%5Cuff08%5Cu4f46%5Cu4e0d%5Cu9650%5Cu4e8e%5Cuff09%5Cu5982%5Cu4e0b%5Cu8fd9%5Cu4e9b%5Cu53ef%5Cu80fd%5Cuff1a%5Cn%5Cn1.%20%5Cu4e00%5Cu65b9%5Cu5c06%5Cu4e00%5Cu679a%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu5230%5Cu53ef%5Cu4ee5%5Cu653b%5Cu51fb%5Cu5bf9%5Cu65b9%2A%2A%5Cu738b%2A%2A%5Cu7684%5Cu4f4d%5Cu7f6e%5Cn%5Cn2.%20%5Cu5728%5Cu5df1%5Cu65b9%2A%2A%5Cu738b%2A%2A%5Cu53d7%5Cu5230%5Cu5a01%5Cu80c1%5Cu65f6%5Cu4e0d%5Cu91c7%5Cu53d6%5Cu63aa%5Cu65bd%5Cu8eb2%5Cu907f%5Cn%5Cn3.%20%5Cu4e3b%5Cu52a8%5Cu5c06%2A%2A%5Cu738b%2A%2A%5Cu79fb%5Cu52a8%5Cu81f3%5Cu4f1a%5Cu53d7%5Cu5230%5Cu653b%5Cu51fb%5Cu7684%5Cu4f4d%5Cu7f6e%5Cn%5Cn%2A%2A%5Cu9664%5Cu6b64%5Cu4e4b%5Cu5916%5Cuff0c%5Cu9700%5Cu8981%5Cu7279%5Cu522b%5Cu8bf4%5Cu660e%5Cu7684%5Cu662f%5Cuff0c%5Cu6e38%5Cu620f%5Cu7ed3%5Cu675f%5Cu540e%5Cuff0c%5Cu7531%5Cu4e8e%5Cu53cc%5Cu65b9%5Cu4e0d%5Cu53ef%5Cu518d%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu56e0%5Cu6b64%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu51fa%5Cu73b0%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cuff0c%5Cu5373%5Cu4fbf%5Cu6b64%5Cu65f6%5Cu53e6%5Cu4e00%5Cu65b9%5Cu738b%5Cu5904%5Cu4e8e%5Cu88ab%5Cu300c%5Cu653b%5Cu51fb%5Cu300d%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%2A%2A%5Cn%5Cn%23%23%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cn%5Cu4eca%5Cu5e74%5Cu7684%20IDCC%5Cuff08International%20Duck%20Chess%20Competition%5Cuff0c%5Cu56fd%5Cu9645%5Cu9e2d%5Cu68cb%5Cu5927%5Cu8d5b%5Cuff09%5Cu6b63%5Cu5728%5Cu5982%5Cu706b%5Cu5982%5Cu837c%5Cu5730%5Cu8fdb%5Cu884c%5Cu7740%5Cu3002%5Cu4f60%5Cu89c2%5Cu6469%5Cu4e86%5Cu4e00%5Cu573a%5Cu7cbe%5Cu5f69%5Cu7edd%5Cu4f26%5Cu7684%5Cu6bd4%5Cu8d5b%5Cuff0c%5Cu4f46%5Cu4f60%5Cu5bf9%5Cu5bf9%5Cu5f08%5Cu8fc7%5Cu7a0b%5Cu7684%5Cu8bb0%5Cu5fc6%5Cu5df2%5Cu7ecf%5Cu6a21%5Cu7cca%5Cu4e0d%5Cu6e05%5Cu4e86%5Cuff0c%5Cu53ea%5Cu6709%5Cu7cfb%5Cu7edf%5Cu7559%5Cu4e0b%5Cu7684%5Cu4ed6%5Cu4eec%5Cu7684%2A%2A%5Cu64cd%5Cu4f5c%5Cu5e8f%5Cu5217%2A%2A%5Cuff0c%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu7684%5Cu6bcf%5Cu4e2a%2A%2A%5Cu64cd%5Cu4f5c%2A%2A%5Cu4e3a%5Cu5f53%5Cu524d%5Cu64cd%5Cu4f5c%5Cu8005%5Cu8bd5%5Cu56fe%5Cu79fb%5Cu52a8%5Cu67d0%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu68cb%5Cu5b50%5Cu81f3%5Cu53e6%5Cu4e00%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu3002%5Cu4f60%5Cu5e0c%5Cu671b%5Cu7528%5Cu8fd9%5Cu4e2a%5Cu5e8f%5Cu5217%5Cuff0c%5Cu6765%5Cu590d%5Cu73b0%5Cu51fa%5Cu6574%5Cu5c40%5Cu68cb%5Cu5c40%5Cu7684%5Cu5bf9%5Cu5f08%5Cu8fc7%5Cu7a0b%5Cu3002%5Cu5373%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu6b65%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%2A%2A%5Cu9996%5Cu5148%5Cu5224%5Cu5176%5Cu662f%5Cu5426%5Cu5408%5Cu6cd5%2A%2A%5Cuff0c%5Cu82e5%5Cu5408%5Cu6cd5%5Cuff0c%5Cu5219%2A%2A%5Cu8fdb%5Cu4e00%5Cu6b65%5Cu6c42%5Cu51fa%2A%2A%5Cuff1a%5Cn%5Cn1.%20%5Cu8fd9%5Cu6b65%5Cu64cd%5Cu4f5c%5Cu79fb%5Cu52a8%5Cu4e86%5Cu54ea%5Cu4e2a%5Cu68cb%5Cu5b50%5Cu3002%5Cn2.%20%5Cu8fd9%5Cu6b65%5Cu64cd%5Cu4f5c%5Cu540e%5Cuff0c%5Cu662f%5Cu5426%5Cu5b58%5Cu5728%5Cu68cb%5Cu5b50%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cuff0c%5Cu5982%5Cu6709%5Cu5219%5Cu8fd8%5Cu9700%5Cu6c42%5Cu51fa%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cu7684%5Cu68cb%5Cu5b50%5Cu3002%5Cn3.%20%5Cu8fd9%5Cu6b65%5Cu64cd%5Cu4f5c%5Cu540e%5Cuff0c%5Cu662f%5Cu5426%5Cu5f62%5Cu6210%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cu3002%5Cn4.%20%5Cu8fd9%5Cu6b65%5Cu64cd%5Cu4f5c%5Cu540e%5Cuff0c%5Cu6e38%5Cu620f%5Cu662f%5Cu5426%5Cu7ed3%5Cu675f%5Cu3002%5Cn%5Cn%5Cu53ef%5Cu80fd%5Cu5305%5Cu542b%5Cu7684%5Cu4e0d%5Cu5408%5Cu6cd5%5Cu60c5%5Cu51b5%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5Cn%2A%20%5Cu6b64%5Cu6b65%5Cu79fb%5Cu52a8%5Cu7684%5Cu521d%5Cu59cb%5Cu4f4d%5Cu7f6e%5Cu65e0%5Cu5df1%5Cu65b9%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cu3002%5Cn%2A%20%5Cu6b64%5Cu6b65%5Cu79fb%5Cu52a8%5Cu7684%5Cu521d%5Cu59cb%5Cu4f4d%5Cu7f6e%5Cu6709%5Cu5df1%5Cu65b9%5Cu68cb%5Cu5b50%5Cu505c%5Cu7559%5Cuff0c%5Cu4f46%5Cu79fb%5Cu52a8%5Cu4e0d%5Cu7b26%5Cu5408%5Cu89c4%5Cu5219%5Cu3002%5Cn%2A%20%5Cu6e38%5Cu620f%5Cu5df2%5Cu7ecf%5Cu7ed3%5Cu675f%5Cu3002%5Cn%5Cn%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu7684%5Cu4e0d%5Cu5408%5Cu6cd5%5Cu64cd%5Cu4f5c%5Cu662f%5Cu9700%5Cu8981%5Cu88ab%5Cu5ffd%5Cu7565%5Cu7684%5Cu3002%5Cu6bd4%5Cu5982%5Cuff0c%5Cu5982%5Cu679c%5Cu8f6e%5Cu5230%5Cu7ea2%5Cu65b9%5Cu79fb%5Cu52a8%5Cuff0c%5Cu6b64%5Cu65f6%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu7684%5Cu5f53%5Cu524d%5Cu64cd%5Cu4f5c%5Cu6070%5Cu597d%5Cu662f%5Cu4e0d%5Cu5408%5Cu6cd5%5Cu7684%5Cuff0c%5Cu5219%5Cu8fd9%5Cu4e2a%5Cu64cd%5Cu4f5c%5Cu5c06%5Cu88ab%5Cu5ffd%5Cu7565%5Cuff0c%5Cu5e8f%5Cu5217%5Cu4e2d%5Cu7684%5Cu4e0b%5Cu4e00%5Cu6b65%5Cu64cd%5Cu4f5c%5Cu5c06%5Cu6210%5Cu4e3a%5Cu7ea2%5Cu65b9%5Cu8fd9%5Cu6b65%5Cu7684%5Cu64cd%5Cu4f5c%5Cuff08%5Cu5982%5Cu4ecd%5Cu4e0d%5Cu5408%5Cu6cd5%5Cu5219%5Cu7ee7%5Cu7eed%5Cu5ffd%5Cu7565%5Cuff0c%5Cu76f4%5Cu81f3%5Cu51fa%5Cu73b0%5Cu5408%5Cu6cd5%5Cu7684%5Cu64cd%5Cu4f5c%5Cuff09%5Cu3002%22%2C%22inputFormat%22%3A%22%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu975e%5Cu8d1f%5Cu6574%5Cu6570%20%24Q%24%5Cuff0c%5Cu8868%5Cu793a%5Cu64cd%5Cu4f5c%5Cu5e8f%5Cu5217%5Cu7684%5Cu957f%5Cu5ea6%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765%5Cu4f9d%5Cu6b21%5Cu63cf%5Cu8ff0%5Cu6bcf%5Cu4e2a%5Cu64cd%5Cu4f5c%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%20%24Q%24%20%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%20%244%24%20%5Cu4e2a%5Cu6574%5Cu6570%20%24x_s%2C%20y_s%2C%20x_t%2C%20y_t%24%5Cuff08%240%5C%5Cleq%20x_s%2Cx_t%20%3C%2010%24%5Cuff0c%240%5C%5Cleq%20y_s%2Cy_t%20%3C%209%24%5Cuff09%5Cuff0c%5Cu63cf%5Cu8ff0%5Cu4e00%5Cu4e2a%5Cu6b32%5Cu5c06%20%24%5C%5Cleft%28x_s%2Cy_s%5C%5Cright%29%24%20%5Cu5904%5Cu68cb%5Cu5b50%5Cu79fb%5Cu52a8%5Cu5230%20%24%5C%5Cleft%28x_t%2Cy_t%5C%5Cright%29%24%20%5Cu7684%5Cu64cd%5Cu4f5c%5Cu3002%5Cu5728%5Cu8fd9%5Cu91cc%5Cuff0c%5Cu6211%5Cu4eec%5Cu89c4%5Cu5b9a%5Cu5de6%5Cu4e0b%5Cu89d2%5Cuff08%5Cu5373%5Cu7ea2%5Cu65b9%2A%2A%5Cu8f66%2A%2A%5Cu6446%5Cu653e%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu56fe%5Cu89c1%5Cu300c%5Cu9898%5Cu76ee%5Cu80cc%5Cu666f%5Cu300d%5Cuff09%5Cu4e3a%20%24%5C%5Cleft%280%2C0%5C%5Cright%29%24%5Cu3002%5Cn%5Cn%5Cu4fdd%5Cu8bc1%20%24Q%5C%5Cleq%201000%24%5Cu3002%22%2C%22outputFormat%22%3A%22%5Cu8f93%5Cu51fa%20%24Q%24%20%5Cu884c%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu64cd%5Cu4f5c%5Cu4f9d%5Cu6b21%5Cu8f93%5Cu51fa%5Cu590d%5Cu73b0%5Cu7ed3%5Cu679c%5Cu3002%5Cu6bcf%5Cu884c%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu64cd%5Cu4f5c%5Cu7684%5Cu7ed3%5Cu679c%5Cuff1a%5Cn%5Cn%2A%20%5Cu5982%5Cu679c%5Cu8be5%5Cu64cd%5Cu4f5c%5Cu4e3a%5Cu4e0d%5Cu5408%5Cu6cd5%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu5219%5Cu8bf7%5Cu8f93%5Cu51fa%20%60Invalid%20command%60%5Cu3002%5Cn%2A%20%5Cu5982%5Cu679c%5Cu4e3a%5Cu5408%5Cu6cd5%5Cu64cd%5Cu4f5c%5Cuff0c%5Cu5219%5Cu4f9d%5Cu6b21%5Cu56de%5Cu7b54%5Cu300c%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cu300d%5Cu4e2d%5Cu7684%5Cu95ee%5Cu9898%20%241%5C%5Csim%204%24%5Cuff1a%5Cn%20%20%20%20%2A%20%5Cu88ab%5Cu79fb%5Cu52a8%5Cu7684%5Cu68cb%5Cu5b50%5Cu7528%20%60%5B%5Cu989c%5Cu8272%5D%20%5B%5Cu7c7b%5Cu578b%5D%60%5Cuff08%5Cu6ce8%5Cu610f%5Cu4e2d%5Cu95f4%5Cu5305%5Cu542b%5Cu7a7a%5Cu683c%5Cuff09%5Cu6765%5Cu63cf%5Cu8ff0%5Cuff0c%5Cu8bf7%5Cu4f7f%5Cu7528%5Cu5b83%5Cu4eec%5Cu7684%5Cu82f1%5Cu6587%5Cu540d%5Cu79f0%5Cuff08%5Cu89c1%5Cu300c%5Cu9898%5Cu76ee%5Cu80cc%5Cu666f%5Cu300d%5Cuff09%5Cu3002%5Cu5982%5Cuff0c%5Cu7ea2%5Cu8c61%5Cu4e3a%20%60red%20elephant%60%5Cuff0c%5Cu84dd%5Cu738b%5Cu4e3a%20%60blue%20captain%60%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cu7684%5Cu68cb%5Cu5b50%5Cu7684%5Cu63cf%5Cu8ff0%5Cu65b9%5Cu5f0f%5Cu4e0e%5Cu4e0a%5Cu9762%5Cu7c7b%5Cu4f3c%5Cu3002%5Cu7279%5Cu522b%5Cu5730%5Cuff0c%2A%2A%5Cu5982%5Cu679c%5Cu65e0%5Cu68cb%5Cu5b50%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cuff0c%5Cu5219%5Cu8be5%5Cu95ee%5Cu9898%5Cu7684%5Cu7b54%5Cu6848%5Cu4e3a%20%60NA%60%2A%2A%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu7528%20%60yes%60%5Cu3001%60no%60%20%5Cu5206%5Cu522b%5Cu8868%5Cu793a%5Cu5f62%5Cu6210%5Cu3001%5Cu4e0d%5Cu5f62%5Cu6210%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu7528%20%60yes%60%5Cu3001%60no%60%20%5Cu5206%5Cu522b%5Cu8868%5Cu793a%5Cu6e38%5Cu620f%5Cu7ed3%5Cu675f%5Cu3001%5Cu6e38%5Cu620f%5Cu4e0d%5Cu7ed3%5Cu675f%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu7528%20%60%3B%60%5Cuff08%5Cu5206%5Cu53f7%5Cuff09%5Cu5c06%5Cu6240%5Cu6709%5Cu95ee%5Cu9898%5Cu7684%5Cu7b54%5Cu6848%5Cu9694%5Cu5f00%5Cu3002%5Cn%20%20%20%20%2A%20%5Cu6bd4%5Cu5982%5Cuff0c%5Cu56db%5Cu4e2a%5Cu95ee%5Cu9898%5Cu7684%5Cu7b54%5Cu6848%5Cu5206%5Cu522b%5Cu4e3a%5Cuff1a%5Cu88ab%5Cu79fb%5Cu52a8%5Cu7684%5Cu68cb%5Cu5b50%5Cu662f%5Cu84dd%5Cu8f66%5Cuff0c%5Cu65e0%5Cu68cb%5Cu5b50%5Cu88ab%5Cu79fb%5Cu51fa%5Cu6e38%5Cu620f%5Cuff0c%5Cu5f62%5Cu6210%5Cu5c06%5Cu519b%5Cu5c40%5Cu9762%5Cuff0c%5Cu6e38%5Cu620f%5Cu672a%5Cu7ed3%5Cu675f%5Cu3002%5Cu5219%5Cu8be5%5Cu884c%5Cu5e94%5Cu8f93%5Cu51fa%20%60blue%20car%3BNA%3Byes%3Bno%60%5Cu3002%22%2C%22samples%22%3A%5B%5B%2218%5Cn0%200%207%200%5Cn9%200%208%200%5Cn0%201%201%203%5Cn0%202%202%200%5Cn0%203%201%202%5Cn0%204%200%203%5Cn9%204%208%204%5Cn3%202%202%203%5Cn7%200%204%202%5Cn7%200%205%203%5Cn9%202%207%204%5Cn2%200%204%203%5Cn9%201%208%203%5Cn4%203%206%206%5Cn7%204%209%202%5Cn8%204%209%204%5Cn6%206%209%204%5Cn9%208%208%208%22%2C%22Invalid%20command%5CnInvalid%20command%5CnInvalid%20command%5CnInvalid%20command%5Cnred%20guard%3BNA%3Bno%3Bno%5CnInvalid%20command%5Cnblue%20captain%3BNA%3Bno%3Bno%5Cnred%20soldier%3BNA%3Bno%3Bno%5CnInvalid%20command%5CnInvalid%20command%5Cnblue%20elephant%3BNA%3Bno%3Bno%5Cnred%20duck%3BNA%3Bno%3Bno%5Cnblue%20horse%3BNA%3Bno%3Bno%5Cnred%20duck%3Bblue%20soldier%3Bno%3Bno%5CnInvalid%20command%5Cnblue%20captain%3BNA%3Byes%3Bno%5Cnred%20duck%3Bblue%20captain%3Bno%3Byes%5CnInvalid%20command%22%5D%5D%2C%22hint%22%3A%22%23%23%23%23%23%20%5Cu73a9%5Cu5177%5Cu4f7f%5Cu7528%5Cu8bf4%5Cu660e%5Cn%5Cn%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu5728%5Cu73a9%5Cu5177%5Cu6240%5Cu5728%5Cu76ee%5Cu5f55%5Cu4e0b%5Cu6267%5Cu884c%5Cu5982%5Cu4e0b%5Cu547d%5Cu4ee4%5Cu6765%5Cu8fd0%5Cu884c%5Cu73a9%5Cu5177%5Cuff08%5Cu94fe%5Cu63a5%3A%20https%3A%5C%2F%5C%2Fpan.baidu.com%5C%2Fs%5C%2F1ekgXcFvFL9opKkaCaoUYZg%20%5Cu63d0%5Cu53d6%5Cu7801%3A%20ru4j%5Cuff09%5Cuff1a%5Cn%5Cn%60%60%60%5Cn.%5C%2Fduckchess%5Cn%60%60%60%5Cn%5Cn%5Cu7279%5Cu522b%5Cu5730%5Cuff0c%5Cu5728%2A%2A%5Cu521d%5Cu6b21%5Cu8fd0%5Cu884c%5Cu524d%2A%2A%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu6267%5Cu884c%5Cu5982%5Cu4e0b%5Cu547d%5Cu4ee4%5Cu4e3a%5Cu5b83%5Cu6dfb%5Cu52a0%5Cu8fd0%5Cu884c%5Cu6743%5Cu9650%5Cuff1a%5Cn%5Cn%5Cn%60%60%60%5Cnchmod%20%2Bx%20duckchess%5Cn%60%60%60%5Cn%5Cn%23%23%23%23%23%20%5Cu7248%5Cu6743%5Cu4fe1%5Cu606f%5Cn%5Cn%5Cu6765%5Cu81ea%20THUPC%5Cuff08THU%20Programming%20Contest%5Cuff0c%5Cu6e05%5Cu534e%5Cu5927%5Cu5b66%5Cu7a0b%5Cu5e8f%5Cu8bbe%5Cu8ba1%5Cu7ade%5Cu8d5b%5Cuff092019%5Cu3002%5Cn%5Cn%5Cu9898%5Cu89e3%5Cu7b49%5Cu8d44%5Cu6e90%5Cu53ef%5Cu5728%20https%3A%5C%2F%5C%2Fgithub.com%5C%2Fwangyurzee7%5C%2FTHUPC2019%20%5Cu67e5%5Cu770b%5Cu3002%22%2C%22provider%22%3A%7B%22uid%22%3A38370%2C%22name%22%3A%22M_sea%22%2C%22slogan%22%3A%22%5Cu7729%5Cu3057%5Cu3055%5Cu3060%5Cu3051%5Cu306f%5Cu3001%5Cu5fd8%5Cu308c%5Cu306a%5Cu304b%5Cu3063%5Cu305f%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Red%22%2C%22ccfLevel%22%3A6%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B512000%2C512000%2C512000%2C512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B1%2C36%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A250%2C%22totalAccepted%22%3A79%2C%22pid%22%3A%22P5380%22%2C%22title%22%3A%22%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A153388%2C%22title%22%3A%22%5Cu73a9%5Cu5177%5Cu4e0b%5Cu8f7d%5Cu94fe%5Cu63a5%5Cu65e0%5Cu6cd5%5Cu4e0b%5Cu8f7d%22%2C%22forum%22%3A%7B%22id%22%3A36447%2C%22name%22%3A%22P5380%20%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22slug%22%3A%22P5380%22%7D%7D%2C%7B%22id%22%3A136336%2C%22title%22%3A%22%5Cu6284%5Cu5927%5Cu6a21%5Cu62df%5Cu9898%5Cu89e3%5Cuff0c%5Cu8bb2%5Cu7a76%22%2C%22forum%22%3A%7B%22id%22%3A36447%2C%22name%22%3A%22P5380%20%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22slug%22%3A%22P5380%22%7D%7D%2C%7B%22id%22%3A115558%2C%22title%22%3A%22%5Cu52a0%5Cu6cb9%22%2C%22forum%22%3A%7B%22id%22%3A36447%2C%22name%22%3A%22P5380%20%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22slug%22%3A%22P5380%22%7D%7D%2C%7B%22id%22%3A115396%2C%22title%22%3A%22%5Cu6240%5Cu4ee5%5Cu8c01%5Cu80fd%5Cu544a%5Cu8bc9%5Cu6211%5Cu8fd9%5Cu4e2a%5Cu73a9%5Cu5177%5Cu600e%5Cu4e48%5Cu7528%5Cu554a%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A36447%2C%22name%22%3A%22P5380%20%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22slug%22%3A%22P5380%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3526%22%2C%22title%22%3A%22%5BPOI2011%5DOKR-Periodicity%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4556%22%2C%22title%22%3A%22%5BVani%5Cu6709%5Cu7ea6%5Cu4f1a%5D%5Cu96e8%5Cu5929%5Cu7684%5Cu5c3e%5Cu5df4%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5334%22%2C%22title%22%3A%22%5BJSOI2019%5D%5Cu8282%5Cu65e5%5Cu5e86%5Cu5178%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5375%22%2C%22title%22%3A%22%5BTHUPC2019%5D%5Cu7ec4%5Cu5408%5Cu6570%5Cu636e%5Cu7ed3%5Cu6784%5Cu95ee%5Cu9898%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5528%22%2C%22title%22%3A%22%5BYnoi2012%5DD2T2%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BTHUPC2019%5D%5Cu9e2d%5Cu68cb%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[THUPC2019]鸭棋</h1>
<h2>题目描述</h2>
<div>#### 题目背景
鸭棋是一种风靡鸭子界的棋类游戏。事实上，它与中国象棋有一些相似之处，但规则不尽相同。在这里，我们将为你介绍鸭棋的规则。
**同时，我们下发了一个模拟鸭棋规则的玩具，你可以结合这个玩具理解题目**（也可以在 AK 后与你的队友进行对弈）。详情请见「玩具使用说明」。
鸭棋在一个 $10\times 9$（$10$ 行 $9$ 列）的网格棋盘上进行，网格上的每个格点都可以有棋子停留。对弈双方一方执红（`red`）棋、另一方执蓝（`blue`）棋，双方轮流执行操作，轮到一位玩家操作时，他必须选择一枚自己的棋子，并按照规则进行一步移动。
鸭棋发明者鸭子德规定一局鸭棋由红方执先手，并设计了初始棋盘布局如下：
![initial_board.png](https://cdn.luogu.com.cn/upload/pic/58700.png)
##### 棋子类型与走子规则
棋子分为 $7$ 类，下面介绍了它们的名字以及它们的移动规则。介绍移动规则时，我们默认棋子所处位置为 $\left( x,y\right)$（表示第 $x$ 行的第 $y$ 列，下同），并列出它可以到达的位置：
* **王**（`captain`)：可达的位置共 $4$ 个，包括 $\left(x\pm 1,y\right)$ 及 $\left(x,y\pm 1\right)$。
* **士**（`guard`）：可达的位置共 $4$ 个，包括 $\left(x\pm 1,y\pm 1\right)$ 及 $\left(x\pm 1,y\mp 1\right)$。
* **象**（`elephant`）：可达的位置至多 $4$ 个，对于任意 $s_x,s_y\in \left\{ 1,-1\right\}$，分别有：
* 如果位置 $\left(x+s_x\times 1 ,y+ s_y\times 1\right)$ 上**无任意一方**的棋子停留，则 $\left( x+s_x \times 2,y+s_y \times 2\right)$ 为一个可达的位置。
* **马**（`horse`）：可达的位置至多 $8$ 个，对于任意 $s_x,s_y\in \left\{ 1,-1\right\}$，分别有：
* 如果位置 $\left(x+s_x\times 1 ,y\right)$ 上**无任意一方**的棋子停留，则 $\left( x+s_x \times 2,y+s_y \times 1\right)$ 为一个可达的位置。
* 如果位置 $\left(x ,y+ s_y \times 1 \right)$ 上**无任意一方**的棋子停留，则 $\left( x+s_x \times 1,y+s_y \times 2\right)$ 为一个可达的位置。
* **车**（`car`）：可在**不跨越其他棋子**的前提下，到达同行或同列的所有其他位置。
* **鸭**（`duck`）：可达的位置至多 $8$ 个，对于任意 $s_x,s_y\in \left\{ 1,-1\right\}$，分别有：
* 如果位置 $\left(x+s_x\times 2 ,y+s_y \times 1\right),\left(x+s_x\times 1 ,y\right)$ 上均**无任意一方**的棋子停留，则 $\left( x+s_x \times 3,y+s_y \times 2\right)$ 为一个可达的位置。
* 如果位置 $\left(x+s_x \times 1 ,y+ s_y \times 2 \right),\left(x ,y+ s_y \times 1 \right)$ 上均**无任意一方**的棋子停留，则 $\left( x+s_x \times 2,y+s_y \times 3\right)$ 为一个可达的位置。
* **兵**（`soldier`）：可达的位置共 $8$ 个，包括 $\left(x\pm 1,y\right)$ 及 $\left(x,y\pm 1\right)$ 及 $\left(x\pm 1,y\pm 1\right)$ 及 $\left(x\pm 1,y\mp 1\right)$。
**除上面描述的规则之外，棋子移动还有如下额外规则：**
* 不能将棋子移动到棋盘外的某个位置。
* 玩家不能将棋子移动到**已经停留了己方棋子**的位置。
* 如果玩家将棋子移动到了一个**已经停留了对方棋子**的位置，那么原本停留在该位置上的这个**对方棋子**将被移出游戏。
##### 胜利条件与将军局面
玩家在这个游戏中的目标是将对方的**王**移出游戏。一旦一方的**王**被移出游戏，则另一方立即宣告胜利。
对于一个棋盘的状态，如果存在一方有一步合法的操作能够将另一方的**王**移出游戏，则我们说当前局面是一个**将军**的局面。需要友情提示的是，根据定义，将军局面的形成包括（但不限于）如下这些可能：
1. 一方将一枚棋子移动到可以攻击对方**王**的位置
2. 在己方**王**受到威胁时不采取措施躲避
3. 主动将**王**移动至会受到攻击的位置
**除此之外，需要特别说明的是，游戏结束后，由于双方不可再操作，因此不可能出现将军局面，即便此时另一方王处于被「攻击」的位置。**
#### 题目描述
今年的 IDCC（International Duck Chess Competition，国际鸭棋大赛）正在如火如荼地进行着。你观摩了一场精彩绝伦的比赛，但你对对弈过程的记忆已经模糊不清了，只有系统留下的他们的**操作序列**，序列中的每个**操作**为当前操作者试图移动某个位置的棋子至另一个位置。你希望用这个序列，来复现出整局棋局的对弈过程。即，对于每步操作，你需要**首先判其是否合法**，若合法，则**进一步求出**：
1. 这步操作移动了哪个棋子。
2. 这步操作后，是否存在棋子被移出游戏，如有则还需求出被移出游戏的棋子。
3. 这步操作后，是否形成将军局面。
4. 这步操作后，游戏是否结束。
可能包含的不合法情况如下：
* 此步移动的初始位置无己方棋子停留。
* 此步移动的初始位置有己方棋子停留，但移动不符合规则。
* 游戏已经结束。
序列中的不合法操作是需要被忽略的。比如，如果轮到红方移动，此时序列中的当前操作恰好是不合法的，则这个操作将被忽略，序列中的下一步操作将成为红方这步的操作（如仍不合法则继续忽略，直至出现合法的操作）。</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>第一行一个非负整数 $Q$，表示操作序列的长度。接下来依次描述每个操作。
接下来 $Q$ 行，每行 $4$ 个整数 $x_s, y_s, x_t, y_t$（$0\leq x_s,x_t < 10$，$0\leq y_s,y_t < 9$），描述一个欲将 $\left(x_s,y_s\right)$ 处棋子移动到 $\left(x_t,y_t\right)$ 的操作。在这里，我们规定左下角（即红方**车**摆放的位置，图见「题目背景」）为 $\left(0,0\right)$。
保证 $Q\leq 1000$。</div>
<h3>输出格式</h3>
<br />
<div>输出 $Q$ 行，对于每个操作依次输出复现结果。每行输出一个操作的结果：
* 如果该操作为不合法操作，则请输出 `Invalid command`。
* 如果为合法操作，则依次回答「题目描述」中的问题 $1\sim 4$：
* 被移动的棋子用 `[颜色] [类型]`（注意中间包含空格）来描述，请使用它们的英文名称（见「题目背景」）。如，红象为 `red elephant`，蓝王为 `blue captain`。
* 被移出游戏的棋子的描述方式与上面类似。特别地，**如果无棋子被移出游戏，则该问题的答案为 `NA`**。
* 用 `yes`、`no` 分别表示形成、不形成将军局面。
* 用 `yes`、`no` 分别表示游戏结束、游戏不结束。
* 用 `;`（分号）将所有问题的答案隔开。
* 比如，四个问题的答案分别为：被移动的棋子是蓝车，无棋子被移出游戏，形成将军局面，游戏未结束。则该行应输出 `blue car;NA;yes;no`。</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>18
0 0 7 0
9 0 8 0
0 1 1 3
0 2 2 0
0 3 1 2
0 4 0 3
9 4 8 4
3 2 2 3
7 0 4 2
7 0 5 3
9 2 7 4
2 0 4 3
9 1 8 3
4 3 6 6
7 4 9 2
8 4 9 4
6 6 9 4
9 8 8 8</code></pre>
<h3>输出样例 #1</h3>
<pre><code>Invalid command
Invalid command
Invalid command
Invalid command
red guard;NA;no;no
Invalid command
blue captain;NA;no;no
red soldier;NA;no;no
Invalid command
Invalid command
blue elephant;NA;no;no
red duck;NA;no;no
blue horse;NA;no;no
red duck;blue soldier;no;no
Invalid command
blue captain;NA;yes;no
red duck;blue captain;no;yes
Invalid command</code></pre>
<h2>说明</h2>
<div>##### 玩具使用说明
你可以在玩具所在目录下执行如下命令来运行玩具（链接: https://pan.baidu.com/s/1ekgXcFvFL9opKkaCaoUYZg 提取码: ru4j）：
```
./duckchess
```
特别地，在**初次运行前**，你需要执行如下命令为它添加运行权限：
```
chmod +x duckchess
```
##### 版权信息
来自 THUPC（THU Programming Contest，清华大学程序设计竞赛）2019。
题解等资源可在 https://github.com/wangyurzee7/THUPC2019 查看。</div>
</article>
</div>
</div>
</body>
</html>
