<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO09JAN]地震造成的破坏Earthquake Damage - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376161:yHlvVWrJXwuVqQvlYBoH78qNuiSmowuHi3PdWBzCv1Y=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Wisconsin%20has%20had%20an%20earthquake%20that%20has%20struck%20Farmer%20John%27s%20farm%21%20The%20earthquake%20has%20damaged%20some%20of%20the%20pastures%20so%20that%20they%20are%20unpassable.%20Remarkably%2C%20none%20of%20the%20cowpaths%20was%20damaged.%5Cn%5CnAs%20usual%2C%20the%20farm%20is%20modeled%20as%20a%20set%20of%20P%20%281%20%3C%3D%20P%20%3C%3D%2030%2C000%29%20pastures%20conveniently%20numbered%201..P%20which%20are%20connected%20by%20a%20set%20of%20C%20%281%20%3C%3D%20C%20%3C%3D%20100%2C000%29%20non-directional%20cowpaths%20conveniently%20numbered%201..C.%20Cowpath%20i%20connects%20pastures%20a%5C%5C_i%20and%20b%5C%5C_i%20%281%20%3C%3D%20a%5C%5C_i%20%3C%3D%20P%3B%201%20%3C%3D%20b%5C%5C_i%20%3C%3D%20P%29.%20Cowpaths%20might%20connect%20a%5C%5C_i%20to%20itself%20or%20perhaps%20might%20connect%20two%20pastures%20more%20than%20once.%20%20The%20barn%20is%20located%20in%20pasture%201.%5Cn%5CnA%20total%20of%20N%20%281%20%3C%3D%20N%20%3C%3D%20P%29%20cows%20%28in%20different%20pastures%29%20sequentially%20contact%20Farmer%20John%20via%20moobile%20phone%20with%20an%20integer%20message%5Cn%5Cnreport%5C%5C_j%20%282%20%3C%3D%20report%5C%5C_j%20%3C%3D%20P%29%20that%20indicates%20that%20pasture%20report%5C%5C_j%20is%20undamaged%20but%20that%20the%20calling%20cow%20is%20unable%20to%20return%20to%20the%20barn%20from%20pasture%20report%5C%5C_j%20because%20she%20could%20not%20find%20a%20path%20that%20does%20not%20go%20through%20damaged%20pastures.%5Cn%5CnAfter%20all%20the%20cows%20report%20in%2C%20determine%20the%20minimum%20number%20of%5Cn%5Cnpastures%20%28including%20ones%20that%20are%20uncrossable%29%20from%20which%20it%20is%20not%20possible%20to%20return%20to%20the%20barn.%5Cn%5CnNote%3A%20Feedback%20on%20some%20of%20the%20test%20data%20will%20be%20provided%20on%20the%20first%2050%20submissions%5Cn%5Cn%5Cu519c%5Cu592bJohn%5Cu7684%5Cu519c%5Cu573a%5Cu906d%5Cu53d7%5Cu4e86%5Cu4e00%5Cu573a%5Cu5730%5Cu9707.%5Cu6709%5Cu4e00%5Cu4e9b%5Cu725b%5Cu68da%5Cu906d%5Cu5230%5Cu4e86%5Cu635f%5Cu574f%2C%5Cu4f46%5Cu5e78%5Cu8fd0%5Cu5730%2C%5Cu6240%5Cu6709%5Cu725b%5Cu68da%5Cu95f4%5Cu7684%5Cu8def%5Cu7ecf%5Cu90fd%5Cu8fd8%5Cu80fd%5Cu4f7f%5Cu7528.%20FJ%5Cu7684%5Cu519c%5Cu573a%5Cu6709P%281%20%3C%3D%20P%20%3C%3D%2030%2C000%29%5Cu4e2a%5Cu725b%5Cu68da%2C%5Cu7f16%5Cu53f71..P.%20C%281%20%3C%3D%20C%20%3C%3D%20100%2C000%29%5Cu6761%5Cu53cc%5Cu5411%5Cu8def%5Cu7ecf%5Cu8054%5Cu63a5%5Cu8fd9%5Cu4e9b%5Cu725b%5Cu68da%2C%5Cu7f16%5Cu53f7%5Cu4e3a1..C.%20%5Cu8def%5Cu7ecfi%5Cu8fde%5Cu63a5%5Cu725b%5Cu68daa%5C%5C_i%5Cu548cb%5C%5C_i%20%281%20%3C%3D%20a%5C%5C_i%3C%3D%20P%3B1%20%3C%3D%20b%5C%5C_i%20%3C%3D%20P%29.%5Cu8def%5Cu7ecf%5Cu53ef%5Cu80fd%5Cu8fde%5Cu63a5a%5C%5C_i%5Cu5230%5Cu5b83%5Cu81ea%5Cu5df1%2C%5Cu4e24%5Cu4e2a%5Cu725b%5Cu68da%5Cu4e4b%5Cu95f4%5Cu53ef%5Cu80fd%5Cu6709%5Cu591a%5Cu6761%5Cu8def%5Cu7ecf.%5Cu519c%5Cu5e84%5Cu5728%5Cu7f16%5Cu53f7%5Cu4e3a1%5Cu7684%5Cu725b%5Cu68da.%20N%20%281%20%3C%3D%20N%20%3C%3D%20P%29%5Cu5934%5Cu5728%5Cu4e0d%5Cu540c%5Cu725b%5Cu68da%5Cu7684%5Cu725b%5Cu901a%5Cu8fc7%5Cu624b%5Cu673a%5Cu77ed%5Cu4fe1report%5C%5C_j%282%20%3C%3D%20report%5C%5C_j%20%3C%3D%20P%29%5Cu544a%5Cu8bc9FJ%5Cu5b83%5Cu4eec%5Cu7684%5Cu725b%5Cu68da%28report%5C%5C_j%29%5Cu6ca1%5Cu6709%5Cu635f%5Cu574f%2C%5Cu4f46%5Cu662f%5Cu5b83%5Cu4eec%5Cu65e0%5Cu6cd5%5Cu901a%5Cu8fc7%5Cu8def%5Cu7ecf%5Cu548c%5Cu6ca1%5Cu6709%5Cu635f%5Cu574f%5Cu7684%5Cu725b%5Cu68da%5Cu56de%5Cu5230%5Cu5230%5Cu519c%5Cu573a.%20%5Cu5f53FJ%5Cu63a5%5Cu5230%5Cu6240%5Cu6709%5Cu77ed%5Cu4fe1%5Cu4e4b%5Cu540e%2C%5Cu627e%5Cu51fa%5Cu6700%5Cu5c0f%5Cu7684%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu56de%5Cu5230%5Cu519c%5Cu5e84%5Cu7684%5Cu725b%5Cu68da%5Cu6570%5Cu76ee.%5Cu8fd9%5Cu4e2a%5Cu6570%5Cu76ee%5Cu5305%5Cu62ec%5Cu635f%5Cu574f%5Cu7684%5Cu725b%5Cu68da.%20%5Cu6ce8%5Cu610f%3A%5Cu524d50%5Cu6b21%5Cu63d0%5Cu4ea4%5Cu5c06%5Cu63d0%5Cu4f9b%5Cu5728%5Cu4e00%5Cu4e9b%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cu4e0a%5Cu7684%5Cu8fd0%5Cu884c%5Cu7ed3%5Cu679c.%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Three%20space-separated%20integers%3A%20P%2C%20C%2C%20and%20N%5Cn%5Cn%5C%5C%2A%20Lines%202..C%2B1%3A%20Line%20i%2B1%20describes%20cowpath%20i%20with%20two%20integers%3A%20a%5C%5C_i%20and%20b%5C%5C_i%5Cn%5Cn%5C%5C%2A%20Lines%20C%2B2..C%2BN%2B1%3A%20Line%20C%2B1%2Bj%20contains%20a%20single%20integer%3A%20report%5C%5C_j%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20integer%20that%20is%20the%20minimum%20count%20of%20pastures%20from%20which%20a%20cow%20can%20not%20return%20to%20the%20barn%20%28including%20the%20damaged%20pastures%20themselves%29%5Cn%22%2C%22samples%22%3A%5B%5B%224%203%201%20%5Cr%5Cn1%202%20%5Cr%5Cn2%203%20%5Cr%5Cn3%204%20%5Cr%5Cn3%20%5Cr%5Cn%22%2C%223%20%5Cr%5Cn%22%5D%5D%2C%22hint%22%3A%22Pasture%202%20is%20damaged%2C%20resulting%20in%20cows%20in%20pastures%202%2C%203%2C%204%20not%20being%20able%20to%20return%20to%20the%20barn.%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B26%2C46%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A807%2C%22totalAccepted%22%3A281%2C%22pid%22%3A%22P2932%22%2C%22title%22%3A%22%5BUSACO09JAN%5D%5Cu5730%5Cu9707%5Cu9020%5Cu6210%5Cu7684%5Cu7834%5Cu574fEarthquake%20Damage%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1515%22%2C%22title%22%3A%22%5Cu65c5%5Cu884c%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1626%22%2C%22title%22%3A%22%5Cu8c61%5Cu68cb%5Cu6bd4%5Cu8d5b%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1969%22%2C%22title%22%3A%22%5Cu79ef%5Cu6728%5Cu5927%5Cu8d5b%22%2C%22difficulty%22%3A2%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2933%22%2C%22title%22%3A%22%5BUSACO09JAN%5D%5Cu6c14%5Cu8c61%5Cu6d4b%5Cu91cfThe%20Baric%20Bovine%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2937%22%2C%22title%22%3A%22%5BUSACO09JAN%5D%5Cu6fc0%5Cu5149%5Cu7535%5Cu8bddLaserphones%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO09JAN%5D%5Cu5730%5Cu9707%5Cu9020%5Cu6210%5Cu7684%5Cu7834%5Cu574fEarthquake%20Damage%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO09JAN]地震造成的破坏Earthquake Damage</h1>
<h2>题目描述</h2>
<div>Wisconsin has had an earthquake that has struck Farmer John's farm! The earthquake has damaged some of the pastures so that they are unpassable. Remarkably, none of the cowpaths was damaged.
As usual, the farm is modeled as a set of P (1 <= P <= 30,000) pastures conveniently numbered 1..P which are connected by a set of C (1 <= C <= 100,000) non-directional cowpaths conveniently numbered 1..C. Cowpath i connects pastures a\_i and b\_i (1 <= a\_i <= P; 1 <= b\_i <= P). Cowpaths might connect a\_i to itself or perhaps might connect two pastures more than once. The barn is located in pasture 1.
A total of N (1 <= N <= P) cows (in different pastures) sequentially contact Farmer John via moobile phone with an integer message
report\_j (2 <= report\_j <= P) that indicates that pasture report\_j is undamaged but that the calling cow is unable to return to the barn from pasture report\_j because she could not find a path that does not go through damaged pastures.
After all the cows report in, determine the minimum number of
pastures (including ones that are uncrossable) from which it is not possible to return to the barn.
Note: Feedback on some of the test data will be provided on the first 50 submissions
农夫John的农场遭受了一场地震.有一些牛棚遭到了损坏,但幸运地,所有牛棚间的路经都还能使用. FJ的农场有P(1 <= P <= 30,000)个牛棚,编号1..P. C(1 <= C <= 100,000)条双向路经联接这些牛棚,编号为1..C. 路经i连接牛棚a\_i和b\_i (1 <= a\_i<= P;1 <= b\_i <= P).路经可能连接a\_i到它自己,两个牛棚之间可能有多条路经.农庄在编号为1的牛棚. N (1 <= N <= P)头在不同牛棚的牛通过手机短信report\_j(2 <= report\_j <= P)告诉FJ它们的牛棚(report\_j)没有损坏,但是它们无法通过路经和没有损坏的牛棚回到到农场. 当FJ接到所有短信之后,找出最小的不可能回到农庄的牛棚数目.这个数目包括损坏的牛棚. 注意:前50次提交将提供在一些测试数据上的运行结果.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Three space-separated integers: P, C, and N
\* Lines 2..C+1: Line i+1 describes cowpath i with two integers: a\_i and b\_i
\* Lines C+2..C+N+1: Line C+1+j contains a single integer: report\_j
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: A single integer that is the minimum count of pastures from which a cow can not return to the barn (including the damaged pastures themselves)
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 3 1 
1 2 
2 3 
3 4 
3 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3 
</code></pre>
<h2>说明</h2>
<div>Pasture 2 is damaged, resulting in cows in pastures 2, 3, 4 not being able to return to the barn.
</div>
</article>
</div>
</div>
</body>
</html>
