<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO07OCT]障碍路线Obstacle Course - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573374233:6IHuduDVyzDC9DB82CT6LeGGWKEStQff/p2sEa4Yb8w=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Consider%20an%20N%20x%20N%20%281%20%3C%3D%20N%20%3C%3D%20100%29%20square%20field%20composed%20of%201%5Cn%5Cnby%201%20tiles.%20Some%20of%20these%20tiles%20are%20impassible%20by%20cows%20and%20are%20marked%20with%20an%20%27x%27%20in%20this%205%20by%205%20field%20that%20is%20challenging%20to%20navigate%3A%5Cn%5Cn%60%60%60cpp%5Cn.%20.%20B%20x%20.%20%5Cn.%20x%20x%20A%20.%20%5Cn.%20.%20.%20x%20.%20%5Cn.%20x%20.%20.%20.%20%5Cn.%20.%20x%20.%20.%20%5Cn%60%60%60%5CnBessie%20finds%20herself%20in%20one%20such%20field%20at%20location%20A%20and%20wants%20to%20move%20to%20location%20B%20in%20order%20to%20lick%20the%20salt%20block%20there.%20%20Slow%2C%20lumbering%20creatures%20like%20cows%20do%20not%20like%20to%20turn%20and%2C%20of%20course%2C%20may%20only%20move%20parallel%20to%20the%20edges%20of%20the%20square%20field.%20For%20a%20given%20field%2C%20determine%20the%20minimum%20number%20of%20ninety%20degree%20turns%20in%20any%20path%20from%20A%20to%20B.%20The%20path%20may%20begin%20and%20end%20with%20Bessie%20facing%20in%20any%20direction.%20Bessie%20knows%20she%20can%20get%20to%20the%20salt%20lick.%5Cn%5CnN%5C%5C%2AN%281%3C%3DN%3C%3D100%29%5Cu65b9%5Cu683c%5Cu4e2d%5Cuff0c%5Cu2019x%5Cu2019%5Cu8868%5Cu793a%5Cu4e0d%5Cu80fd%5Cu884c%5Cu8d70%5Cu7684%5Cu683c%5Cu5b50%5Cuff0c%5Cu2019.%5Cu2019%5Cu8868%5Cu793a%5Cu53ef%5Cu4ee5%5Cu884c%5Cu8d70%5Cu7684%5Cu683c%5Cu5b50%5Cu3002%5Cu5361%5Cu95e8%5Cu5f88%5Cu80d6%5Cuff0c%5Cu6545%5Cu800c%5Cu4e0d%5Cu597d%5Cu8f6c%5Cu5f2f%5Cu3002%5Cu73b0%5Cu5728%5Cu8981%5Cu4eceA%5Cu70b9%5Cu8d70%5Cu5230B%5Cu70b9%5Cuff0c%5Cu8bf7%5Cu95ee%5Cu6700%5Cu5c11%5Cu8981%5Cu8f6c90%5Cu5ea6%5Cu5f2f%5Cu51e0%5Cu6b21%5Cuff1f%5Cn%22%2C%22inputFormat%22%3A%22%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570N%2C%5Cu4e0b%5Cu9762N%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884cN%5Cu4e2a%5Cu5b57%5Cu7b26%5Cuff0c%5Cu53ea%5Cu51fa%5Cu73b0%5Cu5b57%5Cu7b26%5Cuff1a%5Cu2019.%5Cu2019%5Cuff0c%5Cu2019x%5Cu2019%5Cuff0c%5Cu2019A%5Cu2019%5Cuff0c%5Cu2019B%5Cu2019%5Cuff0c%5Cu8868%5Cu793a%5Cu4e0a%5Cu9762%5Cu6240%5Cu8bf4%5Cu7684%5Cu77e9%5Cu9635%5Cu683c%5Cu5b50%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu540e%5Cu6709%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cu3002%5Cn%5Cn%5Cu3010%5Cu6570%5Cu636e%5Cu89c4%5Cu6a21%5Cu3011%5Cn%5Cn2%3C%3DN%3C%3D100%5Cn%22%2C%22outputFormat%22%3A%22%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1a%5Cu6700%5Cu5c11%5Cu8f6c%5Cu5f2f%5Cu6b21%5Cu6570%5Cu3002%5Cu5982%5Cu679c%5Cu4e0d%5Cu80fd%5Cu5230%5Cu8fbe%5Cuff0c%5Cu8f93%5Cu51fa-1%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%223%5Cn.%20x%20A%5Cn.%20.%20.%5CnB%20x%20.%22%2C%222%22%5D%5D%2C%22hint%22%3A%22%5Cu3010%5Cu6ce8%5Cu91ca%5Cu3011%5Cn%5Cn%5Cu53ea%5Cu53ef%5Cu4ee5%5Cu4e0a%5Cu4e0b%5Cu5de6%5Cu53f3%5Cu56db%5Cu4e2a%5Cu65b9%5Cu5411%5Cu884c%5Cu8d70%5Cuff0c%5Cu5e76%5Cu4e14%5Cu4e0d%5Cu80fd%5Cu8d70%5Cu51fa%5Cu8fd9%5Cu4e9b%5Cu683c%5Cu5b50%5Cu4e4b%5Cu5916%5Cu3002%5Cu5f00%5Cu59cb%5Cu548c%5Cu7ed3%5Cu675f%5Cu65f6%5Cu7684%5Cu65b9%5Cu5411%5Cu53ef%5Cu4ee5%5Cu4efb%5Cu610f%5Cu3002%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C6%2C24%2C46%2C126%2C164%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A2989%2C%22totalAccepted%22%3A827%2C%22pid%22%3A%22P1649%22%2C%22title%22%3A%22%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A160281%2C%22title%22%3A%22%5Cu6837%5Cu4f8b%5Cu6709%5Cu8bef%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%2C%7B%22id%22%3A150266%2C%22title%22%3A%22%5Cu4e00%5Cu4e2a%5Cu70b9%5Cu8d85%5Cu65f6%5Cu4e86%5Cuff0c%5Cu4e0d%5Cu77e5%5Cu9053%5Cu600e%5Cu4e48%5Cu6539%5Cuff0c%5Cu6c42dalao%5Cu5e2e%5Cu5fd9%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%2C%7B%22id%22%3A148902%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cu3002%5Cu300230%5Cu5206%5Cu4e0d%5Cu77e5%5Cu9053%5Cu600e%5Cu4e48%5Cu6539%5Cu4e86%5Cu3002%5Cu3002%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%2C%7B%22id%22%3A143089%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cuff01%5Cu849f%5Cu84bbC%2B%2BBFS%5Cu53ea%5Cu670920%5Cu5206%5Cuff01%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%2C%7B%22id%22%3A73783%2C%22title%22%3A%2280%5Cu6c42%5Cu52a9%5Cuff0c%5Cu5728%5Cu7ebf%5Cu7b49%5Cuff0c%5Cu6025%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%2C%7B%22id%22%3A58936%2C%22title%22%3A%22hack%5Cu6570%5Cu636e%5Cuff01%5Cuff01%5Cuff01%5Cuff08chen_zhe%5Cu5927%5Cu4f6c%5Cu770b%5Cu8fc7%5Cu6765%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A685%2C%22name%22%3A%22P1649%20%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22slug%22%3A%22P1649%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1330%22%2C%22title%22%3A%22%5Cu5c01%5Cu9501%5Cu9633%5Cu5149%5Cu5927%5Cu5b66%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1650%22%2C%22title%22%3A%22%5Cu7530%5Cu5fcc%5Cu8d5b%5Cu9a6c%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1807%22%2C%22title%22%3A%22%5Cu6700%5Cu957f%5Cu8def_NOI%5Cu5bfc%5Cu520a2010%5Cu63d0%5Cu9ad8%5Cuff0807%5Cuff09%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1821%22%2C%22title%22%3A%22%5BUSACO07FEB%5D%5Cu94f6%5Cu725b%5Cu6d3e%5Cu5bf9Silver%20Cow%20Party%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2895%22%2C%22title%22%3A%22%5BUSACO08FEB%5D%5Cu6d41%5Cu661f%5Cu96e8Meteor%20Shower%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO07OCT%5D%5Cu969c%5Cu788d%5Cu8def%5Cu7ebfObstacle%20Course%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO07OCT]障碍路线Obstacle Course</h1>
<h2>题目描述</h2>
<div>Consider an N x N (1 <= N <= 100) square field composed of 1
by 1 tiles. Some of these tiles are impassible by cows and are marked with an 'x' in this 5 by 5 field that is challenging to navigate:
```cpp
. . B x .
. x x A .
. . . x .
. x . . .
. . x . .
```
Bessie finds herself in one such field at location A and wants to move to location B in order to lick the salt block there. Slow, lumbering creatures like cows do not like to turn and, of course, may only move parallel to the edges of the square field. For a given field, determine the minimum number of ninety degree turns in any path from A to B. The path may begin and end with Bessie facing in any direction. Bessie knows she can get to the salt lick.
N\*N(1<=N<=100)方格中，’x’表示不能行走的格子，’.’表示可以行走的格子。卡门很胖，故而不好转弯。现在要从A点走到B点，请问最少要转90度弯几次？
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>第一行一个整数N,下面N行，每行N个字符，只出现字符：’.’，’x’，’A’，’B’，表示上面所说的矩阵格子，每个字符后有一个空格。
【数据规模】
2<=N<=100
</div>
<h3>输出格式</h3>
<br />
<div>一个整数：最少转弯次数。如果不能到达，输出-1。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
. x A
. . .
B x .</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
<h2>说明</h2>
<div>【注释】
只可以上下左右四个方向行走，并且不能走出这些格子之外。开始和结束时的方向可以任意。
</div>
</article>
</div>
</div>
</body>
</html>
