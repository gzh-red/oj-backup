<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2010]KOL-Railway - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376967:qH+m5PL7pm093hnyju99aGhhIjWODyXLRQwJJy1iAkg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20railroad%20siding%20consists%20of%20two%20%28dead-end%29%20sidetracks%201%20and%202.%5Cn%5CnThe%20siding%20is%20entered%20by%20track%20A%2C%20and%20left%20by%20track%20B%20%28see%20figure%20below%29.%5Cn%5CnThere%20are%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.1.png%29%20cars%20on%20track%20A%2C%20numbered%20from%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.2.png%29%20to%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.3.png%29.%5Cn%5CnThey%20are%20arranged%20in%20such%20a%20way%20that%20they%20enter%20the%20siding%20in%20the%20order%20%20%20%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.4.png%29.%5Cn%5CnThe%20cars%20are%20to%20be%20transferred%20to%20the%20siding%2C%20so%20that%20they%20leave%20it%20by%20track%20B%20%20%20%20in%20the%20order%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.5.png%29.%5Cn%5CnEach%20car%20is%20to%20be%20transferred%20once%20from%20track%20A%20to%20one%20of%20the%20sidetracks%201%20or%202%2C%20%20%20%20and%20later%20%28possibly%20after%20some%20transfers%20of%20the%20remaining%20cars%29%20once%20from%20that%20%20%20%20sidetrack%20to%20the%20track%20B.%5Cn%5CnThe%20sidetracks%20are%20long%20enough%20to%20store%20even%20the%20longest%20trains%2C%20so%20there%20is%20%20%20%20no%20need%20to%20worry%20about%20their%20capacity.%5Cn%5Cn%5Cu6570%5Cu636e%5Cu8303%5Cu56f410W%5Cu7684%5Cu53cc%5Cu6808%5Cu6392%5Cu5e8f..%5Cu53cc%5Cu6808%5Cu6392%5Cu5e8f%5Cu662f%5Cu5565%5Cu5462%5Cuff1f%5Cu7ed9%5Cu4f60%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%5Cu548c%5Cu4e24%5Cu4e2a%5Cu6808%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu628a%5Cu5e8f%5Cu5217%5Cu5934%5Cu5165%5Cu5230%5Cu4e24%5Cu4e2a%5Cu6808%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cuff0c%5Cu6216%5Cu8005%5Cu628a%5Cu4e24%5Cu4e2a%5Cu6808%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu5f39%5Cu51fa%5Cu5230%5Cu6700%5Cu7ec8%5Cu5e8f%5Cu5217%5Cuff0c%5Cu6700%5Cu540e%5Cu8981%5Cu6c42%5Cu6700%5Cu7ec8%5Cu5e8f%5Cu5217%5Cu662f%5Cu6709%5Cu5e8f%5Cu7684%5Cuff0c%5Cu6c42%5Cu4e00%5Cu79cd%5Cu5b57%5Cu5178%5Cu5e8f%5Cu6700%5Cu5c0f%5Cu7684%5Cu5165%5Cu6808%5Cu65b9%5Cu6848%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20holds%20one%20integer%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.6.png%29%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.7.png%29%29%20%20%20%20%20%20that%20denotes%20the%20number%20of%20cars%20for%20transfer.%5Cn%5CnThe%20second%20line%20stores%20the%20numbers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.8.png%29%20that%20are%20a%20permutation%20of%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.9.png%29%20%20%20%20%20%20%28i.e.%2C%20each%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.10.png%29%20belongs%20to%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.11.png%29%2C%20and%20all%20these%20numbers%20are%20unique%29%2C%20%20%20%20%20%20separated%20by%20single%20spaces.%5Cn%22%2C%22outputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20output%20should%20contain%20the%20word%20TAK%20%20%20%20%20%20%28yes%20in%20Polish%29%20if%20there%20is%20a%20way%20of%20transferring%20the%20cars%20so%20that%20they%20%20%20%20%20%20enter%20track%20B%20in%20the%20order%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.12.png%29%2C%20or%20the%20word%20NIE%20%20%20%20%20%20%28no%20in%20Polish%29%20if%20it%20is%20impossible.%5Cn%5CnIf%20the%20answer%20is%20TAK%2C%20the%20second%20line%20should%20give%2C%20separated%20by%20%20%20%20%20%20single%20spaces%2C%20the%20numbers%20of%20sidetracks%20%281%20or%202%29%20to%20which%20successive%20cars%20%20%20%20%20%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI17%5C%2Fkol-en-tex.13.png%29%20are%20moved%20in%20a%20correct%20transfer.%5Cn%5CnIf%20there%20are%20several%20ways%20of%20making%20the%20transfer%2C%20choose%20one%20arbitrarily.%5Cn%22%2C%22samples%22%3A%5B%5B%224%5Cn1%203%204%202%22%2C%22TAK%5Cn1%201%202%201%22%5D%5D%2C%22hint%22%3A%22%24n%20%5C%5Cle%2010%5E5%24%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B27%2C42%2C57%2C176%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A113%2C%22totalAccepted%22%3A33%2C%22pid%22%3A%22P3497%22%2C%22title%22%3A%22%5BPOI2010%5DKOL-Railway%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2478%22%2C%22title%22%3A%22%5BSDOI2010%5D%5Cu57ce%5Cu5e02%5Cu89c4%5Cu5212%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2605%22%2C%22title%22%3A%22%5BZJOI2010%5D%5Cu57fa%5Cu7ad9%5Cu9009%5Cu5740%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3352%22%2C%22title%22%3A%22%5BZJOI2016%5D%5Cu7ebf%5Cu6bb5%5Cu6811%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4221%22%2C%22title%22%3A%22%5BWC2018%5D%5Cu5dde%5Cu533a%5Cu5212%5Cu5206%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1153F%22%2C%22title%22%3A%22Serval%20and%20Bonus%20Problem%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2010%5DKOL-Railway%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2010]KOL-Railway</h1>
<h2>题目描述</h2>
<div>A railroad siding consists of two (dead-end) sidetracks 1 and 2.
The siding is entered by track A, and left by track B (see figure below).
There are ![](http://main.edu.pl/images/OI17/kol-en-tex.1.png) cars on track A, numbered from ![](http://main.edu.pl/images/OI17/kol-en-tex.2.png) to ![](http://main.edu.pl/images/OI17/kol-en-tex.3.png).
They are arranged in such a way that they enter the siding in the order ![](http://main.edu.pl/images/OI17/kol-en-tex.4.png).
The cars are to be transferred to the siding, so that they leave it by track B in the order ![](http://main.edu.pl/images/OI17/kol-en-tex.5.png).
Each car is to be transferred once from track A to one of the sidetracks 1 or 2, and later (possibly after some transfers of the remaining cars) once from that sidetrack to the track B.
The sidetracks are long enough to store even the longest trains, so there is no need to worry about their capacity.
数据范围10W的双栈排序..双栈排序是啥呢？给你一个序列和两个栈，每次你可以把序列头入到两个栈的任意一个，或者把两个栈的任意一个弹出到最终序列，最后要求最终序列是有序的，求一种字典序最小的入栈方案
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input holds one integer ![](http://main.edu.pl/images/OI17/kol-en-tex.6.png) (![](http://main.edu.pl/images/OI17/kol-en-tex.7.png)) that denotes the number of cars for transfer.
The second line stores the numbers ![](http://main.edu.pl/images/OI17/kol-en-tex.8.png) that are a permutation of ![](http://main.edu.pl/images/OI17/kol-en-tex.9.png) (i.e., each ![](http://main.edu.pl/images/OI17/kol-en-tex.10.png) belongs to ![](http://main.edu.pl/images/OI17/kol-en-tex.11.png), and all these numbers are unique), separated by single spaces.
</div>
<h3>输出格式</h3>
<br />
<div>The first line of the standard output should contain the word TAK (yes in Polish) if there is a way of transferring the cars so that they enter track B in the order ![](http://main.edu.pl/images/OI17/kol-en-tex.12.png), or the word NIE (no in Polish) if it is impossible.
If the answer is TAK, the second line should give, separated by single spaces, the numbers of sidetracks (1 or 2) to which successive cars ![](http://main.edu.pl/images/OI17/kol-en-tex.13.png) are moved in a correct transfer.
If there are several ways of making the transfer, choose one arbitrarily.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 3 4 2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>TAK
1 1 2 1</code></pre>
<h2>说明</h2>
<div>$n \le 10^5$
</div>
</article>
</div>
</div>
</body>
</html>
