<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2008]KLO-Building blocks - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376928:wRhUFm3zLDIpKIdoeFuUy8Mhc859vBIzZYzIeLBtKRE=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Byteasar%20loved%20to%20play%20with%20building%20blocks%20as%20a%20child.%5Cn%5CnHe%20used%20to%20arrange%20the%20blocks%20into%20%24n%24%20columns%20of%20random%20height%20%20and%20then%20organize%20them%20in%20the%20following%20manner%3A%5Cn%5CnByteasar%20would%20choose%20a%20number%20%24k%24%20and%20try%20to%20arrange%20the%20blocks%20in%20such%20a%20way%20that%20%20some%20%24k%24%20consecutive%20columns%20would%20be%20of%20equal%20height.%20Furthermore%20he%20always%20tried%20to%20%20achieve%20this%20goal%20in%20a%20minimum%20number%20of%20moves%20possible%2C%20where%20a%20single%20move%20consists%20in%3A%5Cn%5Cnlaying%20one%20block%20on%20top%20of%20any%20column%20%20%20%20%20%20%28Byteasar%20had%20a%20huge%20box%20with%20spare%20blocks%2C%20ensuring%20this%20move%20could%20always%20be%20performed%29%2C%20%20%20%20%20%20or%20%20%20%20%20%20%20%20%20%20%20%20%20%20removing%20the%20uppermost%20block%20from%20the%20top%20of%20any%20column.%5Cn%5CnHowever%2C%20Byteasar%20was%20never%20quite%20sure%20if%20his%20sequence%20of%20moves%20was%20indeed%20optimal%2C%20%20therefore%20he%20has%20asked%20you%20to%20write%20a%20programme%20that%20will%20help%20him%20solve%20the%20problem.%5Cn%5CnTask%20%20%20%20Write%20a%20programme%20that%3A%5Cn%5Cnreads%20the%20number%20%24k%24%20along%20with%20the%20initial%20setup%20of%20the%20blocks%20from%20the%20standard%20input%2Cdetermines%20the%20optimal%20solution%20%28shortest%20possible%20sequence%20of%20moves%29%2Cwrites%20out%20the%20solution%20to%20the%20standard%20output.%5Cn%5CnN%5Cu67f1%5Cu7816%2C%5Cu5e0c%5Cu671b%5Cu6709%5Cu8fde%5Cu7eedK%5Cu67f1%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu662f%5Cu4e00%5Cu6837%5Cu7684.%20%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu4ee5%5Cu4e0b%5Cu4e24%5Cu4e2a%5Cu52a8%5Cu4f5c%201%3A%5Cu4ece%5Cu67d0%5Cu67f1%5Cu7816%5Cu7684%5Cu9876%5Cu7aef%5Cu62ff%5Cu4e00%5Cu5757%5Cu7816%5Cu51fa%5Cu6765%2C%5Cu4e22%5Cu6389%5Cu4e0d%5Cu8981%5Cu4e86.%202%3A%5Cu4ece%5Cu4ed3%5Cu5e93%5Cu4e2d%5Cu62ff%5Cu51fa%5Cu4e00%5Cu5757%5Cu7816%2C%5Cu653e%5Cu5230%5Cu53e6%5Cu4e00%5Cu67f1.%5Cu4ed3%5Cu5e93%5Cu65e0%5Cu9650%5Cu5927.%20%5Cu73b0%5Cu5728%5Cu5e0c%5Cu671b%5Cu7528%5Cu6700%5Cu5c0f%5Cu6b21%5Cu6570%5Cu7684%5Cu52a8%5Cu4f5c%5Cu5b8c%5Cu6210%5Cu4efb%5Cu52a1.%5Cu4f60%5Cu8fd8%5Cu8981%5Cu6c42%5Cu8f93%5Cu51fa%5Cu7ed3%5Cu675f%5Cu72b6%5Cu6001%5Cu65f6%2C%5Cu6bcf%5Cu67f1%5Cu7816%5Cu7684%5Cu9ad8%5Cu5ea6%5Cn%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20of%20the%20standard%20input%20there%20are%20two%20integers%2C%20%24n%24%20and%20%24k%24%20%28%241%5C%5Cle%20k%5C%5Cle%20n%5C%5Cle%20100%5C%5C%20000%24%29%2C%20separated%20by%20a%20single%20space.%5Cn%5CnEach%20of%20the%20following%20%24n%24%20lines%20contains%20the%20height%20of%20some%20column%3B%20%20%20%20the%20line%20no.%20%24i%2B1%24%20contains%20the%20integer%20%20%20%20%240%5C%5Cle%20h_i%5C%5Cle%201%5C%5C%20000%5C%5C%20000%24%20-%20the%20height%20of%20the%20%24i%5E%7Bth%7D%24%20column%2C%20%20%20%20ie.%20the%20number%20of%20blocks%20it%20consists%20of.%5Cn%22%2C%22outputFormat%22%3A%22The%20optimal%20solution%20should%20be%20written%20out%20to%20the%20standard%20output%2C%20ie.%20such%20arrangement%20%20%20%20of%20blocks%20that%3A%5Cn%5Cncontains%20%24k%24%20consecutive%20columns%20of%20equal%20height%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20can%20be%20obtained%20from%20the%20initial%20setup%20in%20a%20minimum%20possible%20number%20of%20moves.%5Cn%5CnThe%20output%20should%20consist%20of%20%24n%2B1%24%20lines%2C%20each%20one%20containing%20a%20single%20integer.%5Cn%5CnThe%20number%20in%20the%20first%20line%20should%20be%20the%20minimum%20number%20of%20moves%20needed%20to%20get%20%20%20%20the%20desired%20arrangement.%5Cn%5CnThe%20line%20no.%20%24i%2B1%24%20%28for%20%241%5C%5Cle%20i%5C%5Cle%20n%24%29%20should%20contain%20the%20number%20%24h%27_i%24%20-%20%20%20%20the%20final%20height%20of%20the%20%24i%5E%7Bth%7D%24%20column.%5Cn%5CnIf%20more%20than%20one%20optimal%20solution%20exists%2C%20write%20out%20one%20chosen%20arbitrarily.%5Cn%22%2C%22samples%22%3A%5B%5B%225%203%5Cn3%5Cn9%5Cn2%5Cn3%5Cn1%22%2C%222%5Cn3%5Cn9%5Cn2%5Cn2%5Cn2%22%5D%5D%2C%22hint%22%3A%22%5Cu672c%5Cu9898SPJ%5Cu7684%5Cu63d0%5Cu793a%5Cu8bf4%5Cu660e%5Cuff08%5Cu6309%5Cu7167SPJ%5Cu5224%5Cu65ad%5Cu987a%5Cu5e8f%5Cu7ed9%5Cu51fa%5Cuff09%5Cuff1a%5Cn%5Cn%60Out%20of%20Range%60%3A%5Cu8f93%5Cu51fa%5Cu7684%5Cu6570%5Cu5b57%5Cu4e0d%5Cu5728%5Cu7b54%5Cu6848%5Cu53ef%5Cu80fd%5Cu7684%5Cu8303%5Cu56f4%5Cu5185%5Cu3002%5Cn%5Cn%60Wrong%20Solution%60%3A%5Cu8f93%5Cu51fa%5Cu65b9%5Cu6848%5Cu4e2d%5Cu4e0d%5Cu5305%5Cu542b%5Cu8fde%5Cu7eedk%5Cu4e2a%5Cu76f8%5Cu540c%5Cu9ad8%5Cu5ea6%5Cu7684%5Cu67f1%5Cu3002%5Cn%5Cn%60Wrong%20Result%60%3A%5Cu63d0%5Cu4ea4%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu7684%5Cu6b65%5Cu6570%5Cu548c%5Cu8f93%5Cu51fa%5Cu65b9%5Cu6848%5Cu7684%5Cu6b65%5Cu6570%5Cu4e0d%5Cu76f8%5Cu7b49%5Cu3002%5Cn%5Cn%60Expected%20cost%20%3D%20a%2Cfound%20cost%20%3D%20b%60%3A%5Cu671f%5Cu671b%5Cu6b65%5Cu6570%5Cu4e3aa%5Cuff0c%5Cu7a0b%5Cu5e8f%5Cu7684%5Cu6b65%5Cu6570%5Cu4e3ab%5Cu3002%5Cn%5Cn%60OK%21Correct%20Answer%21%60%3A%5Cu7b54%5Cu6848%5Cu6b63%5Cu786e%5Cu3002%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B25%2C50%2C57%2C107%2C219%2C221%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1311%2C%22totalAccepted%22%3A289%2C%22pid%22%3A%22P3466%22%2C%22title%22%3A%22%5BPOI2008%5DKLO-Building%20blocks%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A143232%2C%22title%22%3A%22%5Cu53cc%5Cu500d%5Cu7ecf%5Cu9a8c%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%2C%7B%22id%22%3A142254%2C%22title%22%3A%22%5Cu9519%5Cu5230%5Cu81ea%5Cu95ed%5Cuff0c%5Cu6c42%5Cu67e5%5Cu9519%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%2C%7B%22id%22%3A127133%2C%22title%22%3A%22%5Cu4e3b%5Cu5e2d%5Cu6811%5Cu83ab%5Cu540dWA%2A3%5Cuff0c%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%2C%7B%22id%22%3A123037%2C%22title%22%3A%22%5Cu840c%5Cu65b0%5Cu521a%5Cu5b66OI%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%2C%7B%22id%22%3A120810%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%2C%7B%22id%22%3A107489%2C%22title%22%3A%22%5Cu849f%5Cu84bb%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2562%2C%22name%22%3A%22P3466%20%5BPOI2008%5DKLO-Building%20blocks%22%2C%22slug%22%3A%22P3466%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3224%22%2C%22title%22%3A%22%5BHNOI2012%5D%5Cu6c38%5Cu65e0%5Cu4e61%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3521%22%2C%22title%22%3A%22%5BPOI2011%5DROT-Tree%20Rotations%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4146%22%2C%22title%22%3A%22%5Cu5e8f%5Cu5217%5Cu7ec8%5Cu7ed3%5Cu8005%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4309%22%2C%22title%22%3A%22%5BTJOI2013%5D%5Cu6700%5Cu957f%5Cu4e0a%5Cu5347%5Cu5b50%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4743%22%2C%22title%22%3A%22%5BWind%20Festival%5DEnergy%20Center%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2008%5DKLO-Building%20blocks%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2008]KLO-Building blocks</h1>
<h2>题目描述</h2>
<div>Byteasar loved to play with building blocks as a child.
He used to arrange the blocks into $n$ columns of random height and then organize them in the following manner:
Byteasar would choose a number $k$ and try to arrange the blocks in such a way that some $k$ consecutive columns would be of equal height. Furthermore he always tried to achieve this goal in a minimum number of moves possible, where a single move consists in:
laying one block on top of any column (Byteasar had a huge box with spare blocks, ensuring this move could always be performed), or removing the uppermost block from the top of any column.
However, Byteasar was never quite sure if his sequence of moves was indeed optimal, therefore he has asked you to write a programme that will help him solve the problem.
Task Write a programme that:
reads the number $k$ along with the initial setup of the blocks from the standard input,determines the optimal solution (shortest possible sequence of moves),writes out the solution to the standard output.
N柱砖,希望有连续K柱的高度是一样的. 你可以选择以下两个动作 1:从某柱砖的顶端拿一块砖出来,丢掉不要了. 2:从仓库中拿出一块砖,放到另一柱.仓库无限大. 现在希望用最小次数的动作完成任务.你还要求输出结束状态时,每柱砖的高度
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line of the standard input there are two integers, $n$ and $k$ ($1\le k\le n\le 100\ 000$), separated by a single space.
Each of the following $n$ lines contains the height of some column; the line no. $i+1$ contains the integer $0\le h_i\le 1\ 000\ 000$ - the height of the $i^{th}$ column, ie. the number of blocks it consists of.
</div>
<h3>输出格式</h3>
<br />
<div>The optimal solution should be written out to the standard output, ie. such arrangement of blocks that:
contains $k$ consecutive columns of equal height, can be obtained from the initial setup in a minimum possible number of moves.
The output should consist of $n+1$ lines, each one containing a single integer.
The number in the first line should be the minimum number of moves needed to get the desired arrangement.
The line no. $i+1$ (for $1\le i\le n$) should contain the number $h'_i$ - the final height of the $i^{th}$ column.
If more than one optimal solution exists, write out one chosen arbitrarily.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 3
3
9
2
3
1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
3
9
2
2
2</code></pre>
<h2>说明</h2>
<div>本题SPJ的提示说明（按照SPJ判断顺序给出）：
`Out of Range`:输出的数字不在答案可能的范围内。
`Wrong Solution`:输出方案中不包含连续k个相同高度的柱。
`Wrong Result`:提交的程序的步数和输出方案的步数不相等。
`Expected cost = a,found cost = b`:期望步数为a，程序的步数为b。
`OK!Correct Answer!`:答案正确。
</div>
</article>
</div>
</div>
</body>
</html>
