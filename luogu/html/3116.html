<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO15JAN]约会时间Meeting Time - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376426:0TqDYqIUJmw98l3+g2s7Zoku+iwthRjJK2SbFFXHPxw=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20and%20her%20sister%20Elsie%20want%20to%20travel%20from%20the%20barn%20to%20their%20favorite%20field%2C%20such%20that%20they%20leave%20at%20exactly%20the%20same%20time%20from%20the%20barn%2C%20and%20also%20arrive%20at%20exactly%20the%20same%20time%20at%20their%20favorite%20field.%5Cn%5CnThe%20farm%20is%20a%20collection%20of%20N%20fields%20%281%20%3C%3D%20N%20%3C%3D%20100%29%20numbered%201..N%2C%20where%20field%201%20contains%20the%20barn%20and%20field%20N%20is%20the%20favorite%20field.%20The%20farm%20is%20built%20on%20the%20side%20of%20a%20hill%2C%20with%20field%20X%20being%20higher%20in%20elevation%20than%20field%20Y%20if%20X%20%3C%20Y.%20%20An%20assortment%20of%20M%20paths%20connect%20pairs%20of%20fields.%20%20However%2C%20since%20each%20path%20is%20rather%20steep%2C%20it%20can%20only%20be%20followed%20in%20a%20downhill%20direction.%20For%20example%2C%20a%20path%5Cn%5Cnconnecting%20field%205%20with%20field%208%20could%20be%20followed%20in%20the%205%20-%3E%208%20direction%20but%20not%20the%20other%20way%2C%20since%20this%20would%20be%20uphill.%20%20Each%20pair%20of%20fields%20is%20connected%20by%20at%20most%20one%20path%2C%20so%20M%20%3C%3D%20N%28N-1%29%5C%2F2.%5Cn%5CnIt%20might%20take%20Bessie%20and%20Elsie%20different%20amounts%20of%20time%20to%20follow%20a%20path%3B%20for%20example%2C%20Bessie%20might%20take%2010%20units%20of%20time%2C%20and%20Elsie%2020.%20Moreover%2C%20Bessie%20and%20Elsie%20only%20consume%20time%20when%20traveling%20on%20paths%20between%20fields%20--%20since%20they%20are%20in%20a%20hurry%2C%20they%20always%20travel%20through%20a%20field%20in%20essentially%20zero%20time%2C%20never%20waiting%20around%20anywhere.%5Cn%5CnPlease%20help%20determine%20the%20shortest%20amount%20of%20time%20Bessie%20and%20Elsie%20must%20take%20in%20order%20to%20reach%20their%20favorite%20field%20at%20exactly%20the%20same%20moment.%5Cn%5CnBessie%5Cu548c%5Cu5979%5Cu7684%5Cu59b9%5Cu59b9Elsie%5Cu60f3%5Cu4ece%5Cu7cae%5Cu4ed3%5Cu53bb%5Cu5979%5Cu4eec%5Cu6700%5Cu559c%5Cu6b22%5Cu7684%5Cu7530%5Cu5730%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu80fd%5Cu591f%5Cu4f7f%5Cu5979%5Cu4eec%5Cu4e00%5Cu8d77%5Cu4ece%5Cu7cae%5Cu4ed3%5Cu79bb%5Cu5f00%5Cuff0c%5Cu5e76%5Cu4e14%5Cu80fd%5Cu540c%5Cu4e00%5Cu65f6%5Cu95f4%5Cu5230%5Cu8fbe%5Cu7684%5Cu7530%5Cu5730%5Cu3002%5Cn%5Cn%5Cn%5Cu8fd9%5Cu4e2a%5Cu519c%5Cu573a%5Cu662f%5Cu7531N%5Cu5757%281%20%3C%3D%20N%20%3C%3D%20100%29%5Cu7f16%5Cu53f7%5Cu4e3a1..N%5Cu7684%5Cu7530%5Cu5730%5Cu6784%5Cu6210%5Cu7684%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu5757%5Cu7530%5Cu5730%5Cu5c31%5Cu662f%5Cu7cae%5Cu4ed3%5Cuff0c%5Cu5e76%5Cu4e14%5Cu7b2cN%5Cu5757%5Cu7530%5Cu5730%5Cu662f%5Cu5979%5Cu4eec%5Cu6700%5Cu559c%5Cu6b22%5Cu7684%5Cu7530%5Cu5730%5Cu3002%5Cu8fd9%5Cu4e2a%5Cu519c%5Cu573a%5Cu5efa%5Cu5728%5Cu5c71%5Cu7684%5Cu4e00%5Cu8fb9%5Cuff0c%5Cu6240%5Cu4ee5%5Cuff0c%5Cu5982%5Cu679c%20X%20%3C%20Y%20%5Cu7684%5Cu8bdd%5Cu5219%5Cu6ee1%5Cu8db3%5Cu7b2cX%5Cu5757%5Cu7530%5Cu5730%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu8981%5Cu9ad8%5Cu4e8e%5Cu7b2cY%5Cu5757%5Cu7530%5Cu5730%5Cu7684%5Cu9ad8%5Cu5ea6%5Cu3002%5Cu5728%5Cu8fd9%5Cu4e4b%5Cu4e2d%5Cuff0c%5Cu6709M%5Cu6761%5Cu4ea4%5Cu9519%5Cu7eb5%5Cu6a2a%5Cu7684%5Cu8def%5Cu5f84%5Cu5c06%5Cu4e0d%5Cu540c%5Cu7684%5Cu7530%5Cu5730%5Cu8fde%5Cu63a5%5Cu8d77%5Cu6765%5Cu3002%5Cu4e0d%5Cu8fc7%5Cuff0c%5Cu663e%5Cu800c%5Cu6613%5Cu89c1%5Cu7684%5Cu662f%5Cuff0c%5Cu56e0%5Cu4e3a%5Cu6bcf%5Cu6761%5Cu8def%5Cu90fd%5Cu592a%5Cu9661%5Cu4e86%5Cuff0c%5Cu6240%5Cu4ee5%5Cu8fd9%5Cu4e9b%5Cu5c0f%5Cu8def%5Cu53ea%5Cu80fd%5Cu6cbf%5Cu7740%5Cu4ece%5Cu9ad8%5Cu5230%5Cu4f4e%5Cu7684%5Cu65b9%5Cu5411%5Cu8d70%5Cu3002%5Cu4f8b%5Cu5982%5Cuff0c%5Cu4e00%5Cu6761%5Cu8fde%5Cu63a5%5Cu7b2c5%5Cu5757%5Cu7530%5Cu5730%5Cu548c%5Cu7b2c8%5Cu5757%5Cu7530%5Cu5730%5Cu7684%5Cu5c0f%5Cu8def%5Cu53ea%5Cu80fd%5Cu6cbf%5Cu7740%205%20-%3E%208%20%5Cu7684%5Cu65b9%5Cu5411%5Cu8d70%5Cuff0c%5Cu800c%5Cu4e0d%5Cu80fd%5Cu6cbf%5Cu7740%5Cu5176%5Cu4ed6%5Cu65b9%5Cu5411%5Cuff0c%5Cu56e0%5Cu4e3a%5Cu90a3%5Cu6837%5Cu4f1a%5Cu6210%5Cu4e3a%5Cu4e0a%5Cu5761%5Cu8def%5Cu3002%5Cu6bcf%5Cu4e24%5Cu5757%5Cu7530%5Cu5730%5Cu6700%5Cu591a%5Cu53ea%5Cu80fd%5Cu6709%5Cu4e00%5Cu6761%5Cu8def%5Cu5f84%5Cu76f8%5Cu8fde%5Cu63a5%5Cuff0c%5Cu6240%5Cu4ee5%5Cu4e00%5Cu5b9a%5Cu6709%20M%20%3C%3D%20N%28N-1%29%5C%2F2%5Cu3002%5Cn%5Cn%5Cn%5Cu6709%5Cu53ef%5Cu80fd%5Cu7684%5Cu662f%5Cuff0cBessie%5Cu548cElsie%5Cu4e24%5Cu4e2a%5Cu4eba%5Cu8d70%5Cu540c%5Cu4e00%5Cu6761%5Cu5c0f%5Cu8def%5Cu4f1a%5Cu8017%5Cu8d39%5Cu4e0d%5Cu540c%5Cu7684%5Cu65f6%5Cu95f4%5Cuff1b%5Cu6bd4%5Cu5982%5Cuff0c%5Cu901a%5Cu8fc7%5Cu540c%5Cu4e00%5Cu6761%5Cu5c0f%5Cu8def%5Cuff0cBessie%5Cu53ef%5Cu80fd%5Cu4f1a%5Cu8017%5Cu8d3910%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu65f6%5Cu95f4%5Cuff0c%5Cu800cElsie%5Cu4f1a%5Cu8017%5Cu8d3920%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cu6b64%5Cu5916%5Cuff0cBessie%5Cu548cElsie%5Cu53ea%5Cu4f1a%5Cu5728%5Cu901a%5Cu8fc7%5Cu8fde%5Cu63a5%5Cu4e24%5Cu5757%5Cu7530%5Cu5730%5Cu7684%5Cu5c0f%5Cu8def%5Cu65f6%5Cu8017%5Cu8d39%5Cu65f6%5Cu95f4%5Cu2014%5Cu2014%5Cu56e0%5Cu4e3a%5Cu5979%5Cu4eec%5Cu592a%5Cu5306%5Cu5fd9%5Cu4e86%5Cuff0c%5Cu5728%5Cu7a7f%5Cu8fc7%5Cu7530%5Cu5730%5Cu65f6%5Cu4e0d%5Cu4f1a%5Cu8017%5Cu8d39%5Cu4efb%5Cu4f55%5Cu65f6%5Cu95f4%5Cuff0c%5Cu4e5f%5Cu4ece%5Cu6765%5Cu4e0d%5Cu5728%5Cu4efb%5Cu4f55%5Cu5730%5Cu65b9%5Cu505c%5Cu4e0b%5Cu6765%5Cu7b49%5Cu5f85%5Cu3002%5Cn%5Cn%5Cn%5Cu73b0%5Cu5728%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu5224%5Cu65ad%5Cu51fa%5Cuff0c%5Cu80fd%5Cu591f%5Cu6ee1%5Cu8db3%5Cu4f7fBessie%5Cu548cElsie%5Cu540c%5Cu65f6%5Cu51fa%5Cu53d1%5Cu5e76%5Cu4e14%5Cu540c%5Cu65f6%5Cu5230%5Cu8fbe%5Cu5979%5Cu4eec%5Cu559c%5Cu6b22%5Cu7684%5Cu7530%5Cu5730%5Cu7684%5Cu6700%5Cu77ed%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22INPUT%3A%20%28file%20meeting.in%29%20%5Cn%5CnThe%20first%20input%20line%20contains%20N%20and%20M%2C%20separated%20by%20a%20space.%5Cn%5CnEach%20of%20the%20following%20M%20lines%20describes%20a%20path%20using%20four%20integers%20A%20B%20C%20D%2C%20where%20A%20and%20B%20%28with%20A%20%3C%20B%29%20are%20the%20fields%20connected%20by%20the%20path%2C%20C%20is%20the%20time%20required%20for%20Bessie%20to%20follow%20the%20path%2C%20and%20D%20is%20the%20time%20required%20for%20Elsie%20to%20follow%20the%20path.%20%20Both%20C%20and%20D%20are%20in%20the%20range%201..100.%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8f93%5Cu5165N%5Cu548cM%5Cuff0c%5Cu4e2d%5Cu95f4%5Cu7528%5Cu7a7a%5Cu683c%5Cu5206%5Cu5f00%5Cu3002%5Cn%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684M%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu6709%5Cu56db%5Cu4e2a%5Cu6574%5Cu578bA%20B%20C%20D%5Cuff0c%5Cu5176%5Cu4e2d%5Cuff0cA%5Cu548cB%28A%20%3C%20B%29%5Cu4ee3%5Cu8868%5Cu7740%5Cu4e24%5Cu5757%5Cu7528%5Cu8fd9%5Cu6761%5Cu5c0f%5Cu8def%5Cu8fde%5Cu63a5%5Cu7684%5Cu7530%5Cu5730%5Cuff0cC%5Cu4ee3%5Cu8868Bessie%5Cu901a%5Cu8fc7%5Cu8fd9%5Cu6761%5Cu5c0f%5Cu8def%5Cu7684%5Cu65f6%5Cu95f4%5Cuff0c%5Cu800cD%5Cu4ee3%5Cu8868Elsie%5Cu901a%5Cu8fc7%5Cu8fd9%5Cu6761%5Cu5c0f%5Cu8def%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002C%5Cu548cD%5Cu5747%5Cu5728%201..100%20%5Cu7684%5Cu8303%5Cu56f4%5Cu4e4b%5Cu5185%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22OUTPUT%20%28file%20meeting.out%29%20%5Cn%5CnA%20single%20integer%2C%20giving%20the%20minimum%20time%20required%20for%20Bessie%20and%20%5Cn%5CnElsie%20to%20travel%20to%20their%20favorite%20field%20and%20arrive%20at%20the%20same%20moment.%5Cn%5CnIf%20this%20is%20impossible%2C%20or%20if%20there%20is%20no%20way%20for%20Bessie%20or%20Elsie%20to%20reach%5Cn%5Cnthe%20favorite%20field%20at%20all%2C%20output%20the%20word%20IMPOSSIBLE%20on%20a%20single%20line.%5Cn%5Cn%5Cu4e00%5Cu4e2a%5Cu6574%5Cu578b%5Cuff0c%5Cu8f93%5Cu51fa%5Cu7684%5Cu662f%5Cu80fd%5Cu591f%5Cu4f7f%5Cu4e24%5Cu4eba%5Cu540c%5Cu65f6%5Cu51fa%5Cu53d1%5Cu5e76%5Cu4e14%5Cu540c%5Cu65f6%5Cu5230%5Cu8fbe%5Cu76ee%5Cu7684%5Cu5730%5Cu7684%5Cu6700%5Cu77ed%5Cu65f6%5Cu95f4%5Cuff0c%5Cu5982%5Cu679c%5Cu6ca1%5Cu6709%5Cu6ee1%5Cu8db3%5Cu6761%5Cu4ef6%5Cu7684%5Cu7b54%5Cu6848%5Cuff0c%5Cu5219%5Cu8f93%5Cu51fa%5C%22IMPOSSIBLE%5C%22%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%223%203%20%5Cn1%203%201%202%20%5Cn1%202%201%202%20%5Cn2%203%201%202%20%5Cn%22%2C%222%20%22%5D%5D%2C%22hint%22%3A%22SOLUTION%20NOTES%3A%5Cn%5CnBessie%20is%20twice%20as%20fast%20as%20Elsie%20on%20each%20path%2C%20but%20if%20Bessie%20takes%20the%5Cn%5Cnpath%201-%3E2-%3E3%20and%20Elsie%20takes%20the%20path%201-%3E3%20they%20will%20arrive%20at%20the%5Cn%5Cnsame%20time.%5Cn%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C32%2C46%2C164%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1102%2C%22totalAccepted%22%3A365%2C%22pid%22%3A%22P3116%22%2C%22title%22%3A%22%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A26901%2C%22title%22%3A%22TLE27%5Cu5206%22%2C%22forum%22%3A%7B%22id%22%3A2232%2C%22name%22%3A%22P3116%20%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22slug%22%3A%22P3116%22%7D%7D%2C%7B%22id%22%3A24800%2C%22title%22%3A%22%5Cu5173%5Cu4e8eP3116%5Cu7684%5Cu4e2d%5Cu6587%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2232%2C%22name%22%3A%22P3116%20%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22slug%22%3A%22P3116%22%7D%7D%2C%7B%22id%22%3A23288%2C%22title%22%3A%22%5Cu6211%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu5305%5Cu62ec%5Cu6240%5Cu6709%5Cu9898%5Cu89e3%5Cu5927%5Cu6982%5Cu90fd%5Cu662f%5Cu9519%5Cu7684%22%2C%22forum%22%3A%7B%22id%22%3A2232%2C%22name%22%3A%22P3116%20%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22slug%22%3A%22P3116%22%7D%7D%2C%7B%22id%22%3A23278%2C%22title%22%3A%22%5Cu4e2d%5Cu6587%5Cu7ffb%5Cu8bd1%5Cu592a%5Cu7b80%5Cu7565%5Cu4e86%5Cu5427%22%2C%22forum%22%3A%7B%22id%22%3A2232%2C%22name%22%3A%22P3116%20%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22slug%22%3A%22P3116%22%7D%7D%2C%7B%22id%22%3A14864%2C%22title%22%3A%22%5Cu6570%5Cu636e%5Cu592a%5Cu5f31%5Cu4e86%5Cu5427%5Cuff01%5Cuff01%5Cuff01%22%2C%22forum%22%3A%7B%22id%22%3A2232%2C%22name%22%3A%22P3116%20%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22slug%22%3A%22P3116%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1606%22%2C%22title%22%3A%22%5BUSACO07FEB%5D%5Cu767d%5Cu94f6%5Cu83b2%5Cu82b1%5Cu6c60Lilypad%20Pond%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2573%22%2C%22title%22%3A%22%5BSCOI2012%5D%5Cu6ed1%5Cu96ea%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3115%22%2C%22title%22%3A%22%5BUSACO15JAN%5D%5Cu725b%5Cu8def%5Cu7ebfCow%20Routing%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3119%22%2C%22title%22%3A%22%5BUSACO15JAN%5D%5Cu8349%5Cu9274%5Cu5b9aGrass%20Cownoisseur%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF723E%22%2C%22title%22%3A%22One-Way%20Reform%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO15JAN%5D%5Cu7ea6%5Cu4f1a%5Cu65f6%5Cu95f4Meeting%20Time%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO15JAN]约会时间Meeting Time</h1>
<h2>题目描述</h2>
<div>Bessie and her sister Elsie want to travel from the barn to their favorite field, such that they leave at exactly the same time from the barn, and also arrive at exactly the same time at their favorite field.
The farm is a collection of N fields (1 <= N <= 100) numbered 1..N, where field 1 contains the barn and field N is the favorite field. The farm is built on the side of a hill, with field X being higher in elevation than field Y if X < Y. An assortment of M paths connect pairs of fields. However, since each path is rather steep, it can only be followed in a downhill direction. For example, a path
connecting field 5 with field 8 could be followed in the 5 -> 8 direction but not the other way, since this would be uphill. Each pair of fields is connected by at most one path, so M <= N(N-1)/2.
It might take Bessie and Elsie different amounts of time to follow a path; for example, Bessie might take 10 units of time, and Elsie 20. Moreover, Bessie and Elsie only consume time when traveling on paths between fields -- since they are in a hurry, they always travel through a field in essentially zero time, never waiting around anywhere.
Please help determine the shortest amount of time Bessie and Elsie must take in order to reach their favorite field at exactly the same moment.
Bessie和她的妹妹Elsie想从粮仓去她们最喜欢的田地，也就是能够使她们一起从粮仓离开，并且能同一时间到达的田地。
这个农场是由N块(1 <= N <= 100)编号为1..N的田地构成的，第一块田地就是粮仓，并且第N块田地是她们最喜欢的田地。这个农场建在山的一边，所以，如果 X < Y 的话则满足第X块田地的高度要高于第Y块田地的高度。在这之中，有M条交错纵横的路径将不同的田地连接起来。不过，显而易见的是，因为每条路都太陡了，所以这些小路只能沿着从高到低的方向走。例如，一条连接第5块田地和第8块田地的小路只能沿着 5 -> 8 的方向走，而不能沿着其他方向，因为那样会成为上坡路。每两块田地最多只能有一条路径相连接，所以一定有 M <= N(N-1)/2。
有可能的是，Bessie和Elsie两个人走同一条小路会耗费不同的时间；比如，通过同一条小路，Bessie可能会耗费10个单位的时间，而Elsie会耗费20个单位的时间。此外，Bessie和Elsie只会在通过连接两块田地的小路时耗费时间——因为她们太匆忙了，在穿过田地时不会耗费任何时间，也从来不在任何地方停下来等待。
现在，请你判断出，能够满足使Bessie和Elsie同时出发并且同时到达她们喜欢的田地的最短的时间。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>INPUT: (file meeting.in)
The first input line contains N and M, separated by a space.
Each of the following M lines describes a path using four integers A B C D, where A and B (with A < B) are the fields connected by the path, C is the time required for Bessie to follow the path, and D is the time required for Elsie to follow the path. Both C and D are in the range 1..100.
第一行输入N和M，中间用空格分开。
接下来的M行，每行有四个整型A B C D，其中，A和B(A < B)代表着两块用这条小路连接的田地，C代表Bessie通过这条小路的时间，而D代表Elsie通过这条小路的时间。C和D均在 1..100 的范围之内。
</div>
<h3>输出格式</h3>
<br />
<div>OUTPUT (file meeting.out)
A single integer, giving the minimum time required for Bessie and
Elsie to travel to their favorite field and arrive at the same moment.
If this is impossible, or if there is no way for Bessie or Elsie to reach
the favorite field at all, output the word IMPOSSIBLE on a single line.
一个整型，输出的是能够使两人同时出发并且同时到达目的地的最短时间，如果没有满足条件的答案，则输出"IMPOSSIBLE"。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3 
1 3 1 2 
1 2 1 2 
2 3 1 2 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2 </code></pre>
<h2>说明</h2>
<div>SOLUTION NOTES:
Bessie is twice as fast as Elsie on each path, but if Bessie takes the
path 1->2->3 and Elsie takes the path 1->3 they will arrive at the
same time.
</div>
</article>
</div>
</div>
</body>
</html>
