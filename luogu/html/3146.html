<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO16OPEN]248 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376465:HiN5QXFH36P9f1VBeHK1q8uzU7otSEbquUxrUCHRMe0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20likes%20downloading%20games%20to%20play%20on%20her%20cell%20phone%2C%20even%20though%20she%20%20doesfind%20the%20small%20touch%20screen%20rather%20cumbersome%20to%20use%20with%20her%20large%20hooves.%5Cn%5CnShe%20is%20particularly%20intrigued%20by%20the%20current%20game%20she%20is%20playing.The%20game%20starts%20with%20a%20sequence%20of%20%24N%24%20positive%20integers%20%28%242%20%5C%5Cleq%20N%5C%5Cleq%20248%24%29%2C%20each%20in%20the%20range%20%241%20%5C%5Cldots%2040%24.%20%20In%20one%20move%2C%20Bessie%20cantake%20two%20adjacent%20numbers%20with%20equal%20values%20and%20replace%20them%20a%20singlenumber%20of%20value%20one%20greater%20%28e.g.%2C%20she%20might%20replace%20two%20adjacent%207swith%20an%208%29.%20%20The%20goal%20is%20to%20maximize%20the%20value%20of%20the%20largest%20numberpresent%20in%20the%20sequence%20at%20the%20end%20of%20the%20game.%20%20Please%20help%20Bessiescore%20as%20highly%20as%20possible%21%5Cn%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a1%5C%5C%2An%5Cu7684%5Cu5730%5Cu56fe%5Cuff0c%5Cu5728%5Cu91cc%5Cu9762%5Cu73a92048%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu5408%5Cu5e76%5Cu76f8%5Cu90bb%5Cu4e24%5Cu4e2a%5Cuff08%5Cu6570%5Cu503c%5Cu8303%5Cu56f41-40%5Cuff09%5Cuff0c%5Cu95ee%5Cu6700%5Cu5927%5Cu80fd%5Cu5408%5Cu51fa%5Cu591a%5Cu5c11%5Cu3002%5Cu6ce8%5Cu610f%5Cu5408%5Cu5e76%5Cu540e%5Cu7684%5Cu6570%5Cu503c%5Cu5e76%5Cu975e%5Cu52a0%5Cu500d%5Cu800c%5Cu662f%2B1%5Cuff0c%5Cu4f8b%5Cu59822%5Cu4e0e2%5Cu5408%5Cu5e76%5Cu540e%5Cu7684%5Cu6570%5Cu503c%5Cu4e3a3%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24%2C%20and%20the%20next%20%24N%24%20lines%20give%20the%20sequence%5Cn%5Cnof%20%24N%24%20numbers%20at%20the%20start%20of%20the%20game.%5Cn%22%2C%22outputFormat%22%3A%22Please%20output%20the%20largest%20integer%20Bessie%20can%20generate.%5Cn%22%2C%22samples%22%3A%5B%5B%224%5Cn1%5Cn1%5Cn1%5Cn2%22%2C%223%22%5D%5D%2C%22hint%22%3A%22In%20this%20example%20shown%20here%2C%20Bessie%20first%20merges%20the%20second%20and%20third%201s%20to%5Cn%5Cnobtain%20the%20sequence%201%202%202%2C%20and%20then%20she%20merges%20the%202s%20into%20a%203.%20%20Note%20that%20it%20is%5Cn%5Cnnot%20optimal%20%20to%20join%20the%20first%20two%201s.%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C7%2C33%2C46%2C144%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A3519%2C%22totalAccepted%22%3A1993%2C%22pid%22%3A%22P3146%22%2C%22title%22%3A%22%5BUSACO16OPEN%5D248%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A157969%2C%22title%22%3A%22%5Cu5bf9%5Cu4e8e%5Cu8fd9%5Cu4e2a%5Cu9898DP%5Cu8f6c%5Cu79fb%5Cu65b9%5Cu7a0b%5Cu7684%5Cu7591%5Cu95ee%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%2C%7B%22id%22%3A131096%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu6709%5Cu8bef%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%2C%7B%22id%22%3A109214%2C%22title%22%3A%22%5Cu6c42%5Cu5927%5Cu4f6c%5Cu627e%5Cu9519%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%2C%7B%22id%22%3A71189%2C%22title%22%3A%22%5Cu4e3a%5Cu4ec0%5Cu4e48RE%5Cuff0c%20%5Cu7b54%5Cu6848%5Cu90fd%5Cu662f%5Cu5bf9%5Cu7684%5Cu554a%5Cu3002%5Cu3002%5Cu3002%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%2C%7B%22id%22%3A63642%2C%22title%22%3A%22%5Cu8d2a%5Cu5fc3%5Cu7684%5Cu6807%5Cu7b7e%5Cu662f%5Cu8c01%5Cu7ed9%5Cu7684%5Cuff01%5Cuff01%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%2C%7B%22id%22%3A52730%2C%22title%22%3A%22%5Cu5efa%5Cu8bae%5Cu65b0%5Cu589e%5Cu6570%5Cu636e%22%2C%22forum%22%3A%7B%22id%22%3A2262%2C%22name%22%3A%22P3146%20%5BUSACO16OPEN%5D248%22%2C%22slug%22%3A%22P3146%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1063%22%2C%22title%22%3A%22%5Cu80fd%5Cu91cf%5Cu9879%5Cu94fe%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2858%22%2C%22title%22%3A%22%5BUSACO06FEB%5D%5Cu5976%5Cu725b%5Cu96f6%5Cu98dfTreats%20for%20the%20Cows%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3147%22%2C%22title%22%3A%22%5BUSACO16OPEN%5D262144%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3205%22%2C%22title%22%3A%22%5BHNOI2010%5D%5Cu5408%5Cu5531%5Cu961f%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4170%22%2C%22title%22%3A%22%5BCQOI2007%5D%5Cu6d82%5Cu8272%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO16OPEN%5D248%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO16OPEN]248</h1>
<h2>题目描述</h2>
<div>Bessie likes downloading games to play on her cell phone, even though she doesfind the small touch screen rather cumbersome to use with her large hooves.
She is particularly intrigued by the current game she is playing.The game starts with a sequence of $N$ positive integers ($2 \leq N\leq 248$), each in the range $1 \ldots 40$. In one move, Bessie cantake two adjacent numbers with equal values and replace them a singlenumber of value one greater (e.g., she might replace two adjacent 7swith an 8). The goal is to maximize the value of the largest numberpresent in the sequence at the end of the game. Please help Bessiescore as highly as possible!
给定一个1\*n的地图，在里面玩2048，每次可以合并相邻两个（数值范围1-40），问最大能合出多少。注意合并后的数值并非加倍而是+1，例如2与2合并后的数值为3。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$, and the next $N$ lines give the sequence
of $N$ numbers at the start of the game.
</div>
<h3>输出格式</h3>
<br />
<div>Please output the largest integer Bessie can generate.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1
1
1
2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3</code></pre>
<h2>说明</h2>
<div>In this example shown here, Bessie first merges the second and third 1s to
obtain the sequence 1 2 2, and then she merges the 2s into a 3. Note that it is
not optimal to join the first two 1s.
</div>
</article>
</div>
</div>
</body>
</html>
