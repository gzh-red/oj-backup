<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>平板涂色 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573373730:DhiFvUTD0w4FMVQdqeqNgTIxKsIUEAO6MSVgPkGWm4M=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22CE%5Cu6570%5Cu7801%5Cu516c%5Cu53f8%5Cu5f00%5Cu53d1%5Cu4e86%5Cu4e00%5Cu79cd%5Cu540d%5Cu4e3a%5Cu81ea%5Cu52a8%5Cu6d82%5Cu8272%5Cu673a%5Cuff08APM%5Cuff09%5Cu7684%5Cu4ea7%5Cu54c1%5Cu3002%5Cu5b83%5Cu80fd%5Cu7528%5Cu9884%5Cu5b9a%5Cu7684%5Cu989c%5Cu8272%5Cu7ed9%5Cu4e00%5Cu5757%5Cu7531%5Cu4e0d%5Cu540c%5Cu5c3a%5Cu5bf8%5Cu4e14%5Cu4e92%5Cu4e0d%5Cu8986%5Cu76d6%5Cu7684%5Cu77e9%5Cu5f62%5Cu6784%5Cu6210%5Cu7684%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%5Cu3002%5Cn%5Cn%5Cu4e3a%5Cu4e86%5Cu6d82%5Cu8272%5Cuff0cAPM%5Cu9700%5Cu8981%5Cu4f7f%5Cu7528%5Cu4e00%5Cu7ec4%5Cu5237%5Cu5b50%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu5237%5Cu5b50%5Cu6d82%5Cu4e00%5Cu79cd%5Cu4e0d%5Cu540c%5Cu7684%5Cu989c%5Cu8272C%5Cu3002APM%5Cu62ff%5Cu8d77%5Cu4e00%5Cu628a%5Cu6709%5Cu989c%5Cu8272C%5Cu7684%5Cu5237%5Cu5b50%5Cuff0c%5Cu5e76%5Cu7ed9%5Cu6240%5Cu6709%5Cu989c%5Cu8272%5Cu4e3aC%5Cu4e14%5Cu7b26%5Cu5408%5Cu4e0b%5Cu9762%5Cu9650%5Cu5236%5Cu7684%5Cu77e9%5Cu5f62%5Cu6d82%5Cu8272%5Cuff1a%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fpic%5C%2F90.png%29%20%5Cn%5Cn%5Cu4e3a%5Cu4e86%5Cu907f%5Cu514d%5Cu989c%5Cu6599%5Cu6e17%5Cu6f0f%5Cu4f7f%5Cu989c%5Cu8272%5Cu6df7%5Cu5408%5Cuff0c%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu53ea%5Cu80fd%5Cu5728%5Cu6240%5Cu6709%5Cu7d27%5Cu9760%5Cu5b83%5Cu4e0a%5Cu65b9%5Cu7684%5Cu77e9%5Cu5f62%5Cu6d82%5Cu8272%5Cu540e%5Cuff0c%5Cu624d%5Cu80fd%5Cu6d82%5Cu8272%5Cu3002%5Cu4f8b%5Cu5982%5Cu56fe%5Cu4e2d%5Cu77e9%5Cu5f62F%5Cu5fc5%5Cu987b%5Cu5728C%5Cu548cD%5Cu6d82%5Cu8272%5Cu540e%5Cu624d%5Cu80fd%5Cu6d82%5Cu8272%5Cu3002%5Cu6ce8%5Cu610f%5Cuff0c%5Cu6bcf%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu5fc5%5Cu987b%5Cu7acb%5Cu523b%5Cu6d82%5Cu6ee1%5Cuff0c%5Cu4e0d%5Cu80fd%5Cu53ea%5Cu6d82%5Cu4e00%5Cu90e8%5Cu5206%5Cu3002%5Cn%5Cn%5Cu5199%5Cu4e00%5Cu4e2a%5Cu7a0b%5Cu5e8f%5Cu6c42%5Cu4e00%5Cu4e2a%5Cu4f7fAPM%5Cu62ff%5Cu8d77%5Cu5237%5Cu5b50%5Cu6b21%5Cu6570%5Cu6700%5Cu5c11%5Cu7684%5Cu6d82%5Cu8272%5Cu65b9%5Cu6848%5Cu3002%5Cu6ce8%5Cu610f%5Cuff0c%5Cu5982%5Cu679c%5Cu4e00%5Cu628a%5Cu5237%5Cu5b50%5Cu88ab%5Cu62ff%5Cu8d77%5Cu8d85%5Cu8fc7%5Cu4e00%5Cu6b21%5Cuff0c%5Cu5219%5Cu6bcf%5Cu4e00%5Cu6b21%5Cu90fd%5Cu5fc5%5Cu987b%5Cu8bb0%5Cu5165%5Cu603b%5Cu6570%5Cu4e2d%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e3a%5Cu77e9%5Cu5f62%5Cu7684%5Cu4e2a%5Cu6570N%5Cu3002%5Cu4e0b%5Cu9762%5Cu6709N%5Cu884c%5Cu63cf%5Cu8ff0%5Cu4e86N%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu77e9%5Cu5f62%5Cu67095%5Cu4e2a%5Cu6574%5Cu6570%5Cu63cf%5Cu8ff0%5Cuff0c%5Cu5de6%5Cu4e0a%5Cu89d2%5Cu7684y%5Cu5750%5Cu6807%5Cu548cx%5Cu5750%5Cu6807%5Cuff0c%5Cu53f3%5Cu4e0b%5Cu89d2%5Cu7684y%5Cu5750%5Cu6807%5Cu548cx%5Cu5750%5Cu6807%5Cuff0c%5Cu4ee5%5Cu53ca%5Cu9884%5Cu5b9a%5Cu989c%5Cu8272%5Cu3002%5Cn%5Cn%5Cu989c%5Cu8272%5Cu53f7%5Cu4e3a1%5Cu523020%5Cu7684%5Cu6574%5Cu6570%5Cu3002%5Cn%5Cn%5Cu5e73%5Cu677f%5Cu7684%5Cu5de6%5Cu4e0a%5Cu89d2%5Cu5750%5Cu6807%5Cu603b%5Cu662f%280%2C%200%29%5Cu3002%5Cn%5Cn%5Cu5750%5Cu6807%5Cu7684%5Cu8303%5Cu56f4%5Cu662f0..99%5Cu3002%5Cn%5CnN%5Cu5c0f%5Cu4e8e16%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22%5Cu8f93%5Cu51fa%5Cu81f3%5Cu6587%5Cu4ef6paint.out%5Cuff0c%5Cu6587%5Cu4ef6%5Cu4e2d%5Cu8bb0%5Cu5f55%5Cu62ff%5Cu8d77%5Cu5237%5Cu5b50%5Cu7684%5Cu6700%5Cu5c11%5Cu6b21%5Cu6570%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%227%5Cr%5Cn0%200%202%202%201%5Cr%5Cn0%202%201%206%202%5Cr%5Cn2%200%204%202%201%5Cr%5Cn1%202%204%204%202%5Cr%5Cn1%204%203%206%201%5Cr%5Cn4%200%206%204%201%5Cr%5Cn3%204%206%206%202%5Cr%5Cn%22%2C%223%5Cr%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1951%2C%22totalAccepted%22%3A838%2C%22pid%22%3A%22P1283%22%2C%22title%22%3A%22%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A94679%2C%22title%22%3A%22%5Cu524d%5Cu6392%5Cu515c%5Cu552ehack%5Cu6570%5Cu636e%22%2C%22forum%22%3A%7B%22id%22%3A291%2C%22name%22%3A%22P1283%20%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22slug%22%3A%22P1283%22%7D%7D%2C%7B%22id%22%3A85412%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cuff0c%5Cu4e3a%5Cu4ec0%5Cu4e48WA%5Cu4e86%5Cu4e09%5Cu4e2a%5Cu70b9%22%2C%22forum%22%3A%7B%22id%22%3A291%2C%22name%22%3A%22P1283%20%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22slug%22%3A%22P1283%22%7D%7D%2C%7B%22id%22%3A68262%2C%22title%22%3A%22%5Cu8bdd%5Cu8bf4%5Cu6570%5Cu636e%5Cu597d%5Cu6c34%22%2C%22forum%22%3A%7B%22id%22%3A291%2C%22name%22%3A%22P1283%20%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22slug%22%3A%22P1283%22%7D%7D%2C%7B%22id%22%3A62798%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu600e%5Cu4e48%5Cu6c34%5Cu5230%5Cu84dd%5Cu9898%5Cu7684%22%2C%22forum%22%3A%7B%22id%22%3A291%2C%22name%22%3A%22P1283%20%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22slug%22%3A%22P1283%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1074%22%2C%22title%22%3A%22%5Cu9776%5Cu5f62%5Cu6570%5Cu72ec%20%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1731%22%2C%22title%22%3A%22%5BNOI1999%5D%5Cu751f%5Cu65e5%5Cu86cb%5Cu7cd5%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2243%22%2C%22title%22%3A%22%5Cu7535%5Cu8def%5Cu7ef4%5Cu4fee%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2730%22%2C%22title%22%3A%22%5Cu9b54%5Cu677f%20Magic%20Squares%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4289%22%2C%22title%22%3A%22%5BHAOI2008%5D%5Cu79fb%5Cu52a8%5Cu73a9%5Cu5177%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5Cu5e73%5Cu677f%5Cu6d82%5Cu8272%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>平板涂色</h1>
<h2>题目描述</h2>
<div>CE数码公司开发了一种名为自动涂色机（APM）的产品。它能用预定的颜色给一块由不同尺寸且互不覆盖的矩形构成的平板涂色。
为了涂色，APM需要使用一组刷子。每个刷子涂一种不同的颜色C。APM拿起一把有颜色C的刷子，并给所有颜色为C且符合下面限制的矩形涂色：
![](https://cdn.luogu.com.cn/upload/pic/90.png)
为了避免颜料渗漏使颜色混合，一个矩形只能在所有紧靠它上方的矩形涂色后，才能涂色。例如图中矩形F必须在C和D涂色后才能涂色。注意，每一个矩形必须立刻涂满，不能只涂一部分。
写一个程序求一个使APM拿起刷子次数最少的涂色方案。注意，如果一把刷子被拿起超过一次，则每一次都必须记入总数中。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>第一行为矩形的个数N。下面有N行描述了N个矩形。每个矩形有5个整数描述，左上角的y坐标和x坐标，右下角的y坐标和x坐标，以及预定颜色。
颜色号为1到20的整数。
平板的左上角坐标总是(0, 0)。
坐标的范围是0..99。
N小于16。
</div>
<h3>输出格式</h3>
<br />
<div>输出至文件paint.out，文件中记录拿起刷子的最少次数。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7
0 0 2 2 1
0 2 1 6 2
2 0 4 2 1
1 2 4 4 2
1 4 3 6 1
4 0 6 4 1
3 4 6 6 2
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
</code></pre>
</article>
</div>
</div>
</body>
</html>
