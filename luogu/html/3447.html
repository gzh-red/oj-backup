<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2006]KRY-Crystals - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376905:f675TgRPn57zTl4sTv5zEurthqlJ9LivMbQ/o2RmMAA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Byteman%20is%20a%20scientist%20who%20investigates%20creation%20of%20crystals%20consisting%20of%20atoms%20of%20different%20elements.%5Cn%5CnHe%20has%20designed%20a%20special%20process%20for%20creating%20crystals%20and%20has%20discovered%20a%20formula%20specifying%20theamount%20of%20elements%20that%20can%20be%20used%20to%20create%20a%20crystal.%20Now%2C%20he%20wonders%20how%20many%20differentcrystals%20can%20be%20created%20in%20such%20process.%5Cn%5CnFor%20non-negative%20integers%20%24x%24%20and%20%24y%24%2C%20by%20%24x%5C%5Cbigoplus%20y%24%20we%20shall%20denote%20their%20bit-wise%20xor.%20The%20basic%20xor%20forsingle%20bits%20is%20defined%20by%3A%5Cn%5Cn%241%5C%5Cbigoplus%201%3D0%5C%5Cbigoplus%200%3D0%24%2C%240%5C%5Cbigoplus%201%3D1%5C%5Cbigoplus%200%3D1%24.%5Cn%5CnByteman%20knows%20%24n%24%20different%20elements%20that%20can%20be%20used%20to%20create%20crystals%20-these%20are%20numbered%20from%20%241%24%20to%20%24n%24.%20For%20each%20element%20%24i%24%20there%20is%20an%20upper%20bound%20%24m_i%24%20on%20number%20of%20atoms%20of%20this%20elementthat%20can%20be%20used%20to%20create%20a%20crystal.%20Byteman%20can%20create%20one%20unique%20crystal%20composed%20of%20%24a_i%24%20atomsof%20the%20element%20%24i%24%20%28for%20%24i%3D1%2C%5C%5Ccdots%2Cn%24%29%2C%20if%20and%20only%20if%3A%5Cn%5Cn-%20%240%5C%5Cle%20a_i%5C%5Cle%20m_i%24%20for%20%24i%3D1%2C%5C%5Ccdots%2Cn%24%5Cn%5Cn-%20%24a_1%5C%5Cbigoplus%5C%5Ccdots%5C%5Cbigoplus%20a_n%3D0%24%2C%20and%5Cn%5Cn-%20%24a_1%2Ba_2%2B%5C%5Ccdots%2Ba_n%5C%5Cge%201%24.%5Cn%5CnNote%20that%20the%20last%20condition%20is%20quite%20obvious%20and%20essentially%20states%20that%20every%20crystal%20is%20composed%20ofat%20least%20one%20atom.%5Cn%5CnTaskWrite%20a%20programme%20which%3A%5Cn%5Cnreads%20form%20the%20standard%20input%3A%20the%20number%20of%20elements%20and%20the%20bounds%20on%20numbers%20of%20atoms%20%20%20%20of%20particular%20elements%2C%20%20%20%20%20%20%20%20computes%20the%20number%20of%20different%20crystals%20that%20can%20be%20created%2C%20%20%20%20%20%20%20%20writes%20the%20result%20to%20the%20standard%20output.%5Cn%5Cn%5Cu7ed9%5Cu5b9an%5Cu4e2a%5Cu6570%7Ba1%2Ca2..an%7D%5Cuff0c%5Cu6c42%5Cu4e00%5Cu4e2a%5Cu5e8f%5Cu5217%7Bb1%2Cb2..bn%7D%5Cu6ee1%5Cu8db3%5Cuff1a%5Cn%5Cn1.%5Cu4efb%5Cu610f%24b_i%5C%5Cle%20a_i%24%5Cn%5Cn2.%24b_1%5C%5C%20xor%5C%5C%20b_2%5C%5C%20xor%5C%5C%20b_3%5C%5C%20xor%5C%5Ccdots%20xor%5C%5C%20bn%3D0%24%5Cn%5Cn3.%24sum_%7Bi%3D1%7D%5E%7Bn%7Db_i%3E0%24%5Cn%5Cn%5Cu6c42%5Cu8fd9%5Cu6837%5Cu5e8f%5Cu5217%5Cu7684%5Cu4e2a%5Cu6570%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20the%20number%20of%20elements%20%24n%24%2C%20%241%5C%5Cle%20n%5C%5Cle%2050%24.%5Cn%5CnThe%20second%2C%20last%20line%20of%20the%20standard%20input%20contains%20%24n%24%20positive%20integers%20%24m_1%2C%5C%5Ccdots%2Cm_n%24%2C%20separated%20by%20single%20spaces%2C%241%5C%5Cle%20m_i%3C2%5E%7B32%7D-1%24.%5Cn%22%2C%22outputFormat%22%3A%22Your%20programme%20should%20write%20one%20integer%20to%20the%20standard%20output%20-%20total%20number%20of%20different%20crystals%20%20that%20can%20be%20created.%20You%20can%20assume%20that%20this%20number%20is%20less%20than%20%242%5E%7B64%7D%24.%5Cn%22%2C%22samples%22%3A%5B%5B%223%5Cn2%201%203%22%2C%225%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B23%2C57%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A21%2C%22totalAccepted%22%3A11%2C%22pid%22%3A%22P3447%22%2C%22title%22%3A%22%5BPOI2006%5DKRY-Crystals%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2006%5DKRY-Crystals%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2006]KRY-Crystals</h1>
<h2>题目描述</h2>
<div>Byteman is a scientist who investigates creation of crystals consisting of atoms of different elements.
He has designed a special process for creating crystals and has discovered a formula specifying theamount of elements that can be used to create a crystal. Now, he wonders how many differentcrystals can be created in such process.
For non-negative integers $x$ and $y$, by $x\bigoplus y$ we shall denote their bit-wise xor. The basic xor forsingle bits is defined by:
$1\bigoplus 1=0\bigoplus 0=0$,$0\bigoplus 1=1\bigoplus 0=1$.
Byteman knows $n$ different elements that can be used to create crystals -these are numbered from $1$ to $n$. For each element $i$ there is an upper bound $m_i$ on number of atoms of this elementthat can be used to create a crystal. Byteman can create one unique crystal composed of $a_i$ atomsof the element $i$ (for $i=1,\cdots,n$), if and only if:
- $0\le a_i\le m_i$ for $i=1,\cdots,n$
- $a_1\bigoplus\cdots\bigoplus a_n=0$, and
- $a_1+a_2+\cdots+a_n\ge 1$.
Note that the last condition is quite obvious and essentially states that every crystal is composed ofat least one atom.
TaskWrite a programme which:
reads form the standard input: the number of elements and the bounds on numbers of atoms of particular elements, computes the number of different crystals that can be created, writes the result to the standard output.
给定n个数{a1,a2..an}，求一个序列{b1,b2..bn}满足：
1.任意$b_i\le a_i$
2.$b_1\ xor\ b_2\ xor\ b_3\ xor\cdots xor\ bn=0$
3.$sum_{i=1}^{n}b_i>0$
求这样序列的个数。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains the number of elements $n$, $1\le n\le 50$.
The second, last line of the standard input contains $n$ positive integers $m_1,\cdots,m_n$, separated by single spaces,$1\le m_i<2^{32}-1$.
</div>
<h3>输出格式</h3>
<br />
<div>Your programme should write one integer to the standard output - total number of different crystals that can be created. You can assume that this number is less than $2^{64}$.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3
2 1 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>5</code></pre>
</article>
</div>
</div>
</body>
</html>
