<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2014]WAZ-Snake - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377054:+ZkhzVTAuW7XD7tHxfX4yz6WKAYBfFThwRNdTbmw3w8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20snake%20fills%20a%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.1.png%29%20board%20completely.%5Cn%5CnSuccessive%20segments%20of%20the%20snake%20are%20numbered%20from%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.2.png%29%20to%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.3.png%29.%5Cn%5CnThe%20segments%20with%20successive%20numbers%20%28i.e.%2C%201%20and%202%2C%202%20and%203%2C%203%20and%204...%29%20occupy%20squares%20%20that%20share%20an%20edge.%5Cn%5CnFor%20example%2C%20a%20snake%20can%20fill%20a%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.4.png%29%20board%20as%20follows%3A%5Cn%5CnThe%20snake%27s%20segment%20numbers%20in%20some%20of%20the%20squares%20have%20been%20erased.%5Cn%5Cn%20%20Can%20you%20reconstruct%20the%20snake%3F%5Cn%5Cn%5Cu4e00%5Cu53ea%5Cu86c7%5Cu88ab%5Cu653e%5Cu5728%5Cu4e86%5Cu4e00%5Cu57573%5C%5C%2An%5Cu7684%5Cu6728%5Cu677f%5Cu4e0a%5Cuff08%5Cu586b%5Cu5145%5Cu6ee1%5Cu4e86%5Cuff09%5Cuff0c%5Cu86c7%5Cu88ab%5Cu5206%5Cu4e3a%5Cu591a%5Cu4e2a%5Cu5c0f%5Cu6bb5%5Cuff0c%5Cu5c0f%5Cu6bb5%5Cu7684%5Cu7f16%5Cu53f7%5Cu662f1%5Cu52303n%5Cu3002%5Cu6bd4%5Cu5982%5Cu8bf4%5Cu86c7%5Cu53ef%5Cu4ee5%5Cu586b%5Cu5199%5Cu4e00%5Cu4e2a3%5C%5C%2A9%5Cu7684%5Cu6728%5Cu677f%5Cuff0c%5Cu5982%5Cu4e0b%5Cu6240%5Cu793a%5Cuff1a%5Cn%5Cn%5Cn%5Cu90e8%5Cu5206%5Cu6728%5Cu677f%5Cu4e0a%5Cu7684%5Cu86c7%5Cu6bb5%5Cu5df2%5Cu5220%5Cu906e%5Cu6321%5Cu3002%5Cn%5Cn%5Cn%5Cu4f60%5Cu80fd%5Cu91cd%5Cu5efa%5Cu86c7%5Cu5417%5Cuff1f%5Cn%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20of%20the%20standard%20input%2C%20there%20is%20a%20single%20integer%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.5.png%29%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.6.png%29%29%2C%20the%20length%20of%20the%20board.%5Cn%5CnThe%20three%20lines%20that%20follow%20describe%20the%20board%3B%20%20the%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.7.png%29-th%20of%20them%20contains%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.8.png%29%20integers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.9.png%29%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.10.png%29%20for%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.11.png%29%29.%5Cn%5CnIf%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.12.png%29%2C%20then%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.13.png%29%20is%20the%20number%20of%20the%20snake%27s%20segment%20%20occupying%20the%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.14.png%29-th%20square%20of%20the%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.15.png%29-th%20row%20of%20the%20board.%5Cn%5CnIf%20on%20the%20other%20hand%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.16.png%29%2C%20then%20the%20number%20of%20the%20snake%27s%20segment%20%20on%20this%20square%20is%20unknown.%5Cn%5CnIn%20tests%20worth%2015%25%20of%20the%20total%20score%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.17.png%29%20holds%2C%20%20in%20those%20worth%2040%25%20of%20the%20total%20score%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.18.png%29%20holds%2C%20%20and%20finally%2C%20in%20those%20worth%2070%25%20of%20the%20total%20score%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.19.png%29%20holds.%5Cn%5Cn%5Cu5728%5Cu6807%5Cu51c6%5Cu8f93%5Cu5165%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e2d%5Cuff0c%5Cu6709%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570n%5Cuff081%3C%3Dn%3C%3D1000%5Cuff09%5Cuff0c%5Cu5373%5Cu677f%5Cu7684%5Cu957f%5Cu5ea6%5Cu3002%5Cn%5Cn%5Cn%5Cu4e0b%5Cu9762%5Cu4e09%5Cu884c%5Cu63cf%5Cu8ff0%5Cu6728%5Cu677f%5Cu7684%5Cu60c5%5Cu51b5%5Cuff0c%5Cu7b2ci%5Cu884c%5Cu662fn%5Cu4e2a%5Cu6574%5Cu6570aij%5Cuff080%3C%3Daij%3C%3D3n%5Cuff09%281%3C%3Dj%3C%3Dn%29%5Cu3002%5Cn%5Cn%5Cn%5Cu5982%5Cu679caij%5Cu5927%5Cu4e8e0%5Cuff0c%5Cu90a3%5Cu4e48aij%5Cu5c31%5Cu662f%5Cu86c7%5Cu6bb5%5Cu7684%5Cu7b2caij%5Cu90e8%5Cu5206%5Cn%5Cn%5Cn%5Cu5982%5Cu679caij%3D0%5Cuff0c%5Cu90a3%5Cu4e48%5Cu8fd9%5Cu4e2a%5Cu86c7%5Cu6bb5%5Cu5c31%5Cu662f%5Cu6211%5Cu4eec%5Cu4e0d%5Cu77e5%5Cu9053%5Cu7684%5Cn%22%2C%22outputFormat%22%3A%22Your%20program%20is%20to%20print%20three%20lines%20to%20the%20standard%20output.%5Cn%5CnThe%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.20.png%29-th%20lines%20should%20hold%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.21.png%29%20positive%20integers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.22.png%29%20%28for%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.23.png%29%29.%5Cn%5CnAll%20the%20numbers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.24.png%29%20together%20should%20be%20a%20permutation%20of%20the%20numbers%20from%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.25.png%29%20to%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI21%5C%2Fwaz-en-tex.26.png%29.%5Cn%5CnThe%20output%20numbers%20should%20be%20a%20valid%20reconstruction%20of%20the%20snake%2C%20i.e.%2C%20they%20should%20%20be%20consistent%20with%20the%20%28positive%29%20input%20numbers%20and%20satisfy%20aforementioned%20constraints.%5Cn%5CnYou%20may%20assume%20that%20there%20is%20at%20least%20one%20valid%20reconstruction%20of%20the%20snake.%5Cn%5CnIf%20there%20is%20more%20than%20one%2C%20your%20program%20can%20print%20any%20valid%20reconstruction.%5Cn%5Cn%5Cu5c06%5Cu6240%5Cu6709aij%5Cu4e3a0%5Cu7684%5Cu86c7%5Cu6bb5%5Cu8865%5Cu9f50%5Cn%22%2C%22samples%22%3A%5B%5B%229%5Cn0%200%205%200%2017%200%200%200%2021%5Cn8%200%200%203%2016%200%200%2025%200%5Cn0%200%200%200%200%200%200%200%2023%5Cn%22%2C%227%206%205%204%2017%2018%2019%2020%2021%5Cn8%201%202%203%2016%2015%2026%2025%2022%5Cn9%2010%2011%2012%2013%2014%2027%2024%2023%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B31%2C57%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A9%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22P3568%22%2C%22title%22%3A%22%5BPOI2014%5DWAZ-Snake%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A20350%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2726%2C%22name%22%3A%22P3568%20%5BPOI2014%5DWAZ-Snake%22%2C%22slug%22%3A%22P3568%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2014%5DWAZ-Snake%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2014]WAZ-Snake</h1>
<h2>题目描述</h2>
<div>A snake fills a ![](http://main.edu.pl/images/OI21/waz-en-tex.1.png) board completely.
Successive segments of the snake are numbered from ![](http://main.edu.pl/images/OI21/waz-en-tex.2.png) to ![](http://main.edu.pl/images/OI21/waz-en-tex.3.png).
The segments with successive numbers (i.e., 1 and 2, 2 and 3, 3 and 4...) occupy squares that share an edge.
For example, a snake can fill a ![](http://main.edu.pl/images/OI21/waz-en-tex.4.png) board as follows:
The snake's segment numbers in some of the squares have been erased.
Can you reconstruct the snake?
一只蛇被放在了一块3\*n的木板上（填充满了），蛇被分为多个小段，小段的编号是1到3n。比如说蛇可以填写一个3\*9的木板，如下所示：
部分木板上的蛇段已删遮挡。
你能重建蛇吗？
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line of the standard input, there is a single integer ![](http://main.edu.pl/images/OI21/waz-en-tex.5.png) (![](http://main.edu.pl/images/OI21/waz-en-tex.6.png)), the length of the board.
The three lines that follow describe the board; the ![](http://main.edu.pl/images/OI21/waz-en-tex.7.png)-th of them contains ![](http://main.edu.pl/images/OI21/waz-en-tex.8.png) integers ![](http://main.edu.pl/images/OI21/waz-en-tex.9.png) (![](http://main.edu.pl/images/OI21/waz-en-tex.10.png) for ![](http://main.edu.pl/images/OI21/waz-en-tex.11.png)).
If ![](http://main.edu.pl/images/OI21/waz-en-tex.12.png), then ![](http://main.edu.pl/images/OI21/waz-en-tex.13.png) is the number of the snake's segment occupying the ![](http://main.edu.pl/images/OI21/waz-en-tex.14.png)-th square of the ![](http://main.edu.pl/images/OI21/waz-en-tex.15.png)-th row of the board.
If on the other hand ![](http://main.edu.pl/images/OI21/waz-en-tex.16.png), then the number of the snake's segment on this square is unknown.
In tests worth 15% of the total score ![](http://main.edu.pl/images/OI21/waz-en-tex.17.png) holds, in those worth 40% of the total score ![](http://main.edu.pl/images/OI21/waz-en-tex.18.png) holds, and finally, in those worth 70% of the total score ![](http://main.edu.pl/images/OI21/waz-en-tex.19.png) holds.
在标准输入的第一行中，有一个整数n（1<=n<=1000），即板的长度。
下面三行描述木板的情况，第i行是n个整数aij（0<=aij<=3n）(1<=j<=n)。
如果aij大于0，那么aij就是蛇段的第aij部分
如果aij=0，那么这个蛇段就是我们不知道的
</div>
<h3>输出格式</h3>
<br />
<div>Your program is to print three lines to the standard output.
The ![](http://main.edu.pl/images/OI21/waz-en-tex.20.png)-th lines should hold ![](http://main.edu.pl/images/OI21/waz-en-tex.21.png) positive integers ![](http://main.edu.pl/images/OI21/waz-en-tex.22.png) (for ![](http://main.edu.pl/images/OI21/waz-en-tex.23.png)).
All the numbers ![](http://main.edu.pl/images/OI21/waz-en-tex.24.png) together should be a permutation of the numbers from ![](http://main.edu.pl/images/OI21/waz-en-tex.25.png) to ![](http://main.edu.pl/images/OI21/waz-en-tex.26.png).
The output numbers should be a valid reconstruction of the snake, i.e., they should be consistent with the (positive) input numbers and satisfy aforementioned constraints.
You may assume that there is at least one valid reconstruction of the snake.
If there is more than one, your program can print any valid reconstruction.
将所有aij为0的蛇段补齐
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>9
0 0 5 0 17 0 0 0 21
8 0 0 3 16 0 0 25 0
0 0 0 0 0 0 0 0 23
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>7 6 5 4 17 18 19 20 21
8 1 2 3 16 15 26 25 22
9 10 11 12 13 14 27 24 23
</code></pre>
</article>
</div>
</div>
</body>
</html>
