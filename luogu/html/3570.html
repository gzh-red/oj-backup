<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2014]PRZ-Criminals - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377055:tZ/rifJ6OeH1ijMv7dHrdi9V0u37l37Pev2mzRbDatg=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Byteburg%20is%20a%20beautiful%20town%20by%20a%20river.%5Cn%5CnThere%20are%20%24n%24%20houses%20along%20the%20river%2C%20numbered%20downstream%20with%20successive%20integers%20from%20%241%24%20to%20%24n%24.%5Cn%5CnByteburg%20used%20to%20be%20a%20nice%20quiet%20town%20in%20which%20everyone%20was%20happy.%5Cn%5CnAlas%2C%20this%20changed%20recently%2C%20as%20two%20dangerous%20criminals%20-%20Bitie%20and%20Bytie%20set%20up%20shop%20in%20it.%5Cn%5CnThey%20did%20so%20many%20robberies%20already%20that%20the%20citizens%20are%20afraid%20to%20leave%20their%20houses.%5Cn%5CnBitie%20and%20Bytie%20do%20no%20mere%20burglaries%20but%20rather%20whole%20raids%3A%20each%20time%20they%20leave%20their%20houses%20and%20walk%20towards%20each%20other%2C%20never%20turning%20back.%5Cn%5CnBitie%20walks%20downstream%20%28towards%20larger%20numbers%29%20while%20Bytie%20walks%20upstream%20%28towards%20smaller%20numbers%29.%5Cn%5CnAlong%20the%20way%2C%20before%20they%20meet%2C%20each%20chooses%20several%20houses%20to%20break%20into%20and%20steal%20precious%20items%20%20%20%20%28and%20vital%20data%29.%5Cn%5CnAfter%20the%20robberies%20they%20meet%20in%20a%20house%20and%20divide%20their%20loot.%5Cn%5CnByteburgers%20are%20sick%20of%20this%20already%20-%20they%20would%20all%20rather%20have%20their%20tranquility%20restored.%5Cn%5CnSo%20they%20asked%20the%20detective%20Bythony%20for%20help.%5Cn%5CnThe%20detective%20established%20that%20the%20bandits%20live%20in%20houses%20of%20the%20same%20color%20but%20he%20does%20not%20know%20which%20one.%5Cn%5CnJust%20a%20moment%20ago%2C%20an%20anonymous%20tip%20claimed%20that%20the%20robbers%20are%20on%20a%20raid.%5Cn%5CnFearing%20for%20their%20own%20safety%2C%20the%20source%20did%20not%20say%20which%20houses%20will%20be%20broken%20into.%5Cn%5CnThey%20did%20however%20specify%20their%20colors.%5Cn%5CnAs%20it%20turns%20out%2C%20the%20bandits%20are%20quite%20superstitious%20-%20each%20of%20them%20will%20rob%20a%20house%20of%20each%20color%20at%20most%20once.%5Cn%5CnBythony%20can%20wait%20no%20longer.%5Cn%5CnHe%20intends%20to%20ambush%20the%20criminals%20at%20their%20meeting%20place.%5Cn%5CnAid%20Bythony%20in%20his%20undertaking%20by%20writing%20a%20program%20to%20find%20all%20possible%20meeting%20places%20of%20the%20robbers.%5Cn%5Cn%5Cu6709%5Cu4e24%5Cu4e2a%5Cu4eba%5Cu4ece%5Cu4e24%5Cu4e2a%5Cu989c%5Cu8272%5Cu76f8%5Cu540c%5Cu7684%5Cu683c%5Cu5b50%5Cu5f00%5Cu59cb%5Cu76f8%5Cu5411%5Cu800c%5Cu884c%5Cuff0c%5Cu5e76%5Cu6309%5Cu987a%5Cu5e8f%5Cu8bb0%5Cu5f55%5Cu4e0b%5Cu9664%5Cu4e86%5Cu5f00%5Cu59cb%5Cu70b9%5Cu5916%5Cu6cbf%5Cu9014%5Cu4e00%5Cu4e9b%5Cu683c%5Cu5b50%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%5Cu5e76%5Cu4fdd%5Cu8bc1%5Cu4e00%5Cu5b9a%5Cu8bb0%5Cu5f55%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu683c%5Cu5b50%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%5Cu6c42%5Cu76f8%5Cu9047%5Cu5730%5Cu70b9%5Cu6709%5Cu591a%5Cu5c11%5Cu79cd%5Cu53ef%5Cu80fd%5Cu7684%5Cu5730%5Cu70b9%5Cn%22%2C%22inputFormat%22%3A%22There%20are%20two%20integers%20in%20the%20first%20line%20of%20the%20standard%20input%2C%20%24n%24%20and%20%24k%24%20%28%243%5C%5Cle%20n%5C%5Cle%201%5C%5C%20000%5C%5C%20000%24%2C%20%241%5C%5Cle%20k%5C%5Cle%201%5C%5C%20000%5C%5C%20000%24%2C%20%24k%5C%5Cle%20n%24%29%2C%20%20separated%20by%20a%20single%20space%2C%20that%20specify%20the%20number%20of%20houses%20and%20the%20number%20of%20house%20colors%20%20in%20Byteburg%20respectively.%5Cn%5CnThe%20colors%20are%20number%20with%20successive%20integers%20from%20%241%24%20to%20%24k%24.%5Cn%5CnIn%20the%20second%20line%20of%20input%2C%20there%20is%20a%20sequence%20of%20%24n%24%20integers%2C%20%24c_1%2Cc_2%2C%5C%5Ccdots%2Cc_n%24%20%28%241%5C%5Cle%20c_i%5C%5Cle%20k%24%29%2C%20separated%20by%20single%20spaces.%5Cn%5CnThese%20are%20the%20colors%20of%20successive%20houses%20in%20Byteburg.%5Cn%5CnIn%20the%20third%20line%20of%20input%2C%20there%20are%20two%20integers%20%24m%24%20and%20%24l%24%28%241%5C%5Cle%20m%2Cl%5C%5Cle%20n%24%2C%24m%2Bl%5C%5Cle%20n-1%24%29%2C%20separated%20by%20a%20single%20space%2C%20specifying%20the%20numbers%20of%20houses%20%28to%20be%29%20broken%20into%20by%20Bitie%20and%20Bytie%20respectively.%20In%20the%20fourth%20line%20of%20input%2C%20there%20are%20%24m%24%20pairwise%20different%20integers%20%24x_1%2Cx_2%2C%5C%5Ccdots%2Cx_m%24%28%241%5C%5Cle%20x_i%5C%5Cle%20k%24%29%2C%20separated%20by%20single%20spaces.%20These%20are%20the%20colors%20of%20houses%20robbed%20by%20Bitie%20in%20the%20order%20of%20being%20broken%20into%20%28i.e.%2C%20excluding%20Bitie%27s%20house%29.%20In%20the%20fifth%2C%20which%20is%20the%20last%2C%20line%20of%20input%2C%20there%20are%20%24l%24%20pairwise%20different%20integers%20%24y_1%2Cy_2%2C%5C%5Ccdots%2Cy_l%24%20%28%241%5C%5Cle%20y_i%5C%5Cle%20k%24%29%2C%20separated%20by%20single%20spaces.%20These%20are%20the%20colors%20of%20houses%20robbed%20by%20Bytie%20in%20the%20order%20of%20being%20broken%20into%20%28again%2C%20these%20do%20not%20include%20Bytie%27s%20house%29.%20Moreover%2C%20%24x_m%3Dy_l%24%20is%20the%20color%20of%20the%20house%20in%20which%20the%20robbers%20will%20divide%20the%20plunder.%20%28Clearly%2C%20they%20have%20to%20break%20into%20that%20one%20as%20well%21%29%5Cn%22%2C%22outputFormat%22%3A%22Your%20program%20it%20to%20print%20exactly%20two%20lines%20to%20the%20standard%20output.%5Cn%5CnThe%20first%20of%20those%20should%20give%20the%20number%20of%20houses%20in%20which%20the%20criminals%20can%20meet%20%20while%20respecting%20aforementioned%20constraints.%5Cn%5CnThe%20second%20line%20should%20contain%20the%20increasing%20sequence%20of%20the%20numbers%20of%20those%20houses%2C%20%20separated%20by%20single%20spaces.%5Cn%5CnIf%20the%20robbers%20cannot%20meet%20at%20all%2C%20the%20first%20line%20should%20contain%20the%20number%200%20while%20the%20second%20one%20should%20be%20empty.%5Cn%22%2C%22samples%22%3A%5B%5B%2215%207%5Cn2%205%206%202%204%207%203%203%202%203%207%205%203%206%202%5Cn3%202%5Cn4%207%203%5Cn5%203%5Cn%22%2C%223%5Cn7%208%2010%5Cn%22%5D%5D%2C%22hint%22%3A%22%5Cu6709%5Cu4e24%5Cu4e2a%5Cu4eba%5Cu4ece%5Cu4e24%5Cu4e2a%5Cu989c%5Cu8272%5Cu76f8%5Cu540c%5Cu7684%5Cu683c%5Cu5b50%5Cu5f00%5Cu59cb%5Cu76f8%5Cu5411%5Cu800c%5Cu884c%5Cuff0c%5Cu5e76%5Cu6309%5Cu987a%5Cu5e8f%5Cu8bb0%5Cu5f55%5Cu4e0b%5Cu9664%5Cu4e86%5Cu5f00%5Cu59cb%5Cu70b9%5Cu5916%5Cu6cbf%5Cu9014%5Cu4e00%5Cu4e9b%5Cu683c%5Cu5b50%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%5Cu5e76%5Cu4fdd%5Cu8bc1%5Cu4e00%5Cu5b9a%5Cu8bb0%5Cu5f55%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu683c%5Cu5b50%5Cu7684%5Cu989c%5Cu8272%5Cuff0c%5Cu6c42%5Cu76f8%5Cu9047%5Cu5730%5Cu70b9%5Cu6709%5Cu591a%5Cu5c11%5Cu79cd%5Cu53ef%5Cu80fd%5Cu7684%5Cu5730%5Cu70b9%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%2C64000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B31%2C44%2C57%2C111%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A63%2C%22totalAccepted%22%3A27%2C%22pid%22%3A%22P3570%22%2C%22title%22%3A%22%5BPOI2014%5DPRZ-Criminals%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A38024%2C%22title%22%3A%22%5Cu6570%5Cu636e%5Cu5047%5Cu7684%22%2C%22forum%22%3A%7B%22id%22%3A2639%2C%22name%22%3A%22P3570%20%5BPOI2014%5DPRZ-Criminals%22%2C%22slug%22%3A%22P3570%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2056%22%2C%22title%22%3A%22%5BZJOI2007%5D%5Cu6349%5Cu8ff7%5Cu85cf%20%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3569%22%2C%22title%22%3A%22%5BPOI2014%5DKAR-Cards%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3574%22%2C%22title%22%3A%22%5BPOI2014%5DFAR-FarmCraft%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3578%22%2C%22title%22%3A%22%5BPOI2014%5DLAM-Solar%20lamps%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4425%22%2C%22title%22%3A%22%5BHNOI%5C%2FAHOI2018%5D%5Cu8f6c%5Cu76d8%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2014%5DPRZ-Criminals%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2014]PRZ-Criminals</h1>
<h2>题目描述</h2>
<div>Byteburg is a beautiful town by a river.
There are $n$ houses along the river, numbered downstream with successive integers from $1$ to $n$.
Byteburg used to be a nice quiet town in which everyone was happy.
Alas, this changed recently, as two dangerous criminals - Bitie and Bytie set up shop in it.
They did so many robberies already that the citizens are afraid to leave their houses.
Bitie and Bytie do no mere burglaries but rather whole raids: each time they leave their houses and walk towards each other, never turning back.
Bitie walks downstream (towards larger numbers) while Bytie walks upstream (towards smaller numbers).
Along the way, before they meet, each chooses several houses to break into and steal precious items (and vital data).
After the robberies they meet in a house and divide their loot.
Byteburgers are sick of this already - they would all rather have their tranquility restored.
So they asked the detective Bythony for help.
The detective established that the bandits live in houses of the same color but he does not know which one.
Just a moment ago, an anonymous tip claimed that the robbers are on a raid.
Fearing for their own safety, the source did not say which houses will be broken into.
They did however specify their colors.
As it turns out, the bandits are quite superstitious - each of them will rob a house of each color at most once.
Bythony can wait no longer.
He intends to ambush the criminals at their meeting place.
Aid Bythony in his undertaking by writing a program to find all possible meeting places of the robbers.
有两个人从两个颜色相同的格子开始相向而行，并按顺序记录下除了开始点外沿途一些格子的颜色，并保证一定记录最后一个格子的颜色，求相遇地点有多少种可能的地点
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>There are two integers in the first line of the standard input, $n$ and $k$ ($3\le n\le 1\ 000\ 000$, $1\le k\le 1\ 000\ 000$, $k\le n$), separated by a single space, that specify the number of houses and the number of house colors in Byteburg respectively.
The colors are number with successive integers from $1$ to $k$.
In the second line of input, there is a sequence of $n$ integers, $c_1,c_2,\cdots,c_n$ ($1\le c_i\le k$), separated by single spaces.
These are the colors of successive houses in Byteburg.
In the third line of input, there are two integers $m$ and $l$($1\le m,l\le n$,$m+l\le n-1$), separated by a single space, specifying the numbers of houses (to be) broken into by Bitie and Bytie respectively. In the fourth line of input, there are $m$ pairwise different integers $x_1,x_2,\cdots,x_m$($1\le x_i\le k$), separated by single spaces. These are the colors of houses robbed by Bitie in the order of being broken into (i.e., excluding Bitie's house). In the fifth, which is the last, line of input, there are $l$ pairwise different integers $y_1,y_2,\cdots,y_l$ ($1\le y_i\le k$), separated by single spaces. These are the colors of houses robbed by Bytie in the order of being broken into (again, these do not include Bytie's house). Moreover, $x_m=y_l$ is the color of the house in which the robbers will divide the plunder. (Clearly, they have to break into that one as well!)
</div>
<h3>输出格式</h3>
<br />
<div>Your program it to print exactly two lines to the standard output.
The first of those should give the number of houses in which the criminals can meet while respecting aforementioned constraints.
The second line should contain the increasing sequence of the numbers of those houses, separated by single spaces.
If the robbers cannot meet at all, the first line should contain the number 0 while the second one should be empty.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>15 7
2 5 6 2 4 7 3 3 2 3 7 5 3 6 2
3 2
4 7 3
5 3
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3
7 8 10
</code></pre>
<h2>说明</h2>
<div>有两个人从两个颜色相同的格子开始相向而行，并按顺序记录下除了开始点外沿途一些格子的颜色，并保证一定记录最后一个格子的颜色，求相遇地点有多少种可能的地点
</div>
</article>
</div>
</div>
</body>
</html>
