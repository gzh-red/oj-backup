<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO10NOV]旗帜Banner - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376261:FKRPHPKL19pYXWCKC3CpKeSqOk6rUGd82ykqGUcyh+c=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%5Cu9898%5Cu76ee%5Cu5927%5Cu610f%28by%3A%5Cu66f9%5Cu5f66%5Cu81e3%29%5Cuff1a%5Cn%5Cn%5Cn%5Cu5e73%5Cu9762%5Cu4e0a%5Cu6709%280%2C0%29%5Cu5230%28n%2Cm%29%5Cu7684%28n%2B1%29%5C%5C%2A%28m%2B1%29%5Cu4e2a%5Cu70b9%5Cu3002%5Cu95ee%5Cu6709%5Cu591a%5Cu5c11%5Cu70b9%5Cu5bf9%5Cu6240%5Cu8fde%5Cu7684%5Cu7ebf%5Cu6bb5%5Cu4e0d%5Cu8fc7%5Cu5176%5Cu4ed6%5Cu70b9%5Cuff0c%5Cu4e14%5Cu957f%5Cu5ea6%5Cu5728%5Bl%2Ch%5D%5Cu8303%5Cu56f4%5Cu5185%5Cu3002%5Cn%5Cn%5Cn%5Cu5f81%5Cu6c42%5Cu7ffb%5Cu8bd1%5Cu3002%5Cu5982%5Cu679c%5Cu4f60%5Cu80fd%5Cu63d0%5Cu4f9b%5Cu7ffb%5Cu8bd1%5Cu6216%5Cu8005%5Cu9898%5Cu610f%5Cu7b80%5Cu8ff0%5Cuff0c%5Cu8bf7%5Cu76f4%5Cu63a5%5Cu53d1%5Cu8ba8%5Cu8bba%5Cuff0c%5Cu611f%5Cu8c22%5Cu4f60%5Cu7684%5Cu8d21%5Cu732e%5Cu3002%5Cn%22%2C%22description%22%3A%22Bessie%20is%20returning%20from%20a%20long%20trip%20abroad%2C%20and%20Farmer%20John%20wants%20to%20erect%20a%20nice%20%27Welcome%20Home%27%20banner%20in%20her%20pasture%20for%20her%20arrival.%20The%20banner%20will%20hang%20between%20two%20poles%20on%20a%20wire%20whose%20length%20is%20in%20the%20range%20L1..L2%20%281%20%3C%3D%20L1%20%3C%3D%20L2%3B%20L1%20%3C%3D%20L2%20%3C%3D%201%2C500%29.%5Cn%5CnThe%20pasture%27s%20size%20is%20W%20x%20H%20%281%20%3C%3D%20W%20%3C%3D%201%2C000%3B%201%20%3C%3D%20H%20%3C%3D%201%2C000%29%2C%20and%20Farmer%20John%20has%20installed%20a%20post%20at%20every%20point%20with%20integer%5Cn%5Cncoordinates.%20Of%20these%20%28W%20%2B%201%29%20%5C%5C%2A%20%28H%20%2B%201%29%20points%2C%20Farmer%20John%20must%20pick%20just%20two%20that%20will%20hold%20either%20end%20of%20the%20wire%20from%20which%20he%20will%20hang%20the%20banner.%5Cn%5CnFJ%20wants%20no%20interference%20with%20his%20banner%20as%20it%20hangs%20and%20requires%20that%20no%20post%20be%20directly%20under%20the%20tight%20wire%20he%20stretches%20between%20the%20two%20chosen%20posts.%5Cn%5CnFarmer%20John%20needs%20your%20help%20to%20figure%20out%20how%20many%20possible%20ways%20he%20can%20hang%20the%20banner.%20He%20knows%20the%20number%20is%20large%20and%20that%20a%2032-bit%20integer%20might%20not%20be%20sufficient%20to%20compute%20the%20answer.%5Cn%5CnConsider%20the%20example%20pasture%20below%2C%20with%20W%20%3D%202%20and%20H%20%3D%201%3A%20%5Cn%5Cn%5C%5C%2A%20%5C%5C%2A%20%5C%5C%2A%5Cn%5C%5C%2A%20%5C%5C%2A%20%5C%5C%2A%5CnThe%20banner%20size%20is%20in%20the%20range%202..3.%20This%20pasture%20contains%20%282%2B1%29%20%5C%5C%2A%20%281%2B1%29%20%3D%206%20points%20and%20has%20%286%20take%202%29%20%3D%20%286%5C%5C%2A5%29%5C%2F%282%5C%5C%2A1%29%20%3D%2015%20different%20potential%20pairs%20of%20points%20between%20which%20the%20banner-holding%20wire%20might%20stretch%3A%5Cn%5Cn%60%60%60cpp%5Cn%280%2C0%29-%280%2C1%29%20%20%20%280%2C0%29-%282%2C1%29%20%20%20%280%2C1%29-%282%2C1%29%20%20%20%281%2C1%29-%282%2C0%29%20%5Cn%280%2C0%29-%281%2C0%29%20%20%20%280%2C1%29-%281%2C0%29%20%20%20%281%2C0%29-%281%2C1%29%20%20%20%281%2C1%29-%282%2C1%29%20%5Cn%280%2C0%29-%281%2C1%29%20%20%20%280%2C1%29-%281%2C1%29%20%20%20%281%2C0%29-%282%2C0%29%20%20%20%282%2C0%29-%282%2C1%29%20%5Cn%280%2C0%29-%282%2C0%29%20%20%20%280%2C1%29-%282%2C0%29%20%20%20%281%2C0%29-%282%2C1%29%20%5Cn%60%60%60%5CnOf%20these%20pairs%2C%20only%20four%20have%20a%20length%20in%20the%20range%202..3%3A%5CnLen%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Len%5Cn%5Cn%280%2C0%29-%282%2C0%29%202.00%20%20%20%20%20%20%20%20%20%20%280%2C1%29-%282%2C0%29%202.24%20%5Cn%5Cn%280%2C0%29-%282%2C1%29%202.24%20%20%20%20%20%20%20%20%20%20%280%2C1%29-%282%2C1%29%202.00%20%5Cn%5CnOf%20these%20four%2C%20the%20pairs%20%280%2C0%29-%282%2C0%29%20and%20%280%2C1%29-%282%2C1%29%20both%20have%20a%20post%20directly%20on%20the%20line%20between%20the%20endpoints%2C%20and%20thus%20are%20%5Cn%5Cnunsuitable.%5Cn%5CnSo%2C%20just%20two%20pairs%20of%20points%20out%20of%2015%20are%20acceptable%20candidates%20for%20hanging%20the%20banner%20wire.%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Four%20space-separated%20integers%3A%20W%2C%20H%2C%20L1%2C%20and%20L2%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20integer%20denoting%20the%20number%20of%20possible%20banners%5Cn%22%2C%22samples%22%3A%5B%5B%222%201%202%203%20%5Cn%22%2C%222%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B27%2C46%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A227%2C%22totalAccepted%22%3A69%2C%22pid%22%3A%22P2997%22%2C%22title%22%3A%22%5BUSACO10NOV%5D%5Cu65d7%5Cu5e1cBanner%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A53114%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2126%2C%22name%22%3A%22P2997%20%5BUSACO10NOV%5D%5Cu65d7%5Cu5e1cBanner%22%2C%22slug%22%3A%22P2997%22%7D%7D%2C%7B%22id%22%3A16798%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu5927%5Cu610f%22%2C%22forum%22%3A%7B%22id%22%3A2126%2C%22name%22%3A%22P2997%20%5BUSACO10NOV%5D%5Cu65d7%5Cu5e1cBanner%22%2C%22slug%22%3A%22P2997%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1439%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu6700%5Cu957f%5Cu516c%5Cu5171%5Cu5b50%5Cu5e8f%5Cu5217%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2822%22%2C%22title%22%3A%22%5Cu7ec4%5Cu5408%5Cu6570%5Cu95ee%5Cu9898%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2995%22%2C%22title%22%3A%22%5BUSACO10NOV%5D%5Cu725b%5Cu7684%5Cu7167%5Cu7247Cow%20Photographs%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2998%22%2C%22title%22%3A%22%5BUSACO10NOV%5D%5Cu7cd6%5Cu679cCandy%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4544%22%2C%22title%22%3A%22%5BUSACO10NOV%5D%5Cu8d2d%5Cu4e70%5Cu9972%5Cu6599Buying%20Feed%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO10NOV%5D%5Cu65d7%5Cu5e1cBanner%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO10NOV]旗帜Banner</h1>
<h2>题目背景</h2>
<div>题目大意(by:曹彦臣)：
平面上有(0,0)到(n,m)的(n+1)\*(m+1)个点。问有多少点对所连的线段不过其他点，且长度在[l,h]范围内。
征求翻译。如果你能提供翻译或者题意简述，请直接发讨论，感谢你的贡献。
</div>
<h2>题目描述</h2>
<div>Bessie is returning from a long trip abroad, and Farmer John wants to erect a nice 'Welcome Home' banner in her pasture for her arrival. The banner will hang between two poles on a wire whose length is in the range L1..L2 (1 <= L1 <= L2; L1 <= L2 <= 1,500).
The pasture's size is W x H (1 <= W <= 1,000; 1 <= H <= 1,000), and Farmer John has installed a post at every point with integer
coordinates. Of these (W + 1) \* (H + 1) points, Farmer John must pick just two that will hold either end of the wire from which he will hang the banner.
FJ wants no interference with his banner as it hangs and requires that no post be directly under the tight wire he stretches between the two chosen posts.
Farmer John needs your help to figure out how many possible ways he can hang the banner. He knows the number is large and that a 32-bit integer might not be sufficient to compute the answer.
Consider the example pasture below, with W = 2 and H = 1:
\* \* \*
\* \* \*
The banner size is in the range 2..3. This pasture contains (2+1) \* (1+1) = 6 points and has (6 take 2) = (6\*5)/(2\*1) = 15 different potential pairs of points between which the banner-holding wire might stretch:
```cpp
(0,0)-(0,1) (0,0)-(2,1) (0,1)-(2,1) (1,1)-(2,0)
(0,0)-(1,0) (0,1)-(1,0) (1,0)-(1,1) (1,1)-(2,1)
(0,0)-(1,1) (0,1)-(1,1) (1,0)-(2,0) (2,0)-(2,1)
(0,0)-(2,0) (0,1)-(2,0) (1,0)-(2,1)
```
Of these pairs, only four have a length in the range 2..3:
Len Len
(0,0)-(2,0) 2.00 (0,1)-(2,0) 2.24
(0,0)-(2,1) 2.24 (0,1)-(2,1) 2.00
Of these four, the pairs (0,0)-(2,0) and (0,1)-(2,1) both have a post directly on the line between the endpoints, and thus are
unsuitable.
So, just two pairs of points out of 15 are acceptable candidates for hanging the banner wire.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Four space-separated integers: W, H, L1, and L2
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: A single integer denoting the number of possible banners
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 1 2 3 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2 
</code></pre>
</article>
</div>
</div>
</body>
</html>
