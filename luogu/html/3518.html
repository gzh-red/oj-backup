<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2011]SEJ-Strongbox - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376991:84/ICc44KBbtTWCvRW5y5dJisC/X+LoBS6pZpXWII8A=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Byteasar%20is%20a%20famous%20safe-cracker%2C%20who%20renounced%20his%20criminal%20activity%20and%20%20%20%20got%20into%20testing%20and%20certifying%20anti-burglary%20devices.%5Cn%5CnHe%20has%20just%20received%20a%20new%20kind%20of%20strongbox%20for%20tests%3A%20a%20combinatorial%20safe.%5Cn%5CnA%20combinatorial%20safe%20is%20something%20different%20from%20a%20combination%20safe%2C%20%20%20%20even%20though%20it%20is%20opened%20with%20a%20rotary%20dial.%5Cn%5CnThe%20dial%20can%20be%20set%20in%20%24n%24%20different%20positions%2C%20numbered%20from%200%20to%20%24n-1%24.%5Cn%5CnSetting%20the%20dial%20in%20some%20of%20these%20positions%20opens%20the%20safe%2C%20while%20in%20others%20it%20does%20not.%5Cn%5CnAnd%20here%20is%20the%20combinatorial%20property%2C%20from%20which%20the%20name%20comes%20from%3A%5Cn%5Cnif%20%24x%24%20and%20%24y%24%20are%20opening%20positions%2C%20then%20so%20is%20%24%28x%2By%29%5C%5C%20mod%5C%5C%20n%24%20too%3B%20%20%20%20note%20that%20is%20holds%20for%20%24x%3Dy%24%20as%20well.%5Cn%5CnByteasar%20tried%20%24k%24%20different%20positions%20of%20the%20dial%3A%20%24m_1%2Cm_2%2C%5C%5Ccdots%2Cm_k%24.%5Cn%5CnThe%20positions%20%24m_1%2Cm_2%2C%5C%5Ccdots%2Cm_%7Bk-1%7D%24%20did%20not%20open%20the%20safe%2Conly%20the%20last%20position%20%24m_k%24%20did.%5Cn%5CnByteasar%20is%20already%20tired%20from%20checking%20these%20%24k%24%20positions%20and%20has%20thus%20%20%20%20absolutely%20no%20intention%20of%20trying%20the%20remaining%20ones.%5Cn%5CnHe%20would%20like%20to%20know%20however%2C%20based%20on%20what%20he%20already%20knows%20about%20the%20%20%20%20positions%20he%20tried%2C%20what%20is%20the%20maximum%20possible%20number%20of%20positions%20that%20%20%20%20open%20the%20safe.%5Cn%5CnHelp%20him%20by%20writing%20an%20appropriate%20program%21%5Cn%5Cn%5Cu7ed9%5Cu5b9an%5Cu548ck%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu6c42mod%20n%5Cu52a0%5Cu6cd5%5Cu4e0b%5Cu7684%5Cu7fa4G%5Cu7684%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu7fa4G%27%5Cuff0c%5Cu6ee1%5Cu8db3a%5B1%5D~a%5Bk-1%5D%5Cu90fd%5Cu4e0d%5Cu5728%5Cu7fa4%5Cu4e2d%5Cu800ca%5Bk%5D%5Cu5728%5Cu7fa4%5Cu4e2d%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20gives%20two%20integers%20%24n%24%20and%20%24k%24%2C%20%20%20%20%20%20separated%20by%20a%20single%20space%2C%20%241%5C%5Cle%20k%5C%5Cle%20250%5C%5C%20000%24%2C%20%24k%5C%5Cle%20n%5C%5Cle%2010%5E%7B14%7D%24.%5Cn%5CnThe%20second%20line%20holds%20%24k%24%20different%20integers%2C%20also%20separated%20by%20single%20%20%20%20%20%20spaces%2C%20%24m_1%2Cm_2%2C%5C%5Ccdots%2Cm_k%24%2C%20%240%5C%5Cle%20m_i%3Cn%24.%5Cn%5CnYou%20can%20assume%20that%20the%20input%20data%20correspond%20to%20a%20certain%20combinatorial%20%20%20%20%20%20safe%20that%20complies%20with%20the%20description%20above.%5Cn%5CnIn%20tests%20worth%20approximately%2070%25%20of%20the%20points%20it%20holds%20that%20%24k%5C%5Cle%201%5C%5C%20000%24.%5Cn%5CnIn%20some%20of%20those%20tests%2C%20worth%20approximately%2020%25%20of%20the%20points%2C%20%20%20%20%20%20the%20following%20conditions%20hold%20in%20addition%3A%20%24n%5C%5Cle%2010%5E8%24%20and%20%24k%5C%5Cle%20100%24.%5Cn%22%2C%22outputFormat%22%3A%22Your%20program%20should%20print%20out%20to%20the%20first%20and%20only%20line%20of%20the%20standard%20output%20a%20single%20integer%3A%20the%20maximum%20number%20of%20the%20dial%27s%20positions%20that%20can%20open%20the%20safe.%5Cn%22%2C%22samples%22%3A%5B%5B%2242%205%5Cn28%2031%2010%2038%2024%22%2C%2214%22%5D%5D%2C%22hint%22%3A%22%5Cu7ed9%5Cu5b9an%5Cu548ck%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu6c42mod%20n%5Cu52a0%5Cu6cd5%5Cu4e0b%5Cu7684%5Cu7fa4G%5Cu7684%5Cu4e00%5Cu4e2a%5Cu5b50%5Cu7fa4G%27%5Cuff0c%5Cu6ee1%5Cu8db3a%5B1%5D~a%5Bk-1%5D%5Cu90fd%5Cu4e0d%5Cu5728%5Cu7fa4%5Cu4e2d%5Cu800ca%5Bk%5D%5Cu5728%5Cu7fa4%5Cu4e2d%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B5%2C28%2C57%2C241%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A744%2C%22totalAccepted%22%3A263%2C%22pid%22%3A%22P3518%22%2C%22title%22%3A%22%5BPOI2011%5DSEJ-Strongbox%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3519%22%2C%22title%22%3A%22%5BPOI2011%5DROZ-Difference%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3523%22%2C%22title%22%3A%22%5BPOI2011%5DDYN-Dynamite%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4139%22%2C%22title%22%3A%22%5Cu4e0a%5Cu5e1d%5Cu4e0e%5Cu96c6%5Cu5408%5Cu7684%5Cu6b63%5Cu786e%5Cu7528%5Cu6cd5%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22UVA11105%22%2C%22title%22%3A%22H-%5Cu534a%5Cu7d20%5Cu6570%20Semi-prime%20H-numbers%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22UVA%22%7D%2C%7B%22pid%22%3A%22P5021%22%2C%22title%22%3A%22%5Cu8d5b%5Cu9053%5Cu4fee%5Cu5efa%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2011%5DSEJ-Strongbox%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2011]SEJ-Strongbox</h1>
<h2>题目描述</h2>
<div>Byteasar is a famous safe-cracker, who renounced his criminal activity and got into testing and certifying anti-burglary devices.
He has just received a new kind of strongbox for tests: a combinatorial safe.
A combinatorial safe is something different from a combination safe, even though it is opened with a rotary dial.
The dial can be set in $n$ different positions, numbered from 0 to $n-1$.
Setting the dial in some of these positions opens the safe, while in others it does not.
And here is the combinatorial property, from which the name comes from:
if $x$ and $y$ are opening positions, then so is $(x+y)\ mod\ n$ too; note that is holds for $x=y$ as well.
Byteasar tried $k$ different positions of the dial: $m_1,m_2,\cdots,m_k$.
The positions $m_1,m_2,\cdots,m_{k-1}$ did not open the safe,only the last position $m_k$ did.
Byteasar is already tired from checking these $k$ positions and has thus absolutely no intention of trying the remaining ones.
He would like to know however, based on what he already knows about the positions he tried, what is the maximum possible number of positions that open the safe.
Help him by writing an appropriate program!
给定n和k个整数，求mod n加法下的群G的一个子群G'，满足a[1]~a[k-1]都不在群中而a[k]在群中
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input gives two integers $n$ and $k$, separated by a single space, $1\le k\le 250\ 000$, $k\le n\le 10^{14}$.
The second line holds $k$ different integers, also separated by single spaces, $m_1,m_2,\cdots,m_k$, $0\le m_i<n$. You can assume that the input data correspond to a certain combinatorial safe that complies with the description above. In tests worth approximately 70% of the points it holds that $k\le 1\ 000$. In some of those tests, worth approximately 20% of the points, the following conditions hold in addition: $n\le 10^8$ and $k\le 100$. </div>
<h3>输出格式</h3>
<br />
<div>Your program should print out to the first and only line of the standard output a single integer: the maximum number of the dial's positions that can open the safe.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>42 5
28 31 10 38 24</code></pre>
<h3>输出样例 #1</h3>
<pre><code>14</code></pre>
<h2>说明</h2>
<div>给定n和k个整数，求mod n加法下的群G的一个子群G'，满足a[1]~a[k-1]都不在群中而a[k]在群中
</div>
</article>
</div>
</div>
</body>
</html>
