<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO14FEB]登机Airplane Boarding - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376408:ow5kjr+xip871b3NSLd983kErSe9WrbXpoowGfinpkI=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22FJ%27s%20cows%20have%20decided%20to%20take%20a%20vacation%2C%20and%20have%20miraculously%20managed%20to%20find%20an%20airline%20willing%20to%20sell%20them%20tickets.%20%20When%20they%20arrive%20at%20the%20airport%20and%20start%20boarding%20their%20plane%2C%20they%20face%20an%20interesting%20problem%2C%20however.%5Cn%5CnThe%20airplane%20has%20N%20seats%2C%20which%20we%20model%20as%20the%20points%20x%3D1%20through%20x%3DN%20on%20the%20number%20line.%20%20All%20N%20cows%20%281%20%3C%3D%20N%20%3C%3D%20200%2C000%29%20are%20standing%20in%20line%20waiting%20to%20get%20to%20their%20seats.%20%20Cow%20N%20is%20at%20position%20x%3D0%2C%20Cow%20N-1%20is%20at%20position%20x%3D-1%2C%20and%20so%20on.%20%20Cow%20i%20has%20been%20assigned%20to%20Seat%20S%5C%5C_i%2C%20where%20S%5C%5C_1%2C...%2CS%5C%5C_N%20is%20a%20permutation%20of%201%2C...%2CN.%5Cn%5CnAt%20each%20time%20step%2C%20each%20cow%20takes%20a%20step%20to%20the%20right%20if%20she%20can.%20When%20cow%20i%20reaches%20her%20seat%20S%5C%5C_i%2C%20she%20will%20stop%20to%20put%20her%20baggage%20in%20the%20overhead%20bin%2C%20which%20takes%20T%5C%5C_i%20seconds%2C%20and%20then%20sit%20down.%20For%20those%20T%5C%5C_i%20steps%2C%20the%20cow%20behind%20her%20%28if%20there%20is%20one%29%20is%20blocked%20from%20moving%20forward.%20%20If%20there%20is%20a%20line%20of%20cows%20behind%20her%2C%20the%20line%20is%20effectively%20blocked%20as%20well.%5Cn%5CnHow%20long%20will%20it%20take%20for%20all%20the%20cows%20to%20sit%20down%3F%20%5Cn%5CnThe%20sum%20of%20T%5C%5C_i%20for%20all%20cows%20will%20be%20less%20than%201%2C000%2C000%2C000.%20%5Cn%5Cn%5Cu60f3%5Cu8c61%5Cu4e00%5Cu4e0b%5Cu98de%5Cu673a%5Cu6709N%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cuff0cN%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cu76f8%5Cu5f53%5Cu4e8e%5Cu6570%5Cu8f74%5Cu4e0a%5Cu76841%5Cu81f3N%5Cu5171N%5Cu4e2a%5Cu6574%5Cu70b9%5Cuff0c%5Cu7b2c1%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cu5728%5Cu6574%5Cu70b91%5Cu5904%5Cuff0c%5Cu7b2c2%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cu5728%5Cu6574%5Cu70b92%5Cu5904%5Cuff0c%5Cu2026%5Cu2026%5Cu7b2cN%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cu5728%5Cu6574%5Cu70b9N%5Cu5904%5Cu3002%5Cn%5Cn%5Cn%5Cu6709N%5Cu4e2a%5Cu5976%5Cu725b%5Cu6392%5Cu597d%5Cu961f%5Cuff0c%5Cu8981%5Cu767b%5Cu9646%5Cu5750%5Cu98de%5Cu673a%5Cuff0c%5Cu7b2cN%5Cu5934%5Cu5976%5Cu725b%5Cu5728%5Cu6570%5Cu8f74%5Cu7684%5Cu6574%5Cu70b90%5Cu5904%5Cuff0c%5Cu7b2cN%5Cu22121%5Cu5934%5Cu5976%5Cu725b%5Cu5728%5Cu6570%5Cu8f74%5Cu7684%5Cu6574%5Cu70b9%5Cu22121%5Cu5904%5Cuff0c%5Cu2026%5Cu2026%5Cu7b2c1%5Cu5934%5Cu5976%5Cu725b%5Cu5728%5Cu6570%5Cu8f74%5Cu7684%5Cu6574%5Cu70b9%5Cu2212N%2B1%5Cu5904%5Cu3002%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu7684%5Cu5ea7%5Cu4f4d%5Cu53f7%5Cu662fSi%5Cu3002%5Cu6ce8%5Cu610f%5Cuff1a%5Cu6bcf%5Cu5934%5Cu5976%5Cu725b%5Cu90fd%5Cu6709%5Cu552f%5Cu4e00%5Cu7684%5Cu4e00%5Cu4e2a%5Cu5ea7%5Cu4f4d%5Cuff0c%5Cu4e0d%5Cu4f1a%5Cu51fa%5Cu73b0%5Cu591a%5Cu5934%5Cu5976%5Cu725b%5Cu6709%5Cu76f8%5Cu540c%5Cu7684%5Cu5ea7%5Cu4f4d%5Cu53f7%5Cu3002%5Cn%5Cn%5Cn%5Cu5728%5Cu6bcf%5Cu4e00%5Cu79d2%5Cu949f%5Cuff0c%5Cu5976%5Cu725b%5Cu4f1a%5Cu5411%5Cu53f3%5Cu79fb%5Cu52a8%5Cu4e00%5Cu6b65%5Cu5230%5Cu8fbe%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu70b9%5Cuff0c%5Cu524d%5Cu63d0%5Cu662f%5Cu6ca1%5Cu6709%5Cu5976%5Cu725b%5Cu6321%5Cu4f4f%5Cu5b83%5Cu3002%20%5Cu5f53%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu5230%5Cu8fbe%5Cu5b83%5Cu7684%5Cu5ea7%5Cu4f4dSi%5Cu65f6%5Cuff0c%5Cu5b83%5Cu9700%5Cu8981%5Cu82b1%5Cu8d39Ti%5Cu79d2%5Cu53bb%5Cu628a%5Cu884c%5Cu674e%5Cu653e%5Cu5230%5Cu5934%5Cu9876%5Cu7684%5Cu884c%5Cu674e%5Cu67b6%5Cu4e0a%5Cuff0c%5Cu7136%5Cu540e%5Cu5750%5Cu5230%5Cu81ea%5Cu5df1%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cuff0c%5Cu5728%5Cu6b64%5Cu8fc7%5Cu7a0b%5Cu4e2d%5Cuff0c%5Cu7531%5Cu4e8e%5Cu98de%5Cu673a%5Cu901a%5Cu9053%5Cu5f88%5Cu7a84%5Cuff0c%5Cu6240%5Cu4ee5%5Cu5728%5Cu7b2ci%5Cu5934%5Cu5976%5Cu725b%5Cu5750%5Cu5230%5Cu81ea%5Cu5df1%5Cu5ea7%5Cu4f4d%5Cu4e4b%5Cu524d%5Cuff0c%5Cu5728%5Cu5b83%5Cu5de6%5Cu8fb9%5Cu7684%5Cu6240%5Cu6709%5Cu5976%5Cu725b%5Cu90fd%5Cu4e0d%5Cu80fd%5Cu52a8%5Cuff0c%5Cu8981%5Cu7b49%5Cu5976%5Cu725bi%5Cu653e%5Cu597d%5Cu884c%5Cu674e%5Cu5750%5Cu597d%5Cu540e%5Cu624d%5Cu80fd%5Cu52a8%5Cu3002%5Cn%5Cn%5Cn%5Cu73b0%5Cu5728%5Cu7684%5Cu95ee%5Cu9898%5Cu662f%5Cuff0c%5Cu81f3%5Cu5c11%5Cu8981%5Cu591a%5Cu5c11%5Cu79d2%5Cu4e4b%5Cu540e%5Cuff0c%5Cu6240%5Cu6709%5Cu7684%5Cu5976%5Cu725b%5Cu90fd%5Cu80fd%5Cu505a%5Cu5230%5Cu81ea%5Cu5df1%5Cu7684%5Cu5ea7%5Cu4f4d%5Cu4e0a%5Cuff1f%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20integer%2C%20N.%5Cn%5Cn%5C%5C%2A%20Lines%202..N%2B1%3A%20Two%20space-separated%20integers%2C%20S%5C%5C_i%20and%20T%5C%5C_i.%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20line%20indicating%20the%20amount%20of%20time%20it%20takes%20to%20seat%20all%20cows.%5Cn%22%2C%22samples%22%3A%5B%5B%223%20%5Cn2%205%20%5Cn3%2010%20%5Cn1%205%20%5Cn%22%2C%2219%20%5Cn%22%5D%5D%2C%22hint%22%3A%22Initially%2C%20the%20cows%20are%20situated%20like%20this%3A%5Cn%5Cncows%20-%3E%20123%5Cn%5Cn123%20%3C-%20seats%20%5Cn%5Cnwith%20cow%201%20trying%20to%20get%20to%20seat%202%2C%20cow%202%20trying%20to%20get%20to%20seat%203%2C%20and%20cow%203%20trying%20to%20get%20to%20seat%201.%5Cn%5Cn%5CnAfter%20one%20step%2C%20they%20will%20all%20move%201%20to%20the%20right%20and%20cow%203%20will%20reach%20her%20seat%3A%5Cn%5Cn123%5Cn123%5CnCow%203%20takes%205%20seconds%20to%20sit%20down%2C%20at%20which%20point%20she%20effectively%20disappears.%5Cn%5Cn12%5Cn123%5CnIt%20takes%203%20more%20seconds%20for%20cows%201%20and%202%20to%20reach%20their%20desired%20seats%3A%5Cn%5Cn12%5Cn123%5CnIt%20takes%205%20seconds%20for%20cow%201%20to%20sit%20down%20and%2010%20seconds%20for%20cow%202%20to%20sit%20down%2C%20so%20that%27s%2010%20seconds%20total.%5Cn%5CnIn%20total%20this%20took%201%20%2B%205%20%2B%203%20%2B%2010%20%3D%2019%20seconds.%20%5Cn%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B31%2C46%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A12%2C%22totalAccepted%22%3A3%2C%22pid%22%3A%22P3103%22%2C%22title%22%3A%22%5BUSACO14FEB%5D%5Cu767b%5Cu673aAirplane%20Boarding%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A77231%2C%22title%22%3A%22%5Cu72060%5Cu6c42%5Cu6551%22%2C%22forum%22%3A%7B%22id%22%3A1957%2C%22name%22%3A%22P3103%20%5BUSACO14FEB%5D%5Cu767b%5Cu673aAirplane%20Boarding%22%2C%22slug%22%3A%22P3103%22%7D%7D%2C%7B%22id%22%3A31712%2C%22title%22%3A%22%5Cu4fee%5Cu590d%5Cu4e86%5Cu4e00%5Cu4e0b%5Cu6570%5Cu636e%5Cu914d%5Cu7f6e%22%2C%22forum%22%3A%7B%22id%22%3A1957%2C%22name%22%3A%22P3103%20%5BUSACO14FEB%5D%5Cu767b%5Cu673aAirplane%20Boarding%22%2C%22slug%22%3A%22P3103%22%7D%7D%2C%7B%22id%22%3A11234%2C%22title%22%3A%22%5Cu8fd9%5Cu662f%5Cu767b%5Cu673a%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A1957%2C%22name%22%3A%22P3103%20%5BUSACO14FEB%5D%5Cu767b%5Cu673aAirplane%20Boarding%22%2C%22slug%22%3A%22P3103%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO14FEB%5D%5Cu767b%5Cu673aAirplane%20Boarding%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO14FEB]登机Airplane Boarding</h1>
<h2>题目描述</h2>
<div>FJ's cows have decided to take a vacation, and have miraculously managed to find an airline willing to sell them tickets. When they arrive at the airport and start boarding their plane, they face an interesting problem, however.
The airplane has N seats, which we model as the points x=1 through x=N on the number line. All N cows (1 <= N <= 200,000) are standing in line waiting to get to their seats. Cow N is at position x=0, Cow N-1 is at position x=-1, and so on. Cow i has been assigned to Seat S\_i, where S\_1,...,S\_N is a permutation of 1,...,N.
At each time step, each cow takes a step to the right if she can. When cow i reaches her seat S\_i, she will stop to put her baggage in the overhead bin, which takes T\_i seconds, and then sit down. For those T\_i steps, the cow behind her (if there is one) is blocked from moving forward. If there is a line of cows behind her, the line is effectively blocked as well.
How long will it take for all the cows to sit down?
The sum of T\_i for all cows will be less than 1,000,000,000.
想象一下飞机有N个座位，N个座位相当于数轴上的1至N共N个整点，第1个座位在整点1处，第2个座位在整点2处，……第N个座位在整点N处。
有N个奶牛排好队，要登陆坐飞机，第N头奶牛在数轴的整点0处，第N−1头奶牛在数轴的整点−1处，……第1头奶牛在数轴的整点−N+1处。第i头奶牛的座位号是Si。注意：每头奶牛都有唯一的一个座位，不会出现多头奶牛有相同的座位号。
在每一秒钟，奶牛会向右移动一步到达下一个整点，前提是没有奶牛挡住它。 当第i头奶牛到达它的座位Si时，它需要花费Ti秒去把行李放到头顶的行李架上，然后坐到自己的位置上，在此过程中，由于飞机通道很窄，所以在第i头奶牛坐到自己座位之前，在它左边的所有奶牛都不能动，要等奶牛i放好行李坐好后才能动。
现在的问题是，至少要多少秒之后，所有的奶牛都能做到自己的座位上？
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: A single integer, N.
\* Lines 2..N+1: Two space-separated integers, S\_i and T\_i.
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: A single line indicating the amount of time it takes to seat all cows.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 
2 5 
3 10 
1 5 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>19 
</code></pre>
<h2>说明</h2>
<div>Initially, the cows are situated like this:
cows -> 123
123 <- seats
with cow 1 trying to get to seat 2, cow 2 trying to get to seat 3, and cow 3 trying to get to seat 1.
After one step, they will all move 1 to the right and cow 3 will reach her seat:
123
123
Cow 3 takes 5 seconds to sit down, at which point she effectively disappears.
12
123
It takes 3 more seconds for cows 1 and 2 to reach their desired seats:
12
123
It takes 5 seconds for cow 1 to sit down and 10 seconds for cow 2 to sit down, so that's 10 seconds total.
In total this took 1 + 5 + 3 + 10 = 19 seconds.
</div>
</article>
</div>
</div>
</body>
</html>
