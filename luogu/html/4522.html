<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[COCI2017-2018 Contest4] Vođe - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573381513:+1rgAatIionK0EAy3zKjGZOL8OUspVd5m7GLIWn/Qv4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%23%5Cu6ee5%5Cu7528%5Cu672c%5Cu9898%5Cu8bc4%5Cu6d4b%5Cu5c06%5Cu88ab%5Cu5c01%5Cu53f7%22%2C%22description%22%3A%22As%20we%20all%20very%20well%20know%2C%20goats%20and%20sheep%20have%20been%20fighting%20for%20years%20about%20the%20fields%5Cnthey%5Cu2019re%20grazing.%20After%20many%20fierce%20fights%2C%20the%20goat%20leader%20and%20the%20sheep%20leader%20decided%20to%5Cnmeet%20to%20try%20to%20find%20a%20peaceful%20solution%20to%20their%20problem.%20After%20many%20hours%20of%20discussion%2C%20they%5Cnagreed%20that%20they%20will%20play%20a%20game%20for%20each%20field%20and%20that%20the%20winner%20will%20get%20to%20graze%20that%20field.%5Cn%5CnThe%20game%20is%20played%20such%20that%20a%20total%20of%20N%20animals%20%28that%20can%20be%20goats%20or%20sheep%29%20form%20a%20circle%5Cn%28the%20exact%20order%20of%20goats%20and%20sheep%20is%20an%20agreement%20between%20their%20leaders%29.%20After%20animal%20i%20%281%5Cn%5Cu2264%20i%20%5Cu2264%20N-1%29%2C%20the%20game%20is%20continued%20by%20animal%20i%2B1%2C%20and%20after%20animal%20N%2C%20the%20game%20is%20continued%20by%5Cnanimal%201.%20The%20animal%20starting%20the%20game%20can%20say%20any%20positive%20integer%20from%20the%20interval%20%5B1%2C%20K%5D%2C%5Cnbut%20only%20if%20that%20number%20is%20not%20greater%20than%20M.%20If%20the%20animal%20that%20started%20the%20game%20said%20the%5Cnnumber%20j%2C%20then%20the%20next%20animal%20can%20say%20a%20number%20in%20interval%20%5Bj%2B1%2C%20j%2BK%5D%2C%20but%20only%20if%20that%20number%5Cnis%20not%20greater%20than%20M.%20In%20other%20words%2C%20each%20animal%20can%20say%20a%20number%20that%20is%20greater%20by%5Cnminimally%201%2C%20and%20maximally%20by%20K%20than%20the%20number%20said%20by%20the%20animal%20before%2C%20but%20only%20if%20the%5Cnnew%20number%20is%20not%20greater%20than%20M.%20If%20an%20animal%20must%20say%20number%20M%2C%20its%20team%20%28goats%20or%5Cnsheep%29%20loses.%5Cn%5CnIf%20both%20the%20goats%20and%20the%20sheep%20are%20playing%20optimally%2C%20for%20each%20i%20%281%20%5Cu2264%20i%20%5Cu2264%20N%29%2C%20determine%20who%5Cnwill%20win%20the%20field%20if%20the%20game%20is%20started%20by%20the%20%24i%5E%7Bth%7D%24%20animal.%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20N%2C%20M%20and%20K%20%281%20%5Cu2264%20N%2C%20M%2C%20K%20%5Cu2264%205000%29%2C%20the%20numbers%20from%20the%20task.%5CnThe%20following%20line%20contains%20N%20numbers%2C%200%20if%20the%20%24i%5E%7Bth%7D%24%20%20animal%20is%20a%20sheep%2C%20and%201%20if%20it%5Cu2019s%20a%20goat.%22%2C%22outputFormat%22%3A%22Output%20N%20space-separated%20numbers.%20For%20each%20animal%20i%20%281%20%5Cu2264%20i%20%5Cu2264%20N%29%20output%200%20if%20the%20sheep%20will%5Cnwin%20the%20field%2C%20and%201%20if%20the%20goats%20will%20win%2C%20if%20the%20%24i%5E%7Bth%7D%24%20%20%20animal%20is%20starting%20the%20game.%5Cn%22%2C%22samples%22%3A%5B%5B%222%209%202%5Cn0%201%22%2C%220%201%22%5D%2C%5B%226%20499%205%5Cn1%200%200%201%201%200%22%2C%220%201%201%201%201%200%22%5D%2C%5B%2210%20100%2010%5Cn0%200%200%201%201%201%201%200%201%201%22%2C%221%201%201%201%201%201%201%201%201%201%22%5D%5D%2C%22hint%22%3A%22In%20test%20cases%20worth%20a%20total%20of%2060%25%20of%20points%2C%20it%20will%20hold%201%20%5Cu2264%20N%2C%20M%2C%20K%20%5Cu2264%20500.%5Cn%5Cn%2A%2AClarification%20of%20the%20first%20test%20case%3A%2A%2A%5Cn%5CnWhen%20a%20sheep%20is%20playing%20first%2C%20it%20can%20play%20like%20this%3A%5Cn%5CnThe%20sheep%20starts%20with%20number%202%2C%20after%20which%20the%20goat%20can%20say%203%20or%204.%20In%20both%20cases%2C%20the%20sheep%20can%20say%5Cn5%2C%20after%20which%20the%20goat%20can%20say%20either%206%20or%207.%20In%20both%20cases%2C%20the%20sheep%20can%20say%208%2C%20after%20which%20the%20goat%5Cndoesn%5Cu2019t%20have%20any%20other%20choice%20but%209%20and%20thus%20losing%20the%20game%20and%20the%20field.%22%2C%22provider%22%3A%7B%22uid%22%3A50092%2C%22name%22%3A%22da32s1da%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Blue%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%5D%2C%22memory%22%3A%5B512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22translation%22%3A%22%5Cu7ed9n%5Cu4e2a%5Cu4eba%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu6709%5Cu4e2a%5Cu56e2%5Cu961f%5Cuff080%5Cu62161%5Cuff09%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu53ef%5Cu4ee5%5Cu62a5%5Cu4e00%5Cu4e2a%5Cu6570%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu7684%5Cu8303%5Cu56f4%5Cu4e3a%5B1%2Ck%5D%5Cuff0c%5Cu4e0a%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu62a5%5Cu7684%5Cu6570x%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu4eba%5Cu4e3a%5Bx%2B1%2Cx%2B1%2Bk%5D%5Cuff0c%5Cu62a5%5Cu6570%5Cu8d85%5Cu8fc7m%5Cu7684%5Cu4eba%5Cu8f93%5Cuff0c1-n%5Cu6309%5Cu987a%5Cu5e8f%5Cu62a5%5Cu6570%5Cuff0cn%5Cu7684%5Cu4e0b%5Cu4e00%5Cu4e2a%5Cu4e3a1%5Cu76f4%5Cu5230%5Cu6e38%5Cu620f%5Cu7ed3%5Cu675f%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu90fd%5Cu4f1a%5Cu9009%5Cu62e9%5Cu6700%5Cu4f18%5Cu7b56%5Cu7565%5Cuff0c%5Cu95ee%5Cu4ee5%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu4e3a%5Cu8d77%5Cu59cb%5Cu70b9%5Cu73a9%5Cu8fd9%5Cu4e2a%5Cu6e38%5Cu620f%5Cuff0c%5Cu90a3%5Cu4e2a%5Cu56e2%5Cu961f%5Cu4f1a%5Cu8d62%5Cu3002%5Cn%5Cn%5Cu7531%20%40Unknown_Error%5Cu00a0%20%5Cu63d0%5Cu4f9b%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B34%2C319%2C333%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A62%2C%22totalAccepted%22%3A40%2C%22pid%22%3A%22P4522%22%2C%22title%22%3A%22%5BCOCI2017-2018%20Contest4%5D%20Vo%5Cu0111e%20%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A42405%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A25632%2C%22name%22%3A%22P4522%20%5BCOCI2017-2018%20Contest4%5D%20Vo%5Cu0111e%20%22%2C%22slug%22%3A%22P4522%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P4416%22%2C%22title%22%3A%22%5BCOCI2017-2018%231%5D%20Plahte%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4523%22%2C%22title%22%3A%22%5BCOCI2017-2018%20Contest4%5D%20Krov%20%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4524%22%2C%22title%22%3A%22%5BCOCI2017-2018%20Contest4%5D%20Ceste%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4958%22%2C%22title%22%3A%22%5BCOCI2017-2018%236%5D%20Mate%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1188C%22%2C%22title%22%3A%22Array%20Beauty%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BCOCI2017-2018%20Contest4%5D%20Vo%5Cu0111e%20%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[COCI2017-2018 Contest4] Vođe </h1>
<h2>题意翻译</h2>
<div>给n个人每个人有个团队（0或1），每个人可以报一个数，第一个人的范围为[1,k]，上一个人报的数x下一个人为[x+1,x+1+k]，报数超过m的人输，1-n按顺序报数，n的下一个为1直到游戏结束。每个人都会选择最优策略，问以每个人为起始点玩这个游戏，那个团队会赢。
由 @Unknown_Error  提供翻译</div>
<h2>题目背景</h2>
<div>#滥用本题评测将被封号</div>
<h2>题目描述</h2>
<div>As we all very well know, goats and sheep have been fighting for years about the fields
they’re grazing. After many fierce fights, the goat leader and the sheep leader decided to
meet to try to find a peaceful solution to their problem. After many hours of discussion, they
agreed that they will play a game for each field and that the winner will get to graze that field.
The game is played such that a total of N animals (that can be goats or sheep) form a circle
(the exact order of goats and sheep is an agreement between their leaders). After animal i (1
≤ i ≤ N-1), the game is continued by animal i+1, and after animal N, the game is continued by
animal 1. The animal starting the game can say any positive integer from the interval [1, K],
but only if that number is not greater than M. If the animal that started the game said the
number j, then the next animal can say a number in interval [j+1, j+K], but only if that number
is not greater than M. In other words, each animal can say a number that is greater by
minimally 1, and maximally by K than the number said by the animal before, but only if the
new number is not greater than M. If an animal must say number M, its team (goats or
sheep) loses.
If both the goats and the sheep are playing optimally, for each i (1 ≤ i ≤ N), determine who
will win the field if the game is started by the $i^{th}$ animal.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains N, M and K (1 ≤ N, M, K ≤ 5000), the numbers from the task.
The following line contains N numbers, 0 if the $i^{th}$ animal is a sheep, and 1 if it’s a goat.</div>
<h3>输出格式</h3>
<br />
<div>Output N space-separated numbers. For each animal i (1 ≤ i ≤ N) output 0 if the sheep will
win the field, and 1 if the goats will win, if the $i^{th}$ animal is starting the game.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 9 2
0 1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>0 1</code></pre>
<h3>输入样例 #2</h3>
<pre><code>6 499 5
1 0 0 1 1 0</code></pre>
<h3>输出样例 #2</h3>
<pre><code>0 1 1 1 1 0</code></pre>
<h3>输入样例 #3</h3>
<pre><code>10 100 10
0 0 0 1 1 1 1 0 1 1</code></pre>
<h3>输出样例 #3</h3>
<pre><code>1 1 1 1 1 1 1 1 1 1</code></pre>
<h2>说明</h2>
<div>In test cases worth a total of 60% of points, it will hold 1 ≤ N, M, K ≤ 500.
**Clarification of the first test case:**
When a sheep is playing first, it can play like this:
The sheep starts with number 2, after which the goat can say 3 or 4. In both cases, the sheep can say
5, after which the goat can say either 6 or 7. In both cases, the sheep can say 8, after which the goat
doesn’t have any other choice but 9 and thus losing the game and the field.</div>
</article>
</div>
</div>
</body>
</html>
