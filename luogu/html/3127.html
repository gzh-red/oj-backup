<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO15OPEN]被困在haybales（金）Trappe… - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376441:ah4Pwp3oV7Rynmpc54y8gLB58+N4sqh2zLbCzCXUV44=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%5Cn%22%2C%22description%22%3A%22Farmer%20John%20has%20received%20a%20shipment%20of%20N%20large%20hay%20bales%20%28%241%20%5C%5Cle%20N%20%5C%5Cle%20100%2C000%24%29%2C%20and%20placed%20them%20at%20various%20locations%20along%20the%20road%20leading%20to%20his%20barn.%20Unfortunately%2C%20he%20completely%20forgets%20that%20Bessie%20the%20cow%20is%20out%20grazing%20along%20the%20road%2C%20and%20she%20may%20now%20be%20trapped%20within%20the%20bales%21%20Each%20bale%20%24j%24%20has%20a%20size%20%24S_j%24%20and%20a%20position%20%24P_j%24%20giving%20its%20location%20along%20the%20one-dimensional%20road.%20%20Bessie%20the%20cow%20can%20move%20around%20freely%20along%20the%20road%2C%20even%20up%20to%20the%20position%20at%20which%20a%20bale%20is%20located%2C%20but%20she%20cannot%20cross%20through%20this%20position.%20%20As%20an%20exception%2C%20if%20she%20runs%20in%20the%20same%20direction%20for%20%24D%24%20units%20of%20distance%2C%20she%20builds%20up%20enough%20speed%20to%20break%20through%20and%20permanently%20eliminate%20any%20hay%20bale%20of%20size%20strictly%20less%20than%20%24D%24.%20%20Of%20course%2C%20after%20doing%20this%2C%20she%20might%20open%20up%20more%20space%20to%20allow%20her%20to%20make%20a%20run%20at%20other%20hay%20bales%2C%20eliminating%20them%20as%20well.%5Cn%5CnBessie%20can%20escape%20to%20freedom%20if%20she%20can%20eventually%20break%20through%20either%20the%20%20leftmost%20or%20rightmost%20hay%20bale.%20%20Please%20compute%20the%20total%20area%20of%20the%20road%20consisting%20of%20real-valued%20starting%20positions%20from%20which%20Bessie%20cannot%20escape.%5Cn%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24.%20%20Each%20of%20the%20next%20%24N%24%20lines%20describes%20a%5Cn%5Cnbale%2C%20and%20contains%20two%20integers%20giving%20its%20size%20and%20position%2C%20each%20in%20the%20range%5Cn%5Cn%241%5C%5Cldots%2010%5E9%24.%20All%20positions%20are%20distinct.%5Cn%22%2C%22outputFormat%22%3A%22Print%20a%20single%20integer%2C%20giving%20the%20area%20of%20the%20road%20from%20which%20Bessie%20cannot%5Cn%5Cnescape.%5Cn%5Cn%22%2C%22samples%22%3A%5B%5B%225%5Cn8%201%5Cn1%204%5Cn8%208%5Cn7%2015%5Cn4%2020%22%2C%2214%22%5D%5D%2C%22hint%22%3A%22%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22translation%22%3A%22%23%23%23%20%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cn%5Cu519c%5Cu592b%5Cu7ea6%5Cu7ff0%5Cu6700%5Cu8fd1%5Cu4e70%5Cu4e86N%5Cu4e2a%5Cu5e72%5Cu8349%5Cu5806%5Cuff0c%5Cu4ed6%5Cu628a%5Cu8fd9%5Cu4e9b%5Cu5e72%5Cu8349%5Cu5806%5Cu90fd%5Cu653e%5Cu5728%5Cu5bb6%5Cu548c%5Cu519c%5Cu573a%5Cu4e4b%5Cu95f4%5Cu7684%5Cu4e00%5Cu6761%5Cu76f4%5Cu8def%5Cu4e0a%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu5e72%5Cu8349%5Cu5806%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5404%5Cu4e0d%5Cu76f8%5Cu540c%5Cu3002%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cuff0c%5Cu4ed6%5Cu5fd8%5Cu8bb0%5Cu4e86%5Cu4ed6%5Cu7684%5Cu5976%5Cu725b%5Cu8d1d%5Cu91cc%5Cu65af%5Cu6b63%5Cu5916%5Cu51fa%5Cu5403%5Cu8349%5Cuff0c%5Cu8d1d%5Cu91cc%5Cu65af%5Cu4e5f%5Cu8bb8%5Cu4f1a%5Cu88ab%5Cu8fd9%5Cu4e9b%5Cu5e72%5Cu8349%5Cu5806%5Cu6240%5Cu9650%5Cu5236%5Cu4f4f%5Cuff01%5Cu5e72%5Cu8349%5Cu5806j%5Cu7684%5Cu5927%5Cu5c0f%5Cu662fSj%5Cuff0c%5Cu5728Pj%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu3002%5Cu8d1d%5Cu91cc%5Cu65af%5Cu4ece%5Cu4e00%5Cu4e2a%5Cu4e0d%5Cu662f%5Cu5e72%5Cu8349%5Cu5806%5Cu7684%5Cu5730%5Cu65b9%5Cu51fa%5Cu53d1%5Cuff0c%5Cu4ed6%5Cu53ef%5Cu4ee5%5Cu81ea%5Cu7531%5Cu7684%5Cu5728%5Cu8fd9%5Cu6761%5Cu76f4%5Cu7ebf%5Cu4e0a%5Cu79fb%5Cu52a8%5Cuff0c%5Cu4ed6%5Cu4e0d%5Cu80fd%5Cu8d8a%5Cu8fc7%5Cu5e72%5Cu8349%5Cu5806%5Cu3002%5Cu6709%5Cu4e00%5Cu79cd%5Cu7279%5Cu6b8a%5Cu7684%5Cu60c5%5Cu51b5%5Cuff0c%20%5Cu4ed6%5Cu53ef%5Cu4ee5%5Cu5f80%5Cu4e00%5Cu4e2a%5Cu65b9%5Cu5411%5Cu8fde%5Cu7eed%5Cu8dd1%5Cu4e86D%5Cu7684%5Cu8ddd%5Cu79bb%5Cu4ee5%5Cu540e%5Cuff0c%5Cu4ed6%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu79ef%5Cu7d2f%5Cu8db3%5Cu591f%5Cu7684%5Cu80fd%5Cu91cf%5Cuff0c%5Cu7136%5Cu540e%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu6d88%5Cu9664%5Cu5c0f%5Cu4e8eD%5Cu7684%5Cu5e72%5Cu8349%5Cu5806%5Cu3002%5Cu5f53%5Cu7136%5Cu4e86%5Cuff0c%5Cu5728%5Cu6d88%5Cu9664%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu5e72%5Cu8349%5Cu5806%5Cu4ee5%5Cu540e%5Cuff0c%5Cu4ed6%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu6709%5Cu66f4%5Cu591a%5Cu7684%5Cu7a7a%5Cu95f4%5Cu6765%5Cu8dd1%5Cu6b65%5Cu548c%5Cu79ef%5Cu84c4%5Cu80fd%5Cu91cf%5Cu4e86%5Cu3002%5Cu5f53%5Cu8d1d%5Cu91cc%5Cu65af%5Cu6210%5Cu529f%5Cu6d88%5Cu9664%5Cu4e86%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu6216%5Cu8005%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu5e72%5Cu8349%5Cu5806%5Cu7684%5Cu65f6%5Cu5019%5Cuff0c%5Cu4ed6%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu83b7%5Cu5f97%5Cu81ea%5Cu7531%5Cu4e86%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu8ba1%5Cu7b97%5Cu4f7f%5Cu5f97%5Cu8d1d%5Cu91cc%5Cu65af%5Cu4e0d%5Cu80fd%5Cu83b7%5Cu5f97%5Cu81ea%5Cu7531%5Cu7684%5Cu521d%5Cu59cb%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu533a%5Cu95f4%5Cu603b%5Cu548c%5Cu3002%5Cn%23%23%23%20%5Cu8f93%5Cu5165%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu662f%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570N%5Cuff0c%5Cu8868%5Cu793a%5Cu5e72%5Cu8349%5Cu5806%5Cu7684%5Cu6570%5Cu91cf%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765N%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570%5Cuff0c%5Cu5206%5Cu522b%5Cu8868%5Cu793a%5Cu5e72%5Cu8349%5Cu5806%5Cu7684%5Cu5927%5Cu5c0f%5Cu548c%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%23%23%23%20%5Cu8f93%5Cu51fa%5Cn%5Cu8f93%5Cu51fa%5Cu4f7f%5Cu5f97%5Cu8d1d%5Cu91cc%5Cu65af%5Cu4e0d%5Cu80fd%5Cu83b7%5Cu5f97%5Cu81ea%5Cu7531%5Cu7684%5Cu521d%5Cu59cb%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu533a%5Cu95f4%5Cu603b%5Cu548c%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40sxyugao%20%5Cu63d0%5Cu4f9b%5Cu7684%5Cu7ffb%5Cu8bd1%22%2C%22tags%22%3A%5B32%2C46%2C47%2C78%2C111%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A257%2C%22totalAccepted%22%3A92%2C%22pid%22%3A%22P3127%22%2C%22title%22%3A%22%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A98071%2C%22title%22%3A%22%5Cu5bf9%5Cu9898%5Cu610f%5Cu7684%5Cu7591%5Cu95ee%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%2C%7B%22id%22%3A39263%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%2C%7B%22id%22%3A19604%2C%22title%22%3A%22%5Cu771f.%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%2C%7B%22id%22%3A19579%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%2C%7B%22id%22%3A5616%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cuff082%5Cuff09%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%2C%7B%22id%22%3A5615%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2243%2C%22name%22%3A%22P3127%20%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22slug%22%3A%22P3127%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2205%22%2C%22title%22%3A%22%5BUSACO13JAN%5D%5Cu753b%5Cu6805%5Cu680fPainting%20the%20Fence%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3137%22%2C%22title%22%3A%22%5BUSACO16FEB%5D%5Cu5706%5Cu5f62%5Cu8c37%5Cu4ed3Circular%20Barn_Silver%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3575%22%2C%22title%22%3A%22%5BPOI2014%5DDOO-Around%20the%20world%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4551%22%2C%22title%22%3A%22%5Cu6700%5Cu957f%5Cu5f02%5Cu6216%5Cu8def%5Cu5f84%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4823%22%2C%22title%22%3A%22%5BTJOI2013%5D%5Cu62ef%5Cu6551%5Cu5c0f%5Cu77ee%5Cu4eba%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO15OPEN%5D%5Cu88ab%5Cu56f0%5Cu5728haybales%5Cuff08%5Cu91d1%5Cuff09Trappe%5Cu2026%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO15OPEN]被困在haybales（金）Trappe…</h1>
<h2>题意翻译</h2>
<div>### 题目描述
农夫约翰最近买了N个干草堆，他把这些干草堆都放在家和农场之间的一条直路上，每个干草堆的位置各不相同。不幸的是，他忘记了他的奶牛贝里斯正外出吃草，贝里斯也许会被这些干草堆所限制住！干草堆j的大小是Sj，在Pj的位置上。贝里斯从一个不是干草堆的地方出发，他可以自由的在这条直线上移动，他不能越过干草堆。有一种特殊的情况， 他可以往一个方向连续跑了D的距离以后，他就可以积累足够的能量，然后就可以消除小于D的干草堆。当然了，在消除了一个干草堆以后，他就可以有更多的空间来跑步和积蓄能量了。当贝里斯成功消除了第一个或者最后一个干草堆的时候，他就可以获得自由了，请你计算使得贝里斯不能获得自由的初始位置的区间总和。
### 输入
第一行是一个正整数N，表示干草堆的数量。接下来N行，每行两个正整数，分别表示干草堆的大小和位置。
### 输出
输出使得贝里斯不能获得自由的初始位置的区间总和。
感谢@sxyugao 提供的翻译</div>
<h2>题目背景</h2>
<div>
</div>
<h2>题目描述</h2>
<div>Farmer John has received a shipment of N large hay bales ($1 \le N \le 100,000$), and placed them at various locations along the road leading to his barn. Unfortunately, he completely forgets that Bessie the cow is out grazing along the road, and she may now be trapped within the bales! Each bale $j$ has a size $S_j$ and a position $P_j$ giving its location along the one-dimensional road. Bessie the cow can move around freely along the road, even up to the position at which a bale is located, but she cannot cross through this position. As an exception, if she runs in the same direction for $D$ units of distance, she builds up enough speed to break through and permanently eliminate any hay bale of size strictly less than $D$. Of course, after doing this, she might open up more space to allow her to make a run at other hay bales, eliminating them as well.
Bessie can escape to freedom if she can eventually break through either the leftmost or rightmost hay bale. Please compute the total area of the road consisting of real-valued starting positions from which Bessie cannot escape.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$. Each of the next $N$ lines describes a
bale, and contains two integers giving its size and position, each in the range
$1\ldots 10^9$. All positions are distinct.
</div>
<h3>输出格式</h3>
<br />
<div>Print a single integer, giving the area of the road from which Bessie cannot
escape.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5
8 1
1 4
8 8
7 15
4 20</code></pre>
<h3>输出样例 #1</h3>
<pre><code>14</code></pre>
<h2>说明</h2>
<div>
</div>
</article>
</div>
</div>
</body>
</html>
