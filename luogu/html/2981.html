<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO10FEB]奶牛在冰Cows on Ice - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376238:Y3nbn/AgwCXeJwtsHSgHtWJPnaDzOCH9MjuuQz2S5ro=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20is%20ice%20skating%20on%20a%20large%20frozen%20lake%20modelled%20as%20a%202-dimensional%20grid%20with%20coordinates%20in%20the%20range%20-1%2C000%2C000%2C000..1%2C000%2C000%2C000.%20N%20%281%20%3C%3D%20N%20%3C%3D%2020%2C000%29%20of%20the%20lake%27s%20grid%20cells%20contain%20rocks%5Cn%5Cn%28conveniently%20numbered%201..N%29.%20The%20other%20cells%20contain%20slippery%20ice.%5Cn%5CnSince%20Bessie%20is%20not%20a%20very%20good%20skater%2C%20she%20traverses%20the%20lake%27s%20cells%20by%20pushing%20herself%20away%20from%20her%20current%20position%20near%20a%20rock%20and%20sliding%20continuously%20in%20the%20same%20direction%20until%20she%20hits%20another%20rock%20%28stopping%20in%20the%20square%20before%20she%20hits%20the%20rock%2C%20of%20course%29.%20Never%20good%20with%20complicated%20angles%2C%20Bessie%20can%20push%20herself%20only%20straight%20north%2C%20east%2C%20south%2C%20or%20west.%20She%20can%27t%20push%20herself%20through%20the%20rock%2C%20of%20course%2C%20and%20thus%20generally%20has%20only%20three%20possible%20directions%20to%20move.%5Cn%5CnSliding%20is%20not%20without%20risks.%20Bessie%20must%20hit%20a%20rock%20or%20might%20end%20up%20sliding%20for%20a%20very%20long%20time.%20She%20must%20aim%20her%20pushes%20carefully.%5Cn%5CnConsider%20the%20situation%20depicted%20below%3B%20Bessie%20wants%20to%20get%20to%5Cn%5Cnlocation%20%28x%3D5%2Cy%3D1%29%2C%20which%20is%20east%20of%20her%20current%20location%20%28.%20%3D%20ice%2C%20%5C%5C%2A%20%3D%20rock%2C%20B%20%3D%20Bessie%2C%20G%20%3D%20goal%29.%20If%20she%20slides%20directly%20to%20the%20east%2C%20she%20will%20slide%20past%20the%20location%20since%20she%20can%20stop%20only%20by%5Cn%5Cnencountering%20a%20rock%20head%20on.%20One%20way%20to%20get%20to%20%285%2C1%29%20is%20the%20following%3A%5Cn%5Cn%28a%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28b%29%20%20%20%20%20%20%20%20%20%20%20%20%20%28c%29%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28d%29%20%5Cn%5Cn4%20.....%5C%5C%2A.%20%20%20%20%20%20%20%20%20.....%5C%5C%2A.%20%20%20%20%20%20%20%20%20.....%5C%5C%2A.%20%20%20%20%20%20%20%20%20%20.....%5C%5C%2A.%5Cn%5Cn3%20..%5C%5C%2A....%20%20slide%20%20..%5C%5C%2A....%20%20slide%20%20..%5C%5C%2A....%20%20%20slide%20%20..%5C%5C%2A....%5Cn%5Cn2%20......%5C%5C%2A%20%20north%20%20..B...%5C%5C%2A%20%20east%20%20%20.....B%5C%5C%2A%20%20%20south%20%20......%5C%5C%2A%5Cn%5Cn1%20.%5C%5C%2AB..G.%20------%3E%20.%5C%5C%2A...G.%20------%3E%20.%5C%5C%2A...G.%20%20------%3E%20.%5C%5C%2A...B.%5Cn%5Cn0%20%5C%5C%2A....%5C%5C%2A.%20%20%20%20%20%20%20%20%20%5C%5C%2A....%5C%5C%2A.%20%20%20%20%20%20%20%20%20%5C%5C%2A....%5C%5C%2A.%20%20%20%20%20%20%20%20%20%20%5C%5C%2A....%5C%5C%2A.%5Cn%5Cn0123456%5Cn%5CnBessie%20could%20slide%20north%2C%20east%2C%20or%20south%20in%20situation%20%28a%29%2C%20but%20only%20north%20has%20a%20rock%20for%20stopping.%20For%20situation%20%28b%29%2C%20she%20can%20slide%20only%20east%20for%20the%20same%20reason.%5Cn%5CnFor%20the%20input%2C%20rock%20i%20is%20located%20at%20cell%20X%5C%5C_i%2CY%5C%5C_i%20%28-1%2C000%2C000%2C000%20%3C%3D%20X%5C%5C_i%20%3C%3D%201%2C000%2C000%2C000%3B%20-1%2C000%2C000%2C000%20%3C%3D%20Y%5C%5C_i%20%3C%3D%201%2C000%2C000%2C000%29%2C%20and%20no%20two%20rocks%20occupy%20the%20same%20position.%20Bessie%20starts%20at%20Bx%2CBy%20%28which%20is%20next%20to%20a%20rock%29%20%28-1%2C000%2C000%2C000%20%3C%3D%20Bx%20%3C%3D%201%2C000%2C000%2C000%3B%20-1%2C000%2C000%2C000%20%3C%3D%20By%20%3C%3D%201%2C000%2C000%2C000%29.%20Bessie%27s%20goal%20is%20Gx%2CGy%20%28-1%2C000%2C000%2C000%20%3C%3D%20Gx%20%3C%3D%201%2C000%2C000%2C000%3B%20-1%2C000%2C000%2C000%20%3C%3D%20Gy%20%3C%3D%201%2C000%2C000%2C000%29.%20Bessie%20can%20always%20reach%20the%20goal%20one%20way%20or%20another.%5Cn%5CnBessie%20doesn%27t%20mind%20sliding.%20However%2C%20pushing%20herself%20away%20from%20a%20rock%20is%20very%20tiring.%20To%20prepare%20her%2C%20FJ%20would%20like%20to%20know%20the%20minimum%20number%20of%20pushes%20Bessie%20needs%20to%20do.%5Cn%5CnBessie%20%5Cu5728%5Cu4e00%5Cu4e2a%5Cu51b0%5Cu5c01%5Cu7684%5Cu6e56%5Cu9762%5Cu4e0a%5Cu6e38%5Cu6cf3%5Cuff0c%5Cu6e56%5Cu9762%5Cu53ef%5Cu4ee5%5Cu8868%5Cu793a%5Cu4e3a%5Cu4e8c%5Cu7ef4%5Cu7684%5Cu5e73%5Cu9762%5Cuff0c%5Cu5750%5Cu6807%5Cu8303%5Cu56f4%5Cu662f-1%2C000%2C000%2C000..1%2C000%2C000%2C000%5Cu3002%5Cu6e56%5Cu9762%5Cu4e0a%5Cu7684N%281%20%3C%3D%20N%20%3C%3D%2020%2C000%29%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu6709%5Cu77f3%5Cu5757%28%5Cu7f16%5Cu53f7%5Cu5206%5Cu522b%5Cu4e3a1%5Cu5230N%29%5Cuff0c%5Cu5176%5Cu5b83%5Cu4f4d%5Cu7f6e%5Cu662f%5Cu51b0%5Cu9762%5Cu3002%5Cu7531%5Cu4e8eBessie%5Cu6ed1%5Cu51b0%5Cu6280%5Cu672f%5Cu4e0d%5Cu591f%5Cu597d%5Cuff0c%5Cu5979%5Cu901a%5Cu8fc7%5Cu63a8%5Cu52a8%5Cu81ea%5Cu5df1%5Cu65c1%5Cu8fb9%5Cu7684%5Cu77f3%5Cu5757%5Cuff0c%5Cu4f9d%5Cu9760%5Cu53cd%5Cu4f5c%5Cu7528%5Cu529b%5Cu5411%5Cu67d0%5Cu4e00%5Cu4e2a%5Cu65b9%5Cu5411%5Cu524d%5Cu8fdb%5Cuff0c%5Cu5728%5Cu78b0%5Cu5230%5Cu4e00%5Cu4e2a%5Cu65b0%5Cu7684%5Cu77f3%5Cu5757%5Cu4e4b%5Cu524d%5Cuff0cBessie%5Cu662f%5Cu4e0d%5Cu4f1a%5Cu505c%5Cu4e0b%5Cu6765%5Cu7684%5Cu3002%28%5Cu5f53%5Cu7136%5Cuff0c%5Cu6700%5Cu540e%5Cu4f1a%5Cu505c%5Cu7559%5Cu5728%5Cu67d0%5Cu5757%5Cu77f3%5Cu5757%5Cu7684%5Cu524d%5Cu4e00%5Cu4e2a%5Cu683c%5Cu5b50%5Cu91cc%29%5Cu7531%5Cu4e8eBessie%5Cu65e0%5Cu6cd5%5Cu8ba1%5Cu7b97%5Cu590d%5Cu6742%5Cu7684%5Cu89d2%5Cu5ea6%5Cuff0c%5Cu5979%5Cu53ea%5Cu80fd%5Cu591f%5Cu5411%5Cu4e1c%5Cu5357%5Cu897f%5Cu5317%5Cu56db%5Cu4e2a%5Cu65b9%5Cu5411%5Cu524d%5Cu8fdb%5Cu3002%5Cn%5Cn%5Cu5f88%5Cu663e%5Cu7136%5Cuff0cBessie%5Cu4e0d%5Cu80fd%5Cu591f%5Cu7a7f%5Cu8d8a%5Cu77f3%5Cu5757%5Cuff0c%5Cu56e0%5Cu6b64%5Cuff0cBessie%5Cu4ec5%5Cu4ec5%5Cu53ef%5Cu4ee5%5Cu5411%5Cu4e09%5Cu4e2a%5Cu65b9%5Cu5411%5Cu6ed1%5Cu3002%20%5Cu6ed1%5Cu51b0%5Cu4e0d%5Cu662f%5Cu6ca1%5Cu6709%5Cu98ce%5Cu9669%5Cuff0cBessie%5Cu6ed1%5Cu5411%5Cu67d0%5Cu4e2a%5Cu65b9%5Cu5411%5Cu540e%5Cu5fc5%5Cu987b%5Cu80fd%5Cu78b0%5Cu5230%5Cu67d0%5Cu4e2a%5Cu77f3%5Cu5757%5Cuff0c%5Cu56e0%5Cu6b64%5Cu5979%5Cu5fc5%5Cu987b%5Cu5f88%5Cu5c0f%5Cu5fc3%5Cu3002%5Cu8003%5Cu8651%5Cu4e0b%5Cu9762%5Cu7684%5Cu4e00%5Cu4e2a%5Cu60c5%5Cu51b5%5Cuff0cBessie%5Cu5e0c%5Cu671b%5Cu5230%5Cu8fbe%5Cu5728%5Cu5979%5Cu4e1c%5Cu9762%5Cu7684%5Cu76ee%5Cu6807%5Cu4f4d%5Cu7f6e%28x%3D5%2Cy%3D1%29%5Cuff0c%28%5Cu2026%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Five%20space%20separated%20integers%3A%20N%2C%20Bx%2C%20By%2C%20Gx%2C%20and%20Gy%5Cn%5Cn%5C%5C%2A%20Lines%202..N%2B1%3A%20Line%20i%2B1%20describes%20a%20rock%20location%20with%20space%5Cn%5Cnseparated%20integers%3A%20X%5C%5C_i%20and%20Y%5C%5C_i%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20integer%20that%20is%20the%20minimum%20number%20of%20pushes%20for%20Bessie%20to%20get%20to%20her%20goal%5Cn%22%2C%22samples%22%3A%5B%5B%226%202%201%205%201%20%5Cn5%204%20%5Cn2%203%20%5Cn1%201%20%5Cn6%202%20%5Cn5%200%20%5Cn0%200%20%5Cn%22%2C%223%20%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B27%2C46%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A43%2C%22totalAccepted%22%3A27%2C%22pid%22%3A%22P2981%22%2C%22title%22%3A%22%5BUSACO10FEB%5D%5Cu5976%5Cu725b%5Cu5728%5Cu51b0Cows%20on%20Ice%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A134766%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu4e0d%5Cu5168%22%2C%22forum%22%3A%7B%22id%22%3A2110%2C%22name%22%3A%22P2981%20%5BUSACO10FEB%5D%5Cu5976%5Cu725b%5Cu5728%5Cu51b0Cows%20on%20Ice%22%2C%22slug%22%3A%22P2981%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO10FEB%5D%5Cu5976%5Cu725b%5Cu5728%5Cu51b0Cows%20on%20Ice%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO10FEB]奶牛在冰Cows on Ice</h1>
<h2>题目描述</h2>
<div>Bessie is ice skating on a large frozen lake modelled as a 2-dimensional grid with coordinates in the range -1,000,000,000..1,000,000,000. N (1 <= N <= 20,000) of the lake's grid cells contain rocks
(conveniently numbered 1..N). The other cells contain slippery ice.
Since Bessie is not a very good skater, she traverses the lake's cells by pushing herself away from her current position near a rock and sliding continuously in the same direction until she hits another rock (stopping in the square before she hits the rock, of course). Never good with complicated angles, Bessie can push herself only straight north, east, south, or west. She can't push herself through the rock, of course, and thus generally has only three possible directions to move.
Sliding is not without risks. Bessie must hit a rock or might end up sliding for a very long time. She must aim her pushes carefully.
Consider the situation depicted below; Bessie wants to get to
location (x=5,y=1), which is east of her current location (. = ice, \* = rock, B = Bessie, G = goal). If she slides directly to the east, she will slide past the location since she can stop only by
encountering a rock head on. One way to get to (5,1) is the following:
(a) (b) (c) (d)
4 .....\*. .....\*. .....\*. .....\*.
3 ..\*.... slide ..\*.... slide ..\*.... slide ..\*....
2 ......\* north ..B...\* east .....B\* south ......\*
1 .\*B..G. ------> .\*...G. ------> .\*...G. ------> .\*...B.
0 \*....\*. \*....\*. \*....\*. \*....\*.
0123456
Bessie could slide north, east, or south in situation (a), but only north has a rock for stopping. For situation (b), she can slide only east for the same reason.
For the input, rock i is located at cell X\_i,Y\_i (-1,000,000,000 <= X\_i <= 1,000,000,000; -1,000,000,000 <= Y\_i <= 1,000,000,000), and no two rocks occupy the same position. Bessie starts at Bx,By (which is next to a rock) (-1,000,000,000 <= Bx <= 1,000,000,000; -1,000,000,000 <= By <= 1,000,000,000). Bessie's goal is Gx,Gy (-1,000,000,000 <= Gx <= 1,000,000,000; -1,000,000,000 <= Gy <= 1,000,000,000). Bessie can always reach the goal one way or another.
Bessie doesn't mind sliding. However, pushing herself away from a rock is very tiring. To prepare her, FJ would like to know the minimum number of pushes Bessie needs to do.
Bessie 在一个冰封的湖面上游泳，湖面可以表示为二维的平面，坐标范围是-1,000,000,000..1,000,000,000。湖面上的N(1 <= N <= 20,000)个位置有石块(编号分别为1到N)，其它位置是冰面。由于Bessie滑冰技术不够好，她通过推动自己旁边的石块，依靠反作用力向某一个方向前进，在碰到一个新的石块之前，Bessie是不会停下来的。(当然，最后会停留在某块石块的前一个格子里)由于Bessie无法计算复杂的角度，她只能够向东南西北四个方向前进。
很显然，Bessie不能够穿越石块，因此，Bessie仅仅可以向三个方向滑。 滑冰不是没有风险，Bessie滑向某个方向后必须能碰到某个石块，因此她必须很小心。考虑下面的一个情况，Bessie希望到达在她东面的目标位置(x=5,y=1)，(…
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Five space separated integers: N, Bx, By, Gx, and Gy
\* Lines 2..N+1: Line i+1 describes a rock location with space
separated integers: X\_i and Y\_i
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: A single integer that is the minimum number of pushes for Bessie to get to her goal
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6 2 1 5 1 
5 4 
2 3 
1 1 
6 2 
5 0 
0 0 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3 
</code></pre>
</article>
</div>
</div>
</body>
</html>
