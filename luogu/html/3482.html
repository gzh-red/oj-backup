<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2009]SLO-Elephants - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376948:MRvsSdWex1RZID43D3EJ3lYKHMej0Q8F23X9yIHs4ow=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20parade%20of%20all%20elephants%20is%20to%20commence%20soon%20at%20the%20Byteotian%20zoo.%5Cn%5CnThe%20zoo%20employees%20have%20encouraged%20these%20enormous%20animals%20to%20form%20a%20single%20line%2C%20%20as%20the%20manager%20wills%20it%20to%20be%20the%20initial%20figure%20of%20the%20parade.%5Cn%5CnUnfortunately%2C%20the%20manager%20himself%20came%20to%20the%20parade%20and%20did%20not%20quite%20like%20%20what%20he%20saw%20-%20he%20had%20intended%20an%20entirely%20different%20order%20of%20the%20elephants.%5Cn%5CnTherefore%20he%20enforced%20his%20ordering%2C%20claiming%20the%20animals%20would%20seem%20most%20%20majestic%20this%20way%2C%20and%20made%20the%20employees%20reorder%20the%20elephants%20accordingly.%5Cn%5CnAs%20a%20pack%20of%20moving%20elephants%20can%20wreak%20havoc%2C%20the%20employees%20decided%20to%20have%20%20them%20rearranged%20by%20swapping%20one%20pair%20at%20a%20time.%20Luckily%20the%20animals%20need%20not%20%20stand%20next%20to%20each%20other%20in%20order%20to%20swap%20positions%20in%20the%20line.%20Making%20an%20elephant%20%20move%2C%20however%2C%20is%20not%20as%20easy%20as%20it%20sounds.%20In%20fact%2C%20the%20effort%20one%20has%20to%20put%20%20into%20it%20is%20proportional%20to%20the%20animal%27s%20mass.%20Hence%2C%20the%20effort%20involved%20in%20%20swapping%20a%20pair%20of%20elephants%20of%20respective%20masses%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.1.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.2.png%29%20can%20be%20%20estimated%20by%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.3.png%29.%20What%20is%20the%20minimum%20effort%20involved%20in%20rearranging%20%20the%20elephants%20according%20to%20manager%27s%20will%3F%5Cn%5CnWrite%20a%20programme%20that%3A%5Cn%5Cnreads%20from%20the%20standard%20input%20the%20masses%20of%20all%20elephants%20from%20the%20zoo%2C%20%20%20%20%20%20%20%20along%20with%20their%20current%20and%20desired%20order%20in%20the%20line%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20determines%20a%20sequence%20of%20elephant%20swaps%20leading%20from%20the%20initial%20to%20the%20%20%20%20%20%20%20%20desired%20order%20of%20animals%20in%20the%20line%2C%20such%20that%20this%20sequence%20minimises%20%20%20%20%20%20%20%20the%20summary%20effort%20involved%20in%20all%20the%20swaps%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prints%20out%20the%20summary%20effort%20on%20the%20standard%20output.%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu4e2a1-N%5Cu7684%5Cu6392%5Cu5217%28ai%29%5Cuff0c%5Cu6bcf%5Cu6b21%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu4ea4%5Cu6362%5Cu4e24%5Cu4e2a%5Cu6570ax%5Cu4e0eay%28x%3C%3Ey%29%5Cuff0c%5Cu4ee3%5Cu4ef7%5Cu4e3aW%28ax%29%2BW%28ay%29%20%5Cu82e5%5Cu5e72%5Cu6b21%5Cu4ea4%5Cu6362%5Cu7684%5Cu4ee3%5Cu4ef7%5Cu4e3a%5Cu6bcf%5Cu6b21%5Cu4ea4%5Cu6362%5Cu7684%5Cu4ee3%5Cu4ef7%5Cu4e4b%5Cu548c%5Cu3002%5Cu8bf7%5Cu95ee%5Cu5c06%28ai%29%5Cu53d8%5Cu4e3a%28bi%29%5Cu6240%5Cu9700%5Cu7684%5Cu6700%5Cu5c0f%5Cu4ee3%5Cu4ef7%5Cu662f%5Cu591a%5Cu5c11%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20a%20single%20integer%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.4.png%29%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.5.png%29%29%20denoting%20the%20number%20of%20elephants%20in%20the%20zoo.%5Cn%5CnWe%20assume%20that%20the%20elephants%20are%20numbered%20from%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.6.png%29%20to%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.7.png%29%20to%20simplify%20things.%5Cn%5CnThe%20second%20line%20holds%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.8.png%29%20integers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.9.png%29%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.10.png%29%20dla%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.11.png%29%29%20%20separated%20by%20single%20spaces%20and%20denoting%20the%20masses%20of%20respective%20elephants%20%20%28in%20kilogrammes%29.%5Cn%5CnThe%20third%20line%20of%20input%20contains%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.12.png%29%20pairwise%20different%20integers%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.13.png%29%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.14.png%29%29%20separated%20by%20single%20spac%5Cu2026%5Cn%22%2C%22outputFormat%22%3A%22The%20first%20and%20only%20line%20of%20the%20standard%20output%20should%20contain%20a%20single%20integer%20%20denoting%20the%20minimum%20summary%20effort%20involved%20in%20reordering%20the%20elephants%20%20from%20the%20order%20represented%20by%20the%20sequence%20to%20the%20one%20represented%20by%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI16%5C%2Fslo-en-tex.20.png%29.%5Cn%22%2C%22samples%22%3A%5B%5B%226%5Cn2400%202000%201200%202400%201600%204000%5Cn1%204%205%203%206%202%5Cn5%203%202%204%206%201%5Cn%22%2C%2211200%5Cn%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B26%2C57%2C247%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A201%2C%22totalAccepted%22%3A82%2C%22pid%22%3A%22P3482%22%2C%22title%22%3A%22%5BPOI2009%5DSLO-Elephants%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3207%22%2C%22title%22%3A%22%5BHNOI2010%5D%5Cu7269%5Cu54c1%5Cu8c03%5Cu5ea6%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3616%22%2C%22title%22%3A%22%5Cu5bcc%5Cu91d1%5Cu68ee%5Cu6797%5Cu516c%5Cu56ed%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3470%22%2C%22title%22%3A%22%5BPOI2008%5DBBB-BBB%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF446C%22%2C%22title%22%3A%22DZY%20Loves%20Fibonacci%20Numbers%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4718%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011Pollard-Rho%5Cu7b97%5Cu6cd5%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2009%5DSLO-Elephants%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2009]SLO-Elephants</h1>
<h2>题目描述</h2>
<div>A parade of all elephants is to commence soon at the Byteotian zoo.
The zoo employees have encouraged these enormous animals to form a single line, as the manager wills it to be the initial figure of the parade.
Unfortunately, the manager himself came to the parade and did not quite like what he saw - he had intended an entirely different order of the elephants.
Therefore he enforced his ordering, claiming the animals would seem most majestic this way, and made the employees reorder the elephants accordingly.
As a pack of moving elephants can wreak havoc, the employees decided to have them rearranged by swapping one pair at a time. Luckily the animals need not stand next to each other in order to swap positions in the line. Making an elephant move, however, is not as easy as it sounds. In fact, the effort one has to put into it is proportional to the animal's mass. Hence, the effort involved in swapping a pair of elephants of respective masses ![](http://main.edu.pl/images/OI16/slo-en-tex.1.png) and ![](http://main.edu.pl/images/OI16/slo-en-tex.2.png) can be estimated by ![](http://main.edu.pl/images/OI16/slo-en-tex.3.png). What is the minimum effort involved in rearranging the elephants according to manager's will?
Write a programme that:
reads from the standard input the masses of all elephants from the zoo, along with their current and desired order in the line, determines a sequence of elephant swaps leading from the initial to the desired order of animals in the line, such that this sequence minimises the summary effort involved in all the swaps, prints out the summary effort on the standard output.
对于一个1-N的排列(ai)，每次你可以交换两个数ax与ay(x<>y)，代价为W(ax)+W(ay) 若干次交换的代价为每次交换的代价之和。请问将(ai)变为(bi)所需的最小代价是多少。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains a single integer ![](http://main.edu.pl/images/OI16/slo-en-tex.4.png) (![](http://main.edu.pl/images/OI16/slo-en-tex.5.png)) denoting the number of elephants in the zoo.
We assume that the elephants are numbered from ![](http://main.edu.pl/images/OI16/slo-en-tex.6.png) to ![](http://main.edu.pl/images/OI16/slo-en-tex.7.png) to simplify things.
The second line holds ![](http://main.edu.pl/images/OI16/slo-en-tex.8.png) integers ![](http://main.edu.pl/images/OI16/slo-en-tex.9.png) (![](http://main.edu.pl/images/OI16/slo-en-tex.10.png) dla ![](http://main.edu.pl/images/OI16/slo-en-tex.11.png)) separated by single spaces and denoting the masses of respective elephants (in kilogrammes).
The third line of input contains ![](http://main.edu.pl/images/OI16/slo-en-tex.12.png) pairwise different integers ![](http://main.edu.pl/images/OI16/slo-en-tex.13.png) (![](http://main.edu.pl/images/OI16/slo-en-tex.14.png)) separated by single spac…
</div>
<h3>输出格式</h3>
<br />
<div>The first and only line of the standard output should contain a single integer denoting the minimum summary effort involved in reordering the elephants from the order represented by the sequence to the one represented by ![](http://main.edu.pl/images/OI16/slo-en-tex.20.png).
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6
2400 2000 1200 2400 1600 4000
1 4 5 3 6 2
5 3 2 4 6 1
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>11200
</code></pre>
</article>
</div>
</div>
</body>
</html>
