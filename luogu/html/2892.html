<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[NOI2007]追捕盗贼 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376111:NtoyKldievT7SEtJll4BW6ITrPXqcXkdOzq3WD46Vf0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22spj%5Cu6765%5Cu6e90%5Cuff1aloj-Robin%5Cu3002%5Cu5df2%5Cu83b7%5Cu5f97%5Cu6388%5Cu6743%5Cu3002%5Cn%5Cnhttps%3A%5C%2F%5C%2Fwww.luogu.org%5C%2Fpaste%5C%2Fdxytr6gc%20%5Cn%5Cn%5Cu9644spj%5Cuff0c%5Cu4e00%5Cu4e9b%5Cu4fee%5Cu6539%5Cu90e8%5Cu5206%5Cu672a%5Cu6309%5Cu7167%5Cu4ee3%5Cu7801%5Cu89c4%5Cu8303%5Cuff0c%5Cu8bf7%5Cu5404%5Cu4f4d%5Cu8c05%5Cu89e3%5Cu3002%22%2C%22description%22%3A%22%5Cu9b54%5Cu6cd5%5Cu56fd%5Cu5ea6%20Magic%20Land%20%5Cu91cc%5Cu6700%5Cu8fd1%5Cu51fa%5Cu73b0%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu5927%5Cu76d7%20Frank%5Cuff0c%5Cu4ed6%5Cu5728%20Magic%20Land%20%5Cu56db%5Cu5904%5Cu4f5c%5Cu6848%5Cuff0c%5Cu4e13%5Cu95e8%5Cu7a83%5Cu53d6%5Cu653f%5Cu5e9c%5Cu673a%5Cu5173%5Cu7684%5Cu673a%5Cu5bc6%5Cu6587%5Cu4ef6%5Cuff08%5Cu56e0%5Cu800c%5Cu6709%5Cu4eba%5Cu6000%5Cu7591%20Frank%20%5Cu662f%5Cu654c%5Cu56fd%5Cu6d3e%5Cu6765%5Cu7684%5Cu95f4%5Cu8c0d%5Cuff09%5Cu3002%5Cn%5Cn%5Cu4e3a%5Cu4e86%5Cu6349%5Cu4f4f%20Frank%5Cuff0cMagic%20Land%20%5Cu7684%5Cu5b89%5Cu5168%5Cu5c40%5Cu91cd%5Cu62f3%5Cu51fa%5Cu51fb%5Cuff01%5Cn%5CnMagic%20Land%20%5Cu7531%20N%20%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu7ec4%5Cu6210%5Cuff0c%5Cu5e76%5Cu4e14%5Cu8fd9%20N%20%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu53c8%5Cu7531%5Cu6070%5Cu597d%20N-1%20%5Cu6761%5Cu516c%5Cu8def%5Cu5f7c%5Cu6b64%5Cu8fde%5Cu63a5%5Cu8d77%5Cu6765%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu4efb%5Cu610f%5Cu4e24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu95f4%5Cu90fd%5Cu53ef%5Cu4ee5%5Cu901a%5Cu8fc7%5Cu82e5%5Cu5e72%5Cu6761%5Cu516c%5Cu8def%5Cu4e92%5Cu8fbe%5Cu3002%5Cu4ece%5Cu6570%5Cu636e%5Cu7ed3%5Cu6784%5Cu7684%5Cu89d2%5Cu5ea6%5Cu6211%5Cu4eec%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu8bf4%5Cuff0c%5Cu8fd9%20N%20%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu548c%20N-1%20%5Cu6761%5Cu516c%5Cu8def%5Cu5f62%5Cu6210%5Cu4e86%5Cu4e00%5Cu68f5%5Cu6811%5Cu3002%5Cn%5Cn%5Cu4f8b%5Cu5982%5Cuff0c%5Cu4e0b%5Cu56fe%5Cu5c31%5Cu662f%20Magic%20Land%20%5Cu7684%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu80fd%5Cu683c%5Cu5c40%5Cuff084%20%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu7528%5Cu6570%5Cu5b57%5Cu7f16%5Cu53f7%5Cuff0c3%20%5Cu6761%5Cu516c%5Cu8def%5Cu7528%5Cu5b57%5Cu6bcd%5Cu7f16%5Cu53f7%5Cuff09%5Cuff1a%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fpic%5C%2F12794.png%29%20%5Cn%5Cn%5Cu5927%5Cu76d7%20Frank%20%5Cu80fd%5Cu591f%5Cu5728%5Cu516c%5Cu8def%5Cu4e0a%5Cu4ee5%5Cu4efb%5Cu610f%5Cu901f%5Cu5ea6%5Cu79fb%5Cu52a8%5Cu3002%5Cn%5Cn%5Cu6bd4%5Cu65b9%5Cu8bf4%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu4e0a%5Cu56fe%5Cu7ed9%5Cu51fa%5Cu7684%5Cu683c%5Cu5c40%5Cuff0c%5Cu5728%200.00001%20%5Cu79d2%5Cu949f%5Cu5185%5Cuff08%5Cu6216%5Cu8005%5Cu4efb%5Cu610f%5Cu77ed%5Cu7684%5Cu4e00%5Cu6bb5%5Cu65f6%5Cu95f4%5Cu5185%5Cuff09%5Cuff0cFrank%20%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu4ece%5Cu57ce%5Cu5e02%201%20%5Cu7ecf%5Cu8fc7%5Cu57ce%5Cu5e02%202%20%5Cu5230%5Cu8fbe%5Cu57ce%5Cu5e02%204%5Cuff0c%5Cu4e2d%5Cu95f4%5Cu7ecf%5Cu8fc7%5Cu4e86%5Cu4e24%5Cu6761%5Cu516c%5Cu8def%5Cu3002%5Cn%5Cn%5Cu60f3%5Cu8981%5Cu751f%5Cu64d2%20Frank%20%5Cu56f0%5Cu96be%5Cu91cd%5Cu91cd%5Cuff0c%5Cu6240%5Cu4ee5%5Cu5b89%5Cu5168%5Cu5c40%5Cu6d3e%5Cu51fa%5Cu4e86%5Cu7ecf%5Cu9a8c%5Cu4e30%5Cu5bcc%5Cu7684%5Cu8b66%5Cu63a2%5Cuff0c%5Cu8fd9%5Cu4e9b%5Cu8b66%5Cu63a2%5Cu5177%5Cu6709%5Cu975e%5Cu51e1%5Cu7684%5Cu8ffd%5Cu6355%5Cu624d%5Cu80fd%5Cuff1a%5Cn%5Cn1.%20%20%5Cu53ea%5Cu8981%5Cu6709%5Cu8b66%5Cu63a2%5Cu548c%20Frank%20%5Cu540c%5Cu5904%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu90a3%5Cu4e48%5Cu5c31%5Cu80fd%5Cu591f%5Cu7acb%5Cu523b%5Cu5bdf%5Cu89c9%5Cu5230Frank%5Cuff0c%5Cu5e76%5Cu4e14%5Cu5c06%5Cu5176%5Cu902e%5Cu6355%5Cu3002%5Cn%5Cn2.%20%20%5Cu867d%5Cu7136%20Frank%20%5Cu53ef%5Cu4ee5%5Cu5728%5Cu516c%5Cu8def%5Cu4e0a%5Cu4ee5%5Cu4efb%5Cu610f%5Cu5feb%5Cu7684%5Cu901f%5Cu5ea6%5Cu79fb%5Cu52a8%5Cuff0c%5Cu4f46%5Cu662f%5Cu5982%5Cu679c%5Cu6709%5Cu8b66%5Cu63a2%5Cu548c%20Frank%20%5Cu5728%5Cu540c%5Cu4e00%5Cu6761%5Cu516c%5Cu8def%5Cu4e0a%5Cu76f8%5Cu9047%5Cuff0c%5Cu90a3%5Cu4e48%5Cu8b66%5Cu63a2%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu7acb%5Cu523b%5Cu5bdf%5Cu89c9%5Cu5230%20Frank%20%5Cu5e76%5Cu5c06%5Cu5176%5Cu902e%5Cu6355%5Cu3002%5Cn%5Cn%5Cu5b89%5Cu5168%5Cu5c40%5Cu5b8c%5Cu5168%5Cu4e0d%5Cu77e5%5Cu9053%20Frank%20%5Cu8eb2%5Cu5728%5Cu54ea%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu6216%5Cu8005%5Cu6b63%5Cu5728%5Cu54ea%5Cu6761%5Cu516c%5Cu8def%5Cu4e0a%5Cu79fb%5Cu52a8%5Cuff0c%5Cu6240%5Cu4ee5%5Cu9700%5Cu8981%5Cu5236%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu5468%5Cu5bc6%5Cu7684%5Cu6293%5Cu6355%5Cu8ba1%5Cu5212%5Cuff0c%5Cu8ba1%5Cu5212%5Cu7531%5Cu82e5%5Cu5e72%20%5Cu6b65%5Cu9aa4%5Cu7ec4%5Cu6210%5Cu3002%5Cu5728%5Cu6bcf%5Cu4e00%5Cu6b65%5Cu4e2d%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu505a%5Cu5982%5Cu4e0b%5Cu51e0%5Cu4ef6%5Cu4e8b%5Cu4e2d%5Cu7684%5Cu4e00%5Cu4e2a%5Cuff1a%5Cn%5Cn1.%20%20%5Cu5728%5Cu67d0%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu8b66%5Cu63a2%5Cu53ef%5Cu4ee5%5Cu76f4%5Cu63a5%5Cu4ece%5Cu6307%5Cu6325%5Cu90e8%5Cu7a7a%5Cu964d%5Cu5230%20Magic%20Land%20%5Cu7684%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu91cc%5Cu3002%5Cu6b64%5Cu64cd%5Cu4f5c%5Cu8bb0%5Cu4e3a%5Cu201cL%20x%5Cu201d%5Cuff0c%5Cu8868%5Cu793a%5Cu5728%5Cu7f16%5Cu53f7%5Cu4e3a%20x%20%5Cu7684%5Cu57ce%5Cu5e02%5Cu91cc%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu8017%5Cu65f6%201%20%5Cu79d2%5Cu3002%5Cn%5Cn2.%20%20%5Cu628a%5Cu7559%5Cu5728%5Cu67d0%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu91cc%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu76f4%5Cu63a5%5Cu53ec%5Cu56de%5Cu6307%5Cu6325%5Cu90e8%5Cu3002%5Cu4ee5%5Cu5907%5Cu5728%5Cu4ee5%5Cu540e%5Cu7684%5Cu6b65%5Cu9aa4%5Cu4e2d%5Cu518d%5Cu5ea6%5Cu7a7a%5Cu964d%5Cu5230%5Cu67d0%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu91cc%5Cu3002%5Cu6b64%5Cu64cd%5Cu4f5c%5Cu8bb0%5Cu4e3a%5Cu201cB%20x%5Cu201d%5Cu3002%5Cu8868%5Cu793a%5Cu628a%5Cu7f16%5Cu53f7%5Cu4e3a%20x%20%5Cu7684%5Cu57ce%5Cu5e02%5Cu91cc%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu53ec%5Cu56de%5Cu6307%5Cu6325%5Cu90e8%5Cu3002%5Cu8017%5Cu65f6%201%20%5Cu79d2%5Cu3002%5Cn%5Cn3.%20%20%5Cu8ba9%5Cu5f85%5Cu5728%5Cu57ce%5Cu5e02%20x%20%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu6cbf%5Cu7740%5Cu516c%5Cu8def%5Cu79fb%5Cu52a8%5Cu5230%5Cu57ce%5Cu5e02%20y%5Cuff0c%5Cu6b64%5Cu64cd%5Cu4f5c%5Cu8bb0%5Cu4e3a%5Cu201cM%20x%20y%5Cu201d%5Cu3002%5Cu8017%5Cu65f6%201%20%5Cu79d2%5Cu3002%5Cu5f53%5Cu7136%5Cuff0c%5Cu524d%5Cu63d0%5Cu662f%5Cu57ce%5Cu5e02%20x%20%5Cu548c%5Cu57ce%5Cu5e02%20y%20%5Cu4e4b%5Cu95f4%5Cu6709%5Cu516c%5Cu8def%5Cu3002%5Cu5982%5Cu679c%5Cu5728%5Cu8b66%5Cu63a2%5Cu79fb%5Cu52a8%5Cu7684%5Cu8fc7%5Cu7a0b%5Cu4e2d%5Cuff0c%5Cu5927%5Cu76d7%20Frank%20%5Cu4e5f%5Cu5728%5Cu540c%5Cu4e00%5Cu6761%5Cu516c%5Cu8def%5Cu4e0a%5Cuff0c%5Cu90a3%5Cu4e48%5Cu8b66%5Cu63a2%5Cu5c31%5Cu6293%5Cu6355%5Cu5230%5Cu4e86Frank%5Cu3002%5Cn%5Cn%5Cu73b0%5Cu5728%5Cuff0c%5Cu7531%5Cu4f60%5Cu6765%5Cu5236%5Cu5b9a%5Cu4e00%5Cu5957%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu7ed9%5Cu51fa%5Cu82e5%5Cu5e72%5Cu4e2a%5Cu6b65%5Cu9aa4%5Cuff0c%5Cu9700%5Cu8981%5Cu4fdd%5Cu8bc1%5Cuff1a%5Cu65e0%5Cu8bba%5Cu5927%5Cu76d7%20Frank%20%5Cu4e00%5Cu5f00%5Cu59cb%5Cu8eb2%5Cu5728%5Cu54ea%5Cu513f%5Cuff0c%5Cu4e5f%5Cu65e0%5Cu8bba%20Frank%20%5Cu5728%5Cu6574%5Cu4e2a%5Cu8fc7%5Cu7a0b%5Cu4e2d%5Cu5982%5Cu4f55%5Cu72e1%5Cu733e%5Cu5730%5Cu79fb%5Cu52a8%5Cuff08Frank%5Cu5927%5Cu76d7%5Cu53ef%5Cu80fd%5Cu4f1a%5Cu7a83%5Cu53d6%5Cu5230%5Cu8ffd%5Cu6355%5Cu884c%5Cu52a8%5Cu7684%5Cu8ba1%5Cu5212%5Cu4e66%5Cuff0c%5Cu6240%5Cu4ee5%5Cu4ed6%5Cu4e00%5Cu5b9a%5Cu4f1a%5Cu60f3%5Cu5c3d%5Cu529e%5Cu6cd5%5Cu9003%5Cu907f%5Cuff09%5Cuff0c%5Cu4ed6%5Cu4e00%5Cu5b9a%5Cu4f1a%5Cu88ab%5Cu7f09%5Cu62ff%5Cu5f52%5Cu6848%5Cu3002%5Cn%5Cn%5Cu5e0c%5Cu671b%5Cu53c2%5Cu4e0e%5Cu7684%5Cu8b66%5Cu63a2%5Cu8d8a%5Cu5c11%5Cu8d8a%5Cu597d%5Cuff0c%5Cu56e0%5Cu4e3a%5Cu7ecf%5Cu9a8c%5Cu4e30%5Cu5bcc%5Cu7684%5Cu8b66%5Cu63a2%5Cu6bd5%5Cu7adf%5Cu4e0d%5Cu591a%5Cu3002%5Cn%5Cn%5Cu4f8b%5Cu5982%5Cu5bf9%5Cu4e8e%5Cu524d%5Cu9762%5Cu6240%5Cu7ed9%5Cu7684%5Cu90a3%5Cu4e2a%5Cu56fe%5Cu793a%5Cu683c%5Cu5c40%5Cuff0c%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu884c%5Cu7684%5Cu8ba1%5Cu5212%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5Cn1.%20%20L%202%20%5Cu5728%5Cu57ce%5Cu5e02%202%20%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu6ce8%5Cu610f%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu5b8c%5Cu6210%5Cu4e4b%5Cu540e%5Cuff0c%5Cu57ce%5Cu5e02%202%20%5Cu91cc%5Cu4e0d%5Cu4f1a%5Cu6709%20Frank%5Cuff0c%5Cu5426%5Cu5219%5Cu4ed6%5Cu5c06%5Cu88ab%5Cu6349%5Cu4f4f%5Cu3002%5Cn%5Cn2.%20%20L%202%20%5Cu518d%5Cu5728%5Cu57ce%5Cu5e02%202%20%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cn%5Cn3.%20%20M%202%201%20%5Cu8ba9%5Cu57ce%5Cu5e02%202%20%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu79fb%5Cu52a8%5Cu5230%5Cu57ce%5Cu5e02%201%5Cu3002%5Cu6ce8%5Cu610f%5Cu57ce%5Cu5e02%202%20%5Cu91cc%5Cu8fd8%5Cu7559%5Cu6709%5Cu53e6%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu5b8c%5Cu6210%5Cu4e4b%5Cu540e%5Cuff0c%5Cu57ce%5Cu5e02%201%20%5Cu91cc%5Cu4e0d%5Cu4f1a%5Cu6709%20Frank%5Cuff0c%5Cu516c%5Cu8def%20A%20%5Cu4e0a%5Cu4e5f%5Cu4e0d%5Cu4f1a%5Cu6709%20Frank%5Cu3002%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cuff0c%5Cu5047%5Cu5982%20Frank%20%5Cu8fd8%5Cu6ca1%5Cu6709%5Cu88ab%5Cu902e%5Cu6355%5Cuff0c%5Cu90a3%5Cu4e48%5Cu4ed6%5Cu53ea%5Cu80fd%5Cu662f%5Cu5728%5Cu57ce%5Cu5e02%203%20%5Cu6216%5Cu57ce%5Cu5e02%204%20%5Cu91cc%5Cuff0c%5Cu6216%5Cu8005%5Cu516c%5Cu8def%20B%20%5Cu6216%5Cu516c%5Cu8def%20C%20%5Cu4e0a%5Cu3002%5Cn%5Cn4.%20%20B%201%20%5Cu53ec%5Cu56de%5Cu57ce%5Cu5e02%201%20%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu6ce8%5Cu610f%5Cu867d%5Cu7136%5Cu53ec%5Cu56de%5Cu4e86%5Cu8fd9%5Cu4f4d%5Cu8b66%5Cu63a2%5Cuff0c%5Cu4f46%5Cu662f%5Cu7531%5Cu4e8e%5Cu6211%5Cu4eec%5Cu59cb%5Cu7ec8%5Cu7559%5Cu4e86%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu5728%5Cu57ce%5Cu5e02%202%20%5Cu628a%5Cu5b88%5Cuff0c%5Cu6240%5Cu4ee5%20Frank%20%5Cu4ecd%5Cu7136%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu8dd1%5Cu5230%5Cu57ce%5Cu5e02%201%20%5Cu6216%5Cu8005%5Cu662f%5Cu516c%5Cu8def%20A%20%5Cu4e0a%5Cu3002%5Cn%5Cn5.%20%20L%203%20%5Cu5728%5Cu57ce%5Cu5e02%203%20%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu6ce8%5Cu610f%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu53ef%5Cu4ee5%5Cu7a7a%5Cu964d%5Cu5728%5Cu6b64%5Cu4e4b%5Cu524d%5Cu88ab%5Cu53ec%5Cu56de%5Cu7684%5Cu90a3%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu5b8c%5Cu6210%5Cu4e4b%5Cu540e%5Cuff0c%5Cu57ce%5Cu5e02%203%20%5Cu91cc%5Cu4e0d%5Cu4f1a%5Cu6709%20Frank%5Cuff0c%5Cu5426%5Cu5219%5Cu4ed6%5Cu4f1a%5Cu88ab%5Cu6349%5Cu4f4f%5Cu3002%5Cn%5Cn6.%20%20M%203%202%20%5Cu8ba9%5Cu57ce%5Cu5e02%203%20%5Cu91cc%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu79fb%5Cu52a8%5Cu5230%5Cu57ce%5Cu5e02%202%5Cu3002%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu5b8c%5Cu6210%5Cu4e4b%5Cu540e%5Cuff0c%5Cu5982%5Cu679c%20Frank%20%5Cu8fd8%5Cu6ca1%5Cu6709%5Cu88ab%5Cu6349%5Cu4f4f%5Cuff0c%5Cu90a3%5Cu4ed6%5Cu53ea%5Cu80fd%5Cu662f%5Cu5728%5Cu516c%5Cu8def%20C%20%5Cu4e0a%5Cu6216%5Cu8005%5Cu57ce%5Cu5e02%204%20%5Cu91cc%5Cu3002%5Cu6ce8%5Cu610f%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu4e4b%5Cu540e%5Cuff0c%5Cu57ce%5Cu5e02%202%20%5Cu91cc%5Cu6709%5Cu4e24%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cn%5Cn7.%20%20M%202%204%20%5Cu8ba9%5Cu57ce%5Cu5e02%202%20%5Cu91cc%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu79fb%5Cu52a8%5Cu5230%5Cu57ce%5Cu5e02%204%5Cu3002%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu5b8c%5Cu6210%5Cu4e4b%5Cu540e%5Cuff0cFrank%20%5Cu4e00%5Cu5b9a%5Cu4f1a%5Cu88ab%5Cu6349%5Cu4f4f%5Cuff0c%5Cu9664%5Cu975e%5Cu4ed6%5Cu6839%5Cu672c%5Cu5c31%5Cu6ca1%5Cu6765%20Magic%20Land%5Cu3002%5Cn%5Cn%5Cu8fd9%5Cu4e2a%5Cu8ba1%5Cu5212%5Cu603b%5Cu5171%5Cu9700%5Cu8981%202%20%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu7684%5Cu53c2%5Cu4e0e%5Cu3002%5Cu53ef%5Cu4ee5%5Cu8bc1%5Cu660e%5Cuff1a%5Cu5982%5Cu679c%5Cu81ea%5Cu59cb%5Cu81f3%5Cu7ec8%5Cu53ea%5Cu6709%201%20%5Cu540d%5Cu6216%5Cu8005%5Cu66f4%5Cu5c11%5Cu7684%5Cu8b66%5Cu63a2%5Cu53c2%5Cu4e0e%5Cuff0c%5Cu5219%20Frank%20%5Cu5c31%5Cu4f1a%5Cu900d%5Cu9065%5Cu6cd5%5Cu5916%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu7684%5Cu4efb%5Cu52a1%5Cu5f88%5Cu7b80%5Cu5355%5Cuff1a%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu4e2a%5Cu8f93%5Cu5165%5Cu7684%20Magic%20Land%20%5Cu7684%5Cu683c%5Cu5c40%5Cuff0c%5Cu8ba1%5Cu7b97%20S%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu4e3a%5Cu4e86%5Cu8ffd%5Cu6355%20Frank%20%5Cu81f3%5Cu5c11%5Cu9700%5Cu8981%5Cu6295%5Cu5165%5Cu591a%5Cu5c11%5Cu4f4d%5Cu8b66%5Cu63a2%5Cuff0c%5Cu5e76%5Cu4e14%5Cu7ed9%5Cu51fa%5Cu76f8%5Cu5e94%5Cu7684%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu6b65%5Cu9aa4%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5Cu8f93%5Cu5165%5Cu6587%5Cu4ef6%5Cu7ed9%5Cu51fa%5Cu4e86%20Magic%20Land%20%5Cu7684%5Cu683c%5Cu5c40%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20N%5Cuff0c%5Cu4ee3%5Cu8868%5Cu6709%20N%20%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu57ce%5Cu5e02%5Cu7684%5Cu7f16%5Cu53f7%5Cu662f%201~N%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%20N-1%20%5Cu884c%5Cuff0c%5Cu6bcf%5Cu884c%5Cu6709%5Cu4e24%5Cu4e2a%5Cu7528%5Cu7a7a%5Cu683c%5Cu5206%5Cu5f00%5Cu7684%5Cu6574%5Cu6570%20x%20i%20%5Cuff0cy%20i%20%5Cuff0c%5Cu4ee3%5Cu8868%5Cu57ce%5Cu5e02%20x%20i%20%5Cuff0cy%20i%5Cu4e4b%5Cu95f4%5Cu6709%5Cu516c%5Cu8def%5Cu76f8%5Cu8fde%5Cu3002%5Cu4fdd%5Cu8bc1%201%5Cu2264x%20i%20%2Cy%20i%20%5Cu2264N%5Cn%22%2C%22outputFormat%22%3A%22%5Cu5411%5Cu8f93%5Cu51fa%5Cu6587%5Cu4ef6%5Cu8f93%5Cu51fa%5Cu4f60%5Cu6240%5Cu7ed9%5Cu51fa%5Cu7684%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu8bf7%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20S%5Cuff0c%5Cu4ee3%5Cu8868%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu9700%5Cu8981%5Cu591a%5Cu5c11%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu8bf7%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20T%5Cuff0c%5Cu4ee3%5Cu8868%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu603b%5Cu5171%5Cu6709%5Cu591a%5Cu5c11%5Cu6b65%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu8bf7%5Cu8f93%5Cu51fa%20T%20%5Cu884c%5Cuff0c%5Cu4f9d%5Cu6b21%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu7684%5Cu6bcf%5Cu4e00%5Cu6b65%5Cu3002%5Cu6bcf%5Cu884c%5Cu5fc5%5Cu987b%5Cu662f%5Cu4ee5%5Cu4e0b%5Cu4e09%5Cu79cd%5Cu5f62%5Cu5f0f%5Cu4e4b%5Cu4e00%5Cuff1a%5Cn%5Cn%5Cu201dL%20x%5Cu201d%5Cuff0c%5Cu5176%5Cu4e2d%20L%20%5Cu662f%5Cu5927%5Cu5199%5Cu5b57%5Cu6bcd%5Cuff0c%5Cu63a5%5Cu7740%5Cu662f%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu518d%5Cu63a5%5Cu7740%5Cu662f%5Cu6574%5Cu6570%20x%5Cuff0c%5Cu4ee3%5Cu8868%5Cu5728%5Cu57ce%5Cu5e02%20x%20%5Cu7a7a%5Cu964d%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu4f60%5Cu5fc5%5Cu987b%5Cu4fdd%5Cu8bc1%201%5Cu2264x%5Cu2264N%5Cu3002%5Cn%5Cn%5Cu201cB%20x%5Cu201d%5Cuff0c%5Cu5176%5Cu4e2d%20B%20%5Cu662f%5Cu5927%5Cu5199%5Cu5b57%5Cu6bcd%5Cuff0c%5Cu63a5%5Cu7740%5Cu662f%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu518d%5Cu63a5%5Cu7740%5Cu662f%5Cu6574%5Cu6570%20x%5Cuff0c%5Cu4ee3%5Cu8868%5Cu53ec%5Cu56de%5Cu57ce%5Cu5e02%20x%20%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cu4f60%5Cu5fc5%5Cu987b%5Cu4fdd%5Cu8bc1%201%5Cu2264x%5Cu2264N%5Cuff0c%5Cu4e14%5Cu4f60%5Cu7684%5Cu8ba1%5Cu5212%5Cu6267%5Cu884c%5Cu5230%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu4e4b%5Cu524d%5Cuff0c%5Cu57ce%5Cu5e02%20x%20%5Cu91cc%5Cu9762%5Cu786e%5Cu5b9e%5Cu81f3%5Cu5c11%5Cu6709%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu3002%5Cn%5Cn%5Cu201cM%20x%20y%5Cu201d%5Cuff0c%5Cu5176%5Cu4e2d%20M%20%5Cu662f%5Cu5927%5Cu5199%5Cu5b57%5Cu6bcd%5Cuff0c%5Cu63a5%5Cu7740%5Cu662f%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu518d%5Cu63a5%5Cu7740%5Cu662f%5Cu6574%5Cu6570%20x%5Cuff0c%5Cu518d%5Cu8ddf%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cuff0c%5Cu6700%5Cu540e%5Cu4e00%5Cu4e2a%5Cu662f%5Cu6574%5Cu6570%20y%5Cu3002%5Cu4ee3%5Cu8868%5Cu8ba9%5Cu57ce%5Cu5e02%20x%20%5Cu7684%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cu6cbf%5Cu7740%5Cu516c%5Cu8def%5Cu79fb%5Cu52a8%5Cu5230%5Cu57ce%5Cu5e02%20y%5Cu3002%5Cu4f60%5Cu5fc5%5Cu987b%5Cu4fdd%5Cu8bc1%201%5Cu2264x%2C%20y%5Cu2264N%5Cuff0c%5Cu4e14%5Cu4f60%5Cu7684%5Cu8ba1%5Cu5212%5Cu6267%5Cu884c%5Cu5230%5Cu8fd9%5Cu4e00%5Cu6b65%5Cu4e4b%5Cu524d%5Cuff0c%5Cu57ce%5Cu5e02%20x%20%5Cu91cc%5Cu9762%5Cu786e%5Cu5b9e%5Cu81f3%5Cu5c11%5Cu6709%5Cu4e00%5Cu4f4d%5Cu8b66%5Cu63a2%5Cuff0c%5Cu4e14%5Cu57ce%5Cu5e02%20x%2C%20y%20%5Cu4e4b%5Cu524d%5Cu786e%5Cu5b9e%5Cu6709%5Cu516c%5Cu8def%5Cu3002%5Cn%5Cn%5Cu5fc5%5Cu987b%5Cu4fdd%5Cu8bc1%5Cu8f93%5Cu51fa%5Cu7684%20S%20%5Cu786e%5Cu5b9e%5Cu7b49%5Cu4e8e%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu4e2d%5Cu6240%5Cu9700%5Cu8981%5Cu7684%5Cu8b66%5Cu63a2%5Cu6570%5Cu76ee%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%224%5Cn1%202%5Cn3%202%5Cn2%204%22%2C%222%5Cn7%5CnL%202%5CnL%202%5CnM%202%201%5CnB%201%5CnL%203%5CnM%203%202%5CnM%202%204%22%5D%5D%2C%22hint%22%3A%22%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu4f55%5Cu4e00%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cuff1a%5Cn%5Cn%5Cu5982%5Cu679c%5Cu8f93%5Cu51fa%5Cu7684%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu4e0d%5Cu5408%5Cu6cd5%5Cuff0c%5Cu6216%5Cu8005%5Cu6574%5Cu4e2a%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu7684%5Cu6b65%5Cu9aa4%5Cu6570%20T%20%5Cu8d85%5Cu8fc7%5Cu4e86%2020000%5Cuff0c%5Cu6216%5Cu8005%5Cu8ffd%5Cu6355%5Cu8ba1%5Cu5212%5Cu7ed3%5Cu675f%5Cu4e4b%5Cu540e%5Cuff0c%5Cu4e0d%5Cu80fd%5Cu4fdd%5Cu8bc1%5Cu6349%5Cu4f4f%20Frank%5Cuff0c%5Cu5219%5Cu4e0d%5Cu80fd%5Cu5f97%5Cu5206%5Cu3002%5Cn%5Cn%60%60%60cpp%5Cn%5Cu5426%5Cu5219%5Cuff0c%5Cu7528%5Cu4f60%5Cu8f93%5Cu51fa%5Cu7684%20S%20%5Cu548c%5Cu6211%5Cu4eec%5Cu5df2%5Cu77e5%5Cu7684%5Cu6807%5Cu51c6%5Cu7b54%5Cu6848%20S%20%2A%20%5Cu76f8%5Cu6bd4%5Cu8f83%5Cuff1a%5Cn1.%20%5Cu82e5%20S%3CS%20%2A%20%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%20120%25%5Cu7684%5Cu5206%5Cu3002%5Cn2.%20%5Cu82e5%20S%3DS%20%2A%20%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%20100%25%5Cu7684%5Cu5206%5Cu3002%5Cn3.%20%5Cu82e5%20S%20%2A%20%3CS%5Cu2264S%20%2A%20%2B2%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%2060%25%5Cu7684%5Cu5206%5Cu3002%5Cn4.%20%5Cu82e5%20S%20%2A%20%2B2%3CS%5Cu2264S%20%2A%20%2B4%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%2040%25%5Cu7684%5Cu5206%5Cu3002%5Cn5.%20%5Cu82e5%20S%20%2A%20%2B4%3CS%5Cu2264S%20%2A%20%2B8%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%2020%25%5Cu7684%5Cu5206%5Cu3002%5Cn6.%20%5Cu82e5%20S%3ES%20%2A%20%2B8%5Cuff0c%5Cu5219%5Cu5f97%5Cu5230%2010%25%5Cu7684%5Cu5206%5Cu3002%5Cn%60%60%60%5Cn%5Cu8f93%5Cu5165%5Cu4fdd%5Cu8bc1%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu4e00%5Cu68f5%5Cu8fde%5Cu901a%5Cu7684%20N%20%5Cu7ed3%5Cu70b9%5Cu6811%5Cuff0c1%5Cu2264N%5Cu22641%20000%5Cu3002%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A8457%2C%22name%22%3A%22chen_zhe%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22Aya%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A6%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B24%2C77%2C104%2C107%2C108%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A379%2C%22totalAccepted%22%3A28%2C%22pid%22%3A%22P2892%22%2C%22title%22%3A%22%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A109329%2C%22title%22%3A%22%5Cu6c42%5Cu5e2e%5Cu52a9%5Cu5350%5Cu534d%22%2C%22forum%22%3A%7B%22id%22%3A2022%2C%22name%22%3A%22P2892%20%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22slug%22%3A%22P2892%22%7D%7D%2C%7B%22id%22%3A95291%2C%22title%22%3A%22%5Cu5b98%5Cu65b9%5Cu6807%5Cu7a0b%22%2C%22forum%22%3A%7B%22id%22%3A2022%2C%22name%22%3A%22P2892%20%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22slug%22%3A%22P2892%22%7D%7D%2C%7B%22id%22%3A67722%2C%22title%22%3A%22%5Cu8fd9%5Cu4e0d%5Cu662f%5Cu4f20%5Cu7edf%5Cu9898%5Cu5417%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2022%2C%22name%22%3A%22P2892%20%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22slug%22%3A%22P2892%22%7D%7D%2C%7B%22id%22%3A35456%2C%22title%22%3A%22spj%5Cu5df2%5Cu7ecf%5Cu4fee%5Cu6b63%5Cu4e14%5Cu91cd%5Cu6d4b%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A2022%2C%22name%22%3A%22P2892%20%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22slug%22%3A%22P2892%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3822%22%2C%22title%22%3A%22%5BNOI2017%5D%5Cu6574%5Cu6570%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3823%22%2C%22title%22%3A%22%5BNOI2017%5D%5Cu86af%5Cu8693%5Cu6392%5Cu961f%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4003%22%2C%22title%22%3A%22%5Cu65e0%5Cu9650%5Cu4e4b%5Cu73af%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4027%22%2C%22title%22%3A%22%5BNOI2007%5D%5Cu8d27%5Cu5e01%5Cu5151%5Cu6362%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4203%22%2C%22title%22%3A%22%5BNOI2008%5D%5Cu7cd6%5Cu679c%5Cu96e8%20%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BNOI2007%5D%5Cu8ffd%5Cu6355%5Cu76d7%5Cu8d3c%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[NOI2007]追捕盗贼</h1>
<h2>题目背景</h2>
<div>spj来源：loj-Robin。已获得授权。
https://www.luogu.org/paste/dxytr6gc
附spj，一些修改部分未按照代码规范，请各位谅解。</div>
<h2>题目描述</h2>
<div>魔法国度 Magic Land 里最近出现了一个大盗 Frank，他在 Magic Land 四处作案，专门窃取政府机关的机密文件（因而有人怀疑 Frank 是敌国派来的间谍）。
为了捉住 Frank，Magic Land 的安全局重拳出击！
Magic Land 由 N 个城市组成，并且这 N 个城市又由恰好 N-1 条公路彼此连接起来，使得任意两个城市间都可以通过若干条公路互达。从数据结构的角度我们也可以说，这 N 个城市和 N-1 条公路形成了一棵树。
例如，下图就是 Magic Land 的一个可能格局（4 个城市用数字编号，3 条公路用字母编号）：
![](https://cdn.luogu.com.cn/upload/pic/12794.png)
大盗 Frank 能够在公路上以任意速度移动。
比方说，对于上图给出的格局，在 0.00001 秒钟内（或者任意短的一段时间内），Frank 就可以从城市 1 经过城市 2 到达城市 4，中间经过了两条公路。
想要生擒 Frank 困难重重，所以安全局派出了经验丰富的警探，这些警探具有非凡的追捕才能：
1. 只要有警探和 Frank 同处一个城市，那么就能够立刻察觉到Frank，并且将其逮捕。
2. 虽然 Frank 可以在公路上以任意快的速度移动，但是如果有警探和 Frank 在同一条公路上相遇，那么警探也可以立刻察觉到 Frank 并将其逮捕。
安全局完全不知道 Frank 躲在哪个城市，或者正在哪条公路上移动，所以需要制定一个周密的抓捕计划，计划由若干 步骤组成。在每一步中，可以做如下几件事中的一个：
1. 在某个城市空降一位警探。警探可以直接从指挥部空降到 Magic Land 的任意一个城市里。此操作记为“L x”，表示在编号为 x 的城市里空降一位警探。耗时 1 秒。
2. 把留在某个城市里的一位警探直接召回指挥部。以备在以后的步骤中再度空降到某个城市里。此操作记为“B x”。表示把编号为 x 的城市里的一位警探召回指挥部。耗时 1 秒。
3. 让待在城市 x 的一位警探沿着公路移动到城市 y，此操作记为“M x y”。耗时 1 秒。当然，前提是城市 x 和城市 y 之间有公路。如果在警探移动的过程中，大盗 Frank 也在同一条公路上，那么警探就抓捕到了Frank。
现在，由你来制定一套追捕计划，也就是给出若干个步骤，需要保证：无论大盗 Frank 一开始躲在哪儿，也无论 Frank 在整个过程中如何狡猾地移动（Frank大盗可能会窃取到追捕行动的计划书，所以他一定会想尽办法逃避），他一定会被缉拿归案。
希望参与的警探越少越好，因为经验丰富的警探毕竟不多。
例如对于前面所给的那个图示格局，一个可行的计划如下：
1. L 2 在城市 2 空降一位警探。注意这一步完成之后，城市 2 里不会有 Frank，否则他将被捉住。
2. L 2 再在城市 2 空降一位警探。
3. M 2 1 让城市 2 的一位警探移动到城市 1。注意城市 2 里还留有另一位警探。这一步完成之后，城市 1 里不会有 Frank，公路 A 上也不会有 Frank。也就是说，假如 Frank 还没有被逮捕，那么他只能是在城市 3 或城市 4 里，或者公路 B 或公路 C 上。
4. B 1 召回城市 1 的一位警探。注意虽然召回了这位警探，但是由于我们始终留了一位警探在城市 2 把守，所以 Frank 仍然不可能跑到城市 1 或者是公路 A 上。
5. L 3 在城市 3 空降一位警探。注意这一步可以空降在此之前被召回的那位警探。这一步完成之后，城市 3 里不会有 Frank，否则他会被捉住。
6. M 3 2 让城市 3 里的一位警探移动到城市 2。这一步完成之后，如果 Frank 还没有被捉住，那他只能是在公路 C 上或者城市 4 里。注意这一步之后，城市 2 里有两位警探。
7. M 2 4 让城市 2 里的一位警探移动到城市 4。这一步完成之后，Frank 一定会被捉住，除非他根本就没来 Magic Land。
这个计划总共需要 2 位警探的参与。可以证明：如果自始至终只有 1 名或者更少的警探参与，则 Frank 就会逍遥法外。
你的任务很简单：对于一个输入的 Magic Land 的格局，计算 S，也就是为了追捕 Frank 至少需要投入多少位警探，并且给出相应的追捕计划步骤。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>输入文件给出了 Magic Land 的格局。
第一行一个整数 N，代表有 N 个城市，城市的编号是 1~N。
接下来 N-1 行，每行有两个用空格分开的整数 x i ，y i ，代表城市 x i ，y i之间有公路相连。保证 1≤x i ,y i ≤N
</div>
<h3>输出格式</h3>
<br />
<div>向输出文件输出你所给出的追捕计划。
第一行请输出一个整数 S，代表追捕计划需要多少位警探。
第二行请输出一个整数 T，代表追捕计划总共有多少步。
接下来请输出 T 行，依次描述了追捕计划的每一步。每行必须是以下三种形式之一：
”L x”，其中 L 是大写字母，接着是一个空格，再接着是整数 x，代表在城市 x 空降一位警探。你必须保证 1≤x≤N。
“B x”，其中 B 是大写字母，接着是一个空格，再接着是整数 x，代表召回城市 x 的一位警探。你必须保证 1≤x≤N，且你的计划执行到这一步之前，城市 x 里面确实至少有一位警探。
“M x y”，其中 M 是大写字母，接着是一个空格，再接着是整数 x，再跟一个空格，最后一个是整数 y。代表让城市 x 的一位警探沿着公路移动到城市 y。你必须保证 1≤x, y≤N，且你的计划执行到这一步之前，城市 x 里面确实至少有一位警探，且城市 x, y 之前确实有公路。
必须保证输出的 S 确实等于追捕计划中所需要的警探数目。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 2
3 2
2 4</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
7
L 2
L 2
M 2 1
B 1
L 3
M 3 2
M 2 4</code></pre>
<h2>说明</h2>
<div>对于任何一个测试点：
如果输出的追捕计划不合法，或者整个追捕计划的步骤数 T 超过了 20000，或者追捕计划结束之后，不能保证捉住 Frank，则不能得分。
```cpp
否则，用你输出的 S 和我们已知的标准答案 S * 相比较：
1. 若 S<S * ，则得到 120%的分。 2. 若 S=S * ，则得到 100%的分。 3. 若 S * <S≤S * +2，则得到 60%的分。 4. 若 S * +2<S≤S * +4，则得到 40%的分。 5. 若 S * +4<S≤S * +8，则得到 20%的分。 6. 若 S>S * +8，则得到 10%的分。
```
输入保证描述了一棵连通的 N 结点树，1≤N≤1 000。
</div>
</article>
</div>
</div>
</body>
</html>
