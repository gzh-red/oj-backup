<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2012]PRE-Prefixuffix - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377026:w3CG4rjO80NLtIGa5aeeX+8lzhsWWtV7h/oxtdkOnqM=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22We%20consider%20strings%20consisting%20of%20lowercase%20letters%20of%20the%20English%20alphabet%20in%20this%20problem.%5Cn%5CnAn%20initial%20fragment%20of%20a%20given%20string%20is%20called%20its%20prefix.%5Cn%5CnA%20final%20%28terminal%29%20fragment%20of%20a%20given%20string%20is%20called%20its%20suffix.%5Cn%5CnIn%20particular%2C%20the%20empty%20string%20is%20both%20a%20prefix%20and%20a%20suffix%20of%20any%20string.%5Cn%5CnTwo%20strings%20are%20cyclically%20equivalent%20if%20one%20of%20them%20can%20be%20obtained%20from%20another%20by%20%20%20%20moving%20its%20certain%20suffix%20from%20the%20end%20of%20the%20string%20to%20its%20beginning.%5Cn%5CnFor%20example%2C%20the%20strings%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.1.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.2.png%29%20are%20cyclically%20equivalent%2C%20whereas%20the%20strings%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.3.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.4.png%29%20are%20not.%5Cn%5CnIn%20particular%2C%20every%20string%20is%20cyclically%20equivalent%20to%20itself.%5Cn%5CnA%20string%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.5.png%29%20consisting%20of%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.6.png%29%20letters%20is%20given.%5Cn%5CnWe%20are%20looking%20for%20its%20prefix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.7.png%29%20and%20suffix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.8.png%29%20of%20equal%20length%20such%20that%3A%5Cn%5Cn%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.9.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.10.png%29%20are%20cyclically%20equivalent%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20common%20length%20of%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.11.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.12.png%29%20does%20not%20exceed%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.13.png%29%20%20%20%20%20%20%20%20%28i.e.%2C%20the%20prefix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.14.png%29%20and%20the%20suffix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.15.png%29%20do%20not%20overlap%20in%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.16.png%29%29%2C%20and%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20common%20length%20of%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.17.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.18.png%29%20is%20maximized.%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4e24%5Cu4e2a%5Cu4e32S1%5Cu3001S2%5Cuff0c%5Cu5982%5Cu679c%5Cu80fd%5Cu591f%5Cu5c06S1%5Cu7684%5Cu4e00%5Cu4e2a%5Cu540e%5Cu7f00%5Cu79fb%5Cu52a8%5Cu5230%5Cu5f00%5Cu5934%5Cu540e%5Cu53d8%5Cu6210S2%5Cuff0c%5Cu5c31%5Cu79f0S1%5Cu548cS2%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu3002%5Cu4f8b%5Cu5982%5Cu4e32ababba%5Cu548c%5Cu4e32abbaab%5Cu662f%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu7684%5Cu3002%5Cn%5Cn%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu4e32S%5Cuff0c%5Cu6c42%5Cu6ee1%5Cu8db3%5Cu4e0b%5Cu9762%5Cu6761%5Cu4ef6%5Cu7684%5Cu6700%5Cu5927%5Cu7684L%5Cuff1a%5Cn%5Cn2.%20S%5Cu7684L%5Cu524d%5Cu7f00%5Cu548cS%5Cu7684L%5Cu540e%5Cu7f00%5Cu662f%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu7684%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20a%20single%20integer%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.19.png%29%20%20%20%20%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.20.png%29%29%20denoting%20the%20length%20of%20the%20string%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.21.png%29.%5Cn%5CnThe%20second%20line%20of%20input%20contains%20the%20string%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.22.png%29%20itself%2C%20consisting%20of%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.23.png%29%20lowercase%20letters%20of%20the%20English%20alphabet.%5Cn%5CnIn%20tests%20worth%2030%25%20of%20the%20points%20the%20condition%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.24.png%29%20holds%20in%20addition.%5Cn%5CnIn%20tests%20worth%2050%25%20of%20the%20points%20the%20condition%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.25.png%29%20holds%20in%20addition.%5Cn%22%2C%22outputFormat%22%3A%22Your%20program%20should%20print%20a%20single%20integer%20in%20the%20first%20and%20only%20line%20of%20the%20standard%20output%2C%20%20%20%20%20%20namely%20the%20common%20length%20of%20the%20prefix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.26.png%29%20and%20the%20suffix%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fpre-en-tex.27.png%29%20that%20we%20are%20looking%20for.%5Cn%22%2C%22samples%22%3A%5B%5B%2215%5Cnababbabababbaab%22%2C%226%22%5D%5D%2C%22hint%22%3A%22%5Cu5bf9%5Cu4e8e%5Cu4e24%5Cu4e2a%5Cu4e32S1%5Cu3001S2%5Cuff0c%5Cu5982%5Cu679c%5Cu80fd%5Cu591f%5Cu5c06S1%5Cu7684%5Cu4e00%5Cu4e2a%5Cu540e%5Cu7f00%5Cu79fb%5Cu52a8%5Cu5230%5Cu5f00%5Cu5934%5Cu540e%5Cu53d8%5Cu6210S2%5Cuff0c%5Cu5c31%5Cu79f0S1%5Cu548cS2%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu3002%5Cu4f8b%5Cu5982%5Cu4e32ababba%5Cu548c%5Cu4e32abbaab%5Cu662f%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu7684%5Cu3002%5Cn%5Cn%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3an%5Cu7684%5Cu4e32S%5Cuff0c%5Cu6c42%5Cu6ee1%5Cu8db3%5Cu4e0b%5Cu9762%5Cu6761%5Cu4ef6%5Cu7684%5Cu6700%5Cu5927%5Cu7684L%5Cuff1a%5Cn%5Cn2.%20S%5Cu7684L%5Cu524d%5Cu7f00%5Cu548cS%5Cu7684L%5Cu540e%5Cu7f00%5Cu662f%5Cu5faa%5Cu73af%5Cu76f8%5Cu540c%5Cu7684%5Cu3002%5Cn%5Cn%24L%5C%5Cleq%20%5C%5Cfrac%20n%202%24%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B29%2C57%2C235%2C254%2C273%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A195%2C%22totalAccepted%22%3A69%2C%22pid%22%3A%22P3546%22%2C%22title%22%3A%22%5BPOI2012%5DPRE-Prefixuffix%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A165316%2C%22title%22%3A%22%5Cu6ca1%5Cu6709%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%22%2C%22forum%22%3A%7B%22id%22%3A2623%2C%22name%22%3A%22P3546%20%5BPOI2012%5DPRE-Prefixuffix%22%2C%22slug%22%3A%22P3546%22%7D%7D%2C%7B%22id%22%3A76116%2C%22title%22%3A%22%5Cu9898%5Cu9762%5Cu4e0d%5Cu5168%22%2C%22forum%22%3A%7B%22id%22%3A2623%2C%22name%22%3A%22P3546%20%5BPOI2012%5DPRE-Prefixuffix%22%2C%22slug%22%3A%22P3546%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3537%22%2C%22title%22%3A%22%5BPOI2012%5DSZA-Cloakroom%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF700E%22%2C%22title%22%3A%22Cool%20Slogans%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P5293%22%2C%22title%22%3A%22%5BHNOI2019%5D%5Cu767d%5Cu5154%5Cu4e4b%5Cu821e%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1207A%22%2C%22title%22%3A%22There%20Are%20Two%20Types%20Of%20Burgers%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22CF1220E%22%2C%22title%22%3A%22Tourism%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2012%5DPRE-Prefixuffix%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2012]PRE-Prefixuffix</h1>
<h2>题目描述</h2>
<div>We consider strings consisting of lowercase letters of the English alphabet in this problem.
An initial fragment of a given string is called its prefix.
A final (terminal) fragment of a given string is called its suffix.
In particular, the empty string is both a prefix and a suffix of any string.
Two strings are cyclically equivalent if one of them can be obtained from another by moving its certain suffix from the end of the string to its beginning.
For example, the strings ![](http://main.edu.pl/images/OI19/pre-en-tex.1.png) and ![](http://main.edu.pl/images/OI19/pre-en-tex.2.png) are cyclically equivalent, whereas the strings ![](http://main.edu.pl/images/OI19/pre-en-tex.3.png) and ![](http://main.edu.pl/images/OI19/pre-en-tex.4.png) are not.
In particular, every string is cyclically equivalent to itself.
A string ![](http://main.edu.pl/images/OI19/pre-en-tex.5.png) consisting of ![](http://main.edu.pl/images/OI19/pre-en-tex.6.png) letters is given.
We are looking for its prefix ![](http://main.edu.pl/images/OI19/pre-en-tex.7.png) and suffix ![](http://main.edu.pl/images/OI19/pre-en-tex.8.png) of equal length such that:
![](http://main.edu.pl/images/OI19/pre-en-tex.9.png) and ![](http://main.edu.pl/images/OI19/pre-en-tex.10.png) are cyclically equivalent, the common length of ![](http://main.edu.pl/images/OI19/pre-en-tex.11.png) and ![](http://main.edu.pl/images/OI19/pre-en-tex.12.png) does not exceed ![](http://main.edu.pl/images/OI19/pre-en-tex.13.png) (i.e., the prefix ![](http://main.edu.pl/images/OI19/pre-en-tex.14.png) and the suffix ![](http://main.edu.pl/images/OI19/pre-en-tex.15.png) do not overlap in ![](http://main.edu.pl/images/OI19/pre-en-tex.16.png)), and the common length of ![](http://main.edu.pl/images/OI19/pre-en-tex.17.png) and ![](http://main.edu.pl/images/OI19/pre-en-tex.18.png) is maximized.
对于两个串S1、S2，如果能够将S1的一个后缀移动到开头后变成S2，就称S1和S2循环相同。例如串ababba和串abbaab是循环相同的。
给出一个长度为n的串S，求满足下面条件的最大的L：
2. S的L前缀和S的L后缀是循环相同的。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains a single integer ![](http://main.edu.pl/images/OI19/pre-en-tex.19.png) (![](http://main.edu.pl/images/OI19/pre-en-tex.20.png)) denoting the length of the string ![](http://main.edu.pl/images/OI19/pre-en-tex.21.png).
The second line of input contains the string ![](http://main.edu.pl/images/OI19/pre-en-tex.22.png) itself, consisting of ![](http://main.edu.pl/images/OI19/pre-en-tex.23.png) lowercase letters of the English alphabet.
In tests worth 30% of the points the condition ![](http://main.edu.pl/images/OI19/pre-en-tex.24.png) holds in addition.
In tests worth 50% of the points the condition ![](http://main.edu.pl/images/OI19/pre-en-tex.25.png) holds in addition.
</div>
<h3>输出格式</h3>
<br />
<div>Your program should print a single integer in the first and only line of the standard output, namely the common length of the prefix ![](http://main.edu.pl/images/OI19/pre-en-tex.26.png) and the suffix ![](http://main.edu.pl/images/OI19/pre-en-tex.27.png) that we are looking for.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>15
ababbabababbaab</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6</code></pre>
<h2>说明</h2>
<div>对于两个串S1、S2，如果能够将S1的一个后缀移动到开头后变成S2，就称S1和S2循环相同。例如串ababba和串abbaab是循环相同的。
给出一个长度为n的串S，求满足下面条件的最大的L：
2. S的L前缀和S的L后缀是循环相同的。
$L\leq \frac n 2$
</div>
</article>
</div>
</div>
</body>
</html>
