<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO16JAN]堡哞Fort Moo - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376452:xXsd7O2XFfh+t/8H4A0KpLequ5k/uC3XMZuU2Fwi8Rk=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20is%20building%20a%20fort%20with%20her%20friend%20Elsie.%20Like%20any%20good%20fort%2C%20this%20one%20needs%20to%20start%20with%20a%20sturdy%20frame.%20Bessie%20wants%20to%20build%20a%20frame%20in%20the%20shape%20of%20a%20one-meter-wide%20rectangular%20outline%2C%20atop%20which%20she%20will%20build%20the%20fort.%5Cn%5Cn%5CnBessie%20has%20already%20chosen%20a%20site%20on%20which%20to%20build%20the%20fort%20--%20a%20piece%20of%20land%20measuring%20%24N%24%20meters%20by%20%24M%24%20meters%20%28%241%20%5C%5Cleq%20N%2C%20M%20%5C%5Cleq%20200%24%29.%20Unfortunately%2C%20the%20%20site%20has%20some%20swampy%20areas%20that%20cannot%20be%20used%20to%20support%20the%20frame.%20%20Please%20help%20Bessie%20determine%20the%20largest%20area%20she%20can%20cover%20with%20her%20fort%20%28the%20area%20of%5Cn%5Cnthe%20rectangle%20supported%20by%20the%20frame%29%2C%20such%20that%20the%20frame%20avoids%20sitting%20on%20any%20of%20the%20swampy%20areas.%5Cn%5CnBessie%5Cu548c%5Cu5979%5Cu7684%5Cu670b%5Cu53cbElsie%5Cu6b63%5Cu5728%5Cu5efa%5Cu7b51%5Cu4e00%5Cu4e2a%5Cu5821%5Cu5792%5Cuff0c%5Cu4e0e%5Cu4efb%5Cu4f55%5Cu4e00%5Cu4e2a%5Cu597d%5Cu7684%5Cu5821%5Cu5792%5Cu4e00%5Cu6837%5Cuff0c%5Cu8fd9%5Cu4e2a%5Cu9700%5Cu8981%5Cu4e00%5Cu4e2a%5Cu5f3a%5Cu56fa%5Cu7684%5Cu6846%5Cu67b6%5Cu3002Bessie%5Cu60f3%5Cu9020%5Cu4e00%5Cu4e2a%5Cu8f6e%5Cu5ed3%5Cu662f1m%5Cu5bbd%5Cu7684%5Cu7a7a%5Cu5fc3%5Cu77e9%5Cu5f62%5Cu6846%5Cu67b6%5Cuff0c%5Cu8fd9%5Cu6837%5Cu5821%5Cu5792%5Cu5c31%5Cu53ef%5Cu4ee5%5Cu9020%5Cu5728%5Cu6846%5Cu67b6%5Cu4e0a%5Cu4e86%5Cu3002%5Cn%5CnBessie%5Cu4ee5%5Cu53ca%5Cu9009%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu5730%5Cu70b9%5Cu5efa%5Cu7b51%5Cu5821%5Cu5792%5Cuff0c%5Cu4e00%5Cu7247N%5C%5C%2AM%281%3C%3DN%2CM%3C%3D200%29%5Cu7684%5Cu5e73%5Cu5730%5Cu3002%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cuff0c%5Cu8fd9%5Cu4e2a%5Cu5730%5Cu65b9%5Cu6709%5Cu4e00%5Cu4e9b%5Cu6cbc%5Cu6cfd%5Cu5730%5Cu800c%5Cu4e0d%5Cu53ef%5Cu4ee5%5Cu652f%5Cu6491%5Cu6846%5Cu67b6%5Cu3002%5Cu8bf7%5Cu5e2e%5Cu52a9Bessie%5Cu51b3%5Cu5b9a%5Cu6700%5Cu5927%5Cu5979%5Cu53ef%5Cu4ee5%5Cu7528%5Cu5821%5Cu5792%5Cu8986%5Cu76d6%5Cu7684%5Cu533a%5Cu57df%5Cuff08%5Cu5373%5Cu652f%5Cu6491%5Cu6846%5Cu67b6%5Cu7684%5Cu533a%5Cu57df%5Cuff09%5Cuff0c%5Cu800c%5Cu4e14%5Cu907f%5Cu514d%5Cu6846%5Cu67b6%5Cu5728%5Cu4efb%5Cu4f55%5Cu4e00%5Cu5757%5Cu6cbc%5Cu6cfd%5Cu5730%5Cu4e0a%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22Line%201%20contains%20integers%20%24N%24%20and%20%24M%24.%5Cn%5Cn%5CnThe%20next%20%24N%24%20lines%20each%20contain%20%24M%24%20characters%2C%20forming%20a%20grid%20describing%20the%5Cn%5Cnsite.%20%20A%20character%20of%20%27.%27%20represents%20normal%20grass%2C%20while%20%27X%27%20represents%20a%20swampy%5Cn%5Cnspot.%22%2C%22outputFormat%22%3A%22A%20single%20integer%20representing%20the%20maximum%20area%20that%20Bessie%20can%20cover%20with%20her%5Cn%5Cnfort.%22%2C%22samples%22%3A%5B%5B%225%206%5Cn......%5Cn..X..X%5CnX..X..%5Cn......%5Cn..X...%22%2C%2216%22%5D%5D%2C%22hint%22%3A%22In%20the%20example%2C%20the%20placement%20of%20the%20optimal%20frame%20is%20indicated%20by%20%27f%27s%20below%3A%5Cn%5Cn%60%60%60cpp%5Cn.ffff.%5Cn.fX.fX%5CnXf.Xf.%5Cn.ffff.%5Cn..X...%5Cn%60%60%60%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C33%2C46%2C111%2C318%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A465%2C%22totalAccepted%22%3A214%2C%22pid%22%3A%22P3135%22%2C%22title%22%3A%22%5BUSACO16JAN%5D%5Cu5821%5Cu54deFort%20Moo%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A4964%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%5Cu4fee%5Cu6b63%22%2C%22forum%22%3A%7B%22id%22%3A2251%2C%22name%22%3A%22P3135%20%5BUSACO16JAN%5D%5Cu5821%5Cu54deFort%20Moo%22%2C%22slug%22%3A%22P3135%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3004%22%2C%22title%22%3A%22%5BUSACO10DEC%5D%5Cu5b9d%5Cu7bb1Treasure%20Chest%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3138%22%2C%22title%22%3A%22%5BUSACO16FEB%5D%5Cu8d1f%5Cu8f7d%5Cu5e73%5Cu8861Load%20Balancing_Silver%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3141%22%2C%22title%22%3A%22%5BUSACO16FEB%5D%5Cu56f4%5Cu680fFenced%20In_Platinum%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF4D%22%2C%22title%22%3A%22Mysterious%20Present%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%2C%7B%22pid%22%3A%22P4265%22%2C%22title%22%3A%22%5BUSACO18FEB%5DSnow%20Boots%20S%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO16JAN%5D%5Cu5821%5Cu54deFort%20Moo%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO16JAN]堡哞Fort Moo</h1>
<h2>题目描述</h2>
<div>Bessie is building a fort with her friend Elsie. Like any good fort, this one needs to start with a sturdy frame. Bessie wants to build a frame in the shape of a one-meter-wide rectangular outline, atop which she will build the fort.
Bessie has already chosen a site on which to build the fort -- a piece of land measuring $N$ meters by $M$ meters ($1 \leq N, M \leq 200$). Unfortunately, the site has some swampy areas that cannot be used to support the frame. Please help Bessie determine the largest area she can cover with her fort (the area of
the rectangle supported by the frame), such that the frame avoids sitting on any of the swampy areas.
Bessie和她的朋友Elsie正在建筑一个堡垒，与任何一个好的堡垒一样，这个需要一个强固的框架。Bessie想造一个轮廓是1m宽的空心矩形框架，这样堡垒就可以造在框架上了。
Bessie以及选了一个地点建筑堡垒，一片N\*M(1<=N,M<=200)的平地。不幸的是，这个地方有一些沼泽地而不可以支撑框架。请帮助Bessie决定最大她可以用堡垒覆盖的区域（即支撑框架的区域），而且避免框架在任何一块沼泽地上。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Line 1 contains integers $N$ and $M$.
The next $N$ lines each contain $M$ characters, forming a grid describing the
site. A character of '.' represents normal grass, while 'X' represents a swampy
spot.</div>
<h3>输出格式</h3>
<br />
<div>A single integer representing the maximum area that Bessie can cover with her
fort.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 6
......
..X..X
X..X..
......
..X...</code></pre>
<h3>输出样例 #1</h3>
<pre><code>16</code></pre>
<h2>说明</h2>
<div>In the example, the placement of the optimal frame is indicated by 'f's below:
```cpp
.ffff.
.fX.fX
Xf.Xf.
.ffff.
..X...
```</div>
</article>
</div>
</div>
</body>
</html>
