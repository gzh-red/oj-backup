<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO14OPEN]牛光学Cow Optics - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376416:yUiIzeU3YJuD6J9aHmLDHAGSQ5Yfr9Rw7v931H4+52Q=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%5Cu5f81%5Cu6c42%5Cu7ffb%5Cu8bd1%5Cu3002%5Cu5982%5Cu679c%5Cu4f60%5Cu80fd%5Cu63d0%5Cu4f9b%5Cu7ffb%5Cu8bd1%5Cu6216%5Cu8005%5Cu9898%5Cu610f%5Cu7b80%5Cu8ff0%5Cuff0c%5Cu8bf7%5Cu76f4%5Cu63a5%5Cu53d1%5Cu8ba8%5Cu8bba%5Cuff0c%5Cu611f%5Cu8c22%5Cu4f60%5Cu7684%5Cu8d21%5Cu732e%5Cu3002%5Cn%22%2C%22description%22%3A%22Farmer%20John%27s%20cows%20would%20like%20to%20host%20a%20dance%20party%20in%20their%20barn%2C%20complete%20with%20a%20laser%20light%20show.%20%20Unfortunately%2C%20the%20only%20working%20laser%20they%20have%20found%20is%20located%20far%20away%20from%20the%20barn%20and%20too%20heavy%20to%20move%2C%20so%20they%20plan%20to%20re-direct%20the%20laser%20light%20to%20the%20barn%20using%20a%20series%20of%20mirrors.%5Cn%5CnThe%20layout%20of%20the%20farm%20has%20the%20laser%20at%20position%20%280%2C0%29%20pointing%20north%20%28in%20the%20positive%20y%20direction%29%2C%20and%20the%20barn%20at%20%28Bx%2C%20By%29%3B%20we%20can%20think%20of%20both%20the%20laser%20and%20the%20barn%20as%20points%20in%20the%202D%20plane.%20%20There%20are%20already%20N%20cows%20%281%20%3C%3D%20N%20%3C%3D%20100%2C000%29%20scattered%20throughout%20the%20farm%20holding%20mirrors%20that%20are%20aligned%20at%20angles%20of%2045%20degrees%20to%20the%20axes.%20%20For%20example%2C%20a%20mirror%20aligned%20like%20%5C%5C%20will%20take%20a%20beam%20of%20light%20entering%20from%20below%20and%20reflect%20it%20to%20the%20left.%20%20We%20can%20also%20think%20of%20the%20mirrors%20as%20being%20located%20at%20points%20in%20the%202D%20plane.%5Cn%5CnJust%20before%20pressing%20the%20big%20red%20button%20to%20activate%20the%20laser%2C%20Bessie%20noticed%20a%20major%20flaw%20in%20the%20plan%3A%20the%20laser%20cannot%20hit%20the%20barn%20with%20the%20mirrors%20in%20their%20current%20configuration%21%20%20As%20a%20result%2C%20she%20plans%20to%20run%20out%20onto%20the%20field%2C%20and%20hold%20up%20one%20more%20mirror%20%28placed%20once%20again%20at%20a%2045%20degree%20angle%29%20in%20order%20to%20redirect%20the%20laser%20onto%20the%20barn.%20Please%20count%20the%20number%20of%20locations%20in%20the%20field%20where%20Bessie%20can%20stand%20to%20accomplish%20this%20goal.%5Cn%5CnAll%20coordinates%20are%20integers%20between%20-1%2C000%2C000%2C000%20and%201%2C000%2C000%2C000.%20It%20is%20guaranteed%20that%20any%20mirrors%20to%20be%20placed%20will%20be%20in%20this%20range%20as%20well.%20The%20cows%20running%20the%20laser%20insist%20that%20the%20beam%20should%20never%20come%20back%20to%20%280%2C0%29%20after%20leaving%20this%20location%20%28and%20with%20the%20mirrors%20in%20their%20initial%20configuration%2C%20it%20is%20guaranteed%20that%20this%20will%20not%20happen%29.%20%20No%20two%20cows%20occupy%20the%20same%20point%20in%20space%2C%20and%20Bessie%20cannot%20locate%20herself%20at%20the%20same%20position%20as%20an%20existing%20cow.%5Cn%5Cn%5Cu519c%5Cu573a%5Cu4e3b%5Cu7ea6%5Cu7ff0%5Cu7684%5Cu725b%5Cu60f3%5Cu5728%5Cu8c37%5Cu4ed3%5Cu91cc%5Cu9762%5Cu4e3e%5Cu529e%5Cu821e%5Cu4f1a%5Cuff0c%5Cu7528%5Cu6fc0%5Cu5149%5Cu706f%5Cu6765%5Cu8868%5Cu6f14%5Cu3002%5Cu4f46%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cu552f%5Cu4e00%5Cu7684%5Cu6fc0%5Cu5149%5Cu706f%5Cu79bb%5Cu8c37%5Cu4ed3%5Cu592a%5Cu8fdc%5Cuff0c%5Cu5e76%5Cu4e14%5Cu642c%5Cu4e0d%5Cu52a8%5Cuff0c%5Cu6240%5Cu4ee5%5Cu725b%5Cu4eec%5Cu60f3%5Cu7528%5Cu955c%5Cu5b50%5Cu6765%5Cu53cd%5Cu5c04%5Cu6fc0%5Cu5149%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu6fc0%5Cu5149%5Cu7167%5Cu5230%5Cu8c37%5Cu4ed3%5Cu3002%5Cn%5Cn%5Cn%5Cu6fc0%5Cu5149%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5728%5Cuff080%2C0%5Cuff09%5Cuff0c%5Cu6307%5Cu5411%5Cu4e3a%5Cu5317%5Cu65b9%5Cuff08%5Cu5373y%5Cu8f74%5Cu6b63%5Cu65b9%5Cu5411%5Cuff09%5Cuff0c%5Cu8c37%5Cu4ed3%5Cu5728%5Cu4f4d%5Cu7f6e%5Cuff08Bx%5Cuff0cBy%5Cuff09%5Cu3002%5Cu5df2%5Cu7ecf%5Cu6709N%5Cu5934%5Cu5976%5Cu725b%5Cu62ff%5Cu7740%5Cu955c%5Cu5b50%5Cu5206%5Cu6563%5Cu5728%5Cu519c%5Cu573a%5Cu7684%5Cu5404%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cuff081%20%3C%3D%20N%20%3C%3D%20100%2C000%5Cuff09%5Cuff0c%5Cu955c%5Cu5b50%5Cu4e0e%5Cu539f%5Cu70b9%5Cu4e4b%5Cu95f4%5Cu7684%5Cu5939%5Cu89d2%5Cu4e3a45%5Cu5ea6%5Cu3002%5Cu4f8b%5Cu5982%5Cu4e00%5Cu4e2a%5Cu8fd9%5Cu6837%5Cuff08%5Cu201c%5C%5C%5Cu201c%5Cuff09%5Cu7684%5Cu955c%5Cu5b50%5Cu53ef%5Cu4ee5%5Cu628a%5Cu4ece%5Cu4e0b%5Cu65b9%5Cu5c04%5Cu6765%5Cu7684%5Cu5149%5Cu7ebf%5Cu53cd%5Cu5c04%5Cu6210%5Cu5411%5Cu5de6%5Cu7684%5Cu5149%5Cu7ebf%5Cu3002%5Cn%5Cn%5CnBessie%5Cu5728%5Cu542f%5Cu52a8%5Cu6fc0%5Cu5149%5Cu7684%5Cu524d%5Cu4e00%5Cu523b%5Cu610f%5Cu8bc6%5Cu5230%5Cu8ba1%5Cu5212%5Cu6709%5Cu7f3a%5Cu9677%5Cuff0c%5Cu6240%5Cu4ee5%5Cu5979%5Cu81ea%5Cu5df1%5Cu53c8%5Cu62ff%5Cu7740%5Cu4e00%5Cu9762%5Cu955c%5Cu5b50%5Cu51fa%5Cu53bb%5Cu4e86%5Cuff0c%5Cu6070%5Cu597d%5Cu4f7f%5Cu5f97%5Cu6fc0%5Cu5149%5Cu7167%5Cu5230%5Cu8c37%5Cu4ed3%5Cu3002%5Cn%5Cn%5Cn%5Cu8bf7%5Cu8ba1%5Cu7b97Bessie%5Cu53ef%5Cu80fd%5Cu7ad9%5Cu5728%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu603b%5Cu6570%5Cu3002%5Cn%5Cn%5Cn%5Cu5750%5Cu6807%5Cu8303%5Cu56f4%5Cuff1a-1%2C000%2C000%2C000%20%5Cu5230%201%2C000%2C000%2C000%5Cuff0c%5Cu6570%5Cu636e%5Cu4fdd%5Cu8bc1%5Cu521d%5Cu59cb%5Cu65f6%5Cu6fc0%5Cu5149%5Cu5149%5Cu675f%5Cu4e0d%5Cu4f1a%5Cu53cd%5Cu5c04%5Cu56de%5Cuff080%2C0%5Cuff09%5Cu4f4d%5Cu7f6e%5Cu3002%5Cu540c%5Cu4e00%5Cu70b9%5Cu4e0a%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu6709%5Cu591a%5Cu5934%5Cu725b%5Cuff0cBessie%5Cu4e0d%5Cu80fd%5Cu7ad9%5Cu5728%5Cu5176%5Cu4ed6%5Cu725b%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20The%20integers%20N%2C%20Bx%2C%20and%20By.%5Cn%5Cn%5C%5C%2A%20Lines%202..N%20%2B%201%3A%20Line%20i%2B1%20describes%20the%20ith%20mirror%20with%203%20elements%3A%20its%20%28x%2Cy%29%20location%2C%20and%20its%20orientation%20%28either%20%27%5C%5C%27%20or%20%27%5C%2F%27%29.%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cuff1a%5Cu4e09%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1aN%5Cuff0cBx%5Cuff0cBy%5Cu3002%5Cn%5Cn%5Cn%5Cu7b2c2~N%2B1%5Cu884c%5Cuff1a%5Cu6bcf%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cu8868%5Cu793a%5Cu725b%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cuff08%5Cu201d%5C%2F%5Cu201c%5Cu6216%5C%22%5C%5C%5C%22%5Cuff09%5Cu8868%5Cu793a%5Cu955c%5Cu5b50%5Cu600e%5Cu4e48%5Cu653e%5Cu7f6e%5Cu7684%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22where%20Bessie%20can%20stand%20to%20redirect%20the%20laser%20to%20the%20barn.%5Cn%5CnBessie%5Cu6240%5Cu6709%5Cu53ef%5Cu80fd%5Cu7ad9%5Cu5728%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu603b%5Cu6570%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%224%201%202%20%5Cn-2%201%20%5C%5C%20%5Cn2%201%20%5C%2F%20%5Cn2%202%20%5C%5C%20%5Cn-2%202%20%5C%2F%20%5Cn%22%2C%222%20%5Cn%22%5D%5D%2C%22hint%22%3A%22A%20mirror%20at%20%280%2C1%29%20or%20%280%2C2%29%20placed%20in%20either%20direction%20would%20do%20the%20trick.%5Cn%5Cn%5Cu6837%5Cu4f8b%5Cu4e2dBessie%5Cu53ef%5Cu80fd%5Cu7ad9%5Cu5728%5Cuff080%2C1%5Cuff09%5Cu6216%5Cu8005%5Cuff080%2C2%5Cuff09%5Cu3002%5Cn%5Cn%5Cu611f%5Cu8c22%40SystemLLH%20%20%5Cu63d0%5Cu4f9b%5Cu7ffb%5Cu8bd1%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B7%2C31%2C42%2C46%2C254%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A22%2C%22totalAccepted%22%3A6%2C%22pid%22%3A%22P3108%22%2C%22title%22%3A%22%5BUSACO14OPEN%5D%5Cu725b%5Cu5149%5Cu5b66Cow%20Optics%22%2C%22difficulty%22%3A3%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A102650%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2224%2C%22name%22%3A%22P3108%20%5BUSACO14OPEN%5D%5Cu725b%5Cu5149%5Cu5b66Cow%20Optics%22%2C%22slug%22%3A%22P3108%22%7D%7D%2C%7B%22id%22%3A21384%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2224%2C%22name%22%3A%22P3108%20%5BUSACO14OPEN%5D%5Cu725b%5Cu5149%5Cu5b66Cow%20Optics%22%2C%22slug%22%3A%22P3108%22%7D%7D%2C%7B%22id%22%3A8134%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2224%2C%22name%22%3A%22P3108%20%5BUSACO14OPEN%5D%5Cu725b%5Cu5149%5Cu5b66Cow%20Optics%22%2C%22slug%22%3A%22P3108%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO14OPEN%5D%5Cu725b%5Cu5149%5Cu5b66Cow%20Optics%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO14OPEN]牛光学Cow Optics</h1>
<h2>题目背景</h2>
<div>征求翻译。如果你能提供翻译或者题意简述，请直接发讨论，感谢你的贡献。
</div>
<h2>题目描述</h2>
<div>Farmer John's cows would like to host a dance party in their barn, complete with a laser light show. Unfortunately, the only working laser they have found is located far away from the barn and too heavy to move, so they plan to re-direct the laser light to the barn using a series of mirrors.
The layout of the farm has the laser at position (0,0) pointing north (in the positive y direction), and the barn at (Bx, By); we can think of both the laser and the barn as points in the 2D plane. There are already N cows (1 <= N <= 100,000) scattered throughout the farm holding mirrors that are aligned at angles of 45 degrees to the axes. For example, a mirror aligned like \ will take a beam of light entering from below and reflect it to the left. We can also think of the mirrors as being located at points in the 2D plane.
Just before pressing the big red button to activate the laser, Bessie noticed a major flaw in the plan: the laser cannot hit the barn with the mirrors in their current configuration! As a result, she plans to run out onto the field, and hold up one more mirror (placed once again at a 45 degree angle) in order to redirect the laser onto the barn. Please count the number of locations in the field where Bessie can stand to accomplish this goal.
All coordinates are integers between -1,000,000,000 and 1,000,000,000. It is guaranteed that any mirrors to be placed will be in this range as well. The cows running the laser insist that the beam should never come back to (0,0) after leaving this location (and with the mirrors in their initial configuration, it is guaranteed that this will not happen). No two cows occupy the same point in space, and Bessie cannot locate herself at the same position as an existing cow.
农场主约翰的牛想在谷仓里面举办舞会，用激光灯来表演。但不幸的是唯一的激光灯离谷仓太远，并且搬不动，所以牛们想用镜子来反射激光，使得激光照到谷仓。
激光的位置在（0,0），指向为北方（即y轴正方向），谷仓在位置（Bx，By）。已经有N头奶牛拿着镜子分散在农场的各个位置（1 <= N <= 100,000），镜子与原点之间的夹角为45度。例如一个这样（“\“）的镜子可以把从下方射来的光线反射成向左的光线。
Bessie在启动激光的前一刻意识到计划有缺陷，所以她自己又拿着一面镜子出去了，恰好使得激光照到谷仓。
请计算Bessie可能站在的位置的总数。
坐标范围：-1,000,000,000 到 1,000,000,000，数据保证初始时激光光束不会反射回（0,0）位置。同一点上不可能有多头牛，Bessie不能站在其他牛的位置。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: The integers N, Bx, and By.
\* Lines 2..N + 1: Line i+1 describes the ith mirror with 3 elements: its (x,y) location, and its orientation (either '\' or '/').
第一行：三个整数：N，Bx，By。
第2~N+1行：每行两个整数表示牛的位置，一个字符（”/“或"\"）表示镜子怎么放置的。
</div>
<h3>输出格式</h3>
<br />
<div>where Bessie can stand to redirect the laser to the barn.
Bessie所有可能站在的位置总数。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 1 2 
-2 1 \ 
2 1 / 
2 2 \ 
-2 2 / 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2 
</code></pre>
<h2>说明</h2>
<div>A mirror at (0,1) or (0,2) placed in either direction would do the trick.
样例中Bessie可能站在（0,1）或者（0,2）。
感谢@SystemLLH 提供翻译
</div>
</article>
</div>
</div>
</body>
</html>
