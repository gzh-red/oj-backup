<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO08OPEN]牛的街区Cow Neighborhoods - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376128:8TZm0HcnWilsHAJai+4f20UOP4OMZUL+B/RqtE+m49w=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Those%20Who%20Know%20About%20Cows%20are%20aware%20of%20the%20way%20cows%20group%20into%20%27Cow%20Neighborhoods%27.%20They%20have%20observed%20Farmer%20John%27s%20N%20%281%20%3C%3D%20N%20%3C%3D%20100%2C000%29%20cows%20%28conveniently%20numbered%201..N%29%20as%20they%20graze%2C%20each%20at%20her%20own%20unique%20integer%20rectilinear%20coordinate%2C%20on%20a%20pasture%20whose%20X%20and%20Y%20coordinates%20are%20in%20the%20range%201..1%2C000%2C000%2C000.%5Cn%5CnTwo%20cows%20are%20neighbors%20if%20at%20least%20one%20of%20two%20criteria%20is%20met%3A%5Cn%5Cn1%29%20If%20the%20cows%20are%20no%20further%20than%20some%20integer%20Manhattan%20distance%20C%20%281%20%3C%3D%20C%20%3C%3D%201%2C000%2C000%2C000%29%20apart%2C%20they%20are%20neighbors.%20%5BManhattan%20distance%20is%20calculated%20as%20d%20%3D%20%7Cx1-x2%7C%20%2B%20%7Cy1-y2%7C.%5D%20%5Cn2%29%20If%20cow%20A%20is%20a%20neighbor%20of%20cow%20Z%20and%20cow%20B%20is%20a%20neighbor%20of%20cow%20Z%2C%20then%20cow%20A%20is%20a%20neighbor%20of%20cow%20B%20%28the%20%27transitive%20closure%20of%20neighbors%27%29.%5Cn%5CnGiven%20the%20locations%20of%20the%20cows%20and%20the%20distance%20C%2C%20determine%20the%20the%20number%20of%20neighborhoods%20and%20the%20number%20of%20cows%20in%20the%20largest%20neighborhood.%5Cn%5CnBy%20way%20of%20example%2C%20consider%20the%20pasture%20below.%20When%20C%20%3D%204%2C%20this%20pasture%20has%20four%20neighborhoods%3A%20a%20big%20one%20on%20the%20left%2C%20two%20neighborhoods%20of%20size%201%20%28the%20lonesome%20cows%29%2C%20and%20a%20huge%20neighborhood%20on%20the%20right%20with%2060%20different%20cows.%5Cn%5Cn%60%60%60cpp%5Cn.....................................%2A.................%20%5Cn....%2A...%2A..%2A.......................%2A%2A%2A.................%20%5Cn......%2A...........................%2A%2A%2A%2A.................%20%5Cn..%2A....%2A..%2A.......................%2A...%2A.%2A%2A%2A%2A%2A%2A.%2A.%2A.....%20%5Cn........................%2A.............%2A%2A%2A...%2A%2A%2A...%2A....%20%5Cn%2A..%2A..%2A...%2A..........................%2A..%2A...%2A..%2A...%2A...%20%5Cn.....................................%2A..%2A...%2A..%2A.......%20%5Cn.....................................%2A..%2A...%2A..%2A.......%20%5Cn...%2A................%2A..................................%20%5Cn.%2A..%2A............................%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%20%5Cn.%2A.....%2A..........................%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A.%2A%20%5Cn....%2A..................................................%20%5Cn%60%60%60%5CnThe%20input%20file%20describes%20cow%20locations%20by%20integer%20X%2CY%20coordinates%2C%20where%20the%20lower%20left%20corner%20is%20%281%2C1%29%20and%20cows%20close%20to%20that%20corner%20appear%20at%20both%20%282%2C2%29%20and%20%285%2C1%29%20in%20the%20example%20above.%5Cn%5CnFor%20a%20given%20pasture%2C%20determine%20both%20the%20number%20of%20cow%20neighborhoods%20and%20the%20number%20of%20cows%20resident%20in%20the%20largest%20cow%20neighborhood.%5Cn%5CnThe%20above%20picture%20is%20sample%20test%20case%202%2C%20which%20will%20be%20evaluated%20for%20you%20upon%20submission.%5Cn%5CnPartial%20feedback%20for%20some%20test%20cases%20will%20be%20provided%20on%20the%20first%2010%20submissions.%5Cn%5CnTime%20Limit%3A%202%20seconds%5Cn%5CnMemory%20Limit%3A%2032MB%5Cn%5Cn%5Cu4e86%5Cu89e3%5Cu5976%5Cu725b%5Cu4eec%5Cu7684%5Cu4eba%5Cu90fd%5Cu77e5%5Cu9053%5Cuff0c%5Cu5976%5Cu725b%5Cu559c%5Cu6b22%5Cu6210%5Cu7fa4%5Cu7ed3%5Cu961f%5Cuff0e%5Cu89c2%5Cu5bdf%5Cu7ea6%5Cu7ff0%5Cu7684N%281%5Cu2264N%5Cu2264100000%29%5Cu53ea%5Cu5976%5Cu725b%5Cuff0c%5Cu4f60%5Cu4f1a%5Cu53d1%5Cu73b0%5Cu5979%5Cu4eec%5Cu5df2%5Cu7ecf%5Cu7ed3%5Cu6210%5Cu4e86%5Cu51e0%5Cu4e2a%5Cu201c%5Cu7fa4%5Cu201d%5Cuff0e%5Cu6bcf%5Cu53ea%5Cu5976%5Cu725b%5Cu5728%5Cu5403%5Cu8349%5Cu7684%5Cu65f6%5Cu5019%5Cu6709%5Cu4e00%5Cu4e2a%5Cu72ec%5Cu4e00%5Cu65e0%5Cu4e8c%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5750%5Cu6807%24X_i%2CY_i%281%5C%5Cleq%20X_i%2CY_i%5C%5Cleq%20%5B1%20%5C%5Ccdots%2010%5E9%5D%24%5Cuff1b%24X_i%2CY_i%20%5C%5Cin%20%5C%5Ctext%7B%5Cu6574%5Cu6570%7D%24%5Cuff0e%5Cu5f53%5Cu6ee1%5Cu8db3%5Cu4e0b%5Cu5217%5Cu4e24%5Cu4e2a%5Cu6761%5Cu4ef6%5Cu4e4b%5Cu4e00%5Cuff0c%5Cu4e24%5Cu53ea%5Cu5976%5Cu725bi%5Cu548cj%5Cu662f%5Cu5c5e%5Cu4e8e%5Cu540c%5Cu4e00%5Cu4e2a%5Cu7fa4%5Cu7684%5Cuff1a%5Cn%5Cn1%5Cuff0e%5Cu4e24%5Cu53ea%5Cu5976%5Cu725b%5Cu7684%5Cu66fc%5Cu54c8%5Cu987f%5Cu8ddd%5Cu79bb%5Cu4e0d%5Cu8d85%5Cu8fc7%24C%281%5C%5Cleq%20C%5C%5Cleq%2010%5E9%29%24%5Cuff0c%5Cu5373%24%7CX_i%20-%20x_i%7C%2B%7CY_i%20-%20y_i%7C%5C%5Cleq%20C%24.%5Cn%5Cn2%5Cuff0e%5Cu4e24%5Cu53ea%5Cu5976%5Cu725b%5Cu6709%5Cu5171%5Cu540c%5Cu7684%5Cu90bb%5Cu5c45%5Cuff0e%5Cu5373%5Cuff0c%5Cu5b58%5Cu5728%5Cu4e00%5Cu53ea%5Cu5976%5Cu725b%24k%24%5Cuff0c%5Cu4f7f%24i%24%5Cu4e0e%24k%24%5Cuff0c%24j%24%5Cu4e0e%24k%24%5Cu5747%5Cu540c%5Cu5c5e%5Cu4e00%5Cu4e2a%5Cu7fa4%5Cuff0e%5Cn%5Cn%5Cu7ed9%5Cu51fa%5Cu5976%5Cu725b%5Cu4eec%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu8bf7%5Cu8ba1%5Cu7b97%5Cu8349%5Cu539f%5Cu4e0a%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu725b%5Cu7fa4%5Cuff0c%5Cu4ee5%5Cu53ca%5Cu6700%5Cu5927%5Cu7684%5Cu725b%5Cu7fa4%5Cu91cc%5Cu6709%5Cu591a%5Cu5c11%5Cu5976%5Cu725b%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Two%20space-separated%20integers%3A%20N%20and%20C%5Cn%5Cn%5C%5C%2A%20Lines%202..N%2B1%3A%20Line%20i%2B1%20describes%20cow%20i%27s%20location%20with%20two%5Cn%5Cnspace-separated%20integers%3A%20X%5C%5C_i%20and%20Y%5C%5C_i%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20A%20single%20line%20with%20a%20two%20space-separated%20integers%3A%20the%20number%20of%20cow%20neighborhoods%20and%20the%20size%20of%20the%20largest%20cow%20neighborhood.%5Cn%22%2C%22samples%22%3A%5B%5B%224%202%20%5Cn1%201%20%5Cn3%203%20%5Cn2%202%20%5Cn10%2010%20%5Cn%22%2C%222%203%20%5Cn%22%5D%5D%2C%22hint%22%3A%22There%20are%202%20neighborhoods%2C%20one%20formed%20by%20the%20first%20three%20cows%20and%20the%20other%20being%20the%20last%20cow.%20The%20largest%20neighborhood%20therefore%20has%20size%203.%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B25%2C46%2C47%2C166%2C219%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A669%2C%22totalAccepted%22%3A262%2C%22pid%22%3A%22P2906%22%2C%22title%22%3A%22%5BUSACO08OPEN%5D%5Cu725b%5Cu7684%5Cu8857%5Cu533aCow%20Neighborhoods%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2611%22%2C%22title%22%3A%22%5BZJOI2012%5D%5Cu5c0f%5Cu84dd%5Cu7684%5Cu597d%5Cu53cb%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3369%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu666e%5Cu901a%5Cu5e73%5Cu8861%5Cu6811%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2900%22%2C%22title%22%3A%22%5BUSACO08MAR%5D%5Cu571f%5Cu5730%5Cu5f81%5Cu7528Land%20Acquisition%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3201%22%2C%22title%22%3A%22%5BHNOI2009%5D%5Cu68a6%5Cu5e7b%5Cu5e03%5Cu4e01%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3964%22%2C%22title%22%3A%22%5BTJOI2013%5D%5Cu677e%5Cu9f20%5Cu805a%5Cu4f1a%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO08OPEN%5D%5Cu725b%5Cu7684%5Cu8857%5Cu533aCow%20Neighborhoods%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO08OPEN]牛的街区Cow Neighborhoods</h1>
<h2>题目描述</h2>
<div>Those Who Know About Cows are aware of the way cows group into 'Cow Neighborhoods'. They have observed Farmer John's N (1 <= N <= 100,000) cows (conveniently numbered 1..N) as they graze, each at her own unique integer rectilinear coordinate, on a pasture whose X and Y coordinates are in the range 1..1,000,000,000.
Two cows are neighbors if at least one of two criteria is met:
1) If the cows are no further than some integer Manhattan distance C (1 <= C <= 1,000,000,000) apart, they are neighbors. [Manhattan distance is calculated as d = |x1-x2| + |y1-y2|.]
2) If cow A is a neighbor of cow Z and cow B is a neighbor of cow Z, then cow A is a neighbor of cow B (the 'transitive closure of neighbors').
Given the locations of the cows and the distance C, determine the the number of neighborhoods and the number of cows in the largest neighborhood.
By way of example, consider the pasture below. When C = 4, this pasture has four neighborhoods: a big one on the left, two neighborhoods of size 1 (the lonesome cows), and a huge neighborhood on the right with 60 different cows.
```cpp
.....................................*.................
....*...*..*.......................***.................
......*...........................****.................
..*....*..*.......................*...*.******.*.*.....
........................*.............***...***...*....
*..*..*...*..........................*..*...*..*...*...
.....................................*..*...*..*.......
.....................................*..*...*..*.......
...*................*..................................
.*..*............................*.*.*.*.*.*.*.*.*.*.*.
.*.....*..........................*.*.*.*.*.*.*.*.*.*.*
....*..................................................
```
The input file describes cow locations by integer X,Y coordinates, where the lower left corner is (1,1) and cows close to that corner appear at both (2,2) and (5,1) in the example above.
For a given pasture, determine both the number of cow neighborhoods and the number of cows resident in the largest cow neighborhood.
The above picture is sample test case 2, which will be evaluated for you upon submission.
Partial feedback for some test cases will be provided on the first 10 submissions.
Time Limit: 2 seconds
Memory Limit: 32MB
了解奶牛们的人都知道，奶牛喜欢成群结队．观察约翰的N(1≤N≤100000)只奶牛，你会发现她们已经结成了几个“群”．每只奶牛在吃草的时候有一个独一无二的位置坐标$X_i,Y_i(1\leq X_i,Y_i\leq [1 \cdots 10^9]$；$X_i,Y_i \in \text{整数}$．当满足下列两个条件之一，两只奶牛i和j是属于同一个群的：
1．两只奶牛的曼哈顿距离不超过$C(1\leq C\leq 10^9)$，即$|X_i - x_i|+|Y_i - y_i|\leq C$.
2．两只奶牛有共同的邻居．即，存在一只奶牛$k$，使$i$与$k$，$j$与$k$均同属一个群．
给出奶牛们的位置，请计算草原上有多少个牛群，以及最大的牛群里有多少奶牛
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Two space-separated integers: N and C
\* Lines 2..N+1: Line i+1 describes cow i's location with two
space-separated integers: X\_i and Y\_i
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: A single line with a two space-separated integers: the number of cow neighborhoods and the size of the largest cow neighborhood.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4 2 
1 1 
3 3 
2 2 
10 10 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2 3 
</code></pre>
<h2>说明</h2>
<div>There are 2 neighborhoods, one formed by the first three cows and the other being the last cow. The largest neighborhood therefore has size 3.
</div>
</article>
</div>
</div>
</body>
</html>
