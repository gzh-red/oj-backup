<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2006]OKR-Periods of Words - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376890:kn3yQTTEENVS06mEYLt5wk5QHJ2FmYi6GeFhPZwtYO8=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20string%20is%20a%20finite%20sequence%20of%20lower-case%20%28non-capital%29%20letters%20of%20the%20English%20alphabet.%20Particularly%2C%20it%20may%20be%20an%20empty%20sequence%2C%20i.e.%20a%20sequence%20of%200%20letters.%20By%20A%3DBC%20we%20denotes%20that%20A%20is%20a%20string%20obtained%20by%20concatenation%20%28joining%20by%20writing%20one%20immediately%20after%20another%2C%20i.e.%20without%20any%20space%2C%20etc.%29%20of%20the%20strings%20B%20and%20C%20%28in%20this%20order%29.%20A%20string%20P%20is%20a%20prefix%20of%20the%20string%20%21%2C%20if%20there%20is%20a%20string%20B%2C%20that%20A%3DPB.%20In%20other%20words%2C%20prefixes%20of%20A%20are%20the%20initial%20fragments%20of%20A.%20In%20addition%2C%20if%20P%21%3DA%20and%20P%20is%20not%20an%20empty%20string%2C%20we%20say%2C%20that%20P%20is%20a%20proper%20prefix%20of%20A.%5Cn%5Cn%5CnA%20string%20Q%20is%20a%20period%20of%20Q%2C%20if%20Q%20is%20a%20proper%20prefix%20of%20A%20and%20A%20is%20a%20prefix%20%28not%20necessarily%20a%20proper%20one%29%20of%20the%20string%20QQ.%20For%20example%2C%20the%20strings%20abab%20and%20ababab%20are%20both%20periods%20of%20the%20string%20abababa.%20The%20maximum%20period%20of%20a%20string%20A%20is%20the%20longest%20of%20its%20periods%20or%20the%20empty%20string%2C%20if%20A%20doesn%27t%20have%20any%20period.%20For%20example%2C%20the%20maximum%20period%20of%20ababab%20is%20abab.%20The%20maximum%20period%20of%20abc%20is%20the%20empty%20string.%5Cn%5CnTask%20Write%20a%20programme%20that%3A%5Cn%5Cnreads%20from%20the%20standard%20input%20the%20string%27s%20length%20and%20the%20string%20itself%2Ccalculates%20the%20sum%20of%20lengths%20of%20maximum%20periods%20of%20all%20its%20prefixes%2Cwrites%20the%20result%20to%20the%20standard%20output.%5Cn%5Cn%5Cu4e00%5Cu4e2a%5Cu4e32%5Cu662f%5Cu6709%5Cu9650%5Cu4e2a%5Cu5c0f%5Cu5199%5Cu5b57%5Cu7b26%5Cu7684%5Cu5e8f%5Cu5217%2C%5Cu7279%5Cu522b%5Cu7684%2C%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu5e8f%5Cu5217%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu662f%5Cu4e00%5Cu4e2a%5Cu4e32.%20%5Cu4e00%5Cu4e2a%5Cu4e32P%5Cu662f%5Cu4e32A%5Cu7684%5Cu524d%5Cu7f00%2C%20%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53%5Cu5b58%5Cu5728%5Cu4e32B%2C%20%5Cu4f7f%5Cu5f97%20A%20%3D%20PB.%20%5Cu5982%5Cu679c%20P%20A%20%5Cu5e76%5Cu4e14%20P%20%5Cu4e0d%5Cu662f%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu4e32%2C%5Cu90a3%5Cu4e48%5Cu6211%5Cu4eec%5Cu8bf4%20P%20%5Cu662fA%5Cu7684%5Cu4e00%5Cu4e2aproper%5Cu524d%5Cu7f00.%20%5Cu5b9a%5Cu4e49Q%20%5Cu662fA%5Cu7684%5Cu5468%5Cu671f%2C%20%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53Q%5Cu662fA%5Cu7684%5Cu4e00%5Cu4e2aproper%20%5Cu524d%5Cu7f00%5Cu5e76%5Cu4e14A%5Cu662fQQ%5Cu7684%5Cu524d%5Cu7f00%28%5Cu4e0d%5Cu4e00%5Cu5b9a%5Cu8981%5Cu662fproper%5Cu524d%5Cu7f00%29.%20%5Cu6bd4%5Cu5982%5Cu4e32%20abab%20%5Cu548c%20ababab%20%5Cu90fd%5Cu662f%5Cu4e32abababa%5Cu7684%5Cu5468%5Cu671f.%20%5Cu4e32A%5Cu7684%5Cu6700%5Cu5927%5Cu5468%5Cu671f%5Cu5c31%5Cu662f%5Cu5b83%5Cu6700%5Cu957f%5Cu7684%5Cu4e00%5Cu4e2a%5Cu5468%5Cu671f%5Cu6216%5Cu8005%5Cu662f%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu4e32%28%5Cu5f53A%5Cu6ca1%5Cu6709%5Cu5468%5Cu671f%5Cu7684%5Cu65f6%5Cu5019%29%2C%20%5Cu6bd4%5Cu5982%5Cu8bf4%2C%20ababab%5Cu7684%5Cu6700%5Cu5927%5Cu5468%5Cu671f%5Cu662fabab.%20%5Cu4e32abc%5Cu7684%5Cu6700%5Cu5927%5Cu5468%5Cu671f%5Cu662f%5Cu7a7a%5Cu4e32.%20%5Cu7ed9%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu4e32%2C%5Cu6c42%5Cu51fa%5Cu5b83%5Cu6240%5Cu6709%5Cu524d%5Cu7f00%5Cu7684%5Cu6700%5Cu5927%5Cu5468%5Cu671f%5Cu957f%5Cu5ea6%5Cu4e4b%5Cu548c.%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20of%20the%20standard%20input%20there%20is%20one%20integer%20%24k%24%20%28%241%5C%5Cle%20k%5C%5Cle%201%5C%5C%20000%5C%5C%20000%24%29%20-%20the%20length%20of%20the%20string.%20In%20the%20following%20line%20a%20sequence%20of%20exactly%20%24k%24%20lower-case%20letters%20of%20the%20English%20alphabet%20is%20written%20-%20the%20string.%5Cn%22%2C%22outputFormat%22%3A%22In%20the%20first%20and%20only%20line%20of%20the%20standard%20output%20your%20programme%20should%20write%20an%20integer%20-%20the%20sum%20of%20lengths%20of%20maximum%20periods%20of%20all%20prefixes%20of%20the%20string%20given%20in%20the%20input.%5Cn%22%2C%22samples%22%3A%5B%5B%228%5Cnbabababa%22%2C%2224%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B23%2C57%2C302%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A2404%2C%22totalAccepted%22%3A1102%2C%22pid%22%3A%22P3435%22%2C%22title%22%3A%22%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A159385%2C%22title%22%3A%22%5Cu770b%5Cu4e0d%5Cu61c2%5Cu9898%5Cu76ee%5Cu7684%5Cu53ef%5Cu4ee5%5Cu770b%5Cu8fd9%5Cu91cc%22%2C%22forum%22%3A%7B%22id%22%3A2541%2C%22name%22%3A%22P3435%20%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22slug%22%3A%22P3435%22%7D%7D%2C%7B%22id%22%3A147041%2C%22title%22%3A%22%5Cu8fd9%5Cu4e0d%5Cu662f%5Cu673a%5Cu7ffb%5Cuff1f%5Cu5c45%5Cu7136%5Cu80fd%5Cu8fc7%5Cuff1f%5Cuff1f%5Cuff1f%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2541%2C%22name%22%3A%22P3435%20%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22slug%22%3A%22P3435%22%7D%7D%2C%7B%22id%22%3A143062%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu7ffb%5Cu8bd1%5Cu662f%5Cu4e0d%5Cu662f%5Cu6709%5Cu70b9%5Cu95ee%5Cu9898%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2541%2C%22name%22%3A%22P3435%20%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22slug%22%3A%22P3435%22%7D%7D%2C%7B%22id%22%3A29155%2C%22title%22%3A%22%5Cu6c42%5Cu6559%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu8fd9%5Cu6837%5Cu9519%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A2541%2C%22name%22%3A%22P3435%20%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22slug%22%3A%22P3435%22%7D%7D%2C%7B%22id%22%3A13726%2C%22title%22%3A%22%5Cu642c%5Cu8fd0%5Cu9898%5Cu76ee%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2541%2C%22name%22%3A%22P3435%20%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22slug%22%3A%22P3435%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2292%22%2C%22title%22%3A%22%5BHNOI2004%5DL%5Cu8bed%5Cu8a00%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2375%22%2C%22title%22%3A%22%5BNOI2014%5D%5Cu52a8%5Cu7269%5Cu56ed%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2922%22%2C%22title%22%3A%22%5BUSACO08DEC%5D%5Cu79d8%5Cu5bc6%5Cu6d88%5Cu606fSecret%20Message%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3808%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011AC%5Cu81ea%5Cu52a8%5Cu673a%5Cuff08%5Cu7b80%5Cu5355%5Cu7248%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4824%22%2C%22title%22%3A%22%5BUSACO15FEB%5DCensoring%20%28Silver%29%20%5Cu5ba1%5Cu67e5%28%5Cu94f6%29%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2006]OKR-Periods of Words</h1>
<h2>题目描述</h2>
<div>A string is a finite sequence of lower-case (non-capital) letters of the English alphabet. Particularly, it may be an empty sequence, i.e. a sequence of 0 letters. By A=BC we denotes that A is a string obtained by concatenation (joining by writing one immediately after another, i.e. without any space, etc.) of the strings B and C (in this order). A string P is a prefix of the string !, if there is a string B, that A=PB. In other words, prefixes of A are the initial fragments of A. In addition, if P!=A and P is not an empty string, we say, that P is a proper prefix of A.
A string Q is a period of Q, if Q is a proper prefix of A and A is a prefix (not necessarily a proper one) of the string QQ. For example, the strings abab and ababab are both periods of the string abababa. The maximum period of a string A is the longest of its periods or the empty string, if A doesn't have any period. For example, the maximum period of ababab is abab. The maximum period of abc is the empty string.
Task Write a programme that:
reads from the standard input the string's length and the string itself,calculates the sum of lengths of maximum periods of all its prefixes,writes the result to the standard output.
一个串是有限个小写字符的序列,特别的,一个空序列也可以是一个串. 一个串P是串A的前缀, 当且仅当存在串B, 使得 A = PB. 如果 P A 并且 P 不是一个空串,那么我们说 P 是A的一个proper前缀. 定义Q 是A的周期, 当且仅当Q是A的一个proper 前缀并且A是QQ的前缀(不一定要是proper前缀). 比如串 abab 和 ababab 都是串abababa的周期. 串A的最大周期就是它最长的一个周期或者是一个空串(当A没有周期的时候), 比如说, ababab的最大周期是abab. 串abc的最大周期是空串. 给出一个串,求出它所有前缀的最大周期长度之和.。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line of the standard input there is one integer $k$ ($1\le k\le 1\ 000\ 000$) - the length of the string. In the following line a sequence of exactly $k$ lower-case letters of the English alphabet is written - the string.
</div>
<h3>输出格式</h3>
<br />
<div>In the first and only line of the standard output your programme should write an integer - the sum of lengths of maximum periods of all prefixes of the string given in the input.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>8
babababa</code></pre>
<h3>输出样例 #1</h3>
<pre><code>24</code></pre>
</article>
</div>
</div>
</body>
</html>
