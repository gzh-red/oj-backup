<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[CERC2017]Buffalo Barricades - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573381747:5jkRT2w+Joj+MHxyoGNadwPVRXDtffO4kOuzHLSLSd0=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22A%20pasture%20in%20the%20wild%20west%20can%20be%20represented%20as%20a%20rectangular%20grid%20embedded%20in%20the%20upper-right%20quadrant%20of%20a%20standard%20coordinate%20system.%20A%20herd%20of%20%24n%24%20buffalos%20is%20scattered%20throughout%20the%20grid%2C%20each%20occupying%20a%20unit%20square.%20Buffalos%20are%20numbered%20%241%24%20through%20%24n%24%3B%20buffalo%20%24j%24%20is%20located%20in%20the%20unit%20square%20whose%20upper-right%20corner%20is%20the%20point%20with%20integer%20coordinates%20%24%28x_j%2Cy_j%29%24.%20The%20coordinate%20axes%20represent%20two%20rivers%20meeting%20at%20the%20origin%2C%20restricting%20buffalo%20movement%20downwards%20and%20leftwards.%5Cn%5CnA%20total%20of%20%24m%24%20settlers%20arrive%2C%20one%20by%20one%2C%20and%20each%20claims%20a%20piece%20of%20land%20using%20the%20following%20procedure%3A%5Cn%20%20%201.%20%20%20%20The%20settler%20picks%20a%20point%20with%20integer%20coordinates%20and%20installs%20a%20single%20fence%20post%20at%20that%20point.The%20point%20he%20picks%20is%20guaranteed%20to%20be%20free%20of%20any%20previously%20installed%20fence%20posts%20or%20fences.Moreover%2C%20no%20two%20fence%20posts%20will%20have%20the%20same%20%24x%24-coordinate%20and%20no%20two%20fence%20posts%20will%20have%20the%20same%20%24y%24-coordinates.%5Cn%20%20%202.%20%20%20%20Starting%20from%20the%20fence%20post%2C%20the%20settler%20builds%20horizontal%20and%20vertical%20fence%20segments%20leftwards%20and%20downwards%2C%20respectively.%20Each%20segment%20is%20built%20to%20be%20as%20long%20as%20possible%20%5Cu2014%20i.%20e.%20until%20it%20reaches%20the%20river%20or%20another%20fence.%5Cn%20%20%203.%20%20%20%20The%20settler%20claims%20all%20the%20land%20in%20the%20connected%20area%20bounded%20with%20fences%20and%20rivers%20whose%20upper-right%20corner%20is%20his%20fence%20post.%20Of%20course%2C%20he%20claims%20all%20the%20buffalos%20inside%20as%20well.%20Note%20that%20settlers%20arriving%20later%20may%20claim%20pieces%20of%20land%20already%20claimed%20by%20earlier%20settlers.%5Cn%5CnFor%20each%20settler%2C%20find%20the%20total%20number%20of%20buffalos%20he%20claimed%20when%20he%20arrived.%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20contains%20an%20integer%20%24n%281%20%5C%5Cle%20n%20%5C%5Cle%20300%20000%29%24%20%5Cu2014%20the%20number%20of%20buffalos.%20The%20%24j-th%24%20of%20the%20following%20%24n%24%20lines%20contains%20two%20integers%20%24x_j%24%20and%20%24y_j%281%20%5C%5Cle%20x_j%2Cy_j%20%5C%5Cle%2010%5E9%29%24%20%5Cu2014%20the%20location%20of%20the%20%24j-th%24%20buffalo.No%20two%20buffalos%20will%20share%20the%20same%20location.%5CnThe%20following%20line%20contains%20an%20integer%20%24m%281%20%5C%5Cle%20m%20%5C%5Cle%20300%20000%29%24%20%5Cu2014%20the%20number%20of%20settlers.%20The%20%24j-th%24%20of%20the%20following%20%24m%24%20lines%20contains%20two%20integers%20%24x%5E%7B%27%7D_%7Bj%7D%24%20and%20%24y%5E%7B%27%7D_%7Bj%7D%281%20%5C%5Cle%20x%5E%7B%27%7D_%7Bj%7D%2Cy%5E%7B%27%7D_%7Bj%7D%20%5C%5Cle%2010%5E9%29%24%20%5Cu2014%20the%20coordinates%20of%20the%20fence%20postinstalled%20by%20the%20%24j-th%24%20settler.%20All%20%24x%5E%7B%27%7D_%7Bj%7D%24%20are%20different%20and%20all%20%24y%5E%7B%27%7D_%7Bj%7D%24%20are%20different.%5Cn%22%2C%22outputFormat%22%3A%22Output%20%24m%24%20lines.%20The%20%24j-th%24%20line%20should%20contain%20the%20number%20of%20buffalos%20claimed%20by%20the%20%24j-th%24%20settler%20upon%20arrival.%5Cn%22%2C%22samples%22%3A%5B%5B%227%5Cn1%201%5Cn4%202%5Cn6%202%5Cn5%203%5Cn2%205%5Cn4%207%5Cn7%205%5Cn4%5Cn4%204%5Cn8%202%5Cn9%206%5Cn6%205%22%2C%222%5Cn1%5Cn3%5Cn2%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A41051%2C%22name%22%3A%22%5Cu548c%5Cu6cc9%5Cu6b63%5Cu5b97%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Blue%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%2C5000%5D%2C%22memory%22%3A%5B512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%2C512000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B34%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A23%2C%22totalAccepted%22%3A10%2C%22pid%22%3A%22P4737%22%2C%22title%22%3A%22%5BCERC2017%5DBuffalo%20Barricades%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BCERC2017%5DBuffalo%20Barricades%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[CERC2017]Buffalo Barricades</h1>
<h2>题目描述</h2>
<div>A pasture in the wild west can be represented as a rectangular grid embedded in the upper-right quadrant of a standard coordinate system. A herd of $n$ buffalos is scattered throughout the grid, each occupying a unit square. Buffalos are numbered $1$ through $n$; buffalo $j$ is located in the unit square whose upper-right corner is the point with integer coordinates $(x_j,y_j)$. The coordinate axes represent two rivers meeting at the origin, restricting buffalo movement downwards and leftwards.
A total of $m$ settlers arrive, one by one, and each claims a piece of land using the following procedure:
1. The settler picks a point with integer coordinates and installs a single fence post at that point.The point he picks is guaranteed to be free of any previously installed fence posts or fences.Moreover, no two fence posts will have the same $x$-coordinate and no two fence posts will have the same $y$-coordinates.
2. Starting from the fence post, the settler builds horizontal and vertical fence segments leftwards and downwards, respectively. Each segment is built to be as long as possible — i. e. until it reaches the river or another fence.
3. The settler claims all the land in the connected area bounded with fences and rivers whose upper-right corner is his fence post. Of course, he claims all the buffalos inside as well. Note that settlers arriving later may claim pieces of land already claimed by earlier settlers.
For each settler, find the total number of buffalos he claimed when he arrived.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line contains an integer $n(1 \le n \le 300 000)$ — the number of buffalos. The $j-th$ of the following $n$ lines contains two integers $x_j$ and $y_j(1 \le x_j,y_j \le 10^9)$ — the location of the $j-th$ buffalo.No two buffalos will share the same location.
The following line contains an integer $m(1 \le m \le 300 000)$ — the number of settlers. The $j-th$ of the following $m$ lines contains two integers $x^{'}_{j}$ and $y^{'}_{j}(1 \le x^{'}_{j},y^{'}_{j} \le 10^9)$ — the coordinates of the fence postinstalled by the $j-th$ settler. All $x^{'}_{j}$ are different and all $y^{'}_{j}$ are different.
</div>
<h3>输出格式</h3>
<br />
<div>Output $m$ lines. The $j-th$ line should contain the number of buffalos claimed by the $j-th$ settler upon arrival.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>7
1 1
4 2
6 2
5 3
2 5
4 7
7 5
4
4 4
8 2
9 6
6 5</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2
1
3
2</code></pre>
</article>
</div>
</div>
</body>
</html>
