<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO09OPEN]牛绣Bovine Embroidery - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376186:NjtNV7NziPZZmZ8YEUxc6oETUqh49n+UrHIdwp6fuoA=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Bessie%20has%20taken%20up%20the%20detailed%20art%20of%20bovine%20embroidery.%20Cows%20embroider%20a%20cloth%20mounted%20in%20a%20circular%20hoop%20of%20integer%20radius%20d%20%281%20%3C%3D%20d%20%3C%3D%2050%2C000%29.%20They%20sew%20N%20%282%20%3C%3D%20N%20%3C%3D%2050%2C000%29%20threads%2C%20each%20in%20a%20straight%20line%20from%20one%20point%20on%20the%20edge%20of%20the%20hoop%20to%20another%20point%20on%20the%20edge%20of%20the%20hoop%20%28no%20two%20embroidered%20points%20share%20a%20location%20on%20the%20hoop%27s%20edge%29.%5Cn%5CnBeing%20mathematically%20inclined%2C%20Bessie%20knows%20a%20formula%20of%20the%20form%20ax%20%2B%20by%20%2B%20c%20%3D%200%20for%20each%20straight%20line%20piece%20of%20thread.%20Conveniently%2C%20a%2C%20b%2C%20and%20c%20are%20integers%20%28-1%2C000%2C000%20%3C%3D%20a%20%3C%3D%201%2C000%2C000%3B%20-1%2C000%2C000%20%3C%3D%20b%20%3C%3D%201%2C000%2C000%3B%20-1%2C000%2C000%20%3C%3D%20c%20%3C%3D%201%2C000%2C000%29.%20Even%20more%5Cn%5Cnconveniently%2C%20no%20two%20threads%20coincide%20exactly.%5Cn%5CnPerhaps%20less%20conveniently%2C%20Bessie%20knows%20that%20her%20set%20of%20formula%20coefficients%20also%20includes%20a%20number%20of%20formulae%20for%20threads%20that%20do%20not%20appear%20to%20pass%20inside%20the%20hoop%27s%20circle.%20She%20regrets%20this%20greatly.%5Cn%5CnThe%20origin%20%280%2C0%29%20is%20in%20the%20precise%20middle%20of%20the%20hoop%2C%20so%20all%20points%20on%20the%20hoop%27s%20edge%20are%20distance%20d%20from%20the%20origin.%20At%20least%20one%20of%20the%20coefficients%20a%20and%20b%20is%20non-zero%20for%20each%20thread%27s%20formula.%5Cn%5CnBovine%20embroidery%20is%20more%20highly%20regarded%20when%20the%20number%20of%20thread%20intersections%20is%20maximized.%20Help%20Bessie%3A%20count%20the%20number%20of%20pairs%20of%20threads%20that%20intersect%20on%20the%20cloth%20%28i.e.%2C%20within%20distance%20d%20of%20the%20origin%29.%20Note%20that%20if%20three%20threads%20happen%20to%20coincide%20at%20the%20same%20point%2C%20that%20would%20be%20three%20pairs%20of%20intersections.%20Four%20threads%20at%20the%20same%20point%20-%3E%20six%20pairs%20of%20intersections%2C%20etc.%5Cn%5CnBessie%5Cu5b66%5Cu4f1a%5Cu4e86%5Cu523a%5Cu7ee3%5Cu8fd9%5Cu79cd%5Cu7cbe%5Cu7ec6%5Cu7684%5Cu5de5%5Cu4f5c%5Cu3002%5Cu725b%5Cu4eec%5Cu5728%5Cu4e00%5Cu7247%5Cu534a%5Cu5f84%5Cu4e3ad%281%20%3C%3D%20d%20%3C%3D%2050000%29%5Cu7684%5Cu5706%5Cu5f62%5Cu5e03%5Cu4e0a%5Cu7ee3%5Cu82b1.%20%5Cu5b83%5Cu4eec%5Cu4e00%5Cu5171%5Cu7ee3%5Cu4e86N%20%282%20%3C%3D%20N%20%3C%3D%2050000%29%5Cu6761%5Cu76f4%5Cu7ebf%5Cuff0c%5Cu6bcf%5Cu6761%5Cu76f4%5Cu7ebf%5Cu8fde%5Cu63a5%5Cu5e03%5Cu7684%5Cu8fb9%5Cu7f18%5Cu4e0a%5Cu7684%5Cu4e24%5Cu4e2a%5Cu70b9%28%5Cu6ca1%5Cu6709%5Cu4e24%5Cu6761%5Cu7ebf%5Cu901a%5Cu8fc7%5Cu8fb9%5Cu4e0a%5Cu540c%5Cu4e00%5Cu4e2a%5Cu70b9%29%5Cu3002%5Cn%5Cn%5Cu4f5c%5Cu4e3a%5Cu4e00%5Cu53ea%5Cu70ed%5Cu7231%5Cu6570%5Cu5b66%5Cu7684%5Cu725b%5Cuff0cBessie%20%5Cu77e5%5Cu9053%5Cu6bcf%5Cu6761%5Cu7ebf%5Cu7684%5Cu516c%5Cu5f0f%2C%20ax%20%2B%20by%20%2B%20c%20%3D%200.%20a%2C%20b%2C%20%5Cu548c%20c%20%5Cu4e3a%5Cu6574%5Cu6570%28-1000000%20%3C%3D%20a%20%3C%3D%201000000%3B%20-1000000%20%3C%3D%20b%20%3C%3D%201000000%3B%20-1000000%20%3C%3D%20c%20%3C%3D%201000000%29.%5Cu6ca1%5Cu6709%5Cu4e24%5Cu6761%5Cu7ebf%5Cu5b8c%5Cu5168%5Cu91cd%5Cu5408%5Cu3002%5Cn%5Cn%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%2C%20%5Cu4e00%5Cu90e8%5Cu5206%5Cu7ebf%5Cu4e0d%5Cu901a%5Cu8fc7%5Cu5706%5Cu5e03%5Cu7684%5Cu5185%5Cu90e8.%20%5Cu539f%5Cu70b9%280%2C0%29%5Cu5728%5Cu5e03%5Cu7684%5Cu6b63%5Cu4e2d%5Cu592e%2C%20%5Cu6240%5Cu6709%5Cu8fb9%5Cu4e0a%5Cu7684%5Cu70b9%5Cu79bb%5Cu539f%5Cu70b9%5Cu8ddd%5Cu79bb%5Cu4e3ad.%20%5Cu6bcf%5Cu6761%5Cu7ebf%5Cu7684%5Cu516c%5Cu5f0f%5Cu6ee1%5Cu8db3%5Cu81f3%5Cu5c11a%2Cb%5Cu4e2d%5Cu7684%5Cu4e00%5Cu4e2a%5Cu975e%5Cu96f6.%20%5Cu5bf9%5Cu4e8e%5Cu725b%5Cu6765%5Cu8bf4%5Cuff0c%5Cu523a%5Cu7ee3%5Cu4f5c%5Cu54c1%5Cu4e2d%5Cu7ebf%5Cu7684%5Cu4ea4%5Cu70b9%5Cu8d8a%5Cu591a%5Cuff0c%5Cu4fbf%5Cu8d8a%5Cu6709%5Cu4ef7%5Cu503c%5Cu3002%5Cu5e2e%5Cu52a9Bessie%5Cu8ba1%5Cu7b97%5Cu5728%5Cu5706%5Cu4e2d%5Cu76f8%5Cu4ea4%5Cu7684%5Cu7ebf%5Cu7684%5Cu5bf9%5Cu6570%5Cuff0c%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cu4ea4%5Cu70b9%5Cu4e0e%5Cu539f%5Cu70b9%5Cu7684%5Cu8ddd%5Cu79bb%5Cu5c0f%5Cu4e8ed%5Cu3002%5Cu6ce8%5Cu610f%5Cu5982%5Cu679c%5Cu4e09%5Cu6761%5Cu7ebf%5Cu5728%5Cu5706%5Cu5185%5Cu540c%5Cu4e00%5Cu70b9%5Cu76f8%5Cu4ea4%2C%5Cu8fd9%5Cu7b973%5Cu5bf9%5Cu7ebf%5Cu30024%5Cu7ebf%5Cu5171%5Cu70b9-%3E6%5Cu5bf9%5Cu7ebf.%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Two%20space-separated%20integers%3A%20N%20and%20d%5Cn%5Cn%5C%5C%2A%20Lines%202..N%2B1%3A%20Line%20i%2B1%20describes%20thread%20i%20with%20three%20integers%3A%20a%2C%20b%2C%20and%20c%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20One%20integer%2C%20on%20a%20line%20by%20itself%2C%20that%20is%20the%20count%20of%20pairs%20of%20threads%20that%20intersect.%5Cn%22%2C%22samples%22%3A%5B%5B%222%201%20%5Cr%5Cn1%200%200%20%5Cr%5Cn0%201%200%20%5Cr%5Cn%22%2C%221%20%5Cr%5Cn%22%5D%5D%2C%22hint%22%3A%22%5CnThe%20two%20lines%20are%20x%3D0%20and%20y%3D0.%20%5Cn%5CnThe%20two%20lines%20intersect%20at%20%280%2C0%29%2C%20which%20is%20clearly%20with%201%20of%20the%20origin.%20%5Cn%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C12%2C26%2C46%2C56%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A110%2C%22totalAccepted%22%3A58%2C%22pid%22%3A%22P2950%22%2C%22title%22%3A%22%5BUSACO09OPEN%5D%5Cu725b%5Cu7ee3Bovine%20Embroidery%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A25858%2C%22title%22%3A%22%40%5Cu6768%5Cu6885%20%5Cu54e5%5Cu4f60%5Cu8fd9%5Cu4ee3%5Cu7801%5Cu6284%5Cu7684%22%2C%22forum%22%3A%7B%22id%22%3A2079%2C%22name%22%3A%22P2950%20%5BUSACO09OPEN%5D%5Cu725b%5Cu7ee3Bovine%20Embroidery%22%2C%22slug%22%3A%22P2950%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1453%22%2C%22title%22%3A%22%5Cu57ce%5Cu5e02%5Cu73af%5Cu8def%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2846%22%2C%22title%22%3A%22%5BUSACO08NOV%5D%5Cu5149%5Cu5f00%5Cu5173Light%20Switching%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2930%22%2C%22title%22%3A%22%5BUSACO09HOL%5D%5Cu5047%5Cu671f%5Cu7ed8%5Cu753bHoliday%20Painting%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2934%22%2C%22title%22%3A%22%5BUSACO09JAN%5D%5Cu5b89%5Cu5168%5Cu51fa%5Cu884cSafe%20Travel%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2954%22%2C%22title%22%3A%22%5BUSACO09OPEN%5D%5Cu79fb%5Cu52a8%5Cu725b%5Cu68daGrazing2%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO09OPEN%5D%5Cu725b%5Cu7ee3Bovine%20Embroidery%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO09OPEN]牛绣Bovine Embroidery</h1>
<h2>题目描述</h2>
<div>Bessie has taken up the detailed art of bovine embroidery. Cows embroider a cloth mounted in a circular hoop of integer radius d (1 <= d <= 50,000). They sew N (2 <= N <= 50,000) threads, each in a straight line from one point on the edge of the hoop to another point on the edge of the hoop (no two embroidered points share a location on the hoop's edge).
Being mathematically inclined, Bessie knows a formula of the form ax + by + c = 0 for each straight line piece of thread. Conveniently, a, b, and c are integers (-1,000,000 <= a <= 1,000,000; -1,000,000 <= b <= 1,000,000; -1,000,000 <= c <= 1,000,000). Even more
conveniently, no two threads coincide exactly.
Perhaps less conveniently, Bessie knows that her set of formula coefficients also includes a number of formulae for threads that do not appear to pass inside the hoop's circle. She regrets this greatly.
The origin (0,0) is in the precise middle of the hoop, so all points on the hoop's edge are distance d from the origin. At least one of the coefficients a and b is non-zero for each thread's formula.
Bovine embroidery is more highly regarded when the number of thread intersections is maximized. Help Bessie: count the number of pairs of threads that intersect on the cloth (i.e., within distance d of the origin). Note that if three threads happen to coincide at the same point, that would be three pairs of intersections. Four threads at the same point -> six pairs of intersections, etc.
Bessie学会了刺绣这种精细的工作。牛们在一片半径为d(1 <= d <= 50000)的圆形布上绣花. 它们一共绣了N (2 <= N <= 50000)条直线，每条直线连接布的边缘上的两个点(没有两条线通过边上同一个点)。
作为一只热爱数学的牛，Bessie 知道每条线的公式, ax + by + c = 0. a, b, 和 c 为整数(-1000000 <= a <= 1000000; -1000000 <= b <= 1000000; -1000000 <= c <= 1000000).没有两条线完全重合。
不幸的是, 一部分线不通过圆布的内部. 原点(0,0)在布的正中央, 所有边上的点离原点距离为d. 每条线的公式满足至少a,b中的一个非零. 对于牛来说，刺绣作品中线的交点越多，便越有价值。帮助Bessie计算在圆中相交的线的对数，也就是说交点与原点的距离小于d。注意如果三条线在圆内同一点相交,这算3对线。4线共点->6对线.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Two space-separated integers: N and d
\* Lines 2..N+1: Line i+1 describes thread i with three integers: a, b, and c
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: One integer, on a line by itself, that is the count of pairs of threads that intersect.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>2 1 
1 0 0 
0 1 0 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>1 
</code></pre>
<h2>说明</h2>
<div>
The two lines are x=0 and y=0.
The two lines intersect at (0,0), which is clearly with 1 of the origin.
</div>
</article>
</div>
</div>
</body>
</html>
