<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO17OPEN]Where&#039;s Bessie? 贝西在哪呢 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377180:u4s2n1XHK6fXwEWqgoMSUoF2QasL4C29jQYxyhOIJxY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%5Cu519c%5Cu592bJohn%5Cu6b63%5Cu5728%5Cu6d4b%5Cu8bd5%5Cu4e00%5Cu4e2a%5Cu4ed6%5Cu65b0%5Cu53d1%5Cu660e%5Cu7684%5Cu5168%5Cu81ea%5Cu52a8%5Cu5bfb%5Cu627e%5Cu5976%5Cu725b%5Cu65e0%5Cu4eba%5Cu673a%5Cuff0c%5Cu5b83%5Cu80fd%5Cu591f%5Cu7167%5Cu4e00%5Cu5f20%5Cu519c%5Cu573a%5Cu7684%5Cu56fe%5Cu7247%5Cu7136%5Cu540e%5Cu81ea%5Cu52a8%5Cu627e%5Cu51fa%5Cu5976%5Cu725b%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu3002%5Cn%5Cn%5Cu4e0d%5Cu5e78%5Cu7684%5Cu662f%5Cuff0c%5Cu8fd9%5Cu4e2a%5Cu76f8%5Cu673a%5Cu5e76%5Cu4e0d%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu4f18%5Cu79c0%5Cu7684%5Cu5bfb%5Cu627e%5Cu5976%5Cu725b%5Cu51fd%5Cu6570%5Cuff0c%5Cu6240%5Cu4ee5%5Cu519c%5Cu592bJohn%5Cu9700%5Cu8981%5Cu4f60%5Cu6765%5Cu5199%5Cu4e00%5Cu4e2a%5Cu3002%5Cn%5Cn%5Cu519c%5Cu573a%5Cu7684%5Cu4fef%5Cu77b0%5Cu56fe%5Cu88ab%5Cu5b9a%5Cu4e49%5Cu4e3a%5Cu4e00%5Cu4e2an%20%5C%5C%2A%20n%5Cu7684%5Cu5b57%5Cu7b26%5Cu77e9%5Cu9635%5Cu3002%5Cu77e9%5Cu9635%5Cu7531%5Cu5927%5Cu5199%5Cu5b57%5Cu6bcdA%5Cu5230Z%5Cu7ec4%5Cu6210%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu5b57%5Cu6bcd%5Cu8868%5Cu793a%5Cu4e00%5Cu79cd%5Cu53ef%5Cu884c%5Cn%5Cn%5Cu7684%5Cu989c%5Cu8272%5Cu3002%5Cu519c%5Cu592bJohn%5Cu53d1%5Cu73b0%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu80fd%5Cu662f%5Cu5976%5Cu725b%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff08%5Cu4ee5%5Cu4e0b%5Cu7b80%5Cu79f0PCL%5Cuff09%5Cu7684%5Cu6700%5Cu597d%5Cu5b9a%5Cu4e49%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5Cn%5Cu4e00%5Cu4e2aPCL%5Cu662f%5Cu4e00%5Cu4e2a%5Cu77e9%5Cu9635%5Cuff08%5Cu53ef%5Cu80fd%5Cu662f%5Cu6574%5Cu5f20%5Cu56fe%5Cuff09%5Cuff0c%5Cu77e9%5Cu9635%5Cu7684%5Cu8fb9%5Cu4e0e%5Cu56fe%5Cu50cf%5Cu7684%5Cu8fb9%5Cu7f18%5Cu5e73%5Cu884c%5Cuff0c%5Cu4e14%5Cu4e0d%5Cu80fd%5Cu88ab%5Cu5176%5Cu4ed6PCL%5Cu6240%5Cu5305%5Cu542b%5Cuff08%5Cu56e0%5Cu6b64PCL%5Cu5185%5Cu90e8%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu6709PCL%5Cuff09%5Cn%5Cn%5Cu66f4%5Cu591a%5Cu7684%5Cuff0c%5Cu4e00%5Cu4e2aPCL%5Cu5fc5%5Cu987b%5Cu6ee1%5Cu8db3%5Cu4ee5%5Cu4e0b%5Cu7279%5Cu6027%5Cuff1a%5Cn%5Cn%5Cn1%5Cu3001%5Cu77e9%5Cu9635%5Cu6709%5Cu4e14%5Cu53ea%5Cu80fd%5Cu67092%5Cu79cd%5Cu989c%5Cu8272%5Cu6784%5Cu6210%5Cu3002%5Cn%5Cn2%5Cu3001%5Cu8fd9%5Cu4e24%5Cu79cd%5Cu989c%5Cu8272%5Cu4e00%5Cu79cd%5Cu6784%5Cu6210%5Cu4e00%5Cu4e2a%5Cu8fde%5Cu901a%5Cu5757%5Cuff0c%5Cu53e6%5Cu4e00%5Cu79cd%5Cu5f62%5Cu6210%5Cu4e24%5Cu4e2a%5Cu6216%5Cu4e24%5Cu4e2a%5Cu4ee5%5Cu4e0a%5Cu7684%5Cu8fde%5Cu901a%5Cu5757%5Cu3002%5Cn%5Cn%5Cu4e3e%5Cu4e2a%5Cu4f8b%5Cu5b50%5Cuff1a%5Cn%5CnAAAAA%20ABABA%20AAABB%20%5Cu8fd9%5Cu4e2a%5Cu77e9%5Cu9635%5Cu5c31%5Cu662f%5Cu4e00%5Cu4e2aPCL%5Cuff0c%5Cu5176%5Cu4e2d%5Cu989c%5Cu8272A%5Cu6784%5Cu6210%5Cu4e00%5Cu4e2a%5Cu8fde%5Cu901a%5Cu5757%5Cuff0cB%5Cu6784%5Cu6210%5Cu4e24%5Cu4e2a%5Cu8fde%5Cu901a%5Cu5757%5Cuff0c%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu4e00%5Cu53ea%5Cu53ef%5Cu80fd%5Cu4ee5A%5Cu4e3a%5Cu5e95%5Cu8272%5Cuff0cB%5Cu4e3a%5Cu82b1%5Cu7eb9%5Cu7684%5Cu5976%5Cu725b%5Cu3002%5Cn%5Cn%5Cu5728%5Cu8fd9%5Cu91cc%5Cu8fde%5Cu901a%5Cu5757%5Cu88ab%5Cu5b9a%5Cu4e49%5Cu4e3a%5Cuff1a%5Cu4ece%5Cu5176%5Cu4e2d%5Cu7684%5Cu4efb%5Cu4f55%5Cu4e00%5Cu4e2a%5Cu70b9%5Cuff0c%5Cu4f60%5Cu80fd%5Cu4ec5%5Cu901a%5Cu8fc7%5Cu4e0a%5Cu4e0b%5Cu5de6%5Cu53f3%5Cu79fb%5Cu52a8%5Cuff0c%5Cu5230%5Cu8fbe%5Cu53e6%5Cu5916%5Cu4efb%5Cu4f55%5Cu4e00%5Cu4e2a%5Cu70b9%5Cn%5Cn%5Cuff08%5Cu5373%5Cu4e0a%5Cu4e0b%5Cu5de6%5Cu53f3%5Cu76f8%5Cu90bb%5Cuff09%5Cn%5Cn%5Cu7ed9%5Cu5b9a%5Cu519c%5Cu573a%5Cu7684%5Cu7167%5Cu7247%5Cuff0c%5Cu8bf7%5Cu4f60%5Cu8ba1%5Cu7b97%5Cu56fe%5Cu4e2d%5Cu6709%5Cu51e0%5Cu4e2aPCL%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu5165%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6b63%5Cu6574%5Cu6570N%5Cuff0c%5Cu8868%5Cu793a%5Cu77e9%5Cu9635%5Cu7684%5Cu8fb9%5Cu957f%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765%5Cu7684N%5Cu884c%5Cu6bcf%5Cu884cN%5Cu4e2a%5Cu5b57%5Cu7b26%5Cuff0c%5Cu63cf%5Cu8ff0%5Cu4e86%5Cu8fd9%5Cu4e2a%5Cu77e9%5Cu9635%5Cu7684%5Cu989c%5Cu8272%5Cu3002%5Cn%5Cn%5Cu8f93%5Cu51fa%5Cu683c%5Cu5f0f%5Cuff1a%5Cn%5Cn%5Cu8f93%5Cu51faPCL%5Cu7684%5Cu4e2a%5Cu6570%5Cn%5Cn%5Cu8bf4%5Cu660e%5Cuff1a%5Cn%5Cn%5Cu5728%5Cu8fd9%5Cu4e2a%5Cu6837%5Cu4f8b%5Cu91cc%5Cuff0c%5Cu4e24%5Cu4e2aPCL%5Cu5206%5Cu522b%5Cu662f%5Cuff1a%5Cn%5Cn%28%5Cu5982%5Cu4e0b%29%5Cn%22%2C%22description%22%3A%22Always%20known%20for%20being%20quite%20tech-savy%2C%20Farmer%20John%20is%20testing%20out%20his%20new%20automated%20drone-mounted%20cow%20locator%20camera%2C%20which%20supposedly%20can%20take%20a%20picture%20of%20his%20field%20and%20automatically%20figure%20out%20the%20location%20of%20cows.%20Unfortunately%2C%20the%20camera%20does%20not%20include%20a%20very%20good%20algorithm%20for%20finding%20cows%2C%20so%20FJ%20needs%20your%20help%20developing%20a%20better%20one.%5Cn%5Cn%5CnThe%20overhead%20image%20of%20his%20farm%20taken%20by%20the%20camera%20is%20described%20by%20an%20%24N%20%5C%5Ctimes%20N%24%20grid%20of%20characters%2C%20each%20in%20the%20range%20%24A%20%5C%5Cldots%20Z%24%2C%20representing%20one%20of%2026%20possible%20colors.%20Farmer%20John%20figures%20the%20best%20way%20to%20define%20a%20potential%20cow%20location%20%28PCL%29%20is%20as%20follows%3A%20A%20PCL%20is%20a%20rectangular%20sub-grid%20%28possibly%20the%20entire%20image%29%20with%20sides%20parallel%20to%20the%20image%20sides%2C%20not%20contained%20within%20any%20other%20PCL%20%28so%20no%20smaller%20subset%20of%20a%20PCL%20is%20also%20a%20PCL%29.%20%20Furthermore%2C%20a%20PCL%20must%20satisfy%20the%20following%20property%3A%20focusing%20on%20just%20the%20contents%20of%20the%20rectangle%20and%20ignoring%20the%20rest%20of%20the%20image%2C%20exactly%20two%20colors%20must%20be%20present%2C%20one%20forming%20a%20contiguous%20region%20and%20one%20forming%20two%20or%20more%20contiguous%20regions.%5Cn%5Cn%5Cn%5Cn%60%60%60cpp%5CnAAAAA%5CnABABA%5CnAAABB%5Cn%60%60%60%5Cn%5Cn%5Cn%5CnFor%20example%2C%20a%20rectangle%20with%20contents%5Cn%5Cnwould%20constitute%20a%20PCL%2C%20since%20the%20A%27s%20form%20a%20single%20contiguous%20region%20and%20the%20B%27s%20form%20more%20than%20one%20contiguous%20region.%20The%20interpretation%20is%20a%20cow%20of%20color%20A%20with%20spots%20of%20color%20B.%20%5Cn%5CnA%20region%20is%20%5C%22contiguous%5C%22%20if%20you%20can%20traverse%20the%20entire%20region%20by%20moving%20repeatedly%20from%20one%20cell%20in%20the%20region%20to%20another%20cell%20in%20the%20region%20taking%20steps%20up%2C%20down%2C%20left%2C%20or%20right.%20%5Cn%5CnGiven%20the%20image%20returned%20by%20FJ%27s%20camera%2C%20please%20count%20the%20number%20of%20PCLs.%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20input%20contains%20%24N%24%2C%20the%20size%20of%20the%20grid%20%28%241%20%5C%5Cleq%20N%20%5C%5Cleq%2020%24%29.%5Cn%5CnThe%20next%20%24N%24%20lines%20describe%20the%20image%2C%20each%20consisting%20of%20%24N%24%20characters.%5Cn%22%2C%22outputFormat%22%3A%22Print%20a%20count%20of%20the%20number%20of%20PCLs%20in%20the%20image.%5Cn%22%2C%22samples%22%3A%5B%5B%224%5CnABBC%5CnBBBC%5CnAABB%5CnABBC%22%2C%222%22%5D%5D%2C%22hint%22%3A%22In%20this%20example%2C%20the%20two%20PCLs%20are%20the%20rectangles%20with%20contents%5Cn%5Cn%60%60%60cpp%5CnABB%5CnBBB%5CnAAB%5CnABB%5Cn%5Cn%5Cnand%5Cn%5Cn%5CnBC%5CnBC%5CnBB%5CnBC%5Cn%60%60%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B4%2C34%2C46%2C111%2C175%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A220%2C%22totalAccepted%22%3A100%2C%22pid%22%3A%22P3671%22%2C%22title%22%3A%22%5BUSACO17OPEN%5DWhere%27s%20Bessie%3F%20%5Cu8d1d%5Cu897f%5Cu5728%5Cu54ea%5Cu5462%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A19093%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A3708%2C%22name%22%3A%22P3671%20%5BUSACO17OPEN%5DWhere%27s%20Bessie%3F%20%5Cu8d1d%5Cu897f%5Cu5728%5Cu54ea%5Cu5462%22%2C%22slug%22%3A%22P3671%22%7D%7D%2C%7B%22id%22%3A13273%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A3708%2C%22name%22%3A%22P3671%20%5BUSACO17OPEN%5DWhere%27s%20Bessie%3F%20%5Cu8d1d%5Cu897f%5Cu5728%5Cu54ea%5Cu5462%22%2C%22slug%22%3A%22P3671%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1361%22%2C%22title%22%3A%22%5Cu5c0fM%5Cu7684%5Cu4f5c%5Cu7269%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3667%22%2C%22title%22%3A%22%5BUSACO17OPEN%5DBovine%20Genomics%20G%5Cu5976%5Cu725b%5Cu57fa%5Cu56e0%5Cu7ec4%5Cuff08%5Cu91d1%5Cuff09%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3128%22%2C%22title%22%3A%22%5BUSACO15DEC%5D%5Cu6700%5Cu5927%5Cu6d41Max%20Flow%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3927%22%2C%22title%22%3A%22SAC%20E%231%20-%20%5Cu4e00%5Cu9053%5Cu4e2d%5Cu6863%5Cu9898%20Factorial%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4268%22%2C%22title%22%3A%22%5BUSACO18FEB%5DDirectory%20Traversal%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO17OPEN%5DWhere%27s%20Bessie%3F%20%5Cu8d1d%5Cu897f%5Cu5728%5Cu54ea%5Cu5462%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO17OPEN]Where&#039;s Bessie? 贝西在哪呢</h1>
<h2>题目背景</h2>
<div>农夫John正在测试一个他新发明的全自动寻找奶牛无人机，它能够照一张农场的图片然后自动找出奶牛的位置。
不幸的是，这个相机并不包含一个优秀的寻找奶牛函数，所以农夫John需要你来写一个。
农场的俯瞰图被定义为一个n \* n的字符矩阵。矩阵由大写字母A到Z组成，每个字母表示一种可行
的颜色。农夫John发现一个可能是奶牛的位置（以下简称PCL）的最好定义如下：
一个PCL是一个矩阵（可能是整张图），矩阵的边与图像的边缘平行，且不能被其他PCL所包含（因此PCL内部不可能有PCL）
更多的，一个PCL必须满足以下特性：
1、矩阵有且只能有2种颜色构成。
2、这两种颜色一种构成一个连通块，另一种形成两个或两个以上的连通块。
举个例子：
AAAAA ABABA AAABB 这个矩阵就是一个PCL，其中颜色A构成一个连通块，B构成两个连通块，描述了一只可能以A为底色，B为花纹的奶牛。
在这里连通块被定义为：从其中的任何一个点，你能仅通过上下左右移动，到达另外任何一个点
（即上下左右相邻）
给定农场的照片，请你计算图中有几个PCL。
输入格式：
第一行包含一个正整数N，表示矩阵的边长。
接下来的N行每行N个字符，描述了这个矩阵的颜色。
输出格式：
输出PCL的个数
说明：
在这个样例里，两个PCL分别是：
(如下)
</div>
<h2>题目描述</h2>
<div>Always known for being quite tech-savy, Farmer John is testing out his new automated drone-mounted cow locator camera, which supposedly can take a picture of his field and automatically figure out the location of cows. Unfortunately, the camera does not include a very good algorithm for finding cows, so FJ needs your help developing a better one.
The overhead image of his farm taken by the camera is described by an $N \times N$ grid of characters, each in the range $A \ldots Z$, representing one of 26 possible colors. Farmer John figures the best way to define a potential cow location (PCL) is as follows: A PCL is a rectangular sub-grid (possibly the entire image) with sides parallel to the image sides, not contained within any other PCL (so no smaller subset of a PCL is also a PCL). Furthermore, a PCL must satisfy the following property: focusing on just the contents of the rectangle and ignoring the rest of the image, exactly two colors must be present, one forming a contiguous region and one forming two or more contiguous regions.
```cpp
AAAAA
ABABA
AAABB
```
For example, a rectangle with contents
would constitute a PCL, since the A's form a single contiguous region and the B's form more than one contiguous region. The interpretation is a cow of color A with spots of color B.
A region is "contiguous" if you can traverse the entire region by moving repeatedly from one cell in the region to another cell in the region taking steps up, down, left, or right.
Given the image returned by FJ's camera, please count the number of PCLs.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of input contains $N$, the size of the grid ($1 \leq N \leq 20$).
The next $N$ lines describe the image, each consisting of $N$ characters.
</div>
<h3>输出格式</h3>
<br />
<div>Print a count of the number of PCLs in the image.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
ABBC
BBBC
AABB
ABBC</code></pre>
<h3>输出样例 #1</h3>
<pre><code>2</code></pre>
<h2>说明</h2>
<div>In this example, the two PCLs are the rectangles with contents
```cpp
ABB
BBB
AAB
ABB
and
BC
BC
BB
BC
``</div>
</article>
</div>
</div>
</body>
</html>
