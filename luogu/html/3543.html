<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2012]WYR-Leveling Ground - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377022:vrlykPrWqF40u15dDCebFK31gaCDsqPstds7qSQF3hY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Byteasar%20has%20decided%20to%20build%20a%20house.%5Cn%5CnHe%20has%20chosen%20a%20very%20narrow%20valley%20as%20its%20location.%5Cn%5CnBefore%20Byteasar%20starts%20the%20actual%20construction%20work%2C%20he%20has%20to%20level%20the%20ground%20first.%5Cn%5CnHe%20has%20two%20excavators%20at%20his%20disposal%3A%20the%20first%20one%20can%20either%20increase%20or%20decrease%20the%20%20ground%20level%20of%20any%20connected%20area%20in%20the%20valley%20by%20exactly%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.1.png%29%20meters%3B%20%20the%20other%20can%20do%20the%20same%2C%20i.e.%2C%20either%20increase%20or%20decrease%20the%20%20ground%20level%20of%20any%20connected%20area%20in%20the%20valley%2C%20but%20by%20exactly%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.2.png%29%20meters.%5Cn%5CnNotice%20that%20neither%20before%20such%20an%20operation%20nor%20after%20it%20needs%20the%20ground%20in%20the%20affected%20%20area%20be%20actually%20leveled.%5Cn%5CnGiven%20a%20map%20of%20the%20area%2C%20determine%20the%20minimum%20number%20of%20operations%20required%20to%20%20level%20the%20ground%20in%20the%20whole%20valley%2C%20i.e.%2C%20to%20make%20the%20ground%20level%20everywhere%20%20equal%200.%20%20While%20the%20operations%20are%20performed%2C%20the%20ground%20level%20at%20any%20point%20in%20%20the%20valley%20can%20have%20arbitrary%20value%3B%20in%20particular%2C%20it%20may%20be%20negative.%5Cn%5Cn%5Cu7ed9%5Cu5b9an%5Cu4e2a%5Cu6570%5Cu548ca%2Cb%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu4e00%5Cu6bb5%5Cu533a%5Cu95f4%2Ba%2C-a%2C%2Bb%5Cu6216-b%5Cuff0c%5Cu95ee%5Cu6700%5Cu5c11%5Cu64cd%5Cu4f5c%5Cu51e0%5Cu6b21%5Cu80fd%5Cu628a%5Cu4ed6%5Cu4eec%5Cu90fd%5Cu53d8%5Cu62100%5Cn%22%2C%22inputFormat%22%3A%22In%20the%20first%20line%20of%20the%20standard%20input%20there%20are%20three%20integers%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.3.png%29%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.4.png%29%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.5.png%29%20%20%20%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.6.png%29%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.7.png%29%29%2C%20separated%20by%20single%20spaces.%5Cn%5CnThe%20number%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.8.png%29%20denotes%20the%20valley%27s%20length%20in%20meters.%5Cn%5CnThe%20second%20line%20contains%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.9.png%29%20integers%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.10.png%29%2C%20separated%20by%20single%20spaces.%5Cn%5CnThese%20numbers%2C%20all%20with%20absolute%20value%20no%20larger%20than%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.11.png%29%2C%20represent%20the%20initial%20ground%20level%20in%20meters%20%20%20%20of%20successive%20one%20meter%20long%20slices%20of%20the%20valley.%5Cn%5CnIn%20tests%20worth%2030%25%20of%20the%20points%20the%20following%20conditions%20hold%20in%20addition%3A%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.12.png%29%20and%20%20%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.13.png%29.%5Cn%5CnIn%20tests%20worth%2060%25%20of%20the%20points%20the%20following%20conditions%20hold%20in%20addition%3A%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.14.png%29%20and%20%20%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.15.png%29.%5Cn%5CnIn%20tests%20worth%2090%25%20of%20the%20points%20the%20condition%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.16.png%29%20holds%20in%20addition.%5Cn%22%2C%22outputFormat%22%3A%22In%20the%20first%20and%20only%20line%20of%20the%20standard%20output%20your%20program%20should%20print%20a%20single%20%20%20%20integer%3A%20the%20minimum%20number%20of%20operations%20required%20to%20level%20the%20ground%20in%20the%20whole%20valley%2C%20%20%20%20or%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI19%5C%2Fwyr-en-tex.17.png%29%20if%20leveling%20the%20whole%20valley%20with%20given%20excavators%20is%20impossible.%5Cn%22%2C%22samples%22%3A%5B%5B%225%202%203%5Cn1%202%201%201%20-1%22%2C%225%22%5D%5D%2C%22hint%22%3A%22%5Cu7ed9%5Cu5b9an%5Cu4e2a%5Cu6570%5Cu548ca%2Cb%5Cu6bcf%5Cu6b21%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu4e00%5Cu6bb5%5Cu533a%5Cu95f4%2Ba%2C-a%2C%2Bb%5Cu6216-b%5Cuff0c%5Cu95ee%5Cu6700%5Cu5c11%5Cu64cd%5Cu4f5c%5Cu51e0%5Cu6b21%5Cu80fd%5Cu628a%5Cu4ed6%5Cu4eec%5Cu90fd%5Cu53d8%5Cu62100%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B7%2C29%2C57%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A116%2C%22totalAccepted%22%3A46%2C%22pid%22%3A%22P3543%22%2C%22title%22%3A%22%5BPOI2012%5DWYR-Leveling%20Ground%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A107128%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu4f1a%5Cu6709%5Cu52a8%5Cu89c4%5Cu6807%5Cu7b7e%22%2C%22forum%22%3A%7B%22id%22%3A2717%2C%22name%22%3A%22P3543%20%5BPOI2012%5DWYR-Leveling%20Ground%22%2C%22slug%22%3A%22P3543%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3533%22%2C%22title%22%3A%22%5BPOI2012%5DRAN-Rendezvous%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3551%22%2C%22title%22%3A%22%5BPOI2013%5DUSU-Take-out%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4262%22%2C%22title%22%3A%22%5BCode%2B%233%5D%5Cu767d%5Cu91d1%5Cu5143%5Cu9996%5Cu4e0e%5Cu83ab%5Cu65af%5Cu79d1%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4632%22%2C%22title%22%3A%22%5BAPIO2018%5D%20New%20Home%20%5Cu65b0%5Cu5bb6%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF1228A%22%2C%22title%22%3A%22Distinct%20Digits%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2012%5DWYR-Leveling%20Ground%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2012]WYR-Leveling Ground</h1>
<h2>题目描述</h2>
<div>Byteasar has decided to build a house.
He has chosen a very narrow valley as its location.
Before Byteasar starts the actual construction work, he has to level the ground first.
He has two excavators at his disposal: the first one can either increase or decrease the ground level of any connected area in the valley by exactly ![](http://main.edu.pl/images/OI19/wyr-en-tex.1.png) meters; the other can do the same, i.e., either increase or decrease the ground level of any connected area in the valley, but by exactly ![](http://main.edu.pl/images/OI19/wyr-en-tex.2.png) meters.
Notice that neither before such an operation nor after it needs the ground in the affected area be actually leveled.
Given a map of the area, determine the minimum number of operations required to level the ground in the whole valley, i.e., to make the ground level everywhere equal 0. While the operations are performed, the ground level at any point in the valley can have arbitrary value; in particular, it may be negative.
给定n个数和a,b每次可以选择一段区间+a,-a,+b或-b，问最少操作几次能把他们都变成0
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>In the first line of the standard input there are three integers, ![](http://main.edu.pl/images/OI19/wyr-en-tex.3.png), ![](http://main.edu.pl/images/OI19/wyr-en-tex.4.png), ![](http://main.edu.pl/images/OI19/wyr-en-tex.5.png) (![](http://main.edu.pl/images/OI19/wyr-en-tex.6.png), ![](http://main.edu.pl/images/OI19/wyr-en-tex.7.png)), separated by single spaces.
The number ![](http://main.edu.pl/images/OI19/wyr-en-tex.8.png) denotes the valley's length in meters.
The second line contains ![](http://main.edu.pl/images/OI19/wyr-en-tex.9.png) integers, ![](http://main.edu.pl/images/OI19/wyr-en-tex.10.png), separated by single spaces.
These numbers, all with absolute value no larger than ![](http://main.edu.pl/images/OI19/wyr-en-tex.11.png), represent the initial ground level in meters of successive one meter long slices of the valley.
In tests worth 30% of the points the following conditions hold in addition: ![](http://main.edu.pl/images/OI19/wyr-en-tex.12.png) and ![](http://main.edu.pl/images/OI19/wyr-en-tex.13.png).
In tests worth 60% of the points the following conditions hold in addition: ![](http://main.edu.pl/images/OI19/wyr-en-tex.14.png) and ![](http://main.edu.pl/images/OI19/wyr-en-tex.15.png).
In tests worth 90% of the points the condition ![](http://main.edu.pl/images/OI19/wyr-en-tex.16.png) holds in addition.
</div>
<h3>输出格式</h3>
<br />
<div>In the first and only line of the standard output your program should print a single integer: the minimum number of operations required to level the ground in the whole valley, or ![](http://main.edu.pl/images/OI19/wyr-en-tex.17.png) if leveling the whole valley with given excavators is impossible.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 2 3
1 2 1 1 -1</code></pre>
<h3>输出样例 #1</h3>
<pre><code>5</code></pre>
<h2>说明</h2>
<div>给定n个数和a,b每次可以选择一段区间+a,-a,+b或-b，问最少操作几次能把他们都变成0
</div>
</article>
</div>
</div>
</body>
</html>
