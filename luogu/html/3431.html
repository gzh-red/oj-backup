<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2005]AUT-The Bus - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376885:Kj64wRC3nXPBgAkVGk1yKh8SwOG8aD9Ll5zJZTbrQJY=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22The%20streets%20of%20Byte%20City%20form%20a%20regular%2C%20chessboardlike%20network%20-%20they%20are%20either%20north-south%20or%20west-east%20directed.%20We%20shall%20call%20them%20NS-%20and%20WE-streets.%20Furthermore%2C%20each%20street%20crosses%20the%20whole%20city.%20Every%20NS-street%20intersects%20every%20WE-%20one%20and%20vice%20versa.%20The%20NS-streets%20are%20numbered%20from%20%241%24%20to%20%24n%24%2C%20starting%20from%20the%20westernmost.%20The%20WE-streets%20are%20numbered%20from%20%241%24%20to%20%24m%24%2C%20beginning%20with%20the%20southernmost.%20Each%20intersection%20of%20the%20%24i%24%27th%20NS-street%20with%20the%20%24j%24%27th%20WE-street%20is%20denoted%20by%20a%20pair%20of%20numbers%20%24%28i%2Cj%29%24%20%28for%20%241%5C%5Cle%20i%5C%5Cle%20n%24%2C%20%241%5C%5Cle%20j%5C%5Cle%20m%24%29.%5Cn%5CnThere%20is%20a%20bus%20line%20in%20Byte%20City%2C%20with%20intersections%20serving%20as%20bus%20stops.%20The%20bus%20begins%20its%20itinerary%20by%20the%20%24%281%2C1%29%24%20intersection%2C%20and%20finishes%20by%20the%20%24%28n%2Cm%29%24%20intersection.%20Moreover%2C%20the%20bus%20may%20only%20travel%20in%20the%20eastern%20and%5C%2For%20northern%20direction.%5Cn%5CnThere%20are%20passengers%20awaiting%20the%20bus%20by%20some%20of%20the%20intersections.%20The%20bus%20driver%20wants%20to%20choose%20his%20route%20in%20a%20way%20that%20allows%20him%20to%20take%20as%20many%20of%20them%20as%20possible.%20%28We%20shall%20make%20an%20assumption%20that%20the%20interior%20of%20the%20bus%20is%20spacious%20enough%20to%20take%20all%20of%20the%20awaiting%20passengers%2C%20regardless%20of%20the%20route%20chosen.%29TaskWrite%20a%20programme%20which%3A%5Cn%5Cnreads%20from%20the%20standard%20input%20a%20description%20of%20the%20road%20network%20and%20the%20number%20of%20passengers%20waiting%20at%20each%20intersection%2Cfinds%2C%20how%20many%20passengers%20the%20bus%20can%20take%20at%20the%20most%2Cwrites%20the%20outcome%20to%20the%20standard%20output.%5Cn%5CnByte%20City%20%5Cu7684%5Cu8857%5Cu9053%5Cu5f62%5Cu6210%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu6807%5Cu51c6%5Cu7684%5Cu68cb%5Cu76d8%5Cu7f51%5Cu7edc%20%5Cu2013%20%5Cu4ed6%5Cu4eec%5Cu8981%5Cu4e48%5Cu662f%5Cu5317%5Cu5357%5Cu8d70%5Cu5411%5Cu8981%5Cu4e48%5Cu5c31%5Cu662f%5Cu897f%5Cu4e1c%5Cu8d70%5Cu5411.%20%5Cu5317%5Cu5357%5Cu8d70%5Cu5411%5Cu7684%5Cu8def%5Cu53e3%5Cu4ece%201%20%5Cu5230%20n%5Cu7f16%5Cu53f7%2C%20%5Cu897f%5Cu4e1c%5Cu8d70%5Cu5411%5Cu7684%5Cu8def%5Cu4ece1%20%5Cu5230%20m%5Cu7f16%5Cu53f7.%20%5Cu6bcf%5Cu4e2a%5Cu8def%5Cu53e3%5Cu7528%5Cu4e24%5Cu4e2a%5Cu6570%28i%2C%20j%29%20%5Cu8868%5Cu793a%281%20%3C%3D%20i%20%3C%3D%20n%2C%201%20%3C%3D%20j%20%3C%3D%20m%29.%20Byte%20City%5Cu91cc%5Cu6709%5Cu4e00%5Cu6761%5Cu516c%5Cu4ea4%5Cu7ebf%2C%20%5Cu5728%5Cu67d0%5Cu4e00%5Cu4e9b%5Cu8def%5Cu53e3%5Cu8bbe%5Cu7f6e%5Cu4e86%5Cu516c%5Cu4ea4%5Cu7ad9%5Cu70b9.%20%5Cu516c%5Cu4ea4%5Cu8f66%5Cu4ece%20%281%2C%201%29%20%5Cu53d1%5Cu8f66%2C%20%5Cu5728%28n%2C%20m%29%5Cu7ed3%5Cu675f.%5Cu516c%5Cu4ea4%5Cu8f66%5Cu53ea%5Cu80fd%5Cu5f80%5Cu5317%5Cu6216%5Cu5f80%5Cu4e1c%5Cu8d70.%20%5Cu73b0%5Cu5728%5Cu6709%5Cu4e00%5Cu4e9b%5Cu4e58%5Cu5ba2%5Cu5728%5Cu67d0%5Cu4e9b%5Cu7ad9%5Cu70b9%5Cu7b49%5Cu8f66.%20%5Cu516c%5Cu4ea4%5Cu8f66%5Cu53f8%5Cu673a%5Cu5e0c%5Cu671b%5Cu5728%5Cu8def%5Cu7ebf%5Cu4e2d%5Cu80fd%5Cu63a5%5Cu5230%5Cu5c3d%5Cu91cf%5Cu591a%5Cu7684%5Cu4e58%5Cu5ba2.%5Cu5e2e%5Cu4ed6%5Cu60f3%5Cu60f3%5Cu600e%5Cu4e48%5Cu624d%5Cu80fd%5Cu63a5%5Cu5230%5Cu6700%5Cu591a%5Cu7684%5Cu4e58%5Cu5ba2.%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20three%20positive%20integers%20%24n%24%2C%20%24m%24%20and%20%24k%24%20-%20denoting%20the%20number%20of%20NS-streets%2C%20the%20number%20of%20WE-streets%20and%20the%20number%20of%20intersections%20by%20which%20the%20passengers%20await%20the%20bus%2C%20respectively%20%28%241%5C%5Cle%20n%5C%5Cle%2010%5E9%24%2C%20%241%5C%5Cle%20m%5C%5Cle%2010%5E9%24%2C%20%241%5C%5Cle%20k%5C%5Cle%2010%5E5%24%29.%5Cn%5CnThe%20following%20%24k%24%20lines%20describe%20the%20deployment%20of%20passengers%20awaiting%20the%20bus%2C%20a%20single%20line%20per%20intersection.%20In%20the%20%24%28i%2B1%29%24%27st%20line%20there%20are%20three%20positive%20integers%20%24x_i%24%2C%20%24y_i%24%20and%20%24p_i%24%2C%20separated%20by%20single%20spaces%2C%20%241%5C%5Cle%20x_i%5C%5Cle%20n%24%2C%241%5C%5Cle%20y_i%5C%5Cle%20m%24%2C%241%5C%5Cle%20p_i%5C%5Cle%2010%5E6%24%20.%20A%20triplet%20of%20this%20form%20signifies%20that%20by%20the%20intersection%24%28x_i%2Cy_i%29p_i%24%20passengers%20await%20the%20bus.%20Each%20intersection%20is%20described%20in%20the%20input%20data%20once%20at%20the%20most.%20The%20total%20number%20of%20passengers%20waiting%20for%20the%20bus%20does%20not%20exceed%20%241%5C%5C%20000%5C%5C%20000%5C%5C%20000%24.%5Cn%22%2C%22outputFormat%22%3A%22Your%20programme%20should%20write%20to%20the%20standard%20output%20one%20line%20containing%20a%20single%20integer%20-%20the%20greatest%20number%20of%20passengers%20the%20bus%20can%20take.%5Cn%22%2C%22samples%22%3A%5B%5B%228%207%2011%5Cn4%203%204%5Cn6%202%204%5Cn2%203%202%5Cn5%206%201%5Cn2%205%202%5Cn1%205%205%5Cn2%201%201%5Cn3%201%201%5Cn7%207%201%5Cn7%204%202%5Cn8%206%202%22%2C%2211%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B3%2C12%2C22%2C53%2C57%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A772%2C%22totalAccepted%22%3A329%2C%22pid%22%3A%22P3431%22%2C%22title%22%3A%22%5BPOI2005%5DAUT-The%20Bus%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A164860%2C%22title%22%3A%22%5Cu849f%5Cu84bb%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A2671%2C%22name%22%3A%22P3431%20%5BPOI2005%5DAUT-The%20Bus%22%2C%22slug%22%3A%22P3431%22%7D%7D%2C%7B%22id%22%3A90983%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu4e0d%5Cu662f100000%5Cu7684%5Cu6570%5Cu636e%22%2C%22forum%22%3A%7B%22id%22%3A2671%2C%22name%22%3A%22P3431%20%5BPOI2005%5DAUT-The%20Bus%22%2C%22slug%22%3A%22P3431%22%7D%7D%2C%7B%22id%22%3A74631%2C%22title%22%3A%22%5Cu6570%5Cu636e%5Cu6c34%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A2671%2C%22name%22%3A%22P3431%20%5BPOI2005%5DAUT-The%20Bus%22%2C%22slug%22%3A%22P3431%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1081%22%2C%22title%22%3A%22%5Cu5f00%5Cu8f66%5Cu65c5%5Cu884c%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3384%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu6811%5Cu94fe%5Cu5256%5Cu5206%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3459%22%2C%22title%22%3A%22%5BPOI2007%5DMEG-Megalopolis%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3810%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu4e09%5Cu7ef4%5Cu504f%5Cu5e8f%5Cuff08%5Cu964c%5Cu4e0a%5Cu82b1%5Cu5f00%5Cuff09%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4281%22%2C%22title%22%3A%22%5BAHOI2008%5D%5Cu7d27%5Cu6025%5Cu96c6%5Cu5408%20%5C%2F%20%5Cu805a%5Cu4f1a%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2005%5DAUT-The%20Bus%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2005]AUT-The Bus</h1>
<h2>题目描述</h2>
<div>The streets of Byte City form a regular, chessboardlike network - they are either north-south or west-east directed. We shall call them NS- and WE-streets. Furthermore, each street crosses the whole city. Every NS-street intersects every WE- one and vice versa. The NS-streets are numbered from $1$ to $n$, starting from the westernmost. The WE-streets are numbered from $1$ to $m$, beginning with the southernmost. Each intersection of the $i$'th NS-street with the $j$'th WE-street is denoted by a pair of numbers $(i,j)$ (for $1\le i\le n$, $1\le j\le m$).
There is a bus line in Byte City, with intersections serving as bus stops. The bus begins its itinerary by the $(1,1)$ intersection, and finishes by the $(n,m)$ intersection. Moreover, the bus may only travel in the eastern and/or northern direction.
There are passengers awaiting the bus by some of the intersections. The bus driver wants to choose his route in a way that allows him to take as many of them as possible. (We shall make an assumption that the interior of the bus is spacious enough to take all of the awaiting passengers, regardless of the route chosen.)TaskWrite a programme which:
reads from the standard input a description of the road network and the number of passengers waiting at each intersection,finds, how many passengers the bus can take at the most,writes the outcome to the standard output.
Byte City 的街道形成了一个标准的棋盘网络 – 他们要么是北南走向要么就是西东走向. 北南走向的路口从 1 到 n编号, 西东走向的路从1 到 m编号. 每个路口用两个数(i, j) 表示(1 <= i <= n, 1 <= j <= m). Byte City里有一条公交线, 在某一些路口设置了公交站点. 公交车从 (1, 1) 发车, 在(n, m)结束.公交车只能往北或往东走. 现在有一些乘客在某些站点等车. 公交车司机希望在路线中能接到尽量多的乘客.帮他想想怎么才能接到最多的乘客.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains three positive integers $n$, $m$ and $k$ - denoting the number of NS-streets, the number of WE-streets and the number of intersections by which the passengers await the bus, respectively ($1\le n\le 10^9$, $1\le m\le 10^9$, $1\le k\le 10^5$).
The following $k$ lines describe the deployment of passengers awaiting the bus, a single line per intersection. In the $(i+1)$'st line there are three positive integers $x_i$, $y_i$ and $p_i$, separated by single spaces, $1\le x_i\le n$,$1\le y_i\le m$,$1\le p_i\le 10^6$ . A triplet of this form signifies that by the intersection$(x_i,y_i)p_i$ passengers await the bus. Each intersection is described in the input data once at the most. The total number of passengers waiting for the bus does not exceed $1\ 000\ 000\ 000$.
</div>
<h3>输出格式</h3>
<br />
<div>Your programme should write to the standard output one line containing a single integer - the greatest number of passengers the bus can take.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>8 7 11
4 3 4
6 2 4
2 3 2
5 6 1
2 5 2
1 5 5
2 1 1
3 1 1
7 7 1
7 4 2
8 6 2</code></pre>
<h3>输出样例 #1</h3>
<pre><code>11</code></pre>
</article>
</div>
</div>
</body>
</html>
