<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[WC2017]挑战 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573381602:TpAHfxEfVBsFSFv3wzP0x3sargS6L79jRoA5PlXS1s4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%23%23%20%5Cu6ee5%5Cu7528%5Cu672c%5Cu9898%5Cu8bc4%5Cu6d4b%5Cu5c06%5Cu88ab%5Cu5c01%5Cu53f7%5Cu3002%5Cu6d1b%5Cu8c37%5Cu4e0d%5Cu4fdd%5Cu8bc1%5Cu6b64%5Cu7c7b%5Cu6bd2%5Cu7624%5Cu9898%5Cu7684%5Cu8bc4%5Cu6d4b%5Cu7ed3%5Cu679c%5Cu51c6%5Cu786e%5Cu6027%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu548c%5Cu540c%5Cu5b66%5Cu4eec%5Cu627e%5Cu4e86%5Cu4e09%5Cu9053%5Cu9898%5Cu76ee%5Cu7528%5Cu6765%5Cu7ec3%5Cu4e60%5Cu3002%5Cn%5Cn%5Cu8fd9%5Cu6b21%5Cu7ec3%5Cu4e60%5Cu7684%5Cu76ee%5Cu6807%5Cu662f%5Cu5199%5Cu51fa%5Cu80fd%5Cu5728%5Cu65f6%5Cu95f4%5Cu9650%5Cu5236%5Cu91cc%5Cu901a%5Cu8fc7%5Cu5c3d%5Cu91cf%5Cu5927%5Cu89c4%5Cu6a21%5Cu6570%5Cu636e%5Cu7684%5Cu4ee3%5Cu7801%5Cu3002%5Cn%5Cn%5Cu540c%5Cu5b66%5Cu4eec%5Cu7eb7%5Cu7eb7%5Cu5199%5Cu51fa%5Cu4e86%5Cu4f18%5Cu79c0%5Cu7684%5Cu4ee3%5Cu7801%5Cu3002%5Cu73b0%5Cu5728%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu5411%5Cu4f60%5Cu53d1%5Cu8d77%5Cu4e86%5Cu6311%5Cu6218%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu5bf9%5Cu6bcf%5Cu4e2a%5Cu95ee%5Cu9898%5Cu90fd%5Cu8bbe%5Cu7f6e%5Cu4e86%5Cu82e5%5Cu5e72%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cuff0c%5Cu8fd9%5Cu662f%5Cu4ed6%5Cu4eec%5Cu80fd%5Cu901a%5Cu8fc7%5Cu7684%5Cu6700%5Cu5927%5Cu89c4%5Cu6a21%5Cu7684%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cu3002%5Cu73b0%5Cu5728%5Cuff0c%5Cu4ed6%5Cu4eec%5Cu60f3%5Cu770b%5Cu4e00%5Cu770b%5Cu4f60%5Cu5199%5Cu7684%5Cu4ee3%5Cu7801%5Cu7a76%5Cu7adf%5Cu80fd%5Cu8d85%5Cu8fc7%5Cu591a%5Cu5c11%5Cu540c%5Cu5b66%5Cu7684%5Cu4ee3%5Cu7801%5Cuff0c%5Cu901a%5Cu8fc7%5Cu591a%5Cu5927%5Cu89c4%5Cu6a21%5Cu7684%5Cu6d4b%5Cu8bd5%5Cu6570%5Cu636e%5Cu3002%5Cn%5Cn%5Cu672c%5Cu9898%5Cu5206%5Cu4e3a%20%243%24%20%5Cu4e2a%5Cu4efb%5Cu52a1%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu4efb%5Cu52a1%5Cu5bf9%5Cu5e94%5Cu4e00%5Cu9053%5Cu9898%5Cu548c%5Cu76f8%5Cu5e94%5Cu7684%5Cu82e5%5Cu5e72%5Cu4e2a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cuff0c%5Cu4f60%5Cu9700%5Cu8981%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu4efb%5Cu52a1%5Cuff0c%5Cu8bbe%5Cu8ba1%5Cu4e00%5Cu4e2a%5Cu80fd%5Cu901a%5Cu8fc7%5Cu5c3d%5Cu91cf%5Cu591a%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu3002%22%2C%22description%22%3A%22%23%23%20%5Cu4efb%5Cu52a1%5Cu4e00%5Cn%5Cn%5Cu7ed9%5Cu5b9a%20%24n%24%20%5Cu4e2a%20%2432%24%20%5Cu4f4d%5Cu65e0%5Cu7b26%5Cu53f7%5Cu6574%5Cu6570%5Cuff0c%5Cu5c06%5Cu5b83%5Cu4eec%5Cu4ece%5Cu5c0f%5Cu5230%5Cu5927%5Cu6392%5Cu5e8f%5Cu3002%5Cn%5Cn%23%23%20%5Cu4efb%5Cu52a1%5Cu4e8c%5Cn%5Cn%5Cu6709%20%242n%24%20%5Cu4e2a%5Cu4eba%5Cu5728%5Cu73a9%20%5Cu300c%5Cu77f3%5Cu5934%5Cu526a%5Cu5200%5Cu5e03%5Cu300d%20%5Cu6e38%5Cu620f%5Cu3002%5Cu4ed6%5Cu4eec%5Cu6392%5Cu6210%5Cu4e24%5Cu6392%5Cuff0c%5Cu6bcf%5Cu6392%20%24n%24%20%5Cu4e2a%5Cu4eba%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu4eba%5Cu5728%5Cu6bcf%5Cu4e00%5Cu5c40%5Cu6e38%5Cu620f%5Cu90fd%5Cu4f7f%5Cu7528%5Cu56fa%5Cu5b9a%5Cu7b56%5Cu7565%5Cuff0c%5Cu5373%5Cu5bf9%5Cu4e8e%5Cu7b2c%20%24i%20%28i%20%5C%5Cin%201%2C%202%29%24%20%5Cu6392%5Cu7684%5Cu7b2c%20%24j%20%280%20%5C%5Cleq%20j%20%3C%20n%29%24%20%5Cu4e2a%5Cu4eba%5Cuff0c%5Cu7528%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20%24a_%7Bij%7D%24%5Cu200b%5Cu200b%20%5Cu8868%5Cu793a%5Cu4ed6%5Cu7684%5Cu7b56%5Cu7565%5Cuff0c%5Cu5176%5Cu4e2d%20%240%24%20%5Cu8868%5Cu793a%5Cu53ea%5Cu51fa%5Cu77f3%5Cu5934%5Cuff0c%241%24%20%5Cu8868%5Cu793a%5Cu53ea%5Cu51fa%5Cu526a%5Cu5200%5Cuff0c%242%24%20%5Cu8868%5Cu793a%5Cu53ea%5Cu51fa%5Cu5e03%5Cu3002%5Cn%5Cn%5Cu73b0%5Cu5728%5Cu6709%20%24q%24%20%5Cu4e2a%5Cu8be2%5Cu95ee%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu8be2%5Cu95ee%5Cu7ed9%5Cu5b9a%5Cu4e09%5Cu4e2a%5Cu6574%5Cu6570%20%24x%2Cy%2Cl%280%5C%5Cleq%20x%2Cy%3Cn%2C1%5C%5Cleq%20l%5C%5Cleq%20n-max%28x%2Cy%29%29%24%5Cuff0c%20%5Cu95ee%5Cu5c06%5Cu7b2c%5Cu4e00%5Cu6392%5Cu7684%5Cu7b2c%20%24x%5Cu223cx%2Bl-1%24%20%5Cu4e2a%5Cu4eba%5Cu548c%5Cu7b2c%5Cu4e8c%5Cu6392%5Cu7684%5Cu7b2c%20%24y%5Cu223cy%2Bl-1%24%20%5Cu4e2a%5Cu4eba%5Cu6bd4%5Cu8d5b%5Cu4e4b%5Cu540e%5Cuff0c%5Cu7b2c%5Cu4e00%5Cu6392%5Cu6709%5Cu591a%5Cu5c11%5Cu4e2a%5Cu4eba%5Cu4f1a%5Cu8d62%5Cu3002%5Cn%5Cn%5Cu4e0a%5Cu6587%5Cu4e2d%20%5Cu300c%5Cu6bd4%5Cu8d5b%5Cu300d%20%5Cu7684%5Cu610f%5Cu601d%5Cu662f%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu6240%5Cu6709%5Cu6574%5Cu6570%20%24i%24%20%5Cu6ee1%5Cu8db3%20%240%5C%5Cleq%20i%3Cl%24%2C%5Cu8ba9%5Cu7b2c%5Cu4e00%5Cu6392%5Cu7684%5Cu7b2c%20%24x%2Bi%24%20%5Cu4e2a%5Cu4eba%5Cu548c%20%5Cu7b2c%5Cu4e8c%5Cu6392%5Cu7684%5Cu7b2c%20%24y%2Bi%24%20%5Cu4e2a%5Cu4eba%5Cu8fdb%5Cu884c%20%5Cu300c%5Cu77f3%5Cu5934%5Cu526a%5Cu5200%5Cu5e03%5Cu300d%20%5Cu6e38%5Cu620f%5Cu3002%5Cn%5Cn%23%23%20%5Cu4efb%5Cu52a1%5Cu4e09%5Cn%5Cn%5Cu6211%5Cu4eec%5Cu79f0%5Cu4e00%5Cu4e2a%5Cu5408%5Cu6cd5%5Cu7684%5Cu62ec%5Cu53f7%5Cu4e32%5Cu4e3a%5Cuff1a%5Cu53ea%5Cu7531%5Cu5de6%5Cu62ec%5Cu53f7%5Cu548c%5Cu53f3%5Cu62ec%5Cu53f7%5Cu6784%5Cu6210%5Cuff0c%5Cu4e24%5Cu79cd%5Cu62ec%5Cu53f7%5Cu7684%5Cu6570%5Cu91cf%5Cu76f8%5Cu7b49%5Cuff0c%20%5Cu4e14%5Cu4efb%5Cu610f%5Cu4e00%5Cu4e2a%5Cu524d%5Cu7f00%5Cu7684%5Cu5de6%5Cu62ec%5Cu53f7%5Cu6570%5Cu91cf%5Cu4e0d%5Cu5c11%5Cu4e8e%5Cu53f3%5Cu62ec%5Cu53f7%5Cu6570%5Cu91cf%5Cu7684%5Cu4e32%5Cu3002%5Cu73b0%5Cu5728%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu4e2a%5Cu7531%20%60%60%60%28%60%60%60%5Cuff0c%60%60%60%29%60%60%60%20%5Cu548c%60%60%60%3F%60%60%60%20%5Cu6784%5Cu6210%5Cu7684%5Cu4e32%5Cuff0c%5Cu95ee%5Cu6709%5Cu591a%5Cu5c11%5Cu79cd%5Cu4e0d%5Cu540c%5Cu7684%5Cu65b9%5Cu6848%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu5c06%5Cu6bcf%5Cu4e2a%20%60%60%60%3F%60%60%60%20%5Cu90fd%5Cu66ff%5Cu6362%5Cu6210%5Cu4e00%5Cu4e2a%5Cu62ec%5Cu53f7%5Cu4e4b%5Cu540e%5Cuff0c%5Cu8be5%5Cu4e32%5Cu53d8%5Cu6210%5Cu4e00%20%5Cu4e2a%5Cu5408%5Cu6cd5%5Cu7684%5Cu62ec%5Cu53f7%5Cu4e32%5Cu3002%5Cu4e24%5Cu79cd%5Cu65b9%5Cu6848%5Cu4e0d%5Cu540c%5Cuff0c%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53%5Cu81f3%5Cu5c11%5Cu6709%5Cu4e00%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu7684%20%60%60%60%3F%60%60%60%20%5Cu88ab%5Cu66ff%5Cu6362%5Cu6210%5Cu4e86%5Cu4e0d%5Cu540c%5Cu7684%5Cu62ec%5Cu53f7%5Cu3002%22%2C%22inputFormat%22%3A%22%5Cu6b64%5Cu9898%5Cu63d0%5Cu4f9b%5Cu4e86%5Cu6a21%5Cu677f%5Cu7a0b%5Cu5e8f%5Cu3002%5Cu9009%5Cu624b%5Cu53ef%5Cu4ee5%5Cu5728%5Cu6b64%5Cu57fa%5Cu7840%5Cu4e0a%5Cu7f16%5Cu5199%5Cu81ea%5Cu5df1%5Cu7684%5Cu7a0b%5Cu5e8f%5Cuff0c%5Cu6a21%5Cu677f%5Cu7a0b%5Cu5e8f%5Cu8be6%5Cu89c1%5Cu4e0b%5Cu6587%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cu4e0e%5Cu63d0%5Cu793a%5Cu3002%5Cn%5Cn%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%24%20task%5C%5C_id%281%5C%5Cleq%20task%5C%5C_id%5C%5Cleq3%29%24%5Cuff0c%5Cu8868%5Cu793a%5Cu4efb%5Cu52a1%5Cu7f16%5Cu53f7%5Cu3002%5Cu63a5%5Cu4e0b%5Cu6765%5Cu662f%5Cu6bcf%5Cu4e2a%5Cu5177%5Cu4f53%5Cu4efb%5Cu52a1%5Cu7684%5Cu8f93%5Cu5165%5Cu5185%5Cu5bb9%5Cu3002%5Cn%5Cn%5Cu5728%5Cu8f93%5Cu5165%5Cu7684%5Cu540c%5Cu4e00%5Cu884c%5Cu4e2d%5Cuff0c%5Cu76f8%5Cu90bb%5Cu7684%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%5Cu4f1a%5Cu88ab%5Cu4e00%5Cu4e2a%5Cu7a7a%5Cu683c%5Cu9694%5Cu5f00%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a1%5Cu4e00%5Cuff1a%5Cu4e00%5Cu884c%5Cuff0c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%20%24n%2Cs%24%5Cu3002%5Cu4ee4%20%24a_0%3Dnext%5C%5C_integer%28s%29%2Ca_i%3Dnext%5C%5C_integer%28a_%7Bi-1%7D%29%2C1%5C%5Cleq%20i%3Cn%24%5Cuff0c%5Cu5219%20%24a_0%2Ca_1%2C%5Cu2026%2Ca_%7Bn-1%7D%24%20%5Cu5373%5Cu4e3a%5Cu9700%5Cu8981%5Cu6392%5Cu5e8f%5Cu7684%20%24n%24%20%5Cu4e2a%5Cu6574%5Cu6570%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a1%5Cu4e8c%5Cuff1a%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570%20%24n%2Cq%24%5Cu3002%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu4e00%5Cu4e2a%5Cu4ec5%5Cu5305%5Cu542b%20%240%2C%201%2C%202%24%20%5Cu7684%5Cu957f%5Cu5ea6%5Cu4e3a%20%24n%24%20%5Cu7684%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu7b2c%20%24i%24%20%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu6240%5Cu4ee3%5Cu8868%5Cu7684%5Cu6574%5Cu6570%5Cu8868%5Cu793a%5Cu7b2c%5Cu4e00%5Cu6392%5Cu7b2c%20%24i%24%20%5Cu4e2a%5Cu4eba%5Cu7684%5Cu7b56%5Cu7565%5Cuff08%5Cu5373%20%24a_%7B1i%7D%24%5Cu200b%5Cu200b%5Cuff09%5Cu3002%5Cu7b2c%5Cu4e09%5Cu884c%5Cu683c%5Cu5f0f%5Cu540c%5Cu7b2c%5Cu4e8c%5Cu884c%5Cuff0c%5Cu8868%5Cu793a%5Cu7b2c%5Cu4e8c%5Cu6392%5Cu5404%5Cu4e2a%5Cu4eba%5Cu7684%5Cu7b56%5Cu7565%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a1%5Cu4e09%5Cuff1a%5Cu7b2c%5Cu4e00%5Cu884c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%20%24n%24%5Cuff0c%5Cu8868%5Cu793a%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu4e32%5Cu7684%5Cu957f%5Cu5ea6%5Cu3002%5Cu7b2c%5Cu4e8c%5Cu884c%5Cu4e00%5Cu4e2a%5Cu5b57%5Cu7b26%5Cu4e32%5Cuff0c%5Cu5373%5Cu4e3a%5Cu7ed9%5Cu5b9a%5Cu7684%5Cu4e32%5Cu3002%22%2C%22outputFormat%22%3A%22%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a11%5Cuff1a%5Cu4ee4%20%24b%24%20%5Cu4e3a%5Cu5df2%5Cu7ecf%5Cu6392%5Cu597d%5Cu5e8f%5Cu7684%5Cu6570%5Cu7ec4%5Cuff0c%5Cu8c03%5Cu7528%20%60%60%60output_arr%28b%2C%20n%20%2A%204%29%60%60%60%20%5Cu5373%5Cu53ef%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a12%5Cuff1a%5Cu5c06%5Cu6bcf%5Cu4e2a%5Cu8be2%5Cu95ee%5Cu7684%5Cu7b54%5Cu6848%5Cu4f9d%5Cu6b21%5Cu5b58%5Cu5165%20%2432%24%20%5Cu4f4d%5Cu65e0%5Cu7b26%5Cu53f7%5Cu6574%5Cu6570%5Cu6570%5Cu7ec4%20%24b%24%20%5Cu4e2d%5Cuff08%5Cu5373%5Cuff0c%5Cu5b58%5Cu5165%20%24b_0%2Cb_1%2C%5Cu22ef%2Cb_%7Bq-1%7D%24%20%5Cu4e2d%5Cuff09%5Cuff0c%5Cu7136%5Cu540e%5Cu8c03%5Cu7528%20%60%60%60output_arr%28b%2C%20q%20%2A%204%29%60%60%60%20%5Cu5373%5Cu53ef%5Cu3002%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4efb%5Cu52a13%5Cuff1a%5Cu8f93%5Cu51fa%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu4e0d%5Cu540c%5Cu7684%5Cu65b9%5Cu6848%5Cu6570%5Cu9664%5Cu4ee5%20%242%5E%7B32%7D%24%5Cu200b%5Cu200b%20%5Cu5f97%5Cu5230%5Cu7684%5Cu4f59%5Cu6570%5Cu3002%22%2C%22samples%22%3A%5B%5B%221%5Cn100000%202017012501%22%2C%224275990336%22%5D%2C%5B%222%5Cn6%206%5Cn200100%5Cn200211%5Cn5%201%203%5Cn2%200%201%5Cn2%200%203%5Cn2%200%202%5Cn2%203%204%5Cn0%201%203%22%2C%223349208141%22%5D%2C%5B%223%5Cn4%5Cn%28%3F%3F%3F%22%2C%222%22%5D%2C%5B%223%5Cn4%5Cn%29%3F%3F%3F%22%2C%220%22%5D%5D%2C%22hint%22%3A%22%23%23%20%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cu4e0e%5Cu63d0%5Cu793a%5Cn%5Cn%7C%20%5Cu4efb%5Cu52a1%5Cu7f16%5Cu53f7%20%7C%20%5Cu5206%5Cu503c%20%7C%20%5Cu6d4b%5Cu8bd5%5Cu70b9%5Cu7f16%5Cu53f7%20%7C%20%5Cu6570%5Cu636e%5Cu8303%5Cu56f4%5Cu4e0e%5Cu7ea6%5Cu5b9a%20%7C%20%5Cu65f6%5Cu95f4%5Cu9650%5Cu5236%20%7C%5Cn%7C%20%3A----------%3A%20%7C%20%3A----------%3A%20%7C%20%3A----------%3A%20%7C%20%3A----------%3A%20%7C%20%3A----------%3A%20%7C%5Cn%7C%201%20%7C%205%20%7C%201%20%7C%20%24n%3D100000%24%20%7C%203s%20%7C%5Cn%7C%201%20%7C%2019%20%7C%202%20%7C%20%24n%3D10%5E8%24%20%7C%204s%20%7C%5Cn%7C%201%20%7C%2011%20%7C%203%20%7C%20%24n%3D2%5C%5Ctimes10%5E8%24%20%7C%206s%20%7C%5Cn%7C%202%20%7C%207%20%7C%204%20%7C%20%24n%3Dq%3D1000%24%20%7C%203s%20%7C%5Cn%7C%202%20%7C%2023%20%7C%205%20%7C%20%24n%3Dq%3D300000%24%20%7C%203s%20%7C%5Cn%7C%203%20%7C%209%20%7C%206%20%7C%20%24n%3D1000%24%20%7C%203s%20%7C%5Cn%7C%203%20%7C%205%20%7C%207%20%7C%20%24n%3D120000%24%20%7C%203s%20%7C%5Cn%7C%203%20%7C%207%20%7C%208%20%7C%20%24n%3D225000%24%20%7C%203s%20%7C%5Cn%7C%203%20%7C%2014%20%7C%209%20%7C%20%24n%3D266666%24%20%7C%203s%20%7C%5Cn%5Cn%23%23%20%5Cu6a21%5Cu677f%5Cu7a0b%5Cu5e8f%5Cn%5Cn%23%23%23%20C%2B%2B%5Cu6a21%5Cu677f%5Cn%5Cn%60%60%60%5Cn%23include%20%3Cstdio.h%3E%5Cn%23include%20%3Cstring.h%3E%5Cn%23include%20%3Calgorithm%3E%5Cn%5Cntypedef%20unsigned%20int%20u32%3B%5Cntypedef%20unsigned%20long%20long%20u64%3B%5Cn%5Cninline%20u32%20next_integer%28u32%20x%29%20%7B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3C%3C%2013%3B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3E%3E%2017%3B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3C%3C%205%3B%5Cn%20%20%20%20return%20x%3B%5Cn%7D%5Cn%5Cnbool%20output_arr%28void%20%2Aa%2C%20u32%20size%29%20%7B%5Cn%20%20%20%20if%20%28size%20%25%204%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20puts%28%5C%22-1%5C%22%29%2C%200%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20u32%20blocks%20%3D%20size%20%5C%2F%204%3B%5Cn%20%20%20%20u32%20%2AA%20%3D%20%28u32%20%2A%29a%3B%5Cn%20%20%20%20u32%20ret%20%3D%20size%3B%5Cn%20%20%20%20u32%20x%20%3D%2023333333%3B%5Cn%20%20%20%20for%20%28u32%20i%20%3D%200%3B%20i%20%3C%20blocks%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20ret%20%3D%20ret%20%5E%20%28A%5Bi%5D%20%2B%20x%29%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3C%3C%2013%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3E%3E%2017%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3C%3C%205%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20printf%28%5C%22%25u%5C%5Cn%5C%22%2C%20ret%29%2C%201%3B%5Cn%7D%5Cn%5Cn%5C%2F%5C%2F%20%3D%3D%3D%3D%3D%20header%20%3D%3D%3D%3D%3D%3D%5Cn%5Cnnamespace%20Sorting%20%7B%5Cnvoid%20init_data%28u32%20%2Aa%2C%20int%20n%2C%20u32%20seed%29%20%7B%5Cn%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20n%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20seed%20%3D%20next_integer%28seed%29%3B%5Cn%20%20%20%20%20%20%20%20a%5Bi%5D%20%3D%20seed%3B%5Cn%20%20%20%20%7D%5Cn%7D%5Cn%5Cnvoid%20main%28%29%20%7B%5Cn%20%20%20%20int%20n%3B%5Cn%20%20%20%20u32%20seed%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%25u%5C%22%2C%20%26n%2C%20%26seed%29%3B%5Cn%5Cn%20%20%20%20u32%20%2Aa%20%3D%20new%20u32%5Bn%5D%3B%5Cn%20%20%20%20init_data%28a%2C%20n%2C%20seed%29%3B%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20sort%28a%2C%20n%29%3B%5Cn%5Cn%20%20%20%20output_arr%28a%2C%20n%20%2A%20sizeof%28u32%29%29%3B%5Cn%7D%5Cn%7D%5Cn%5Cnnamespace%20Game%20%7B%5Cnvoid%20main%28%29%20%7B%5Cn%20%20%20%20int%20n%2C%20q%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%25d%5C%22%2C%20%26n%2C%20%26q%29%3B%5Cn%5Cn%20%20%20%20char%20%2As1%20%3D%20new%20char%5Bn%20%2B%201%5D%3B%5Cn%20%20%20%20char%20%2As2%20%3D%20new%20char%5Bn%20%2B%201%5D%3B%5Cn%20%20%20%20scanf%28%5C%22%25s%25s%5C%22%2C%20s1%2C%20s2%29%3B%5Cn%5Cn%20%20%20%20u32%20%2Aanss%20%3D%20new%20u32%5Bq%5D%3B%5Cn%20%20%20%20int%20%2Aq_x%20%3D%20new%20int%5Bq%5D%3B%5Cn%20%20%20%20int%20%2Aq_y%20%3D%20new%20int%5Bq%5D%3B%5Cn%20%20%20%20int%20%2Aq_len%20%3D%20new%20int%5Bq%5D%3B%5Cn%5Cn%20%20%20%20for%20%28int%20i%20%3D%200%3B%20i%20%3C%20q%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20scanf%28%5C%22%25d%25d%25d%5C%22%2C%20q_x%20%2B%20i%2C%20q_y%20%2B%20i%2C%20q_len%20%2B%20i%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20solve%28n%2C%20q%2C%20s1%2C%20s2%2C%20q_x%2C%20q_y%2C%20q_len%2C%20anss%29%3B%5Cn%5Cn%20%20%20%20output_arr%28anss%2C%20q%20%2A%20sizeof%28u32%29%29%3B%5Cn%7D%5Cn%7D%5Cn%5Cnnamespace%20Parentheses%20%7B%5Cnvoid%20main%28%29%20%7B%5Cn%20%20%20%20int%20n%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%5C%22%2C%20%26n%29%3B%5Cn%5Cn%20%20%20%20char%20%2As%20%3D%20new%20char%5Bn%20%2B%201%5D%3B%5Cn%20%20%20%20scanf%28%5C%22%25s%5C%22%2C%20s%29%3B%5Cn%5Cn%20%20%20%20u32%20ans%3B%5Cn%20%20%20%20%5C%2F%5C%2F%20ans%20%3D%20solve%28n%2C%20s%29%3B%5Cn%5Cn%20%20%20%20printf%28%5C%22%25u%5C%5Cn%5C%22%2C%20ans%29%3B%5Cn%7D%5Cn%7D%5Cn%5Cnint%20main%28%29%20%7B%5Cn%20%20%20%20int%20task_id%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%5C%22%2C%20%26task_id%29%3B%5Cn%5Cn%20%20%20%20switch%20%28task_id%29%20%7B%5Cn%20%20%20%20%20%20%20%20case%201%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Sorting%3A%3Amain%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20case%202%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Game%3A%3Amain%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20case%203%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Parentheses%3A%3Amain%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%60%60%60%5Cn%5Cn%23%23%23%20C%5Cu6a21%5Cu677f%5Cn%5Cn%60%60%60%5Cn%23include%20%3Cstdio.h%3E%5Cn%23include%20%3Cstdlib.h%3E%5Cn%23include%20%3Cstring.h%3E%5Cn%5Cn%23define%20bool%20int%5Cn%23define%20true%201%5Cn%23define%20false%200%5Cn%5Cntypedef%20unsigned%20int%20u32%3B%5Cntypedef%20unsigned%20long%20long%20u64%3B%5Cn%5Cninline%20u32%20next_integer%28u32%20x%29%20%7B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3C%3C%2013%3B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3E%3E%2017%3B%5Cn%20%20%20%20x%20%5E%3D%20x%20%3C%3C%205%3B%5Cn%20%20%20%20return%20x%3B%5Cn%7D%5Cn%5Cnbool%20output_arr%28void%20%2Aa%2C%20u32%20size%29%20%7B%5Cn%20%20%20%20if%20%28size%20%25%204%29%20%7B%5Cn%20%20%20%20%20%20%20%20return%20puts%28%5C%22-1%5C%22%29%2C%200%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20u32%20blocks%20%3D%20size%20%5C%2F%204%3B%5Cn%20%20%20%20u32%20%2AA%20%3D%20%28u32%20%2A%29a%3B%5Cn%20%20%20%20u32%20ret%20%3D%20size%3B%5Cn%20%20%20%20u32%20x%20%3D%2023333333%3B%5Cn%20%20%20%20u32%20i%3B%5Cn%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20blocks%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20ret%20%3D%20ret%20%5E%20%28A%5Bi%5D%20%2B%20x%29%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3C%3C%2013%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3E%3E%2017%3B%5Cn%20%20%20%20%20%20%20%20x%20%5E%3D%20x%20%3C%3C%205%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%20printf%28%5C%22%25u%5C%5Cn%5C%22%2C%20ret%29%2C%201%3B%5Cn%7D%5Cn%5Cn%5C%2F%5C%2F%20%3D%3D%3D%3D%3D%20header%20%3D%3D%3D%3D%3D%3D%5Cn%5Cnvoid%20Sorting_main%28%29%20%7B%5Cn%20%20%20%20int%20n%3B%5Cn%20%20%20%20u32%20seed%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%25u%5C%22%2C%20%26n%2C%20%26seed%29%3B%5Cn%5Cn%20%20%20%20u32%20%2Aa%20%3D%20malloc%28n%20%2A%20sizeof%28u32%29%29%3B%5Cn%20%20%20%20int%20i%3B%5Cn%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20n%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20seed%20%3D%20next_integer%28seed%29%3B%5Cn%20%20%20%20%20%20%20%20a%5Bi%5D%20%3D%20seed%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20sort%28a%2C%20n%29%3B%5Cn%5Cn%20%20%20%20output_arr%28a%2C%20n%20%2A%20sizeof%28u32%29%29%3B%5Cn%7D%5Cn%5Cnvoid%20Game_main%28%29%20%7B%5Cn%20%20%20%20int%20n%2C%20q%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%25d%5C%22%2C%20%26n%2C%20%26q%29%3B%5Cn%5Cn%20%20%20%20char%20%2As1%20%3D%20malloc%28%28n%20%2B%201%29%20%2A%20sizeof%28char%29%29%3B%5Cn%20%20%20%20char%20%2As2%20%3D%20malloc%28%28n%20%2B%201%29%20%2A%20sizeof%28char%29%29%3B%5Cn%20%20%20%20scanf%28%5C%22%25s%25s%5C%22%2C%20s1%2C%20s2%29%3B%5Cn%5Cn%20%20%20%20u32%20%2Aanss%20%3D%20malloc%28q%20%2A%20sizeof%28u32%29%29%3B%5Cn%20%20%20%20int%20%2Aq_x%20%3D%20malloc%28q%20%2A%20sizeof%28int%29%29%3B%5Cn%20%20%20%20int%20%2Aq_y%20%3D%20malloc%28q%20%2A%20sizeof%28int%29%29%3B%5Cn%20%20%20%20int%20%2Aq_len%20%3D%20malloc%28q%20%2A%20sizeof%28int%29%29%3B%5Cn%5Cn%20%20%20%20int%20i%3B%5Cn%5Cn%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20q%3B%20i%2B%2B%29%20%7B%5Cn%20%20%20%20%20%20%20%20scanf%28%5C%22%25d%25d%25d%5C%22%2C%20q_x%20%2B%20i%2C%20q_y%20%2B%20i%2C%20q_len%20%2B%20i%29%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20solve%28n%2C%20q%2C%20s1%2C%20s2%2C%20q_x%2C%20q_y%2C%20q_len%2C%20anss%29%3B%5Cn%5Cn%20%20%20%20output_arr%28anss%2C%20q%20%2A%20sizeof%28u32%29%29%3B%5Cn%7D%5Cn%5Cnvoid%20Parentheses_main%28%29%20%7B%5Cn%20%20%20%20int%20n%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%5C%22%2C%20%26n%29%3B%5Cn%5Cn%20%20%20%20char%20%2As%20%3D%20malloc%28%28n%20%2B%201%29%20%2A%20sizeof%28char%29%29%3B%5Cn%20%20%20%20scanf%28%5C%22%25s%5C%22%2C%20s%29%3B%5Cn%5Cn%20%20%20%20u32%20ans%3B%5Cn%20%20%20%20%5C%2F%5C%2F%20ans%20%3D%20solve%28n%2C%20s%29%3B%5Cn%5Cn%20%20%20%20printf%28%5C%22%25u%5C%5Cn%5C%22%2C%20ans%29%3B%5Cn%7D%5Cn%5Cnint%20main%28%29%20%7B%5Cn%20%20%20%20int%20task_id%3B%5Cn%20%20%20%20scanf%28%5C%22%25d%5C%22%2C%20%26task_id%29%3B%5Cn%5Cn%20%20%20%20switch%20%28task_id%29%20%7B%5Cn%20%20%20%20%20%20%20%20case%201%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Sorting_main%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20case%202%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Game_main%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20case%203%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Parentheses_main%28%29%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20return%200%3B%5Cn%7D%5Cn%60%60%60%5Cn%5Cn%23%23%23%20Pascal%5Cu6a21%5Cu677f%5Cn%5Cn%60%60%60%5Cntype%5Cn%20%20%20%20u32%20%3D%20dword%3B%5Cn%20%20%20%20u64%20%3D%20qword%3B%5Cn%20%20%20%20u32_p%20%3D%20%5Eu32%3B%5Cn%20%20%20%20u64_p%20%3D%20%5Eu64%3B%5Cn%20%20%20%20longint_p%20%3D%20%5Elongint%3B%5Cn%5Cnfunction%20next_integer%28x%20%3A%20u32%29%20%3A%20u32%3B%20inline%3B%5Cnbegin%5Cn%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3C%3C%2013%29%3B%5Cn%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3E%3E%2017%29%3B%5Cn%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3C%3C%205%29%3B%5Cn%20%20%20%20exit%28x%29%3B%5Cnend%3B%5Cn%5Cnfunction%20output_arr%28a_in%20%3A%20pointer%3B%20size%20%3A%20u32%29%20%3A%20boolean%3B%5Cnvar%5Cn%20%20%20%20blocks%20%3A%20u32%3B%5Cn%20%20%20%20a%2C%20a_ed%20%3A%20u32_p%3B%5Cn%20%20%20%20ret%2C%20x%20%3A%20u32%3B%5Cnbegin%5Cn%20%20%20%20if%20size%20mod%204%20%3C%3E%200%20then%20begin%5Cn%20%20%20%20%20%20%20%20writeln%28-1%29%3B%5Cn%20%20%20%20%20%20%20%20exit%28false%29%3B%5Cn%20%20%20%20end%3B%5Cn%5Cn%20%20%20%20blocks%20%3A%3D%20size%20div%204%3B%5Cn%20%20%20%20ret%20%3A%3D%20size%3B%5Cn%20%20%20%20a%20%3A%3D%20a_in%3B%5Cn%20%20%20%20a_ed%20%3A%3D%20a%20%2B%20blocks%3B%5Cn%20%20%20%20x%20%3A%3D%2023333333%3B%5Cn%5Cn%20%20%20%20while%20a%20%3C%20a_ed%20do%20begin%5Cn%20%20%20%20%20%20%20%20ret%20%3A%3D%20ret%20xor%20%28a%5B0%5D%20%2B%20x%29%3B%5Cn%20%20%20%20%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3C%3C%2013%29%3B%5Cn%20%20%20%20%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3E%3E%2017%29%3B%5Cn%20%20%20%20%20%20%20%20x%20%3A%3D%20x%20xor%20%28x%20%3C%3C%205%29%3B%5Cn%20%20%20%20%20%20%20%20inc%28a%29%3B%5Cn%20%20%20%20end%3B%5Cn%5Cn%20%20%20%20writeln%28ret%29%3B%5Cn%20%20%20%20exit%28true%29%3B%5Cnend%3B%5Cn%5Cn%5C%2F%5C%2F%20%3D%3D%3D%3D%3D%3D%20header%20%3D%3D%3D%3D%3D%3D%5Cn%5Cn%5Cnprocedure%20init_data%28a%20%3A%20u32_p%3B%20n%20%3A%20longint%3B%20seed%20%3A%20u32%29%3B%5Cnvar%5Cn%20%20%20%20a_ed%20%3A%20u32_p%3B%5Cnbegin%5Cn%20%20%20%20a_ed%20%3A%3D%20a%20%2B%20n%3B%5Cn%20%20%20%20while%20a%20%3C%20a_ed%20do%20begin%5Cn%20%20%20%20%20%20%20%20seed%20%3A%3D%20next_integer%28seed%29%3B%5Cn%20%20%20%20%20%20%20%20a%5B0%5D%20%3A%3D%20seed%3B%5Cn%20%20%20%20%20%20%20%20inc%28a%29%3B%5Cn%20%20%20%20end%3B%5Cnend%3B%5Cn%5Cnprocedure%20Sorting_main%28%29%3B%5Cnvar%5Cn%20%20%20%20n%20%3A%20longint%3B%5Cn%20%20%20%20seed%20%3A%20u32%3B%5Cn%20%20%20%20a%20%3A%20u32_p%3B%5Cn%20%20%20%20i%20%3A%20u32%3B%5Cnbegin%5Cn%20%20%20%20read%28n%2C%20seed%29%3B%5Cn%5Cn%20%20%20%20a%20%3A%3D%20Getmem%28n%20%2A%20sizeof%28u32%29%29%3B%5Cn%20%20%20%20init_data%28a%2C%20n%2C%20seed%29%3B%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20sort%28a%2C%20n%29%3B%5Cn%5Cn%20%20%20%20output_arr%28a%2C%20n%20%2A%20sizeof%28u32%29%29%3B%5Cnend%3B%5Cn%5Cn%5Cnprocedure%20Game_main%28%29%3B%5Cnvar%5Cn%20%20%20%20n%2C%20q%20%3A%20longint%3B%5Cn%20%20%20%20s1%2C%20s2%20%3A%20ansistring%3B%5Cn%20%20%20%20anss%20%3A%20u32_p%3B%5Cn%20%20%20%20q_x%2C%20q_y%2C%20q_len%20%3A%20longint_p%3B%5Cn%20%20%20%20i%20%3A%20longint%3B%5Cnbegin%5Cn%20%20%20%20readln%28n%2C%20q%29%3B%5Cn%20%20%20%20readln%28s1%29%3B%5Cn%20%20%20%20readln%28s2%29%3B%5Cn%5Cn%20%20%20%20anss%20%3A%3D%20Getmem%28q%20%2A%20sizeof%28u32%29%29%3B%5Cn%20%20%20%20q_x%20%3A%3D%20Getmem%28q%20%2A%20sizeof%28longint%29%29%3B%5Cn%20%20%20%20q_y%20%3A%3D%20Getmem%28q%20%2A%20sizeof%28longint%29%29%3B%5Cn%20%20%20%20q_len%20%3A%3D%20Getmem%28q%20%2A%20sizeof%28longint%29%29%3B%5Cn%5Cn%20%20%20%20for%20i%20%3A%3D%200%20to%20q%20-%201%20do%20begin%5Cn%20%20%20%20%20%20%20%20read%28q_x%5Bi%5D%2C%20q_y%5Bi%5D%2C%20q_len%5Bi%5D%29%3B%5Cn%20%20%20%20end%3B%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20solve%28n%2C%20q%2C%20s1%2C%20s2%2C%20q_x%2C%20q_y%2C%20q_len%2C%20anss%29%3B%5Cn%5Cn%20%20%20%20output_arr%28anss%2C%20q%20%2A%20sizeof%28u32%29%29%3B%5Cnend%3B%5Cn%5Cn%5Cnprocedure%20Parentheses_main%28%29%3B%5Cnvar%5Cn%20%20%20%20n%20%3A%20longint%3B%5Cn%20%20%20%20s%20%3A%20ansistring%3B%5Cn%20%20%20%20ans%20%3A%20u32%3B%5Cnbegin%5Cn%20%20%20%20read%28n%29%3B%5Cn%20%20%20%20read%28s%29%3B%5Cn%5Cn%20%20%20%20%5C%2F%5C%2F%20ans%20%3A%3D%20solve%28n%2C%20s%29%3B%5Cn%5Cn%20%20%20%20writeln%28ans%29%3B%5Cnend%3B%5Cn%5Cn%5Cnvar%5Cn%20%20%20%20task_id%20%3A%20longint%3B%5Cn%5Cnbegin%5Cn%20%20%20%20read%28task_id%29%3B%5Cn%5Cn%20%20%20%20if%20task_id%20%3D%201%20then%20begin%5Cn%20%20%20%20%20%20%20%20Sorting_main%28%29%3B%5Cn%20%20%20%20end%20else%20if%20task_id%20%3D%202%20then%20begin%5Cn%20%20%20%20%20%20%20%20Game_main%28%29%3B%5Cn%20%20%20%20end%20else%20if%20task_id%20%3D%203%20then%20begin%5Cn%20%20%20%20%20%20%20%20Parentheses_main%28%29%3B%5Cn%20%20%20%20end%3B%5Cn%20%20%20%20close%28input%29%3B%20close%28output%29%3B%5Cnend.%5Cn%60%60%60%22%2C%22provider%22%3A%7B%22uid%22%3A53374%2C%22name%22%3A%22SuperJvRuo%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Blue%22%2C%22ccfLevel%22%3A6%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B3000%2C4000%2C6000%2C3000%2C3000%2C3000%2C3000%2C3000%2C3000%5D%2C%22memory%22%3A%5B2048000%2C2048000%2C2048000%2C2048000%2C2048000%2C2048000%2C2048000%2C2048000%2C2048000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B34%2C52%2C108%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A734%2C%22totalAccepted%22%3A84%2C%22pid%22%3A%22P4604%22%2C%22title%22%3A%22%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A155372%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%2C%7B%22id%22%3A103128%2C%22title%22%3A%22%5Cu6d4b%5Cu8bc4%5Cu59ec%5Cu901f%5Cu5ea6%5Cu771f%5Cu8ff7%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%2C%7B%22id%22%3A80576%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu6ca1%5Cu6709%5Cu9898%5Cu89e3%5Cu5417%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%2C%7B%22id%22%3A57995%2C%22title%22%3A%22%5Cu54e6%5Cu5bf9%5Cu4e86%5Cu5173%5Cu4e8e%5Cu8fd9%5Cu4e2a%5Cu9898%5Cu8bf4%5Cu7684%5Cu53e6%5Cu4e00%5Cu53e5%5Cu8bdd%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%2C%7B%22id%22%3A57967%2C%22title%22%3A%22%5Cu73b0%5Cu5728%5Cu662f%5Cu4e0d%5Cu662f%5Cu53ef%5Cu4ee5%5Cu5f002GB%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%2C%7B%22id%22%3A56355%2C%22title%22%3A%22%5Cu6709%5Cu4eba%5Cu8fc7%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A25878%2C%22name%22%3A%22P4604%20%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22slug%22%3A%22P4604%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2483%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011k%5Cu77ed%5Cu8def%5Cuff08%5BSDOI2010%5D%5Cu9b54%5Cu6cd5%5Cu732a%5Cu5b66%5Cu9662%5Cuff09%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4220%22%2C%22title%22%3A%22%5BWC2018%5D%5Cu901a%5Cu9053%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5044%22%2C%22title%22%3A%22%5BIOI2018%5D%20meetings%20%5Cu4f1a%5Cu8bae%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5245%22%2C%22title%22%3A%22%5Cu3010%5Cu6a21%5Cu677f%5Cu3011%5Cu591a%5Cu9879%5Cu5f0f%5Cu5feb%5Cu901f%5Cu5e42%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P5210%22%2C%22title%22%3A%22%5BZJOI2017%5D%5Cu7ebf%5Cu6bb5%5Cu6811%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BWC2017%5D%5Cu6311%5Cu6218%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[WC2017]挑战</h1>
<h2>题目背景</h2>
<div>## 滥用本题评测将被封号。洛谷不保证此类毒瘤题的评测结果准确性。
你和同学们找了三道题目用来练习。
这次练习的目标是写出能在时间限制里通过尽量大规模数据的代码。
同学们纷纷写出了优秀的代码。现在，他们向你发起了挑战，他们对每个问题都设置了若干个测试数据，这是他们能通过的最大规模的测试数据。现在，他们想看一看你写的代码究竟能超过多少同学的代码，通过多大规模的测试数据。
本题分为 $3$ 个任务，每个任务对应一道题和相应的若干个测试点，你需要对于每个任务，设计一个能通过尽量多测试点的程序。</div>
<h2>题目描述</h2>
<div>## 任务一
给定 $n$ 个 $32$ 位无符号整数，将它们从小到大排序。
## 任务二
有 $2n$ 个人在玩 「石头剪刀布」 游戏。他们排成两排，每排 $n$ 个人。每个人在每一局游戏都使用固定策略，即对于第 $i (i \in 1, 2)$ 排的第 $j (0 \leq j < n)$ 个人，用一个整数 $a_{ij}$​​ 表示他的策略，其中 $0$ 表示只出石头，$1$ 表示只出剪刀，$2$ 表示只出布。
现在有 $q$ 个询问，每个询问给定三个整数 $x,y,l(0\leq x,y<n,1\leq l\leq n-max(x,y))$， 问将第一排的第 $x∼x+l-1$ 个人和第二排的第 $y∼y+l-1$ 个人比赛之后，第一排有多少个人会赢。 上文中 「比赛」 的意思是，对于所有整数 $i$ 满足 $0\leq i<l$,让第一排的第 $x+i$ 个人和 第二排的第 $y+i$ 个人进行 「石头剪刀布」 游戏。 ## 任务三 我们称一个合法的括号串为：只由左括号和右括号构成，两种括号的数量相等， 且任意一个前缀的左括号数量不少于右括号数量的串。现在给定一个由 ```(```，```)``` 和```?``` 构成的串，问有多少种不同的方案，使得将每个 ```?``` 都替换成一个括号之后，该串变成一 个合法的括号串。两种方案不同，当且仅当至少有一个位置的 ```?``` 被替换成了不同的括号。</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>此题提供了模板程序。选手可以在此基础上编写自己的程序，模板程序详见下文数据范围与提示。
第一行一个整数$ task\_id(1\leq task\_id\leq3)$，表示任务编号。接下来是每个具体任务的输入内容。
在输入的同一行中，相邻的两个整数会被一个空格隔开。
对于任务一：一行，两个整数 $n,s$。令 $a_0=next\_integer(s),a_i=next\_integer(a_{i-1}),1\leq i<n$，则 $a_0,a_1,…,a_{n-1}$ 即为需要排序的 $n$ 个整数。 对于任务二：第一行两个整数 $n,q$。第二行一个仅包含 $0, 1, 2$ 的长度为 $n$ 的字符串，第 $i$ 个字符所代表的整数表示第一排第 $i$ 个人的策略（即 $a_{1i}$​​）。第三行格式同第二行，表示第二排各个人的策略。 对于任务三：第一行一个整数 $n$，表示给定的串的长度。第二行一个字符串，即为给定的串。</div>
<h3>输出格式</h3>
<br />
<div>对于任务1：令 $b$ 为已经排好序的数组，调用 ```output_arr(b, n * 4)``` 即可。
对于任务2：将每个询问的答案依次存入 $32$ 位无符号整数数组 $b$ 中（即，存入 $b_0,b_1,⋯,b_{q-1}$ 中），然后调用 ```output_arr(b, q * 4)``` 即可。
对于任务3：输出一个整数，表示不同的方案数除以 $2^{32}$​​ 得到的余数。</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>1
100000 2017012501</code></pre>
<h3>输出样例 #1</h3>
<pre><code>4275990336</code></pre>
<h3>输入样例 #2</h3>
<pre><code>2
6 6
200100
200211
5 1 3
2 0 1
2 0 3
2 0 2
2 3 4
0 1 3</code></pre>
<h3>输出样例 #2</h3>
<pre><code>3349208141</code></pre>
<h3>输入样例 #3</h3>
<pre><code>3
4
(???</code></pre>
<h3>输出样例 #3</h3>
<pre><code>2</code></pre>
<h3>输入样例 #4</h3>
<pre><code>3
4
)???</code></pre>
<h3>输出样例 #4</h3>
<pre><code>0</code></pre>
<h2>说明</h2>
<div>## 数据范围与提示
| 任务编号 | 分值 | 测试点编号 | 数据范围与约定 | 时间限制 |
| :----------: | :----------: | :----------: | :----------: | :----------: |
| 1 | 5 | 1 | $n=100000$ | 3s |
| 1 | 19 | 2 | $n=10^8$ | 4s |
| 1 | 11 | 3 | $n=2\times10^8$ | 6s |
| 2 | 7 | 4 | $n=q=1000$ | 3s |
| 2 | 23 | 5 | $n=q=300000$ | 3s |
| 3 | 9 | 6 | $n=1000$ | 3s |
| 3 | 5 | 7 | $n=120000$ | 3s |
| 3 | 7 | 8 | $n=225000$ | 3s |
| 3 | 14 | 9 | $n=266666$ | 3s |
## 模板程序
### C++模板
```
#include <stdio.h>
#include <string.h>
#include <algorithm>
typedef unsigned int u32;
typedef unsigned long long u64;
inline u32 next_integer(u32 x) {
x ^= x << 13;
x ^= x >> 17;
x ^= x << 5;
return x;
}
bool output_arr(void *a, u32 size) {
if (size % 4) {
return puts("-1"), 0;
}
u32 blocks = size / 4;
u32 *A = (u32 *)a;
u32 ret = size;
u32 x = 23333333;
for (u32 i = 0; i < blocks; i++) {
ret = ret ^ (A[i] + x);
x ^= x << 13;
x ^= x >> 17;
x ^= x << 5;
}
return printf("%u\n", ret), 1;
}
// ===== header ======
namespace Sorting {
void init_data(u32 *a, int n, u32 seed) {
for (int i = 0; i < n; i++) {
seed = next_integer(seed);
a[i] = seed;
}
}
void main() {
int n;
u32 seed;
scanf("%d%u", &n, &seed);
u32 *a = new u32[n];
init_data(a, n, seed);
// sort(a, n);
output_arr(a, n * sizeof(u32));
}
}
namespace Game {
void main() {
int n, q;
scanf("%d%d", &n, &q);
char *s1 = new char[n + 1];
char *s2 = new char[n + 1];
scanf("%s%s", s1, s2);
u32 *anss = new u32[q];
int *q_x = new int[q];
int *q_y = new int[q];
int *q_len = new int[q];
for (int i = 0; i < q; i++) {
scanf("%d%d%d", q_x + i, q_y + i, q_len + i);
}
// solve(n, q, s1, s2, q_x, q_y, q_len, anss);
output_arr(anss, q * sizeof(u32));
}
}
namespace Parentheses {
void main() {
int n;
scanf("%d", &n);
char *s = new char[n + 1];
scanf("%s", s);
u32 ans;
// ans = solve(n, s);
printf("%u\n", ans);
}
}
int main() {
int task_id;
scanf("%d", &task_id);
switch (task_id) {
case 1:
Sorting::main();
break;
case 2:
Game::main();
break;
case 3:
Parentheses::main();
break;
}
return 0;
}
```
### C模板
```
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define bool int
#define true 1
#define false 0
typedef unsigned int u32;
typedef unsigned long long u64;
inline u32 next_integer(u32 x) {
x ^= x << 13;
x ^= x >> 17;
x ^= x << 5;
return x;
}
bool output_arr(void *a, u32 size) {
if (size % 4) {
return puts("-1"), 0;
}
u32 blocks = size / 4;
u32 *A = (u32 *)a;
u32 ret = size;
u32 x = 23333333;
u32 i;
for (i = 0; i < blocks; i++) {
ret = ret ^ (A[i] + x);
x ^= x << 13;
x ^= x >> 17;
x ^= x << 5;
}
return printf("%u\n", ret), 1;
}
// ===== header ======
void Sorting_main() {
int n;
u32 seed;
scanf("%d%u", &n, &seed);
u32 *a = malloc(n * sizeof(u32));
int i;
for (i = 0; i < n; i++) {
seed = next_integer(seed);
a[i] = seed;
}
// sort(a, n);
output_arr(a, n * sizeof(u32));
}
void Game_main() {
int n, q;
scanf("%d%d", &n, &q);
char *s1 = malloc((n + 1) * sizeof(char));
char *s2 = malloc((n + 1) * sizeof(char));
scanf("%s%s", s1, s2);
u32 *anss = malloc(q * sizeof(u32));
int *q_x = malloc(q * sizeof(int));
int *q_y = malloc(q * sizeof(int));
int *q_len = malloc(q * sizeof(int));
int i;
for (i = 0; i < q; i++) {
scanf("%d%d%d", q_x + i, q_y + i, q_len + i);
}
// solve(n, q, s1, s2, q_x, q_y, q_len, anss);
output_arr(anss, q * sizeof(u32));
}
void Parentheses_main() {
int n;
scanf("%d", &n);
char *s = malloc((n + 1) * sizeof(char));
scanf("%s", s);
u32 ans;
// ans = solve(n, s);
printf("%u\n", ans);
}
int main() {
int task_id;
scanf("%d", &task_id);
switch (task_id) {
case 1:
Sorting_main();
break;
case 2:
Game_main();
break;
case 3:
Parentheses_main();
break;
}
return 0;
}
```
### Pascal模板
```
type
u32 = dword;
u64 = qword;
u32_p = ^u32;
u64_p = ^u64;
longint_p = ^longint;
function next_integer(x : u32) : u32; inline;
begin
x := x xor (x << 13);
x := x xor (x >> 17);
x := x xor (x << 5);
exit(x);
end;
function output_arr(a_in : pointer; size : u32) : boolean;
var
blocks : u32;
a, a_ed : u32_p;
ret, x : u32;
begin
if size mod 4 <> 0 then begin
writeln(-1);
exit(false);
end;
blocks := size div 4;
ret := size;
a := a_in;
a_ed := a + blocks;
x := 23333333;
while a < a_ed do begin
ret := ret xor (a[0] + x);
x := x xor (x << 13);
x := x xor (x >> 17);
x := x xor (x << 5);
inc(a);
end;
writeln(ret);
exit(true);
end;
// ====== header ======
procedure init_data(a : u32_p; n : longint; seed : u32);
var
a_ed : u32_p;
begin
a_ed := a + n;
while a < a_ed do begin
seed := next_integer(seed);
a[0] := seed;
inc(a);
end;
end;
procedure Sorting_main();
var
n : longint;
seed : u32;
a : u32_p;
i : u32;
begin
read(n, seed);
a := Getmem(n * sizeof(u32));
init_data(a, n, seed);
// sort(a, n);
output_arr(a, n * sizeof(u32));
end;
procedure Game_main();
var
n, q : longint;
s1, s2 : ansistring;
anss : u32_p;
q_x, q_y, q_len : longint_p;
i : longint;
begin
readln(n, q);
readln(s1);
readln(s2);
anss := Getmem(q * sizeof(u32));
q_x := Getmem(q * sizeof(longint));
q_y := Getmem(q * sizeof(longint));
q_len := Getmem(q * sizeof(longint));
for i := 0 to q - 1 do begin
read(q_x[i], q_y[i], q_len[i]);
end;
// solve(n, q, s1, s2, q_x, q_y, q_len, anss);
output_arr(anss, q * sizeof(u32));
end;
procedure Parentheses_main();
var
n : longint;
s : ansistring;
ans : u32;
begin
read(n);
read(s);
// ans := solve(n, s);
writeln(ans);
end;
var
task_id : longint;
begin
read(task_id);
if task_id = 1 then begin
Sorting_main();
end else if task_id = 2 then begin
Game_main();
end else if task_id = 3 then begin
Parentheses_main();
end;
close(input); close(output);
end.
```</div>
</article>
</div>
</div>
</body>
</html>
