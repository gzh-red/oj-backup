<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2006]PAL-Palindromes - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376907:PL5fc1ixieT5Yx+L/34c/4DOvvKiTtobK3NWrZsDXUc=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Little%20Johnny%20enjoys%20playing%20with%20words.%20He%20has%20chosen%20%24n%24%20palindromes%20%28a%20palindrome%20is%20a%20wordthat%20reads%20the%20same%20when%20the%20letters%20composing%20it%20are%20taken%20in%20the%20reverse%20order%2C%20such%20as%20dad%2C%20eye%20orracecar%20for%20instance%29%20then%20generated%20all%20%24n%5E2%24%20possible%20pairs%20of%20them%20and%20concatenated%20the%20pairs%20intosingle%20words.%20Lastly%2C%20he%20counted%20how%20many%20of%20the%20so%20generated%20words%20are%20palindromes%20themselves.%5Cn%5CnHowever%2C%20Johnny%20cannot%20be%20certain%20of%20not%20having%20comitted%20a%20mistake%2C%20so%20he%20has%20asked%20you%20to%20repeatthe%20very%20same%20actions%20and%20to%20give%20him%20the%20outcome.%20Write%20a%20programme%20which%20shall%20perform%20thistask%20for%20you.%5Cn%5CnTaskWrite%20a%20programme%20which%3A%5Cn%5Cnreads%20the%20palindromes%20given%20by%20Johnny%20from%20the%20standard%20input%2C%20%20%20%20%20%20%20%20determines%20the%20number%20of%20words%20formed%20out%20of%20pairs%20of%20palindromes%20from%20the%20input%2C%20which%20are%20palindromes%20%20%20%20themselves%2C%20%20%20%20%20%20%20%20writes%20the%20outcome%20to%20the%20standard%20output.%5Cn%5Cn%5Cu7ed9%5Cu51fan%5Cu4e2a%5Cu56de%5Cu6587%5Cu4e32s1%2C%20s2%2C%20%5Cu2026%2C%20sn%20%5Cu6c42%5Cu5982%5Cu4e0b%5Cu4e8c%5Cu5143%5Cu7ec4%28i%2C%20j%29%5Cu7684%5Cu4e2a%5Cu6570%20si%20%2B%20sj%20%5Cu4ecd%5Cu7136%5Cu662f%5Cu56de%5Cu6587%5Cu4e32%20%5Cu89c4%5Cu6a21%20%5Cu8f93%5Cu5165%5Cu4e32%5Cu603b%5Cu957f%5Cu4e0d%5Cu8d85%5Cu8fc72M%20bytes%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20contains%20a%20single%20integer%20%24n%24%2C%20%24n%5C%5Cge%202%24%2C%20denoting%20the%20number%20ofpalindromes%20given%20by%20Johnny.%20The%20following%20%24n%24%20lines%20contain%20a%20description%20of%20the%20palindromes.%20The%20%24%28i%2B1%29%24%27st%20line%20contains%20a%20single%20positive%20integer%20%24a_i%24%20denoting%20the%20length%20of%20%24i%24%27th%20palindrome%20and%20apalindrome%20of%20%24a_i%24%20small%20letters%20of%20English%20alphabet.%20The%20number%20%24a_i%24%20is%20separated%20from%20the%20palindromeby%20a%20single%20space.%20The%20palindromes%20in%20distinct%20lines%20are%20distinct.%20The%20total%20length%20of%20all%20palindromesdoes%20not%20exceed%20%242%5C%5C%20000%5C%5C%20000%24.%5Cn%22%2C%22outputFormat%22%3A%22The%20first%20and%20only%20line%20of%20the%20standard%20output%20should%20contain%20a%20single%20integer%3A%20the%20number%20of%20distinctordered%20pairs%20of%20palindromes%20which%20form%20a%20palindrome%20upon%20being%20concatenated.%5Cn%22%2C%22samples%22%3A%5B%5B%226%5Cn2%20aa%5Cn3%20aba%5Cn3%20aaa%5Cn6%20abaaba%5Cn5%20aaaaa%5Cn4%20abba%22%2C%2214%22%5D%5D%2C%22hint%22%3A%22%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B384000%2C384000%2C384000%2C384000%2C384000%2C384000%2C384000%2C384000%2C384000%2C384000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B23%2C57%2C235%2C300%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A207%2C%22totalAccepted%22%3A111%2C%22pid%22%3A%22P3449%22%2C%22title%22%3A%22%5BPOI2006%5DPAL-Palindromes%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A107969%2C%22title%22%3A%22%5Cu9898%5Cu76ee%5Cu63cf%5Cu8ff0%5Cu4e0d%5Cu5168%22%2C%22forum%22%3A%7B%22id%22%3A2550%2C%22name%22%3A%22P3449%20%5BPOI2006%5DPAL-Palindromes%22%2C%22slug%22%3A%22P3449%22%7D%7D%2C%7B%22id%22%3A13775%2C%22title%22%3A%22%5Cu5185%5Cu5b58%5Cu9650%5Cu5236%5Cu6709%5Cu8bef%22%2C%22forum%22%3A%7B%22id%22%3A2550%2C%22name%22%3A%22P3449%20%5BPOI2006%5DPAL-Palindromes%22%2C%22slug%22%3A%22P3449%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3732%22%2C%22title%22%3A%22%5BHAOI2017%5D%5Cu4f9b%5Cu7ed9%5Cu4fa7%5Cu6539%5Cu9769%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3426%22%2C%22title%22%3A%22%5BPOI2005%5DSZA-Template%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3451%22%2C%22title%22%3A%22%5BPOI2007%5DATR-Tourist%20Attractions%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3538%22%2C%22title%22%3A%22%5BPOI2012%5DOKR-A%20Horrible%20Poem%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3556%22%2C%22title%22%3A%22%5BPOI2013%5DMOR-Tales%20of%20seafaring%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2006%5DPAL-Palindromes%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2006]PAL-Palindromes</h1>
<h2>题目描述</h2>
<div>Little Johnny enjoys playing with words. He has chosen $n$ palindromes (a palindrome is a wordthat reads the same when the letters composing it are taken in the reverse order, such as dad, eye orracecar for instance) then generated all $n^2$ possible pairs of them and concatenated the pairs intosingle words. Lastly, he counted how many of the so generated words are palindromes themselves.
However, Johnny cannot be certain of not having comitted a mistake, so he has asked you to repeatthe very same actions and to give him the outcome. Write a programme which shall perform thistask for you.
TaskWrite a programme which:
reads the palindromes given by Johnny from the standard input, determines the number of words formed out of pairs of palindromes from the input, which are palindromes themselves, writes the outcome to the standard output.
给出n个回文串s1, s2, …, sn 求如下二元组(i, j)的个数 si + sj 仍然是回文串 规模 输入串总长不超过2M bytes
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input contains a single integer $n$, $n\ge 2$, denoting the number ofpalindromes given by Johnny. The following $n$ lines contain a description of the palindromes. The $(i+1)$'st line contains a single positive integer $a_i$ denoting the length of $i$'th palindrome and apalindrome of $a_i$ small letters of English alphabet. The number $a_i$ is separated from the palindromeby a single space. The palindromes in distinct lines are distinct. The total length of all palindromesdoes not exceed $2\ 000\ 000$.
</div>
<h3>输出格式</h3>
<br />
<div>The first and only line of the standard output should contain a single integer: the number of distinctordered pairs of palindromes which form a palindrome upon being concatenated.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>6
2 aa
3 aba
3 aaa
6 abaaba
5 aaaaa
4 abba</code></pre>
<h3>输出样例 #1</h3>
<pre><code>14</code></pre>
</article>
</div>
</div>
</body>
</html>
