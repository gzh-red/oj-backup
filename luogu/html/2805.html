<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[NOI2009]植物大战僵尸 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573375986:afght7VhAfGZAWU3H8DPObR2B7cqQjOkifrS7oCYdPU=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Plants%20vs.%20Zombies%5Cuff08PVZ%5Cuff09%5Cu662f%5Cu6700%5Cu8fd1%5Cu5341%5Cu5206%5Cu98ce%5Cu9761%5Cu7684%5Cu4e00%5Cu6b3e%5Cu5c0f%5Cu6e38%5Cu620f%5Cu3002Plants%5Cuff08%5Cu690d%5Cu7269%5Cuff09%5Cu548cZombies%5Cuff08%5Cu50f5%5Cu5c38%5Cuff09%5Cu662f%5Cu6e38%5Cu620f%5Cu7684%5Cu4e3b%5Cu89d2%5Cuff0c%5Cu5176%5Cu4e2dPlants%5Cu9632%5Cu5b88%5Cuff0c%5Cu800cZombies%5Cu8fdb%5Cu653b%5Cu3002%5Cu8be5%5Cu6b3e%5Cu6e38%5Cu620f%5Cu5305%5Cu542b%5Cu591a%5Cu79cd%5Cu4e0d%5Cu540c%5Cu7684%5Cu6311%5Cu6218%5Cu7cfb%5Cu5217%5Cuff0c%5Cu6bd4%5Cu5982Protect%20Your%20Brain%5Cu3001Bowling%5Cu7b49%5Cu7b49%5Cu3002%5Cu5176%5Cu4e2d%5Cu6700%5Cu4e3a%5Cu7ecf%5Cu5178%5Cu7684%5Cuff0c%5Cu83ab%5Cu8fc7%5Cu4e8e%5Cu73a9%5Cu5bb6%5Cu901a%5Cu8fc7%5Cu63a7%5Cu5236Plants%5Cu6765%5Cu9632%5Cu5b88Zombies%5Cu7684%5Cu8fdb%5Cu653b%5Cuff0c%5Cu6216%5Cu8005%5Cu76f8%5Cu53cd%5Cu5730%5Cu7531%5Cu73a9%5Cu5bb6%5Cu901a%5Cu8fc7%5Cu63a7%5Cu5236Zombies%5Cu5bf9Plants%5Cu53d1%5Cu8d77%5Cu8fdb%5Cu653b%5Cu3002%5Cn%5Cn%5Cu73b0%5Cu5728%5Cuff0c%5Cu6211%5Cu4eec%5Cu5c06%5Cu8981%5Cu8003%5Cu8651%5Cu7684%5Cu95ee%5Cu9898%5Cu662f%5Cu6e38%5Cu620f%5Cu4e2dZombies%5Cu5bf9Plants%5Cu7684%5Cu8fdb%5Cu653b%5Cuff0c%5Cu8bf7%5Cu6ce8%5Cu610f%5Cuff0c%5Cu672c%5Cu9898%5Cu4e2d%5Cu89c4%5Cu5219%5Cu4e0e%5Cu5b9e%5Cu9645%5Cu6e38%5Cu620f%5Cu6709%5Cu6240%5Cu4e0d%5Cu540c%5Cu3002%5Cu6e38%5Cu620f%5Cu4e2d%5Cu6709%5Cu4e24%5Cu79cd%5Cu89d2%5Cu8272%5Cuff0cPlants%5Cu548cZombies%5Cuff0c%5Cu6bcf%5Cu4e2aPlant%5Cu6709%5Cu4e00%5Cu4e2a%5Cu653b%5Cu51fb%5Cu4f4d%5Cu7f6e%5Cu96c6%5Cu5408%5Cuff0c%5Cu5b83%5Cu53ef%5Cu4ee5%5Cu5bf9%5Cu8fd9%5Cu4e9b%5Cu4f4d%5Cu7f6e%5Cu8fdb%5Cu884c%5Cu4fdd%5Cu62a4%5Cuff1b%5Cu800cZombie%5Cu8fdb%5Cu653b%5Cu690d%5Cu7269%5Cu7684%5Cu65b9%5Cu5f0f%5Cu662f%5Cu8d70%5Cu5230%5Cu690d%5Cu7269%5Cu6240%5Cu5728%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu5e76%5Cu5c06%5Cu5176%5Cu5403%5Cu6389%5Cu3002%5Cn%5Cn%5Cu6e38%5Cu620f%5Cu7684%5Cu5730%5Cu56fe%5Cu53ef%5Cu4ee5%5Cu62bd%5Cu8c61%5Cu4e3a%5Cu4e00%5Cu4e2aN%5Cu884cM%5Cu5217%5Cu7684%5Cu77e9%5Cu9635%5Cuff0c%5Cu884c%5Cu4ece%5Cu4e0a%5Cu5230%5Cu4e0b%5Cu75280%5Cu5230N%5Cu20131%5Cu7f16%5Cu53f7%5Cuff0c%5Cu5217%5Cu4ece%5Cu5de6%5Cu5230%5Cu53f3%5Cu75280%5Cu5230M%5Cu20131%5Cu7f16%5Cu53f7%5Cuff1b%5Cu5728%5Cu5730%5Cu56fe%5Cu7684%5Cu6bcf%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu90fd%5Cu653e%5Cu6709%5Cu4e00%5Cu4e2aPlant%5Cuff0c%5Cu4e3a%5Cu7b80%5Cu5355%5Cu8d77%5Cu89c1%5Cuff0c%5Cu6211%5Cu4eec%5Cu628a%5Cu4f4d%5Cu4e8e%5Cu7b2cr%5Cu884c%5Cu7b2cc%5Cu5217%5Cu7684%5Cu690d%5Cu7269%5Cu8bb0%5Cu4e3aPr%2C%20c%5Cu3002%5Cn%5CnPlants%5Cu5206%5Cu5f88%5Cu591a%5Cu79cd%5Cuff0c%5Cu6709%5Cu653b%5Cu51fb%5Cu7c7b%5Cu3001%5Cu9632%5Cu5b88%5Cu7c7b%5Cu548c%5Cu7ecf%5Cu6d4e%5Cu7c7b%5Cu7b49%5Cu7b49%5Cu3002%5Cu4e3a%5Cu4e86%5Cu7b80%5Cu5355%5Cu7684%5Cu63cf%5Cu8ff0%5Cu6bcf%5Cu4e2aPlant%5Cuff0c%5Cu5b9a%5Cu4e49Score%5Cu548cAttack%5Cu5982%5Cu4e0b%5Cuff1a%5Cn%5CnScore%5BPr%2C%20c%5D%5Cn%5CnZombie%5Cu51fb%5Cu6e83%5Cu690d%5Cu7269Pr%2C%20c%5Cu53ef%5Cu83b7%5Cu5f97%5Cu7684%5Cu80fd%5Cu6e90%5Cu3002%5Cu82e5Score%5BPr%2C%20c%5D%5Cu4e3a%5Cu975e%5Cu8d1f%5Cu6574%5Cu6570%5Cuff0c%5Cu5219%5Cu8868%5Cu793a%5Cu51fb%5Cu6e83%5Cu690d%5Cu7269Pr%2C%20c%5Cu53ef%5Cu83b7%5Cu5f97%5Cu80fd%5Cu6e90Score%5BPr%2C%20c%5D%5Cuff0c%5Cu82e5%5Cu4e3a%5Cu8d1f%5Cu6570%5Cu8868%5Cu793a%5Cu51fb%5Cu6e83Pr%2C%20c%5Cu9700%5Cu8981%5Cu4ed8%5Cu51fa%5Cu80fd%5Cu6e90%20-Score%5BPr%2C%20c%5D%5Cu3002%5Cn%5CnAttack%5BPr%2C%20c%5D%5Cn%5Cn%5Cu690d%5Cu7269Pr%2C%20c%5Cu80fd%5Cu591f%5Cu5bf9Zombie%5Cu8fdb%5Cu884c%5Cu653b%5Cu51fb%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu96c6%5Cu5408%5Cu3002%5Cn%5CnZombies%5Cu5fc5%5Cu987b%5Cu4ece%5Cu5730%5Cu56fe%5Cu7684%5Cu53f3%5Cu4fa7%5Cu8fdb%5Cu5165%5Cuff0c%5Cu4e14%5Cu53ea%5Cu80fd%5Cu6cbf%5Cu7740%5Cu6c34%5Cu5e73%5Cu65b9%5Cu5411%5Cu8fdb%5Cu884c%5Cu79fb%5Cu52a8%5Cu3002Zombies%5Cu653b%5Cu51fb%5Cu690d%5Cu7269%5Cu7684%5Cu552f%5Cu4e00%5Cu65b9%5Cu5f0f%5Cu5c31%5Cu662f%5Cu8d70%5Cu5230%5Cu8be5%5Cu690d%5Cu7269%5Cu6240%5Cu5728%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu5e76%5Cu5c06%5Cu690d%5Cu7269%5Cu5403%5Cu6389%5Cu3002%5Cu56e0%5Cu6b64Zombies%5Cu7684%5Cu8fdb%5Cu653b%5Cu603b%5Cu662f%5Cu4ece%5Cu5730%5Cu56fe%5Cu7684%5Cu53f3%5Cu4fa7%5Cu5f00%5Cu59cb%5Cu3002%5Cu4e5f%5Cu5c31%5Cu662f%5Cu8bf4%5Cuff0c%5Cu5bf9%5Cu4e8e%5Cu7b2cr%5Cu884c%5Cu7684%5Cu8fdb%5Cu653b%5Cuff0cZombies%5Cu5fc5%5Cu987b%5Cu9996%5Cu5148%5Cu653b%5Cu51fbPr%2C%20M-1%5Cuff1b%5Cu82e5%5Cu9700%5Cu8981%5Cu5bf9Pr%2C%20c%5Cuff080%5Cu2264c%3CM-1%5Cuff09%5Cu653b%5Cu51fb%5Cuff0c%5Cu5fc5%5Cu987b%5Cu5c06Pr%2CM-1%2C%20Pr%2C%20M-2%20%5Cu2026%20Pr%2C%20c%2B1%5Cu5148%5Cu51fb%5Cu6e83%5Cuff0c%5Cu5e76%5Cu79fb%5Cu52a8%5Cu5230%5Cu4f4d%5Cu7f6e%28r%2C%20c%29%5Cu624d%5Cu53ef%5Cu8fdb%5Cu884c%5Cu653b%5Cu51fb%5Cu3002%5Cn%5Cn%5Cu5728%5Cu672c%5Cu9898%5Cu7684%5Cu8bbe%5Cu5b9a%5Cu4e2d%5Cuff0cPlants%5Cu7684%5Cu653b%5Cu51fb%5Cu529b%5Cu662f%5Cu65e0%5Cu7a77%5Cu5927%5Cu7684%5Cuff0c%5Cu4e00%5Cu65e6Zombie%5Cu8fdb%5Cu5165%5Cu67d0%5Cu4e2aPlant%5Cu7684%5Cu653b%5Cu51fb%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu8be5Zombie%5Cu4f1a%5Cu88ab%5Cu77ac%5Cu95f4%5Cu6d88%5Cu706d%5Cuff0c%5Cu800c%5Cu8be5Zombie%5Cu6ca1%5Cu6709%5Cu65f6%5Cu95f4%5Cu8fdb%5Cu884c%5Cu4efb%5Cu4f55%5Cu653b%5Cu51fb%5Cu64cd%5Cu4f5c%5Cu3002%5Cu56e0%5Cu6b64%5Cuff0c%5Cu5373%5Cu4fbfZombie%5Cu8fdb%5Cu5165%5Cu4e86%5Cu4e00%5Cu4e2aPlant%5Cu6240%5Cu5728%5Cu7684%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu4f46%5Cu8be5%5Cu4f4d%5Cu7f6e%5Cu5c5e%5Cu4e8e%5Cu5176%5Cu4ed6%5Cu690d%5Cu7269%5Cu7684%5Cu653b%5Cu51fb%5Cu4f4d%5Cu7f6e%5Cu96c6%5Cu5408%5Cuff0c%5Cu5219Zombie%5Cu4f1a%5Cu88ab%5Cu77ac%5Cu95f4%5Cu6d88%5Cu706d%5Cu800c%5Cu6240%5Cu5728%5Cu4f4d%5Cu7f6e%5Cu7684%5Cu690d%5Cu7269%5Cu5219%5Cu5b89%5Cu7136%5Cu65e0%5Cu6059%5Cuff08%5Cu5728%5Cu6211%5Cu4eec%5Cu7684%5Cu8bbe%5Cu5b9a%5Cu4e2d%5Cuff0cPlant%5Cu7684%5Cu653b%5Cu51fb%5Cu4f4d%5Cu7f6e%5Cu4e0d%5Cu5305%5Cu542b%5Cu81ea%5Cu8eab%5Cu6240%5Cu5728%5Cu4f4d%5Cu7f6e%5Cuff0c%5Cu5426%5Cu5219%5Cu4f60%5Cu5c31%5Cu4e0d%5Cu53ef%5Cu80fd%5Cu51fb%5Cu6e83%5Cu5b83%5Cu4e86%5Cuff09%5Cu3002%5Cn%5CnZombies%5Cu7684%5Cu76ee%5Cu6807%5Cu662f%5Cu5bf9Plants%5Cu7684%5Cu9635%5Cu5730%5Cu53d1%5Cu8d77%5Cu8fdb%5Cu653b%5Cu5e76%5Cu83b7%5Cu5f97%5Cu6700%5Cu5927%5Cu7684%5Cu80fd%5Cu6e90%5Cu6536%5Cu5165%5Cu3002%5Cu6bcf%5Cu4e00%5Cu6b21%5Cuff0c%5Cu4f60%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu8fdb%5Cu653b%5Cu7684%5Cu690d%5Cu7269%5Cu8fdb%5Cu884c%5Cu653b%5Cu51fb%5Cu3002%5Cu672c%5Cu9898%5Cu7684%5Cu76ee%5Cu6807%5Cu4e3a%5Cuff0c%5Cu5236%5Cu5b9a%5Cu4e00%5Cu5957Zombies%5Cu7684%5Cu8fdb%5Cu653b%5Cu65b9%5Cu6848%5Cuff0c%5Cu9009%5Cu62e9%5Cu8fdb%5Cu653b%5Cu54ea%5Cu4e9b%5Cu690d%5Cu7269%5Cu4ee5%5Cu53ca%5Cu8fdb%5Cu653b%5Cu7684%5Cu987a%5Cu5e8f%5Cuff0c%5Cu4ece%5Cu800c%5Cu83b7%5Cu5f97%5Cu6700%5Cu5927%5Cu7684%5Cu80fd%5Cu6e90%5Cu6536%5Cu5165%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5Cu8f93%5Cu5165%5Cu6587%5Cu4ef6pvz.in%5Cu7684%5Cu7b2c%5Cu4e00%5Cu884c%5Cu5305%5Cu542b%5Cu4e24%5Cu4e2a%5Cu6574%5Cu6570N%2C%20M%5Cuff0c%5Cu5206%5Cu522b%5Cu8868%5Cu793a%5Cu5730%5Cu56fe%5Cu7684%5Cu884c%5Cu6570%5Cu548c%5Cu5217%5Cu6570%5Cu3002%5Cn%5Cn%5Cu63a5%5Cu4e0b%5Cu6765N%5Cu00d7M%5Cu884c%5Cu63cf%5Cu8ff0%5Cu6bcf%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4e0a%5Cu690d%5Cu7269%5Cu7684%5Cu4fe1%5Cu606f%5Cu3002%5Cu7b2cr%5Cu00d7M%20%2B%20c%20%2B%201%5Cu884c%5Cu6309%5Cu7167%5Cu5982%5Cu4e0b%5Cu683c%5Cu5f0f%5Cu7ed9%5Cu51fa%5Cu690d%5Cu7269Pr%2C%20c%5Cu7684%5Cu4fe1%5Cu606f%5Cuff1a%5Cu7b2c%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cu4e3aScore%5BPr%2C%20c%5D%2C%20%5Cu7b2c%5Cu4e8c%5Cu4e2a%5Cu6574%5Cu6570%5Cu4e3a%5Cu96c6%5Cu5408Attack%5BPr%2C%20c%5D%5Cu4e2d%5Cu7684%5Cu4f4d%5Cu7f6e%5Cu4e2a%5Cu6570w%5Cuff0c%5Cu63a5%5Cu4e0b%5Cu6765w%5Cu4e2a%5Cu4f4d%5Cu7f6e%5Cu4fe1%5Cu606f%5Cuff08r%5Cu2019%2C%20c%5Cu2019%5Cuff09%5Cuff0c%5Cu8868%5Cu793aPr%2C%20c%5Cu53ef%5Cu4ee5%5Cu653b%5Cu51fb%5Cu4f4d%5Cu7f6e%5Cu7b2cr%5Cu2019%20%5Cu884c%5Cu7b2cc%5Cu2019%20%5Cu5217%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22%5Cu8f93%5Cu51fa%5Cu6587%5Cu4ef6pvz.out%5Cu4ec5%5Cu5305%5Cu542b%5Cu4e00%5Cu4e2a%5Cu6574%5Cu6570%5Cuff0c%5Cu8868%5Cu793a%5Cu53ef%5Cu4ee5%5Cu83b7%5Cu5f97%5Cu7684%5Cu6700%5Cu5927%5Cu80fd%5Cu6e90%5Cu6536%5Cu5165%5Cu3002%5Cu6ce8%5Cu610f%5Cuff0c%5Cu4f60%5Cu4e5f%5Cu53ef%5Cu4ee5%5Cu9009%5Cu62e9%5Cu4e0d%5Cu8fdb%5Cu884c%5Cu4efb%5Cu4f55%5Cu653b%5Cu51fb%5Cuff0c%5Cu8fd9%5Cu6837%5Cu80fd%5Cu6e90%5Cu6536%5Cu5165%5Cu4e3a0%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%223%202%5Cn10%200%5Cn20%200%5Cn-10%200%5Cn-5%201%200%200%5Cn100%201%202%201%5Cn100%200%22%2C%2225%22%5D%5D%2C%22hint%22%3A%22%5Cu7ea620%25%5Cu7684%5Cu6570%5Cu636e%5Cu6ee1%5Cu8db31%20%5Cu2264%20N%2C%20M%20%5Cu2264%205%5Cuff1b%5Cn%5Cn%5Cu7ea640%25%5Cu7684%5Cu6570%5Cu636e%5Cu6ee1%5Cu8db31%20%5Cu2264%20N%2C%20M%20%5Cu2264%2010%5Cuff1b%5Cn%5Cn%5Cu7ea6100%25%5Cu7684%5Cu6570%5Cu636e%5Cu6ee1%5Cu8db31%20%5Cu2264%20N%20%5Cu2264%2020%5Cuff0c1%20%5Cu2264%20M%20%5Cu2264%2030%5Cuff0c-10000%20%5Cu2264%20Score%20%5Cu2264%2010000%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B26%2C77%2C79%2C155%2C159%2C198%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A3020%2C%22totalAccepted%22%3A1086%2C%22pid%22%3A%22P2805%22%2C%22title%22%3A%22%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A143532%2C%22title%22%3A%22%5Cu6c42%5Cu4fee%5Cu9898%5Cu9762%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%2C%7B%22id%22%3A133333%2C%22title%22%3A%2260%5Cu5206%5Cu6c42%5Cu52a9%5Cu5927%5Cu4f6c%5Cuff0c%5Cuff0c%5Cuff0c%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%2C%7B%22id%22%3A107930%2C%22title%22%3A%22%5Cu96be%5Cu4ee5%5Cu7f6e%5Cu4fe1%5Cuff01%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%2C%7B%22id%22%3A98834%2C%22title%22%3A%2280%5Cu5206%5Cu6c42%5Cu52a9%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%2C%7B%22id%22%3A96385%2C%22title%22%3A%22%5Cu6c42%5Cu52a9%5Cuff0c%5Cu62df%5Cu840c%5Cu5c31%5Cu5047%5Cu88c5%5Cu6211%5Cu662f%5Cu4e2a%5Cu59b9%5Cu5b50%5Cu5427%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%2C%7B%22id%22%3A92162%2C%22title%22%3A%22%5Cu6015%5Cu4e0d%5Cu662f%5Cu62d3%5Cu6251%5Cu6392%5Cu5e8f%5Cu7684%5Cu65f6%5Cu5019%5Cu65b0%5Cu65e7%5Cu56fe%5Cu4e0d%5Cu5206%22%2C%22forum%22%3A%7B%22id%22%3A1907%2C%22name%22%3A%22P2805%20%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22slug%22%3A%22P2805%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2053%22%2C%22title%22%3A%22%5BSCOI2007%5D%5Cu4fee%5Cu8f66%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2153%22%2C%22title%22%3A%22%5BSDOI2009%5D%5Cu6668%5Cu8dd1%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2604%22%2C%22title%22%3A%22%5BZJOI2010%5D%5Cu7f51%5Cu7edc%5Cu6269%5Cu5bb9%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2774%22%2C%22title%22%3A%22%5Cu65b9%5Cu683c%5Cu53d6%5Cu6570%5Cu95ee%5Cu9898%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3159%22%2C%22title%22%3A%22%5BCQOI2012%5D%5Cu4ea4%5Cu6362%5Cu68cb%5Cu5b50%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BNOI2009%5D%5Cu690d%5Cu7269%5Cu5927%5Cu6218%5Cu50f5%5Cu5c38%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[NOI2009]植物大战僵尸</h1>
<h2>题目描述</h2>
<div>Plants vs. Zombies（PVZ）是最近十分风靡的一款小游戏。Plants（植物）和Zombies（僵尸）是游戏的主角，其中Plants防守，而Zombies进攻。该款游戏包含多种不同的挑战系列，比如Protect Your Brain、Bowling等等。其中最为经典的，莫过于玩家通过控制Plants来防守Zombies的进攻，或者相反地由玩家通过控制Zombies对Plants发起进攻。
现在，我们将要考虑的问题是游戏中Zombies对Plants的进攻，请注意，本题中规则与实际游戏有所不同。游戏中有两种角色，Plants和Zombies，每个Plant有一个攻击位置集合，它可以对这些位置进行保护；而Zombie进攻植物的方式是走到植物所在的位置上并将其吃掉。
游戏的地图可以抽象为一个N行M列的矩阵，行从上到下用0到N–1编号，列从左到右用0到M–1编号；在地图的每个位置上都放有一个Plant，为简单起见，我们把位于第r行第c列的植物记为Pr, c。
Plants分很多种，有攻击类、防守类和经济类等等。为了简单的描述每个Plant，定义Score和Attack如下：
Score[Pr, c]
Zombie击溃植物Pr, c可获得的能源。若Score[Pr, c]为非负整数，则表示击溃植物Pr, c可获得能源Score[Pr, c]，若为负数表示击溃Pr, c需要付出能源 -Score[Pr, c]。
Attack[Pr, c]
植物Pr, c能够对Zombie进行攻击的位置集合。
Zombies必须从地图的右侧进入，且只能沿着水平方向进行移动。Zombies攻击植物的唯一方式就是走到该植物所在的位置并将植物吃掉。因此Zombies的进攻总是从地图的右侧开始。也就是说，对于第r行的进攻，Zombies必须首先攻击Pr, M-1；若需要对Pr, c（0≤c<M-1）攻击，必须将Pr,M-1, Pr, M-2 … Pr, c+1先击溃，并移动到位置(r, c)才可进行攻击。 在本题的设定中，Plants的攻击力是无穷大的，一旦Zombie进入某个Plant的攻击位置，该Zombie会被瞬间消灭，而该Zombie没有时间进行任何攻击操作。因此，即便Zombie进入了一个Plant所在的位置，但该位置属于其他植物的攻击位置集合，则Zombie会被瞬间消灭而所在位置的植物则安然无恙（在我们的设定中，Plant的攻击位置不包含自身所在位置，否则你就不可能击溃它了）。 Zombies的目标是对Plants的阵地发起进攻并获得最大的能源收入。每一次，你可以选择一个可进攻的植物进行攻击。本题的目标为，制定一套Zombies的进攻方案，选择进攻哪些植物以及进攻的顺序，从而获得最大的能源收入。 </div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>输入文件pvz.in的第一行包含两个整数N, M，分别表示地图的行数和列数。
接下来N×M行描述每个位置上植物的信息。第r×M + c + 1行按照如下格式给出植物Pr, c的信息：第一个整数为Score[Pr, c], 第二个整数为集合Attack[Pr, c]中的位置个数w，接下来w个位置信息（r’, c’），表示Pr, c可以攻击位置第r’ 行第c’ 列。
</div>
<h3>输出格式</h3>
<br />
<div>输出文件pvz.out仅包含一个整数，表示可以获得的最大能源收入。注意，你也可以选择不进行任何攻击，这样能源收入为0。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 2
10 0
20 0
-10 0
-5 1 0 0
100 1 2 1
100 0</code></pre>
<h3>输出样例 #1</h3>
<pre><code>25</code></pre>
<h2>说明</h2>
<div>约20%的数据满足1 ≤ N, M ≤ 5；
约40%的数据满足1 ≤ N, M ≤ 10；
约100%的数据满足1 ≤ N ≤ 20，1 ≤ M ≤ 30，-10000 ≤ Score ≤ 10000
</div>
</article>
</div>
</div>
</body>
</html>
