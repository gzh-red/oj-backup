<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO14OPEN] Fair Photography_Gold 公平的摄影(金) - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573381909:RGytnD0XS+GX/wIESJya/eg7ptJVghYLB9RIgEDEavQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3Anull%2C%22description%22%3A%22FJ%27s%20%24N%24%20cows%20%24%281%20%3C%3D%20N%20%3C%3D%20100%2C000%29%24%20are%20standing%20at%20various%20positions%20along%20a%20long%20one-dimensional%20fence.%20%20The%20%24ith%24%20cow%20is%20standing%20at%20position%20%24x_i%24%20%28an%20integer%20in%20the%20range%200...1%2C000%2C000%2C000%29%20and%20has%20breed%20%24b_i%24%20%28an%20integer%20in%20the%20range%201..8%29.%20%20No%20two%20cows%20occupy%20the%20same%20position.%20%5Cn%5CnFJ%20wants%20to%20take%20a%20photo%20of%20a%20contiguous%20interval%20of%20cows%20for%20the%20county%20fair%2C%20but%20we%20wants%20all%20of%20his%20breeds%20to%20be%20fairly%20represented%20in%20the%20photo.%20Therefore%2C%20he%20wants%20to%20ensure%20that%2C%20for%20whatever%20breeds%20are%20present%20in%20the%20photo%2C%20there%20is%20an%20equal%20number%20of%20each%20breed%20%28for%20example%2C%20a%20photo%20with%20%2427%24%20each%20of%20breeds%20%241%24%20and%20%243%24%20is%20ok%2C%20a%20photo%20with%20%2427%24%20of%20breeds%20%241%2C%203%2C%24%20and%20%244%24%20is%20ok%2C%20but%20%249%24%20of%20breed%20%241%24%20and%20%2410%24%20of%20breed%20%243%24%20is%20not%20ok%29.%20Farmer%20John%20also%20wants%20at%20least%20%24K%20%28K%20%3E%3D%202%29%24%20breeds%20%28out%20of%20the%208%20total%29%20to%20be%20represented%20in%20the%20photo.%20Help%20FJ%20take%20his%20fair%20photo%20by%20finding%20the%20maximum%20size%20of%20a%20photo%20that%20satisfies%20FJ%27s%20constraints.%20%20The%20size%20of%20a%20photo%20is%20the%20difference%20between%20the%20maximum%20and%20minimum%20positions%20of%20the%20cows%20in%20the%20photo.%20%5Cn%5CnIf%20there%20are%20no%20photos%20satisfying%20FJ%27s%20constraints%2C%20output%20%24-1%24%20instead.%5Cn%22%2C%22inputFormat%22%3A%22%2A%20Line%201%3A%20%24N%24%20and%20%24K%24%20separated%20by%20a%20space%5Cn%5Cn%2A%20Lines%20%242..N%2B1%24%3A%20Each%20line%20contains%20a%20description%20of%20a%20cow%20as%20two%20integers%20separated%20by%20a%20space%3B%20%24x%28i%29%24%20and%20its%20breed%20id.%5Cn%22%2C%22outputFormat%22%3A%22%2A%20Line%201%3A%20A%20single%20integer%20indicating%20the%20maximum%20size%20of%20a%20fair%20photo.%20If%20no%20such%20photo%20exists%2C%20output%20-1.%22%2C%22samples%22%3A%5B%5B%229%202%5Cn1%201%5Cn5%201%5Cn6%201%5Cn9%201%5Cn100%201%5Cn2%202%5Cn7%202%5Cn3%203%5Cn8%203%22%2C%226%22%5D%5D%2C%22hint%22%3A%22INPUT%20DETAILS%3A%5Cn%5CnBreed%20ids%3A%201%202%203%20-%201%201%202%203%201%20%20-%20...%20%20-%20%20%201%5CnLocations%3A%201%202%203%204%205%206%207%208%209%2010%20...%2099%20100%5Cn%5Cn%5Cn%5CnOUTPUT%20DETAILS%3A%5Cn%5CnThe%20range%20from%20x%20%3D%202%20to%20x%20%3D%208%20has%202%20each%20of%20breeds%201%2C%202%2C%20and%203.%20The%20range%20from%20x%20%3D%209%20to%20x%20%3D%20100%20has%202%20of%20breed%201%2C%20but%20this%20is%20invalid%20because%20K%20%3D%202%20and%20so%20we%20must%20have%20at%20least%202%20distinct%20breeds.%22%2C%22provider%22%3A%7B%22uid%22%3A57705%2C%22name%22%3A%22%5Cu4ffa%5Cu662f%5Cu5c0f%5Cu7a0b%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Blue%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C3000%2C6000%2C5000%2C3000%2C5000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B31%2C46%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A67%2C%22totalAccepted%22%3A8%2C%22pid%22%3A%22P4875%22%2C%22title%22%3A%22%5BUSACO14OPEN%5D%20Fair%20Photography_Gold%20%5Cu516c%5Cu5e73%5Cu7684%5Cu6444%5Cu5f71%28%5Cu91d1%29%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3241%22%2C%22title%22%3A%22%5BHNOI2015%5D%5Cu5f00%5Cu5e97%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4113%22%2C%22title%22%3A%22%5BHEOI2012%5D%5Cu91c7%5Cu82b1%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4315%22%2C%22title%22%3A%22%5Cu6708%5Cu4e0b%5Cu201c%5Cu6bdb%5Cu666f%5Cu6811%5Cu201d%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4424%22%2C%22title%22%3A%22%5BHNOI%5C%2FAHOI2018%5D%5Cu5bfb%5Cu5b9d%5Cu6e38%5Cu620f%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P4876%22%2C%22title%22%3A%22%5BUSACO14MAR%5D%20The%20Lazy%20Cow_Gold%20%5Cu61d2%5Cu60f0%5Cu7684%5Cu725b%28%5Cu91d1%29%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO14OPEN%5D%20Fair%20Photography_Gold%20%5Cu516c%5Cu5e73%5Cu7684%5Cu6444%5Cu5f71%28%5Cu91d1%29%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573295103;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO14OPEN] Fair Photography_Gold 公平的摄影(金)</h1>
<h2>题目描述</h2>
<div>FJ's $N$ cows $(1 <= N <= 100,000)$ are standing at various positions along a long one-dimensional fence. The $ith$ cow is standing at position $x_i$ (an integer in the range 0...1,000,000,000) and has breed $b_i$ (an integer in the range 1..8). No two cows occupy the same position.
FJ wants to take a photo of a contiguous interval of cows for the county fair, but we wants all of his breeds to be fairly represented in the photo. Therefore, he wants to ensure that, for whatever breeds are present in the photo, there is an equal number of each breed (for example, a photo with $27$ each of breeds $1$ and $3$ is ok, a photo with $27$ of breeds $1, 3,$ and $4$ is ok, but $9$ of breed $1$ and $10$ of breed $3$ is not ok). Farmer John also wants at least $K (K >= 2)$ breeds (out of the 8 total) to be represented in the photo. Help FJ take his fair photo by finding the maximum size of a photo that satisfies FJ's constraints. The size of a photo is the difference between the maximum and minimum positions of the cows in the photo.
If there are no photos satisfying FJ's constraints, output $-1$ instead.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>* Line 1: $N$ and $K$ separated by a space
* Lines $2..N+1$: Each line contains a description of a cow as two integers separated by a space; $x(i)$ and its breed id.
</div>
<h3>输出格式</h3>
<br />
<div>* Line 1: A single integer indicating the maximum size of a fair photo. If no such photo exists, output -1.</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>9 2
1 1
5 1
6 1
9 1
100 1
2 2
7 2
3 3
8 3</code></pre>
<h3>输出样例 #1</h3>
<pre><code>6</code></pre>
<h2>说明</h2>
<div>INPUT DETAILS:
Breed ids: 1 2 3 - 1 1 2 3 1 - ... - 1
Locations: 1 2 3 4 5 6 7 8 9 10 ... 99 100
OUTPUT DETAILS:
The range from x = 2 to x = 8 has 2 each of breeds 1, 2, and 3. The range from x = 9 to x = 100 has 2 of breed 1, but this is invalid because K = 2 and so we must have at least 2 distinct breeds.</div>
</article>
</div>
</div>
</body>
</html>
