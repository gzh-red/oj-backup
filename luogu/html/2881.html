<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO07MAR]排名的牛Ranking the Cows - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376092:8stXWs3PTTLQrFmJAxbjT6vR//Mev7Lbx+XpaIg/60s=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Each%20of%20Farmer%20John%27s%20N%20cows%20%281%20%5Cu2264%20N%20%5Cu2264%201%2C000%29%20produces%20milk%20at%20a%20different%20positive%20rate%2C%20and%20FJ%20would%20like%20to%20order%20his%20cows%20according%20to%20these%20rates%20from%20the%20fastest%20milk%20producer%20to%20the%20slowest.%5Cn%5CnFJ%20has%20already%20compared%20the%20milk%20output%20rate%20for%20M%20%281%20%5Cu2264%20M%20%5Cu2264%2010%2C000%29%20pairs%20of%20cows.%20He%20wants%20to%20make%20a%20list%20of%20C%20additional%20pairs%20of%20cows%20such%20that%2C%20if%20he%20now%20compares%20those%20C%20pairs%2C%20he%20will%20definitely%20be%20able%20to%20deduce%20the%20correct%20ordering%20of%20all%20N%20cows.%20Please%20help%20him%20determine%20the%20minimum%20value%20of%20C%20for%20which%20such%20a%20list%20is%20possible.%5Cn%5CnFJ%5Cu60f3%5Cu6309%5Cu7167%5Cu5976%5Cu725b%5Cu4ea7%5Cu5976%5Cu7684%5Cu80fd%5Cu529b%5Cu7ed9%5Cu5979%5Cu4eec%5Cu6392%5Cu5e8f%5Cu3002%5Cu73b0%5Cu5728%5Cu5df2%5Cu77e5%5Cu6709N%5Cu5934%5Cu5976%5Cu725b%5Cuff081%20%5Cu2264%20N%20%5Cu2264%201%2C000%5Cuff09%5Cu3002FJ%5Cu901a%5Cu8fc7%5Cu6bd4%5Cu8f83%5Cuff0c%5Cu5df2%5Cu7ecf%5Cu77e5%5Cu9053%5Cu4e86M%5Cuff081%20%5Cu2264%20M%20%5Cu2264%2010%2C000%5Cuff09%5Cu5bf9%5Cu76f8%5Cu5bf9%5Cu5173%5Cu7cfb%5Cu3002%5Cu6bcf%5Cu4e00%5Cu5bf9%5Cu5173%5Cu7cfb%5Cu8868%5Cu793a%5Cu4e3a%5Cu201cX%20Y%5Cu201d%5Cuff0c%5Cu610f%5Cu6307X%5Cu7684%5Cu4ea7%5Cu5976%5Cu80fd%5Cu529b%5Cu5f3a%5Cu4e8eY%5Cu3002%5Cu73b0%5Cu5728FJ%5Cu60f3%5Cu8981%5Cu77e5%5Cu9053%5Cuff0c%5Cu4ed6%5Cu81f3%5Cu5c11%5Cu8fd8%5Cu8981%5Cu8c03%5Cu67e5%5Cu591a%5Cu5c11%5Cu5bf9%5Cu5173%5Cu7cfb%5Cu624d%5Cu80fd%5Cu5b8c%5Cu6210%5Cu6574%5Cu4e2a%5Cu6392%5Cu5e8f%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22Line%201%3A%20Two%20space-separated%20integers%3A%20N%20and%20M%5Cn%5Cn%5CnLines%202..M%2B1%3A%20Two%20space-separated%20integers%2C%20respectively%3A%20X%20and%20Y.%20Both%20X%20and%20Y%20are%20in%20the%20range%201...N%20and%20describe%20a%20comparison%20where%20cow%20X%20was%20ranked%20higher%20than%20cow%20Y.%5Cn%22%2C%22outputFormat%22%3A%22Line%201%3A%20A%20single%20integer%20that%20is%20the%20minimum%20value%20of%20C.%5Cn%22%2C%22samples%22%3A%5B%5B%225%205%5Cr%5Cn2%201%5Cr%5Cn1%205%5Cr%5Cn2%203%5Cr%5Cn1%204%5Cr%5Cn3%204%22%2C%223%22%5D%5D%2C%22hint%22%3A%22From%20the%20information%20in%20the%205%20test%20results%2C%20Farmer%20John%20knows%20that%20since%20cow%202%20%3E%20cow%201%20%3E%20cow%205%20and%20cow%202%20%3E%20cow%203%20%3E%20cow%204%2C%20cow%202%20has%20the%20highest%20rank.%20However%2C%20he%20needs%20to%20know%20whether%20cow%201%20%3E%20cow%203%20to%20determine%20the%20cow%20with%20the%20second%20highest%20rank.%20Also%2C%20he%20will%20need%20one%20more%20question%20to%20determine%20the%20ordering%20between%20cow%204%20and%20cow%205.%20After%20that%2C%20he%20will%20need%20to%20know%20if%20cow%205%20%3E%20cow%203%20if%20cow%201%20has%20higher%20rank%20than%20cow%203.%20He%20will%20have%20to%20ask%20three%20questions%20in%20order%20to%20be%20sure%20he%20has%20the%20rankings%3A%20%5C%22Is%20cow%201%20%3E%20cow%203%3F%20%20Is%20cow%204%20%3E%20cow%205%3F%20Is%20cow%205%20%3E%20cow%203%3F%5C%22%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B24%2C46%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A557%2C%22totalAccepted%22%3A280%2C%22pid%22%3A%22P2881%22%2C%22title%22%3A%22%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A98171%2C%22title%22%3A%22%5Cu6570%5Cu636e%5Cu8c8c%5Cu4f3c%5Cu6709%5Cu5751%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A2011%2C%22name%22%3A%22P2881%20%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22slug%22%3A%22P2881%22%7D%7D%2C%7B%22id%22%3A85234%2C%22title%22%3A%22%5Cu770b%5Cu6211%5Cu7684%22%2C%22forum%22%3A%7B%22id%22%3A2011%2C%22name%22%3A%22P2881%20%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22slug%22%3A%22P2881%22%7D%7D%2C%7B%22id%22%3A79724%2C%22title%22%3A%22%5Cu4e3a%5Cu4ec0%5Cu4e48%5Cu53cd%5Cu56fe%5Cu62d3%5Cu6251%5Cu5408%5Cu5e76bitset%5Cu4e0d%5Cu884c%5Cuff0cdfs%5Cu5408%5Cu5e76bitset%5Cu53ef%5Cu4ee5%5Cu554a%5Cu3002%5Cu3002%22%2C%22forum%22%3A%7B%22id%22%3A2011%2C%22name%22%3A%22P2881%20%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22slug%22%3A%22P2881%22%7D%7D%2C%7B%22id%22%3A34859%2C%22title%22%3A%22%5Cu63d0%5Cu793a%5Cuff1a%5Cu8fd9%5Cu9898%5Cu66b4%5Cu529b%5Cu53ef%5Cu8fc7%22%2C%22forum%22%3A%7B%22id%22%3A2011%2C%22name%22%3A%22P2881%20%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22slug%22%3A%22P2881%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P2292%22%2C%22title%22%3A%22%5BHNOI2004%5DL%5Cu8bed%5Cu8a00%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2882%22%2C%22title%22%3A%22%5BUSACO07MAR%5D%5Cu9762%5Cu5bf9%5Cu6b63%5Cu786e%5Cu7684%5Cu65b9%5Cu5f0fFace%20The%20Right%20Way%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2962%22%2C%22title%22%3A%22%5BUSACO09NOV%5D%5Cu706fLights%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2966%22%2C%22title%22%3A%22%5BUSACO09DEC%5D%5Cu725b%5Cu6536%5Cu8d39%5Cu8def%5Cu5f84Cow%20Toll%20Paths%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3435%22%2C%22title%22%3A%22%5BPOI2006%5DOKR-Periods%20of%20Words%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO07MAR%5D%5Cu6392%5Cu540d%5Cu7684%5Cu725bRanking%20the%20Cows%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO07MAR]排名的牛Ranking the Cows</h1>
<h2>题目描述</h2>
<div>Each of Farmer John's N cows (1 ≤ N ≤ 1,000) produces milk at a different positive rate, and FJ would like to order his cows according to these rates from the fastest milk producer to the slowest.
FJ has already compared the milk output rate for M (1 ≤ M ≤ 10,000) pairs of cows. He wants to make a list of C additional pairs of cows such that, if he now compares those C pairs, he will definitely be able to deduce the correct ordering of all N cows. Please help him determine the minimum value of C for which such a list is possible.
FJ想按照奶牛产奶的能力给她们排序。现在已知有N头奶牛（1 ≤ N ≤ 1,000）。FJ通过比较，已经知道了M（1 ≤ M ≤ 10,000）对相对关系。每一对关系表示为“X Y”，意指X的产奶能力强于Y。现在FJ想要知道，他至少还要调查多少对关系才能完成整个排序。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>Line 1: Two space-separated integers: N and M
Lines 2..M+1: Two space-separated integers, respectively: X and Y. Both X and Y are in the range 1...N and describe a comparison where cow X was ranked higher than cow Y.
</div>
<h3>输出格式</h3>
<br />
<div>Line 1: A single integer that is the minimum value of C.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>5 5
2 1
1 5
2 3
1 4
3 4</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3</code></pre>
<h2>说明</h2>
<div>From the information in the 5 test results, Farmer John knows that since cow 2 > cow 1 > cow 5 and cow 2 > cow 3 > cow 4, cow 2 has the highest rank. However, he needs to know whether cow 1 > cow 3 to determine the cow with the second highest rank. Also, he will need one more question to determine the ordering between cow 4 and cow 5. After that, he will need to know if cow 5 > cow 3 if cow 1 has higher rank than cow 3. He will have to ask three questions in order to be sure he has the rankings: "Is cow 1 > cow 3? Is cow 4 > cow 5? Is cow 5 > cow 3?"
</div>
</article>
</div>
</div>
</body>
</html>
