<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[POI2013]POL-Polarization - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573377048:vdbl8gmHaHEAwCRm66rBuPJqEGVw5ufeeUa42DJHlpo=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Everyone%20knew%20it%20would%20only%20be%20a%20matter%20of%20time.%20%20So%20what%3F%5Cn%5Cn%20%20Faced%20for%20years%20on%2C%20a%20peril%20becomes%20the%20every-day%20reality.%5Cn%5CnIt%20loses%20its%20meaning...%5Cn%5CnToday%20the%20letter%20of%20the%20Bitotian%20char%20Bittard%20to%20the%20Byteotian%20king%20Byteasar%20%20was%20released%20to%20the%20public.%5Cn%5CnBitotia%20requested%20annexation%20of%20the%20whole%20Byteotia%20on%20pain%20of%20using%20%20the%20Bit%20Polarizing%20Magnet%20%28BPM%29.%5Cn%5CnIf%20used%2C%20the%20BPM%20would%20make%20each%20and%20every%20road%20in%20Byteotia%20unidirectional.%5Cn%5CnThe%20enemy%20knows%20only%20too%20well%20that%20this%20could%20be%20a%20fatal%20blow%20to%20the%20%20minimalist%20Byteotian%20infrastructure%20-%20there%20is%20a%20unique%20way%20between%20%20each%20pair%20of%20towns.%5Cn%5Cn%20%20How%20badly%20can%20the%20BPM%20damage%20the%20Byteotian%20infrastructure%3F%5Cn%5CnDetermine%20the%20minimum%20and%20the%20maximum%20number%20of%20such%20pairs%20of%20towns%20that%20%20it%20will%20still%20be%20possible%20to%20travel%20from%20one%20of%20them%20to%20the%20other%20while%20%20observing%20the%20new%20roads%20orientation.%5Cn%5Cn%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu9897%5Cu6811%5Cuff0c%5Cu8bf7%5Cu7ed9%5Cu6811%5Cu8fb9%5Cu6539%5Cu6210%5Cu6709%5Cu5411%5Cu8fb9%5Cuff0c%5Cu6c42%5Cu8fde%5Cu901a%5Cu7684%5Cu70b9%5Cu5bf9%5Cu4e2a%5Cu6570%5Cu7684%5Cu6700%5Cu5927%5Cu6700%5Cu5c0f%5Cu503c%5Cu3002%5Cu70b9%5Cu5bf9%5Cu8fde%5Cu901a%5Cuff0c%5Cu8981%5Cu4e48a%5Cu80fd%5Cu5230%5Cu8fbeb%5Cuff0c%5Cu8981%5Cu4e48b%5Cu80fd%5Cu5230%5Cu8fbea%5Cu3002%28n%3C%3D250000%29%5Cn%22%2C%22inputFormat%22%3A%22The%20first%20line%20of%20the%20standard%20input%20gives%20a%20single%20integer%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.1.png%29%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.2.png%29%29%2C%20the%20number%20of%20towns%20in%20Byteotia.%5Cn%5CnThe%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.3.png%29%20lines%20that%20follow%20describe%20these%20roads.%5Cn%5CnEach%20such%20line%20holds%20two%20integers%2C%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.4.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.5.png%29%20%28%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.6.png%29%29%2C%20%20which%20indicate%20that%20there%20is%20a%20direct%20road%20%28still%20bidirectional%20at%20the%20%20moment%29%20linking%20the%20towns%20no.%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.7.png%29%20and%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.8.png%29.%5Cn%5CnIn%20tests%20worth%2060%25%20of%20the%20total%20points%2C%20the%20additional%20constraint%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.9.png%29%20holds%3Bmoreover%2C%20in%20some%20of%20those%2C%20worth%2030%25%20of%20the%20total%20points%2C%20it%20even%20holds%20that%20%21%5B%5D%28http%3A%5C%2F%5C%2Fmain.edu.pl%5C%2Fimages%5C%2FOI20%5C%2Fpol-en-tex.10.png%29.%5Cn%22%2C%22outputFormat%22%3A%22Two%20integers%20should%20be%20printed%20to%20the%20first%20and%20only%20line%20of%20the%20standard%20output.%5Cn%5CnThe%20first%20number%20should%20be%20the%20minimum%20and%20the%20second%20-%20the%20maximum%20number%20%20of%20pairs%20of%20towns%20which%20could%20remain%20connected%20%28though%20in%20one%20direction%20%20only%29%20after%20the%20roads%20are%20polarized.%5Cn%22%2C%22samples%22%3A%5B%5B%224%5Cn1%202%5Cn1%203%5Cn1%204%5Cn%22%2C%223%205%5Cn%22%5D%5D%2C%22hint%22%3A%22%5Cu7ed9%5Cu5b9a%5Cu4e00%5Cu9897%5Cu6811%5Cuff0c%5Cu8bf7%5Cu7ed9%5Cu6811%5Cu8fb9%5Cu6539%5Cu6210%5Cu6709%5Cu5411%5Cu8fb9%5Cuff0c%5Cu6c42%5Cu8fde%5Cu901a%5Cu7684%5Cu70b9%5Cu5bf9%5Cu4e2a%5Cu6570%5Cu7684%5Cu6700%5Cu5927%5Cu6700%5Cu5c0f%5Cu503c%5Cu3002%5Cu70b9%5Cu5bf9%5Cu8fde%5Cu901a%5Cuff0c%5Cu8981%5Cu4e48a%5Cu80fd%5Cu5230%5Cu8fbeb%5Cuff0c%5Cu8981%5Cu4e48b%5Cu80fd%5Cu5230%5Cu8fbea%5Cu3002%28n%3C%3D250000%29%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A3%2C%22name%22%3A%22%5Cu6d1b%5Cu8c37%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3A%22%22%2C%22isAdmin%22%3Atrue%2C%22color%22%3A%22Purple%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B1%2C3%2C7%2C30%2C57%2C319%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A100%2C%22totalAccepted%22%3A31%2C%22pid%22%3A%22P3563%22%2C%22title%22%3A%22%5BPOI2013%5DPOL-Polarization%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P3085%22%2C%22title%22%3A%22%5BUSACO13OPEN%5D%5Cu9634%5Cu548c%5Cu9633Yin%20and%20Yang%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3272%22%2C%22title%22%3A%22%5BSCOI2011%5D%5Cu5730%5Cu677f%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3321%22%2C%22title%22%3A%22%5BSDOI2015%5D%5Cu5e8f%5Cu5217%5Cu7edf%5Cu8ba1%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3571%22%2C%22title%22%3A%22%5BPOI2014%5DSUP-Supercomputer%22%2C%22difficulty%22%3A7%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P3604%22%2C%22title%22%3A%22%5Cu7f8e%5Cu597d%5Cu7684%5Cu6bcf%5Cu4e00%5Cu5929%22%2C%22difficulty%22%3A6%2C%22type%22%3A%22P%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BPOI2013%5DPOL-Polarization%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[POI2013]POL-Polarization</h1>
<h2>题目描述</h2>
<div>Everyone knew it would only be a matter of time. So what?
Faced for years on, a peril becomes the every-day reality.
It loses its meaning...
Today the letter of the Bitotian char Bittard to the Byteotian king Byteasar was released to the public.
Bitotia requested annexation of the whole Byteotia on pain of using the Bit Polarizing Magnet (BPM).
If used, the BPM would make each and every road in Byteotia unidirectional.
The enemy knows only too well that this could be a fatal blow to the minimalist Byteotian infrastructure - there is a unique way between each pair of towns.
How badly can the BPM damage the Byteotian infrastructure?
Determine the minimum and the maximum number of such pairs of towns that it will still be possible to travel from one of them to the other while observing the new roads orientation.
给定一颗树，请给树边改成有向边，求连通的点对个数的最大最小值。点对连通，要么a能到达b，要么b能到达a。(n<=250000)
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>The first line of the standard input gives a single integer ![](http://main.edu.pl/images/OI20/pol-en-tex.1.png) (![](http://main.edu.pl/images/OI20/pol-en-tex.2.png)), the number of towns in Byteotia.
The ![](http://main.edu.pl/images/OI20/pol-en-tex.3.png) lines that follow describe these roads.
Each such line holds two integers, ![](http://main.edu.pl/images/OI20/pol-en-tex.4.png) and ![](http://main.edu.pl/images/OI20/pol-en-tex.5.png) (![](http://main.edu.pl/images/OI20/pol-en-tex.6.png)), which indicate that there is a direct road (still bidirectional at the moment) linking the towns no. ![](http://main.edu.pl/images/OI20/pol-en-tex.7.png) and ![](http://main.edu.pl/images/OI20/pol-en-tex.8.png).
In tests worth 60% of the total points, the additional constraint ![](http://main.edu.pl/images/OI20/pol-en-tex.9.png) holds;moreover, in some of those, worth 30% of the total points, it even holds that ![](http://main.edu.pl/images/OI20/pol-en-tex.10.png).
</div>
<h3>输出格式</h3>
<br />
<div>Two integers should be printed to the first and only line of the standard output.
The first number should be the minimum and the second - the maximum number of pairs of towns which could remain connected (though in one direction only) after the roads are polarized.
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>4
1 2
1 3
1 4
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>3 5
</code></pre>
<h2>说明</h2>
<div>给定一颗树，请给树边改成有向边，求连通的点对个数的最大最小值。点对连通，要么a能到达b，要么b能到达a。(n<=250000)
</div>
</article>
</div>
</div>
</body>
</html>
