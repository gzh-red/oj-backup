<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Simurgh 西默夫 - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573380746:bF/uDwN+E6CxXRXmAqpmsCUFampPNqtPQXHzDnnw8WQ=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%2A%2A%5Cu3010%5Cu4e0d%5Cu652f%5Cu6301%5Cu63d0%5Cu4ea4%5Cu3011%2A%2A%5Cn%5Cn%60%60%60plain%5Cn%5Cu65f6%5Cu95f4%5Cuff1a3s%5Cn%5Cu7a7a%5Cu95f4%5Cuff1a1024MB%5Cn%60%60%60%22%2C%22description%22%3A%22%5Cu6839%5Cu636e%5Cu6c99%5Cu7eb3%5Cu739b%5Cuff08Shahnameh%5Cuff09%5Cu4e2d%5Cu7684%5Cu53e4%5Cu4ee3%5Cu6ce2%5Cu65af%5Cu4f20%5Cu8bf4%5Cuff0cZal%5Cuff0c%5Cu4f20%5Cu5947%5Cu7684%5Cu6ce2%5Cu65af%5Cu82f1%5Cu96c4%5Cuff0c%5Cu75af%5Cu72c2%5Cu5730%5Cu7231%5Cu4e0a%5Cu4e86Kabul%5Cu738b%5Cu56fd%5Cu7684%5Cu516c%5Cu4e3bRudaba%5Cu3002%5Cu5728Zal%5Cu5411Rudaba%5Cu6c42%5Cu5a5a%5Cu65f6%5Cuff0cRudaba%5Cu7684%5Cu7236%5Cu4eb2%5Cu7ed9%5Cu4ed6%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu6311%5Cu6218%5Cu3002%5Cn%5Cn%5Cu5728%5Cu6ce2%5Cu65af%5Cu6709%24n%24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cuff0c%5Cu6807%5Cu8bb0%5Cu4e3a%5Cu4ece%240%24%5Cu5230%24n-1%24%5Cuff0c%5Cu4ee5%5Cu53ca%24m%24%5Cu6761%5Cu53cc%5Cu5411%5Cu9053%5Cu8def%5Cuff0c%5Cu6807%5Cu8bb0%5Cu4e3a%5Cu4ece%240%24%5Cu5230%24m-1%24%5Cu3002%20%5Cu6bcf%5Cu6761%5Cu9053%5Cu8def%5Cu8fde%5Cu63a5%5Cu4e24%5Cu4e2a%5Cu4e0d%5Cu540c%5Cu7684%5Cu57ce%5Cu5e02%5Cu3002%5Cu6bcf%5Cu4e00%5Cu5bf9%5Cu57ce%5Cu5e02%5Cu81f3%5Cu591a%5Cu4f1a%5Cu88ab%5Cu4e00%5Cu6761%5Cu9053%5Cu8def%5Cu8fde%5Cu63a5%5Cu3002%5Cu6709%5Cu4e9b%5Cu9053%5Cu8def%5Cu662f%2A%2A%5Cu5fa1%5Cu9053%2A%2A%5C%5C_%5C%5C_%28royal%20roads%29%5C%5C_%5C%5C_%5Cuff0c%5Cu4e13%5Cu7528%5Cu4e8e%5Cu7687%5Cu5ba4%5Cu884c%5Cu9a76%5Cuff0c%5Cu4f46%5Cu8fd9%5Cu662f%5Cu4fdd%5Cu5bc6%5Cu7684%5Cu3002Zal%5Cu7684%5Cu4efb%5Cu52a1%5Cu662f%5Cu627e%5Cu51fa%5Cu54ea%5Cu4e9b%5Cu9053%5Cu8def%5Cu662f%5Cu5fa1%5Cu9053%5Cu3002%5Cn%5CnZal%5Cu6709%5Cu4e00%5Cu5f20%5Cu5305%5Cu62ec%5Cu6240%5Cu6709%5Cu57ce%5Cu5e02%5Cu548c%5Cu6240%5Cu6709%5Cu9053%5Cu8def%5Cu7684%5Cu6ce2%5Cu65af%5Cu5730%5Cu56fe%5Cu3002%5Cu4ed6%5Cu4e0d%5Cu77e5%5Cu9053%5Cu54ea%5Cu4e9b%5Cu9053%5Cu8def%5Cu662f%5Cu5fa1%5Cu9053%5Cuff0c%5Cu4f46%5Cu662f%5Cu4ed6%5Cu53ef%5Cu4ee5%5Cu6c42%5Cu6551%5Cu4e8eSimurgh%5Cu2014%5Cu2014%5Cu597d%5Cu5fc3%5Cu7684%5Cu795e%5Cu9e1f%5Cu3001Zal%5Cu7684%5Cu4fdd%5Cu62a4%5Cu8005%5Cu3002%5Cu7136%5Cu800c%5Cuff0cSimurgh%5Cu5e76%5Cu4e0d%5Cu60f3%5Cu76f4%5Cu63a5%5Cu544a%5Cu8bc9%5Cu4ed6%5Cu54ea%5Cu4e9b%5Cu9053%5Cu8def%5Cu662f%5Cu5fa1%5Cu9053%5Cu3002%5Cu4f5c%5Cu4e3a%5Cu66ff%5Cu4ee3%5Cuff0cSimurgh%5Cu544a%5Cu8bc9Zal%5Cuff0c%5Cu6240%5Cu6709%5Cu5fa1%5Cu9053%5Cu7684%5Cu96c6%5Cu5408%5Cu662f%5Cu4e00%5Cu4e2a%2A%2A%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%2A%2A%5C%5C_%5C%5C_%28golden%20set%29%5C%5C_%5C%5C_%5Cu3002%5Cu4e00%5Cu4e2a%5Cu9053%5Cu8def%5Cu7684%5Cu96c6%5Cu5408%5Cu662f%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cuff0c%5Cu5f53%5Cu4e14%5Cu4ec5%5Cu5f53%5Cuff1a%5Cn%5Cn-%20%5Cu5b83%5Cu6070%5Cu597d%5Cu5305%5Cu542b%24n-1%24%5Cu6761%5Cu9053%5Cu8def%5Cuff0c%5Cu800c%5Cu4e14%5Cn%5Cn-%20%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e00%5Cu5bf9%5Cu57ce%5Cu5e02%5Cuff0c%5Cu4ec5%5Cu6cbf%5Cu7740%5Cu8fd9%5Cu4e2a%5Cu96c6%5Cu5408%5Cu4e2d%5Cu7684%5Cu9053%5Cu8def%5Cu5373%5Cu53ef%5Cu4ece%5Cu5176%5Cu4e2d%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu62b5%5Cu8fbe%5Cu53e6%5Cu5916%5Cu4e00%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu3002%5Cn%5Cn%5Cu6b64%5Cu5916%5Cuff0cZal%5Cu53ef%5Cu4ee5%5Cu95eeSimurgh%5Cu4e00%5Cu4e9b%5Cu95ee%5Cu9898%5Cu3002%5Cu5bf9%5Cu4e8e%5Cu6bcf%5Cu4e2a%5Cu95ee%5Cu9898%5Cuff1a%5Cn%5Cn1.%20Zal%5Cu9009%5Cu51fa%5Cu9053%5Cu8def%5Cu7684%5Cu4e00%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cuff0c%5Cu7136%5Cu540e%5Cn%5Cn2.%20Simurgh%5Cu4f1a%5Cu544a%5Cu8bc9Zal%5Cuff0c%5Cu5728%5Cu6240%5Cu9009%5Cu62e9%5Cu7684%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cu4e2d%5Cu6709%5Cu591a%5Cu5c11%5Cu6761%5Cu9053%5Cu8def%5Cu662f%5Cu5fa1%5Cu9053%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu53ef%5Cu4ee5%5Cu95eeSimurgh%5Cu6700%5Cu591a%24q%24%5Cu4e2a%5Cu95ee%5Cu9898%5Cuff0c%5Cu4ee5%5Cu6b64%5Cu5e2e%5Cu52a9Zal%5Cu627e%5Cu51fa%5Cu5fa1%5Cu9053%5Cu7684%5Cu96c6%5Cu5408%5Cu3002%5Cu8bc4%5Cu6d4b%5Cu5de5%5Cu5177%5Cu5c06%5Cu626e%5Cu6f14Simurgh%5Cu7684%5Cu89d2%5Cu8272%5Cu3002%5Cn%5Cn%5Cn%23%23%20%5Cu5b9e%5Cu73b0%5Cu7ec6%5Cu8282%5Cn%5Cn%5Cu4f60%5Cu9700%5Cu8981%5Cu5b9e%5Cu73b0%5Cu4e0b%5Cu9762%5Cu7684%5Cu51fd%5Cu6570%5Cuff1a%5Cn%5Cn%28Java%29%20%20%60int%5B%5D%20find%5C%5C_roads%28int%20n%2C%20int%5B%5D%20u%2C%20int%5B%5D%20v%29%60%5Cn%5Cn%28C%2B%2B%29%20%20%60std%3A%3Avector%3Cint%3E%20find%5C%5C_roads%28int%20n%2C%20std%3A%3Avector%3Cint%3E%20u%2C%20std%3A%3Avector%3Cint%3E%20v%29%60%5Cn%5Cn-%20%24n%24%5Cuff1a%5Cu57ce%5Cu5e02%5Cu7684%5Cu6570%5Cu91cf%5Cuff0c%5Cn%5Cn-%20%24u%24%5Cu548c%24v%24%5Cuff1a%5Cu5747%5Cu4e3a%5Cu957f%5Cu5ea6%5Cu4e3a%24m%24%5Cu7684%5Cu6570%5Cu7ec4%5Cu3002%5Cu5bf9%5Cu4e8e%5Cu6240%5Cu6709%240%20%5C%5Cleq%20i%20%5C%5Cleq%20m-1%24%5Cuff0c%24u%5Bi%5D%24%5Cu548c%24v%5Bi%5D%24%5Cu662f%5Cu88ab%5Cu9053%5Cu8def%24i%24%5Cu6240%5Cu8fde%5Cu63a5%5Cu7684%5Cu57ce%5Cu5e02%5Cu3002%5Cn%5Cn-%20%5Cu8be5%5Cu51fd%5Cu6570%5Cu9700%5Cu8981%5Cu8fd4%5Cu56de%5Cu4e00%5Cu4e2a%5Cu957f%5Cu5ea6%5Cu4e3a%24n-1%24%5Cu7684%5Cu6570%5Cu7ec4%5Cuff0c%5Cu5176%5Cu4e2d%5Cu5305%5Cu62ec%5Cu4e86%5Cu6240%5Cu6709%5Cu5fa1%5Cu9053%5Cu7684%5Cu6807%5Cu53f7%5Cuff08%5Cu53ef%5Cu4ee5%5Cu4ee5%5Cu4efb%5Cu610f%5Cu7684%5Cu987a%5Cu5e8f%5Cu7ed9%5Cu51fa%5Cuff09%5Cu3002%5Cn%5Cn%5Cu4f60%5Cu7684%5Cu7a0b%5Cu5e8f%5Cu81f3%5Cu591a%5Cu53ea%5Cu80fd%5Cu8c03%5Cu7528%5Cu8bc4%5Cu6d4b%5Cu5de5%5Cu5177%5Cu4e2d%5Cu7684%5Cu5982%5Cu4e0b%5Cu51fd%5Cu6570%24q%24%5Cu6b21%5Cuff1a%5Cn%5Cn%28Java%29%20%20%60int%20count%5C%5C_common%5C%5C_roads%28int%5B%5D%20r%29%60%5Cn%5Cn%28C%2B%2B%29%20%60int%20count%5C%5C_common%5C%5C_roads%28std%3A%3Avector%3Cint%3E%20r%29%60%5Cn%5Cn-%20%24r%24%5Cuff1a%5Cu957f%5Cu5ea6%5Cu4e3a%24n-1%24%5Cu7684%5Cu6570%5Cu7ec4%5Cuff0c%5Cu5176%5Cu4e2d%5Cu5305%5Cu62ec%5Cu4e86%5Cu4e00%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cu4e2d%5Cu7684%5Cu9053%5Cu8def%5Cu6807%5Cu53f7%5Cuff08%5Cu53ef%5Cu4ee5%5Cu4ee5%5Cu4efb%5Cu610f%5Cu7684%5Cu987a%5Cu5e8f%5Cu7ed9%5Cu51fa%5Cuff09%5Cu3002%5Cn%5Cn-%20%5Cu8be5%5Cu51fd%5Cu6570%5Cu5c06%5Cu8fd4%5Cu56de%24r%24%5Cu4e2d%5Cu7684%5Cu5fa1%5Cu9053%5Cu6570%5Cu91cf%5Cu3002%5Cn%22%2C%22inputFormat%22%3A%22%5Cu4f60%5Cu9700%5Cu8981%5Cu5b9e%5Cu73b0%5Cu4e0a%5Cu8ff0%5Cu51fd%5Cu6570%5Cn%22%2C%22outputFormat%22%3A%22%5Cu51fd%5Cu6570%5Cu9700%5Cu8981%5Cu8fd4%5Cu56de%5Cu4e00%5Cu4e2a%5Cu5408%5Cu6cd5%5Cu7684%5Cu7ed3%5Cu679c%5Cn%22%2C%22samples%22%3A%5B%5B%22n%20%3D%204%5Cnu%20%3D%20%5B0%2C%200%2C%200%2C%201%2C%201%2C%202%5D%5Cnv%20%3D%20%5B1%2C%202%2C%203%2C%202%2C%203%2C%203%5D%22%2C%22%5Cu4e00%5Cu4e2a%5Cu53ef%5Cu80fd%5Cu7684%5Cu8f93%5Cu51fa%5Cuff1a%5Cn%5B0%2C%201%2C%205%5D%22%5D%5D%2C%22hint%22%3A%22%5Cu4e0b%5Cu9762%5Cu662f%5Cu4e00%5Cu4e2a%5Cu4f8b%5Cu5b50%5Cn%5Cn%60find%5C%5C_roads%284%2C%20%5B0%2C%200%2C%200%2C%201%2C%201%2C%202%5D%2C%20%5B1%2C%202%2C%203%2C%202%2C%203%2C%203%5D%29%60%5Cn%5Cn%20%21%5B%5D%28https%3A%5C%2F%5C%2Fcdn.luogu.com.cn%5C%2Fupload%5C%2Fpic%5C%2F6777.png%29%20%5Cn%5Cn%5Cu8fd9%5Cu4e2a%5Cu4f8b%5Cu5b50%5Cu4e2d%5Cu6709%244%24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu548c%246%24%5Cu6761%5Cu9053%5Cu8def%5Cu3002%5Cu6211%5Cu4eec%5Cu5c06%5Cu8fde%5Cu63a5%5Cu57ce%5Cu5e02%24a%24%5Cu548c%24b%24%5Cu7684%5Cu9053%5Cu8def%5Cu8868%5Cu793a%5Cu4e3a%24%28a%2C%20b%29%24%5Cu3002%5Cu8fd9%5Cu4e9b%5Cu9053%5Cu8def%5Cu6309%5Cu7167%5Cu4e0b%5Cu9762%5Cu7684%5Cu987a%5Cu5e8f%5Cu88ab%5Cu6807%5Cu4e3a%5Cu4ece%240%24%5Cu5230%245%24%5Cuff1a%24%280%2C1%29%24%5Cuff0c%24%280%2C2%29%24%5Cuff0c%24%280%2C3%29%24%5Cuff0c%24%281%2C2%29%24%5Cuff0c%24%281%2C3%29%24%5Cu548c%24%282%2C3%29%24%5Cu3002%5Cu6bcf%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cu5305%5Cu542b%24n-1%3D3%24%5Cu6761%5Cu9053%5Cu8def%5Cu3002%5Cn%5Cn%5Cu5047%5Cu8bbe%5Cu5fa1%5Cu9053%5Cu662f%5Cu6807%5Cu53f7%5Cu4e3a%240%24%5Cuff0c%241%24%5Cu548c%245%24%5Cu7684%5Cu9053%5Cu8def%5Cuff0c%5Cu5373%24%280%2C1%29%24%5Cuff0c%24%280%2C2%29%24%5Cu548c%24%282%2C3%29%24%5Cu3002%5Cu8fd9%5Cu6837%5Cu7684%5Cu8bdd%5Cuff1a%5Cn%5Cn-%20%60count%5C%5C_common%5C%5C_roads%28%5B0%2C%201%2C%202%5D%29%60%5Cu8fd4%5Cu56de%242%24%5Cu3002%5Cu8be5%5Cu8be2%5Cu95ee%5Cu6d89%5Cu53ca%5Cu5230%5Cu6807%5Cu53f7%5Cu4e3a%240%2C1%24%5Cu548c%242%24%5Cu7684%5Cu9053%5Cu8def%5Cuff0c%5Cu5373%24%280%2C1%29%24%5Cuff0c%24%280%2C2%29%24%5Cu548c%24%280%2C3%29%24%5Cu3002%5Cu5176%5Cu4e2d%5Cu6709%5Cu4e24%5Cu6761%5Cu9053%5Cu8def%5Cu662f%5Cu5fa1%5Cu9053%5Cu3002%5Cn%5Cn-%20%60count%5C%5C_common%5C%5C_roads%28%5B5%2C%201%2C%200%5D%29%60%5Cu8fd4%5Cu56de%243%24%5Cu3002%5Cu8be5%5Cu8be2%5Cu95ee%5Cu6d89%5Cu53ca%5Cu5230%5Cu6240%5Cu6709%5Cu7684%5Cu5fa1%5Cu9053%5Cu3002%5Cn%5Cn%5Cu51fd%5Cu6570%60find%5C%5C_roads%60%5Cu9700%5Cu8981%5Cu8fd4%5Cu56de%60%5B5%2C%201%2C%200%5D%60%5Cu6216%5Cu4efb%5Cu610f%5Cu5176%5Cu4ed6%5Cu5305%5Cu542b%5Cu8fd9%5Cu4e09%5Cu4e2a%5Cu5143%5Cu7d20%5Cu4e14%5Cu957f%5Cu5ea6%5Cu4e3a%243%24%5Cu7684%5Cu6570%5Cu7ec4%5Cu3002%5Cn%5Cn%5Cu6ce8%5Cu610f%5Cuff0c%5Cu4e0b%5Cu9762%5Cu5217%5Cu51fa%5Cu7684%5Cu8c03%5Cu7528%5Cu662f%5Cu4e0d%5Cu5141%5Cu8bb8%5Cu7684%5Cuff1a%5Cn%5Cn-%20%60count%5C%5C_common%5C%5C_roads%28%5B0%2C%201%5D%29%60%5Cuff1a%5Cu8fd9%5Cu91cc%24r%24%5Cu7684%5Cu957f%5Cu5ea6%5Cu4e0d%5Cu662f%243%24%5Cu3002%5Cn%5Cn-%20%60count%5C%5C_common%5C%5C_roads%28%5B0%2C%201%2C%203%5D%29%60%5Cuff1a%5Cu8fd9%5Cu91cc%24r%24%5Cu4e0d%5Cu662f%5Cu4e00%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cuff0c%5Cu56e0%5Cu4e3a%5Cu65e0%5Cu6cd5%5Cu4ec5%5Cu6cbf%5Cu9053%5Cu8def%24%280%2C1%29%24%5Cuff0c%24%280%2C2%29%24%5Cuff0c%24%281%2C2%29%24%5Cu5c31%5Cu4ece%5Cu57ce%5Cu5e02%240%24%5Cu8d70%5Cu5230%5Cu57ce%5Cu5e02%243%24%5Cu3002%5Cn%5Cn%5Cn%23%23%20%5Cu9650%5Cu5236%5Cu6761%5Cu4ef6%5Cn%5Cn-%20%24n-1%20%5C%5Cleq%20m%20%5C%5Cleq%20n%28n-1%29%5C%2F2%24%5Cn%5Cn-%20%240%20%5C%5Cleq%20u%5Bi%5D%2Cv%5Bi%5D%20%5C%5Cleq%20n-1%24%5Cuff08%5Cu5bf9%5Cu4e8e%5Cu6240%5Cu6709%240%20%5C%5Cleq%20i%20%5C%5Cleq%20m-1%24%5Cuff09%5Cn%5Cn-%20%5Cu5bf9%5Cu4e8e%5Cu6240%5Cu6709%240%20%5C%5Cleq%20i%20%5C%5Cleq%20m-1%24%5Cuff0c%5Cu9053%5Cu8def%24i%24%5Cu8fde%5Cu63a5%5Cu4e24%5Cu4e2a%5Cu4e0d%5Cu540c%5Cu7684%5Cu57ce%5Cu5e02%5Cuff08%5Cu5373%24u%5Bi%5D%20%5C%5Cneq%20v%5Bi%5D%24%5Cuff09%5Cu3002%5Cn%5Cn-%20%5Cu6bcf%5Cu5bf9%5Cu57ce%5Cu5e02%5Cu4e4b%5Cu95f4%5Cu81f3%5Cu591a%5Cu8fde%5Cu6709%5Cu4e00%5Cu6761%5Cu9053%5Cu8def%5Cu3002%5Cn%5Cn-%20%5Cu7ecf%5Cu7531%5Cu8fd9%5Cu4e9b%5Cu9053%5Cu8def%5Cuff0c%5Cu53ef%5Cu4ee5%5Cu5728%5Cu4efb%5Cu610f%5Cu4e00%5Cu5bf9%5Cu57ce%5Cu5e02%5Cu4e4b%5Cu95f4%5Cu6765%5Cu5f80%5Cu3002%5Cn%5Cn-%20%5Cu6240%5Cu6709%5Cu7684%5Cu5fa1%5Cu9053%5Cu7ec4%5Cu6210%5Cu4e00%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cu3002%5Cn%5Cn-%20%60find%5C%5C_roads%60%5Cu53ef%5Cu4ee5%5Cu8c03%5Cu7528%60count%5C%5C_common%5C%5C_roads%60%5Cu6700%5Cu591a%24q%24%5Cu6b21%5Cu3002%5Cu5728%5Cu6bcf%5Cu6b21%5Cu8c03%5Cu7528%5Cu4e2d%5Cuff0c%5Cu7531%24r%24%5Cu6240%5Cu7ed9%5Cu51fa%5Cu7684%5Cu9053%5Cu8def%5Cu5fc5%5Cu987b%5Cu662f%5Cu4e00%5Cu4e2a%5Cu9ec4%5Cu91d1%5Cu96c6%5Cu5408%5Cu3002%5Cn%5Cn%5Cn%23%23%20%5Cu5b50%5Cu4efb%5Cu52a1%5Cn%5Cn1.%20%5Cuff08%2413%24%5Cu5206%5Cuff09%24n%20%5C%5Cleq%207%24%5Cuff0c%24q%20%3D%2030000%24%5Cn%5Cn2.%20%5Cuff08%2417%24%5Cu5206%5Cuff09%24n%20%5C%5Cleq%2050%24%5Cuff0c%24q%20%3D%2030000%24%5Cn%5Cn3.%20%5Cuff08%2421%24%5Cu5206%5Cuff09%24n%20%5C%5Cleq%20240%24%5Cuff0c%24q%20%3D%2030000%24%5Cn%5Cn4.%20%5Cuff08%2419%24%5Cu5206%5Cuff09%24q%20%3D%2012000%24%5Cuff0c%5Cu5728%5Cu4efb%5Cu610f%5Cu4e24%5Cu4e2a%5Cu57ce%5Cu5e02%5Cu4e4b%5Cu95f4%5Cu90fd%5Cu8fde%5Cu6709%5Cu4e00%5Cu6761%5Cu9053%5Cu8def%5Cn%5Cn5.%20%5Cuff08%2430%24%5Cu5206%5Cuff09%24q%20%3D%208000%24%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A22558%2C%22name%22%3A%22deluxurous%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Blue%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B%5D%2C%22memory%22%3A%5B%5D%7D%2C%22stdCode%22%3A%22%22%2C%22tags%22%3A%5B34%2C102%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1%2C%22totalAccepted%22%3A0%2C%22pid%22%3A%22P3840%22%2C%22title%22%3A%22Simurgh%20%5Cu897f%5Cu9ed8%5Cu592b%22%2C%22difficulty%22%3A0%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A103646%2C%22title%22%3A%22%5Cu8fd9%5Cu9898%5Cu4ec0%5Cu4e48%5Cu60c5%5Cu51b5%5Cuff1f%22%2C%22forum%22%3A%7B%22id%22%3A5361%2C%22name%22%3A%22P3840%20Simurgh%20%5Cu897f%5Cu9ed8%5Cu592b%22%2C%22slug%22%3A%22P3840%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22Simurgh%20%5Cu897f%5Cu9ed8%5Cu592b%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1572920822;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>Simurgh 西默夫</h1>
<h2>题目背景</h2>
<div>**【不支持提交】**
```plain
时间：3s
空间：1024MB
```</div>
<h2>题目描述</h2>
<div>根据沙纳玛（Shahnameh）中的古代波斯传说，Zal，传奇的波斯英雄，疯狂地爱上了Kabul王国的公主Rudaba。在Zal向Rudaba求婚时，Rudaba的父亲给他了一个挑战。
在波斯有$n$个城市，标记为从$0$到$n-1$，以及$m$条双向道路，标记为从$0$到$m-1$。 每条道路连接两个不同的城市。每一对城市至多会被一条道路连接。有些道路是**御道**\_\_(royal roads)\_\_，专用于皇室行驶，但这是保密的。Zal的任务是找出哪些道路是御道。
Zal有一张包括所有城市和所有道路的波斯地图。他不知道哪些道路是御道，但是他可以求救于Simurgh——好心的神鸟、Zal的保护者。然而，Simurgh并不想直接告诉他哪些道路是御道。作为替代，Simurgh告诉Zal，所有御道的集合是一个**黄金集合**\_\_(golden set)\_\_。一个道路的集合是黄金集合，当且仅当：
- 它恰好包含$n-1$条道路，而且
- 对于每一对城市，仅沿着这个集合中的道路即可从其中一个城市抵达另外一个城市。
此外，Zal可以问Simurgh一些问题。对于每个问题：
1. Zal选出道路的一个黄金集合，然后
2. Simurgh会告诉Zal，在所选择的黄金集合中有多少条道路是御道。
你的程序可以问Simurgh最多$q$个问题，以此帮助Zal找出御道的集合。评测工具将扮演Simurgh的角色。
## 实现细节
你需要实现下面的函数：
(Java) `int[] find\_roads(int n, int[] u, int[] v)`
(C++) `std::vector<int> find\_roads(int n, std::vector<int> u, std::vector<int> v)`
- $n$：城市的数量，
- $u$和$v$：均为长度为$m$的数组。对于所有$0 \leq i \leq m-1$，$u[i]$和$v[i]$是被道路$i$所连接的城市。
- 该函数需要返回一个长度为$n-1$的数组，其中包括了所有御道的标号（可以以任意的顺序给出）。
你的程序至多只能调用评测工具中的如下函数$q$次：
(Java) `int count\_common\_roads(int[] r)`
(C++) `int count\_common\_roads(std::vector<int> r)`
- $r$：长度为$n-1$的数组，其中包括了一个黄金集合中的道路标号（可以以任意的顺序给出）。
- 该函数将返回$r$中的御道数量。
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>你需要实现上述函数
</div>
<h3>输出格式</h3>
<br />
<div>函数需要返回一个合法的结果
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>n = 4
u = [0, 0, 0, 1, 1, 2]
v = [1, 2, 3, 2, 3, 3]</code></pre>
<h3>输出样例 #1</h3>
<pre><code>一个可能的输出：
[0, 1, 5]</code></pre>
<h2>说明</h2>
<div>下面是一个例子
`find\_roads(4, [0, 0, 0, 1, 1, 2], [1, 2, 3, 2, 3, 3])`
![](https://cdn.luogu.com.cn/upload/pic/6777.png)
这个例子中有$4$个城市和$6$条道路。我们将连接城市$a$和$b$的道路表示为$(a, b)$。这些道路按照下面的顺序被标为从$0$到$5$：$(0,1)$，$(0,2)$，$(0,3)$，$(1,2)$，$(1,3)$和$(2,3)$。每个黄金集合包含$n-1=3$条道路。
假设御道是标号为$0$，$1$和$5$的道路，即$(0,1)$，$(0,2)$和$(2,3)$。这样的话：
- `count\_common\_roads([0, 1, 2])`返回$2$。该询问涉及到标号为$0,1$和$2$的道路，即$(0,1)$，$(0,2)$和$(0,3)$。其中有两条道路是御道。
- `count\_common\_roads([5, 1, 0])`返回$3$。该询问涉及到所有的御道。
函数`find\_roads`需要返回`[5, 1, 0]`或任意其他包含这三个元素且长度为$3$的数组。
注意，下面列出的调用是不允许的：
- `count\_common\_roads([0, 1])`：这里$r$的长度不是$3$。
- `count\_common\_roads([0, 1, 3])`：这里$r$不是一个黄金集合，因为无法仅沿道路$(0,1)$，$(0,2)$，$(1,2)$就从城市$0$走到城市$3$。
## 限制条件
- $n-1 \leq m \leq n(n-1)/2$
- $0 \leq u[i],v[i] \leq n-1$（对于所有$0 \leq i \leq m-1$）
- 对于所有$0 \leq i \leq m-1$，道路$i$连接两个不同的城市（即$u[i] \neq v[i]$）。
- 每对城市之间至多连有一条道路。
- 经由这些道路，可以在任意一对城市之间来往。
- 所有的御道组成一个黄金集合。
- `find\_roads`可以调用`count\_common\_roads`最多$q$次。在每次调用中，由$r$所给出的道路必须是一个黄金集合。
## 子任务
1. （$13$分）$n \leq 7$，$q = 30000$
2. （$17$分）$n \leq 50$，$q = 30000$
3. （$21$分）$n \leq 240$，$q = 30000$
4. （$19$分）$q = 12000$，在任意两个城市之间都连有一条道路
5. （$30$分）$q = 8000$
</div>
</article>
</div>
</div>
</body>
</html>
