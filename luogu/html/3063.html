<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>[USACO12DEC]牛奶的路由Milk Routing - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1573376353:DxErvb5uT2aePE1yHuxTFdQyb8xwDLnjZMu1UNIGfE4=">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.com.cn/fe/loader.css?ver=20191106">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentTemplate%22%3A%22ProblemShow%22%2C%22currentData%22%3A%7B%22problem%22%3A%7B%22background%22%3A%22%22%2C%22description%22%3A%22Farmer%20John%27s%20farm%20has%20an%20outdated%20network%20of%20M%20pipes%20%281%20%3C%3D%20M%20%3C%3D%20500%29%20for%20pumping%20milk%20from%20the%20barn%20to%20his%20milk%20storage%20tank.%20%20He%20wants%20to%20remove%20and%20update%20most%20of%20these%20over%20the%20next%20year%2C%20but%20he%20wants%20to%20leave%20exactly%20one%20path%20worth%20of%20pipes%20intact%2C%20so%20that%20he%20can%20still%20pump%20milk%20from%20the%20barn%20to%20the%20storage%20tank.%5Cn%5CnThe%20pipe%20network%20is%20described%20by%20N%20junction%20points%20%281%20%3C%3D%20N%20%3C%3D%20500%29%2C%20each%20of%20which%20can%20serve%20as%20the%20endpoint%20of%20a%20set%20of%20pipes.%20%20Junction%20point%201%20is%20the%20barn%2C%20and%20junction%20point%20N%20is%20the%20storage%20tank.%20%20Each%20of%20the%20M%20bi-directional%20pipes%20runs%20between%20a%20pair%20of%20junction%20points%2C%20and%20has%20an%20associated%20latency%20%28the%20amount%20of%20time%20it%20takes%20milk%20to%20reach%20one%20end%20of%20the%20pipe%20from%20the%20other%29%20and%20capacity%20%28the%20amount%20of%20milk%20per%20unit%20time%20that%20can%20be%20pumped%20through%20the%20pipe%20in%20steady%20state%29.%20%20Multiple%20pipes%20can%20connect%20between%20the%20same%20pair%20of%20junction%20points.%5Cn%5CnFor%20a%20path%20of%20pipes%20connecting%20from%20the%20barn%20to%20the%20tank%2C%20the%20latency%20of%20the%20path%20is%20the%20sum%20of%20the%20latencies%20of%20the%20pipes%20along%20the%20path%2C%20and%20the%20capacity%20of%20the%20path%20is%20the%20minimum%20of%20the%20capacities%20of%20the%20pipes%20along%20the%20path%20%28since%20this%20is%20the%20%5C%22bottleneck%5C%22%20constraining%20the%20overall%20rate%20at%20which%20milk%20can%20be%20pumped%20through%20the%20path%29.%20%20If%20FJ%20wants%20to%20send%20a%20total%20of%20X%20units%20of%20milk%20through%20a%20path%20of%20pipes%20with%20latency%20L%20and%20capacity%20C%2C%20the%20time%20this%20takes%20is%20therefore%20L%20%2B%20X%5C%2FC.%5Cn%5CnGiven%20the%20structure%20of%20FJ%27s%20pipe%20network%2C%20please%20help%20him%20select%20a%20single%20path%20from%20the%20barn%20to%20the%20storage%20tank%20that%20will%20allow%20him%20to%20pump%20X%20units%20of%20milk%20in%20a%20minimum%20amount%20of%20total%20time.%5Cn%5Cn%5Cn%22%2C%22inputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20Three%20space-separated%20integers%3A%20N%20M%20X%20%281%20%3C%3D%20X%20%3C%3D%201%2C000%2C000%29.%5Cn%5Cn%5C%5C%2A%20Lines%202..1%2BM%3A%20Each%20line%20describes%20a%20pipe%20using%204%20integers%3A%20I%20J%20L%20C.%20I%20and%20J%20%281%20%3C%3D%20I%2CJ%20%3C%3D%20N%29%20are%20the%20junction%20points%20at%20both%20ends%20of%20the%20pipe.%20%20L%20and%20C%20%281%20%3C%3D%20L%2CC%20%3C%3D%201%2C000%2C000%29%20give%20the%20latency%20and%20capacity%20of%20the%20pipe.%5Cn%5Cn%5Cn%5Cu7b2c1%5Cu884c%5Cuff1a%5Cu4e09%5Cu4e2a%5Cu7a7a%5Cu683c%5Cu5206%5Cu9694%5Cu7684%5Cu6574%5Cu6570%3AN%20M%20X%281%3C%3DX%3C%3D1000000%29%5Cu3002%5Cn%5Cn%5Cn%5Cu7b2c2%5Cu884c%5Cu5230%5Cu7b2cM%2B1%5Cu884c%5Cuff1a%5Cu6bcf%5Cu4e00%5Cu884c%5Cu63cf%5Cu8ff0%5Cu4e00%5Cu6761%5Cu7ba1%5Cu9053%5Cuff0c%5Cu67094%5Cu4e2a%5Cu6574%5Cu6570%5Cuff1aI%20J%20L%20C%5Cu3002I%5Cu548cJ%281%3C%3DI%2CJ%3C%3DN%29%5Cu662f%5Cu8fd9%5Cu6761%5Cu7ba1%5Cu9053%5Cu8fde%5Cu63a5%5Cu7684%5Cu4e24%5Cu4e2a%5Cu70b9%5Cu3002L%5Cu548cC%281%3C%3DL%5Cuff0cC%3C%3D1000000%29%5Cu662f%5Cu8fd9%5Cu6761%5Cu7ba1%5Cu9053%5Cu7684%5Cu5ef6%5Cu8fdf%5Cu548c%5Cu5bb9%5Cu91cf%5Cu3002%5Cn%22%2C%22outputFormat%22%3A%22%5C%5C%2A%20Line%201%3A%20The%20minimum%20amount%20of%20time%20it%20will%20take%20FJ%20to%20send%20milk%20along%20a%20single%20path%2C%20rounded%20down%20to%20the%20nearest%20integer.%5Cn%5Cn%5Cu7b2c1%5Cu884c%3A%5Cu7ea6%5Cu7ff0%5Cu6cbf%5Cu7740%5Cu4e00%5Cu6761%5Cu8def%5Cu5f84%5Cu9001%5Cu725b%5Cu5976%5Cu82b1%5Cu8d39%5Cu7684%5Cu6700%5Cu5c11%5Cu7684%5Cu65f6%5Cu95f4%5Cuff0c%5Cu5411%5Cu4e0b%5Cu53d6%5Cu6574%5Cu5230%5Cu6700%5Cu8fd1%5Cu7684%5Cu6574%5Cu6570%5Cu3002%5Cn%22%2C%22samples%22%3A%5B%5B%223%203%2015%20%5Cn1%202%2010%203%20%5Cn3%202%2010%202%20%5Cn1%203%2014%201%20%5Cn%22%2C%2227%20%5Cn%22%5D%5D%2C%22hint%22%3A%22FJ%20wants%20to%20send%2015%20units%20of%20milk%20through%20his%20pipe%20network.%20%20Pipe%20%231%20connects%20junction%20point%201%20%28the%20barn%29%20to%20junction%20point%202%2C%20and%20has%20a%20latency%20of%2010%20and%20a%20capacity%20of%203.%20%20Pipes%20%232%20and%20%233%20are%20similarly%20defined.%5Cn%5Cn%5CnThe%20path%201-%3E3%20takes%2014%20%2B%2015%5C%2F1%20%3D%2029%20units%20of%20time.%20%20The%20path%201-%3E2-%3E3%20takes%2020%20%2B%2015%5C%2F2%20%3D%2027.5%20units%20of%20time%2C%20and%20is%20therefore%20optimal.%5Cn%5Cn%5Cn%5Cu7ea6%5Cu7ff0%5Cu60f3%5Cu8981%5Cu901a%5Cu8fc7%5Cu7ba1%5Cu7f51%5Cu8fd0%5Cu900115%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu725b%5Cu5976%5Cu3002%5Cu7ba1%5Cu90531%5Cu8fde%5Cu63a5%5Cu8282%5Cu70b91%5Cuff08%5Cu8c37%5Cu4ed3%5Cuff09%5Cu548c%5Cu8282%5Cu70b92%5Cuff0c%5Cu5ef6%5Cu8fdf%5Cu4e3a10%5Cuff0c%5Cu5bb9%5Cu91cf%5Cu4e3a3%5Cu3002%5Cu7ba1%5Cu90532%5Cu548c%5Cu7ba1%5Cu90533%5Cu4e5f%5Cu4ee5%5Cu76f8%5Cu4f3c%5Cu7684%5Cu65b9%5Cu5f0f%5Cu6765%5Cu5b9a%5Cu4e49%5Cu3002%5Cn%5Cn%5Cn%5Cu8def%5Cu5f841-%3E3%5Cu82b1%5Cu8d3914%2B15%5C%2F1%3D29%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu65f6%5Cu95f4%5Cu3002%5Cu8def%5Cu5f841-%3E2-%3E3%5Cu82b1%5Cu8d3920%2B15%5C%2F2%3D27.5%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu65f6%5Cu95f4%5Cuff0c%5Cu7528%5Cu65f6%5Cu6700%5Cu5c11%5Cu3002%5Cn%22%2C%22provider%22%3A%7B%22uid%22%3A20%2C%22name%22%3A%22FarmerJohn2%22%2C%22slogan%22%3A%22%22%2C%22badge%22%3Anull%2C%22isAdmin%22%3Afalse%2C%22color%22%3A%22Gray%22%2C%22ccfLevel%22%3A0%7D%2C%22canEdit%22%3Afalse%2C%22limits%22%3A%7B%22time%22%3A%5B1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%2C1000%5D%2C%22memory%22%3A%5B128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%2C128000%5D%7D%2C%22stdCode%22%3A%22%22%2C%22translation%22%3A%22%5Cu519c%5Cu6c11%5Cu7ea6%5Cu7ff0%5Cu7684%5Cu519c%5Cu573a%5Cu6709%5Cu4e00%5Cu5957%5Cu8001%5Cu65e7%5Cu7684%5Cu7ba1%5Cu7f51%5Cuff0c%5Cu7ba1%5Cu7f51%5Cu7531M%5Cu6761%5Cu7ba1%5Cu9053%281%3C%3DM%3C%3D500%29%5Cu6784%5Cu6210%5Cuff0c%5Cu7528%5Cu4e8e%5Cu5c06%5Cu725b%5Cu5976%5Cu4ece%5Cu8c37%5Cu4ed3%5Cu8fd0%5Cu5230%5Cu50a8%5Cu5976%5Cu7f50%5Cu3002%20%5Cu4ed6%5Cu60f3%5Cu5728%5Cu660e%5Cu5e74%5Cu79fb%5Cu9664%5Cu548c%5Cu66f4%5Cu65b0%5Cu5927%5Cu90e8%5Cu5206%5Cu7ba1%5Cu9053%5Cuff0c%5Cu4f46%5Cu4ed6%5Cu60f3%5Cu539f%5Cu5c01%5Cu4e0d%5Cu52a8%5Cu5730%5Cu4fdd%5Cu7559%5Cu4e00%5Cu6761%5Cu5b8c%5Cu6574%5Cu7684%5Cu8def%5Cu5f84%5Cuff0c%5Cu8fd9%5Cu6837%5Cu4ed6%5Cu4ecd%5Cu7136%5Cu53ef%5Cu4ee5%5Cu628a%5Cu725b%5Cu5976%5Cu4ece%5Cu8c37%5Cu4ed3%5Cu8f93%5Cu9001%5Cu5230%5Cu50a8%5Cu7f50%5Cu3002%5Cn%5Cn%5Cn%5Cu7ba1%5Cu7f51%5Cu7531N%5Cu4e2a%5Cu8282%5Cu70b9%281%3C%3DN%3C%3D500%29%5Cu7ec4%5Cu6210%5Cuff0c%5Cu6bcf%5Cu4e2a%5Cu70b9%5Cu90fd%5Cu53ef%5Cu4ee5%5Cu4f5c%5Cu4e3a%5Cu4e00%5Cu7ec4%5Cu7ba1%5Cu9053%5Cu7684%5Cu7aef%5Cu70b9%5Cu3002%5Cu7ed3%5Cu70b91%5Cu662f%5Cu8c37%5Cu4ed3%5Cuff0c%5Cu7ed3%5Cu70b9N%5Cu662f%5Cu50a8%5Cu7f50%5Cu3002M%5Cu6761%5Cu53cc%5Cu5411%5Cu7ba1%5Cu9053%5Cu4e2d%5Cu7684%5Cu6bcf%5Cu4e00%5Cu6761%5Cu90fd%5Cu8fde%5Cu63a5%5Cu4e00%5Cu5bf9%5Cu8282%5Cu70b9%5Cuff0c%5Cu5e76%5Cu4e14%5Cu90fd%5Cu6709%5Cu4e00%5Cu4e2a%5Cu5ef6%5Cu8fdf%5Cu503c%28%5Cu725b%5Cu5976%5Cu8fbe%5Cu5230%5Cu7ba1%5Cu7684%5Cu53e6%5Cu4e00%5Cu7aef%5Cu7684%5Cu7528%5Cu65f6%29%5Cu548c%5Cu5bb9%5Cu91cf%5Cu503c%28%5Cu5355%5Cu4f4d%5Cu65f6%5Cu95f4%5Cu5185%5Cu53ef%5Cu4ee5%5Cu7a33%5Cu5b9a%5Cu901a%5Cu8fc7%5Cu7ba1%5Cu9053%5Cu7684%5Cu725b%5Cu5976%5Cu91cf%29%5Cu3002%5Cu591a%5Cu6761%5Cu7ba1%5Cu9053%5Cu53ef%5Cu4ee5%5Cu8fde%5Cu63a5%5Cu540c%5Cu4e00%5Cu5bf9%5Cu8282%5Cu70b9%5Cu3002%5Cn%5Cn%5Cn%5Cu5bf9%5Cu4e8e%5Cu4e00%5Cu6761%5Cu8fde%5Cu63a5%5Cu8c37%5Cu4ed3%5Cu4e0e%5Cu50a8%5Cu7f50%5Cu7684%5Cu8def%5Cu5f84%5Cuff0c%5Cu8def%5Cu5f84%5Cu7684%5Cu5ef6%5Cu8fdf%5Cu7b49%5Cu4e8e%5Cu6cbf%5Cu9014%5Cu6240%5Cu6709%5Cu7ba1%5Cu9053%5Cu7684%5Cu5ef6%5Cu8fdf%5Cu4e4b%5Cu548c%5Cuff0c%5Cu8def%5Cu5f84%5Cu7684%5Cu5bb9%5Cu91cf%5Cu7b49%5Cu4e8e%5Cu6cbf%5Cu9014%5Cu7ba1%5Cu9053%5Cu6700%5Cu5c0f%5Cu7684%5Cu5bb9%5Cu91cf%28%5Cu56e0%5Cu4e3a%5Cu8fd9%5Cu662f%5Cu5236%5Cu7ea6%5Cu725b%5Cu5976%5Cu8fd0%5Cu9001%5Cu7684%5Cu201c%5Cu74f6%5Cu9888%5Cu201d%29%5Cu3002%5Cu5982%5Cu679c%5Cu7ea6%5Cu7ff0%5Cu901a%5Cu8fc7%5Cu4e00%5Cu6761%5Cu5ef6%5Cu8fdf%5Cu4e3aL%5Cu3001%5Cu5bb9%5Cu91cf%5Cu4e3aC%5Cu7684%5Cu7ba1%5Cu9053%5Cu8fd0%5Cu9001X%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu7684%5Cu725b%5Cu5976%5Cuff0c%5Cu9700%5Cu8981%5Cu7684%5Cu65f6%5Cu95f4%5Cu4e3aL%2BX%5C%2FC%5Cu3002%5Cn%5Cn%5Cn%5Cu7ed9%5Cu51fa%5Cu7ea6%5Cu7ff0%5Cu7684%5Cu7ba1%5Cu7f51%5Cu7ed3%5Cu6784%5Cuff0c%5Cu8bf7%5Cu5e2e%5Cu52a9%5Cu4ed6%5Cu9009%5Cu62e9%5Cu4e00%5Cu6761%5Cu8def%5Cu5f84%5Cuff0c%5Cu4f7f%5Cu5f97%5Cu4ed6%5Cu4ece%5Cu8c37%5Cu4ed3%5Cu5230%5Cu50a8%5Cu7f50%5Cu8fd0%5Cu9001X%5Cu4e2a%5Cu5355%5Cu4f4d%5Cu725b%5Cu5976%5Cu7684%5Cu603b%5Cu65f6%5Cu95f4%5Cu6700%5Cu5c11%5Cu3002%5Cn%22%2C%22tags%22%3A%5B6%2C29%2C46%2C160%5D%2C%22wantsTranslation%22%3Afalse%2C%22totalSubmit%22%3A1071%2C%22totalAccepted%22%3A385%2C%22pid%22%3A%22P3063%22%2C%22title%22%3A%22%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%22contest%22%3Anull%2C%22discussions%22%3A%5B%7B%22id%22%3A112295%2C%22title%22%3A%22%5Cu849f%5Cu84bb%5Cu6c42%5Cu6559%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%2C%7B%22id%22%3A87982%2C%22title%22%3A%22%5Cu6c42%5Cu6559%5Cu4e0d%5Cu77e5%5Cu9053%5Cu601d%5Cu8def%5Cu54ea%5Cu91cc%5Cu9519%5Cu4e86%5Cuff0c%5Cu6734%5Cu7d20%5Cu7684bellmanFord%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%2C%7B%22id%22%3A74002%2C%22title%22%3A%22HACK%5Cuff01%5Cuff01%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%2C%7B%22id%22%3A62060%2C%22title%22%3A%22%5Cu7ffb%5Cu8bd1%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%2C%7B%22id%22%3A60205%2C%22title%22%3A%22%5Cu8fd9%5Cu5206%5Cu7c7b%5Cu2026%5Cu2026%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%2C%7B%22id%22%3A53536%2C%22title%22%3A%22%5Cu611f%5Cu89c9%5Cu81ea%5Cu5df1%5Cu88ab%5Cu9a97%5Cu4e86%22%2C%22forum%22%3A%7B%22id%22%3A2181%2C%22name%22%3A%22P3063%20%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22slug%22%3A%22P3063%22%7D%7D%5D%2C%22bookmarked%22%3Afalse%2C%22vjudgeUsername%22%3Anull%2C%22recommendations%22%3A%5B%7B%22pid%22%3A%22P1412%22%2C%22title%22%3A%22%5Cu7ecf%5Cu8425%5Cu4e0e%5Cu5f00%5Cu53d1%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P1462%22%2C%22title%22%3A%22%5Cu901a%5Cu5f80%5Cu5965%5Cu683c%5Cu745e%5Cu739b%5Cu7684%5Cu9053%5Cu8def%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2176%22%2C%22title%22%3A%22%5BUSACO14FEB%5D%5Cu8def%5Cu969cRoadblock%22%2C%22difficulty%22%3A4%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22P2202%22%2C%22title%22%3A%22%5BUSACO13JAN%5D%5Cu65b9%5Cu5757%5Cu91cd%5Cu53e0Square%20Overlap%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22P%22%7D%2C%7B%22pid%22%3A%22CF437C%22%2C%22title%22%3A%22The%20Child%20and%20Toy%22%2C%22difficulty%22%3A5%2C%22type%22%3A%22CF%22%7D%5D%2C%22lastLanguage%22%3A%22%22%2C%22lastCode%22%3A%22%22%7D%2C%22currentTitle%22%3A%22%5BUSACO12DEC%5D%5Cu725b%5Cu5976%5Cu7684%5Cu8def%5Cu7531Milk%20Routing%22%2C%22currentTheme%22%3Anull%7D"));window._feConfigVersion=1573286098;</script>
<script src="https://cdn.luogu.com.cn/fe/loader.js?ver=20191106" charset="utf-8" defer></script>
</head>
<body>
<div id="app">
<div class="lg-container">
<article>
<h1>[USACO12DEC]牛奶的路由Milk Routing</h1>
<h2>题意翻译</h2>
<div>农民约翰的农场有一套老旧的管网，管网由M条管道(1<=M<=500)构成，用于将牛奶从谷仓运到储奶罐。 他想在明年移除和更新大部分管道，但他想原封不动地保留一条完整的路径，这样他仍然可以把牛奶从谷仓输送到储罐。
管网由N个节点(1<=N<=500)组成，每个点都可以作为一组管道的端点。结点1是谷仓，结点N是储罐。M条双向管道中的每一条都连接一对节点，并且都有一个延迟值(牛奶达到管的另一端的用时)和容量值(单位时间内可以稳定通过管道的牛奶量)。多条管道可以连接同一对节点。
对于一条连接谷仓与储罐的路径，路径的延迟等于沿途所有管道的延迟之和，路径的容量等于沿途管道最小的容量(因为这是制约牛奶运送的“瓶颈”)。如果约翰通过一条延迟为L、容量为C的管道运送X个单位的牛奶，需要的时间为L+X/C。
给出约翰的管网结构，请帮助他选择一条路径，使得他从谷仓到储罐运送X个单位牛奶的总时间最少。
</div>
<h2>题目描述</h2>
<div>Farmer John's farm has an outdated network of M pipes (1 <= M <= 500) for pumping milk from the barn to his milk storage tank. He wants to remove and update most of these over the next year, but he wants to leave exactly one path worth of pipes intact, so that he can still pump milk from the barn to the storage tank.
The pipe network is described by N junction points (1 <= N <= 500), each of which can serve as the endpoint of a set of pipes. Junction point 1 is the barn, and junction point N is the storage tank. Each of the M bi-directional pipes runs between a pair of junction points, and has an associated latency (the amount of time it takes milk to reach one end of the pipe from the other) and capacity (the amount of milk per unit time that can be pumped through the pipe in steady state). Multiple pipes can connect between the same pair of junction points.
For a path of pipes connecting from the barn to the tank, the latency of the path is the sum of the latencies of the pipes along the path, and the capacity of the path is the minimum of the capacities of the pipes along the path (since this is the "bottleneck" constraining the overall rate at which milk can be pumped through the path). If FJ wants to send a total of X units of milk through a path of pipes with latency L and capacity C, the time this takes is therefore L + X/C.
Given the structure of FJ's pipe network, please help him select a single path from the barn to the storage tank that will allow him to pump X units of milk in a minimum amount of total time.
</div>
<h2>输入输出格式</h2>
<h3>输入格式</h3>
<br />
<div>\* Line 1: Three space-separated integers: N M X (1 <= X <= 1,000,000).
\* Lines 2..1+M: Each line describes a pipe using 4 integers: I J L C. I and J (1 <= I,J <= N) are the junction points at both ends of the pipe. L and C (1 <= L,C <= 1,000,000) give the latency and capacity of the pipe.
第1行：三个空格分隔的整数:N M X(1<=X<=1000000)。
第2行到第M+1行：每一行描述一条管道，有4个整数：I J L C。I和J(1<=I,J<=N)是这条管道连接的两个点。L和C(1<=L，C<=1000000)是这条管道的延迟和容量。
</div>
<h3>输出格式</h3>
<br />
<div>\* Line 1: The minimum amount of time it will take FJ to send milk along a single path, rounded down to the nearest integer.
第1行:约翰沿着一条路径送牛奶花费的最少的时间，向下取整到最近的整数。
</div>
<h2>输入输出样例</h2>
<h3>输入样例 #1</h3>
<pre><code>3 3 15 
1 2 10 3 
3 2 10 2 
1 3 14 1 
</code></pre>
<h3>输出样例 #1</h3>
<pre><code>27 
</code></pre>
<h2>说明</h2>
<div>FJ wants to send 15 units of milk through his pipe network. Pipe #1 connects junction point 1 (the barn) to junction point 2, and has a latency of 10 and a capacity of 3. Pipes #2 and #3 are similarly defined.
The path 1->3 takes 14 + 15/1 = 29 units of time. The path 1->2->3 takes 20 + 15/2 = 27.5 units of time, and is therefore optimal.
约翰想要通过管网运送15个单位的牛奶。管道1连接节点1（谷仓）和节点2，延迟为10，容量为3。管道2和管道3也以相似的方式来定义。
路径1->3花费14+15/1=29个单位的时间。路径1->2->3花费20+15/2=27.5个单位的时间，用时最少。
</div>
</article>
</div>
</div>
</body>
</html>
