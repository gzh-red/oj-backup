# 【模板】文艺平衡树（Splay）

## 题目背景

这是一道经典的Splay模板题——文艺平衡树。

## 题目描述

您需要写一种数据结构（可参考题目标题），来维护一个有序数列，其中需要提供以下操作：翻转一个区间，例如原有序序列是5 4 3 2 1，翻转区间是[2,4]的话，结果是5 2 3 4 1

## 输入输出格式

### 输入格式

第一行为n,m n表示初始序列有n个数，这个序列依次是$ (1,2, \cdots n-1,n)$ m表示翻转操作次数

接下来m行每行两个数 $[l,r]$ 数据保证 $ 1 \leq l \leq r \leq n $

### 输出格式

输出一行n个数字，表示原始序列经过m次变换后的结果

## 输入输出样例

### 输入样例 #1

```cpp
5 3
1 3
1 3
1 4
```


### 输出样例 #1

```cpp
4 3 2 1 5
```


## 说明

$ n, m \leq 100000 $

