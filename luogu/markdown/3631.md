# [APIO2011]方格染色

## 题目描述

Sam和他的妹妹Sara有一个包含n\*m个方格的表格。他们想要将其中的每个方格都染成红色或蓝色。出于个人喜好，他们想要表格中每个2\*2的方形区域都包含奇数个（1个或3个）红色方格。例如，下面是一个合法的表格染色方案（R代表红色，B代表蓝色，原来是张图）：

B B R B R

R B B B B

R R B R B

可是昨天晚上，有人已经给表格中的一些方格染上了颜色！现在Sam和Sara非常生气。不过，他们想要知道是否可能给剩下的方格染上颜色，使得整个表格依然满足他们的要求。如果可能的话，满足他们要求的染色方案数有多少呢？

## 输入输出格式

### 输入格式

输入的第一行包含三个整数n，m和k，分别代表表格的行数，列数和已被染色的方格数目。

之后的k行描述已被染色的方格。其中第i行包含三个整数x[i]，y[i]和c[i]，分表代表第i个已被染色的方格的行编号、列编号和颜色。c[i]为1表示方格被染成红色，c[i]为0表示方格被染成蓝色。

### 输出格式

输出一个整数，表示可能的染色方案数W模10^9得到的值。（也就是说，如果W大于等于10^9，则输出W被10^9除所得到的余数）。

## 输入输出样例

### 输入样例 #1

```cpp
3 4 3
2 2 1
1 2 0
2 3 1
```


### 输出样例 #1

```cpp
8
```


## 说明

对于20%的测试数据，n，m<=5，k<=5。

对于50%的测试数据，n，m<=5000，k<=25。

对于100%的测试数据，2<=n，m<=10^5，0<=k<=10^5，1<=x[i]<=n，1<=y[i]<=m。

